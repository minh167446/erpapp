!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=J.type(e);return"function"===n||J.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(J.isFunction(t))return J.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return J.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return J.filter(t,e,n);t=J.filter(t,e)}return J.grep(e,function(e){return Y.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return J.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function a(){K.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(xe,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ye.test(n)?J.parseJSON(n):n}catch(r){}be.set(e,t,n)}else n=void 0;return n}function c(){return!0}function u(){return!1}function d(){try{return K.activeElement}catch(e){}}function h(e,t){return J.nodeName(e,"table")&&J.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Le.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),c=o.events)){delete a.handle,a.events={};for(r in c)for(n=0,i=c[r].length;i>n;n++)J.event.add(t,r,c[r][n])}be.hasData(e)&&(s=be.access(e),l=J.extend({},s),be.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&J.nodeName(e,t)?J.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ce.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,r=J(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:J.css(r[0],"display");return r.detach(),o}function x(e){var t=K,n=Fe[e];return n||(n=y(e,t),"none"!==n&&n||(Be=(Be||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Be[0].contentDocument,t.write(),t.close(),n=y(e,t),Be.detach()),Fe[e]=n),n}function w(e,t,n){var i,r,o,a,s=e.style;return n=n||We(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||J.contains(e.ownerDocument,e)||(a=J.style(e,t)),qe.test(a)&&He.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function _(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ge.length;r--;)if(t=Ge[r]+n,t in e)return t;return i}function C(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(e,n+_e[o],!0,r)),i?("content"===n&&(a-=J.css(e,"padding"+_e[o],!0,r)),"margin"!==n&&(a-=J.css(e,"border"+_e[o]+"Width",!0,r))):(a+=J.css(e,"padding"+_e[o],!0,r),"padding"!==n&&(a+=J.css(e,"border"+_e[o]+"Width",!0,r)));return a}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=We(e),a="border-box"===J.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(e,t,o),(0>r||null==r)&&(r=e.style[t]),qe.test(r))return r;i=a&&(Z.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,o)+"px"}function D(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(o[a]=ve.access(i,"olddisplay",x(i.nodeName)))):(r=ke(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:J.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function A(e,t,n,i,r){return new A.prototype.init(e,t,n,i,r)}function E(){return setTimeout(function(){Ze=void 0}),Ze=J.now()}function M(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=_e[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function P(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function N(e,t,n){var i,r,o,a,s,l,c,u,d=this,h={},f=e.style,p=e.nodeType&&ke(e),m=ve.get(e,"fxshow");n.queue||(s=J._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,J.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=J.css(e,"display"),u="none"===c?ve.get(e,"olddisplay")||x(e.nodeName):c,"inline"===u&&"none"===J.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Qe.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||J.style(e,i)}else c=void 0;if(J.isEmptyObject(h))"inline"===("none"===c?x(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(p=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!p),p?J(e).show():d.done(function(){J(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in h)J.style(e,t,h[t])});for(i in h)a=P(p?m[i]:0,i,d),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,r,o,a;for(n in e)if(i=J.camelCase(n),r=t[i],o=e[n],J.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=J.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,o=0,a=tt.length,s=J.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ze||E(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:J.extend({},t),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Ze||E(),duration:n.duration,tweens:[],createTween:function(t,n){var i=J.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);a>o;o++)if(i=tt[o].call(c,e,u,c.opts))return i;return J.map(u,P,c),J.isFunction(c.opts.start)&&c.opts.start.call(e,c),J.fx.timer(J.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(fe)||[];if(J.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function L(e,t,n,i){function r(s){var l;return o[s]=!0,J.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===yt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function j(e,t){var n,i,r=J.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&J.extend(!0,e,i),e}function z(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function F(e,t,n,i){var r;if(J.isArray(t))J.each(t,function(t,r){n||Ct.test(e)?i(e,r):F(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==J.type(t))i(e,t);else for(r in t)F(e+"["+r+"]",t[r],n,i)}function H(e){return J.isWindow(e)?e:9===e.nodeType&&e.defaultView}var q=[],W=q.slice,V=q.concat,U=q.push,Y=q.indexOf,$={},X=$.toString,G=$.hasOwnProperty,Z={},K=e.document,Q="2.1.4",J=function(e,t){return new J.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};J.fn=J.prototype={jquery:Q,constructor:J,selector:"",length:0,toArray:function(){return W.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:W.call(this)},pushStack:function(e){var t=J.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return J.each(this,e,t)},map:function(e){return this.pushStack(J.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:q.sort,splice:q.splice},J.extend=J.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(c&&i&&(J.isPlainObject(i)||(r=J.isArray(i)))?(r?(r=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[t]=J.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},J.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===J.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!J.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==J.type(e)||e.nodeType||J.isWindow(e)?!1:e.constructor&&!G.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?$[X.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=J.trim(e),e&&(1===e.indexOf("use strict")?(t=K.createElement("script"),t.text=e,K.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?J.merge(i,"string"==typeof e?[e]:e):U.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:Y.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return V.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),J.isFunction(e)?(i=W.call(arguments,2),r=function(){return e.apply(t||this,i.concat(W.call(arguments)))},r.guid=e.guid=e.guid||J.guid++,r):void 0},now:Date.now,support:Z}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,o,a,s,l,c,d,f,p,m;if((t?t.ownerDocument||t:F)!==N&&P(t),t=t||N,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&I){if(11!==s&&(r=be.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&z(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(e))){if(f=d=B,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?f=d.replace(xe,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=ye.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return D(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||$)-(~e.sourceIndex||$);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===H&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:g(v,h,e,s,l),y=n?o||(i?e:p||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(c=g(y,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(b[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?ee(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else y=g(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):Q.apply(a,y)})}function b(e){for(var t,n,i,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return ee(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=_.relative[e[s].type])u=[f(p(u),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;r>i&&!_.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&b(e.slice(s,i)),r>i&&b(e=e.slice(i)),r>i&&h(e))}u.push(n)}return p(u)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],b=A,y=i||o&&_.find.TAG("*",c),x=H+=null==b?1:Math.random()||.1,w=y.length;for(c&&(A=a!==N&&a);p!==w&&null!=(u=y[p]);p++){if(o&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(H=x)}r&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=Z.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(H=x,A=b),m};return r?i(a):a}var x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z,B="sizzle"+1*new Date,F=e.document,H=0,q=0,W=n(),V=n(),U=n(),Y=function(e,t){return e===t&&(M=!0),0},$=1<<31,X={}.hasOwnProperty,G=[],Z=G.pop,K=G.push,Q=G.push,J=G.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),he=new RegExp(ae),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ke=function(){P()};try{Q.apply(G=J.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(Ce){Q={apply:G.length?function(e,t){K.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:F;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,R=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),I=!C(i),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(e){return R.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),w.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(we,_e);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(we,_e);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},L=[],O=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(e){R.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||O.push("~="),e.querySelectorAll(":checked").length||O.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||O.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=ve.test(j=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){w.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),L.push("!=",ae)}),O=O.length&&new RegExp(O.join("|")),L=L.length&&new RegExp(L.join("|")),t=ve.test(R.compareDocumentPosition),z=t||ve.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===F&&z(F,e)?-1:t===i||t.ownerDocument===F&&z(F,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:E?ee(E,e)-ee(E,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},i):N},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==N&&P(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!I||L&&L.test(n)||O&&O.test(n)))try{var i=j.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,N,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==N&&P(e),z(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==N&&P(e);var n=_.attrHandle[t.toLowerCase()],i=n&&X.call(_.attrHandle,t.toLowerCase())?n(e,t,!I):void 0;return void 0!==i?i:w.attributes||!I?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(Y),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return E=null,e},k=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},_=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(we,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&he.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(u=g[B]||(g[B]={}),c=u[e]||[],f=c[0]===H&&c[1],h=c[0]===H&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[H,f,h];break}}else if(b&&(c=(t[B]||(t[B]={}))[e])&&c[0]===H)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[B]||(d[B]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(r=[e,e,"",n],_.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(le,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,_e),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,_e).toLowerCase(),function(t){var n;do if(n=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=V[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=_.preFilter;s;){(!i||(r=ce.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in _.filter)!(r=pe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):V(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=b(t[n]),o[B]?i.push(o):r.push(o);o=U(e,y(r,i)),o.selector=e}return o},D=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&S(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&I&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(we,_e),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(we,_e),ye.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Q.apply(n,i),n;break}}return(c||T(e,d))(i,t,!I,n,ye.test(e)&&u(t.parentNode)||t),n},w.sortStable=B.split("").sort(Y).join("")===B,w.detectDuplicates=!!M,P(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);J.find=re,J.expr=re.selectors,J.expr[":"]=J.expr.pseudos,J.unique=re.uniqueSort,J.text=re.getText,J.isXMLDoc=re.isXML,J.contains=re.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?J.find.matchesSelector(i,e)?[i]:[]:J.find.matches(e,J.grep(t,function(e){return 1===e.nodeType}))},J.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;
if("string"!=typeof e)return this.pushStack(J(e).filter(function(){for(t=0;n>t;t++)if(J.contains(r[t],this))return!0}));for(t=0;n>t;t++)J.find(e,r[t],i);return i=this.pushStack(n>1?J.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?J(e):e||[],!1).length}});var le,ce=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ue=J.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ce.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof J?t[0]:t,J.merge(this,J.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:K,!0)),ae.test(n[1])&&J.isPlainObject(t))for(n in t)J.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=K.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=K,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):J.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(J):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),J.makeArray(e,this))};ue.prototype=J.fn,le=J(K);var de=/^(?:parents|prev(?:Until|All))/,he={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&J(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),J.fn.extend({has:function(e){var t=J(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(J.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?J(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(e){return e?"string"==typeof e?Y.call(J(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(J.unique(J.merge(this.get(),J(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),J.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return J.dir(e,"parentNode")},parentsUntil:function(e,t,n){return J.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return J.dir(e,"nextSibling")},prevAll:function(e){return J.dir(e,"previousSibling")},nextUntil:function(e,t,n){return J.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return J.dir(e,"previousSibling",n)},siblings:function(e){return J.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return J.sibling(e.firstChild)},contents:function(e){return e.contentDocument||J.merge([],e.childNodes)}},function(e,t){J.fn[e]=function(n,i){var r=J.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=J.filter(i,r)),this.length>1&&(he[e]||J.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,pe={};J.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):J.extend({},e);var t,n,i,r,a,s,l=[],c=!e.once&&[],u=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){J.each(t,function(t,n){var i=J.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:t&&(r=n,u(t))}return this},remove:function(){return l&&J.each(arguments,function(e,t){for(var n;(n=J.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?J.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=c=t=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,t||d.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||n&&!c||(t=t||[],t=[e,t.slice?t.slice():t],i?c.push(t):u(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},J.extend({Deferred:function(e){var t=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return J.Deferred(function(n){J.each(t,function(t,o){var a=J.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&J.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?J.extend(e,i):i}},r={};return i.pipe=i.then,J.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=W.call(arguments),a=o.length,s=1!==a||e&&J.isFunction(e.promise)?a:0,l=1===s?e:J.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?W.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&J.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var me;J.fn.ready=function(e){return J.ready.promise().done(e),this},J.extend({isReady:!1,readyWait:1,holdReady:function(e){e?J.readyWait++:J.ready(!0)},ready:function(e){(e===!0?--J.readyWait:J.isReady)||(J.isReady=!0,e!==!0&&--J.readyWait>0||(me.resolveWith(K,[J]),J.fn.triggerHandler&&(J(K).triggerHandler("ready"),J(K).off("ready"))))}}),J.ready.promise=function(t){return me||(me=J.Deferred(),"complete"===K.readyState?setTimeout(J.ready):(K.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},J.ready.promise();var ge=J.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===J.type(n)){r=!0;for(s in n)J.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,J.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(J(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};J.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,J.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(J.isEmptyObject(o))J.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,J.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{J.isArray(t)?i=t.concat(t.map(J.camelCase)):(r=J.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(fe)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!J.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;J.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),J.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=J.camelCase(i.slice(5)),l(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,i=J.camelCase(e);if(o&&void 0===t){if(n=be.get(o,e),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),J.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||J.isArray(n)?i=ve.access(e,t,J.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=J.queue(e,t),i=n.length,r=n.shift(),o=J._queueHooks(e,t),a=function(){J.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),J.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?J.queue(this[0],e):void 0===t?this:this.each(function(){var n=J.queue(this,e,t);J._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&J.dequeue(this,e)})},dequeue:function(e){return this.each(function(){J.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=J.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===J.css(e,"display")||!J.contains(e.ownerDocument,e)},Ce=/^(?:checkbox|radio)$/i;!function(){var e=K.createDocumentFragment(),t=e.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";Z.focusinBubbles="onfocusin"in e;var Te=/^key/,De=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=J.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof J!==Se&&J.event.triggered!==t.type?J.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],c=t.length;c--;)s=Ee.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(d=J.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=J.event.special[f]||{},u=J.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&J.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(e,i,p,a)!==!1||e.addEventListener&&e.addEventListener(f,a,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),J.event.global[f]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=Ee.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(d=J.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||J.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)J.event.remove(e,f+t[c],n,i,!0);J.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,c,u,d,h=[i||K],f=G.call(t,"type")?t.type:t,p=G.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||K,3!==i.nodeType&&8!==i.nodeType&&!Ae.test(f+J.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[J.expando]?t:new J.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:J.makeArray(n,[t]),d=J.event.special[f]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!J.isWindow(i)){for(l=d.delegateType||f,Ae.test(l+f)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||K)&&h.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,u=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),u&&u.apply(a,n),u=c&&a[c],u&&u.apply&&J.acceptData(a)&&(t.result=u.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!J.acceptData(i)||c&&J.isFunction(i[f])&&!J.isWindow(i)&&(s=i[c],s&&(i[c]=null),J.event.triggered=f,i[f](),J.event.triggered=void 0,s&&(i[c]=s)),t.result}},dispatch:function(e){e=J.event.fix(e);var t,n,i,r,o,a=[],s=W.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],c=J.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=J.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((J.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?J(r,this).index(l)>=0:J.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||K,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[J.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=De.test(r)?this.mouseHooks:Te.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new J.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=K),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return J.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=J.extend(new J.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?J.event.trigger(r,null,t):J.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},J.Event=function(e,t){return this instanceof J.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?c:u):this.type=e,t&&J.extend(this,t),this.timeStamp=e&&e.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(e,t)},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=c,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=c,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=c,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){J.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!J.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Z.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){J.event.simulate(t,e.target,J.event.fix(e),!0)};J.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),J.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=u;else if(!i)return this;return 1===r&&(o=i,i=function(e){return J().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,J(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=u),this.each(function(){J.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){J.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?J.event.trigger(e,t,n,!0):void 0}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pe=/<([\w:]+)/,Ne=/<|&#?\w+;/,Re=/<(?:script|style|link)/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^$|\/(?:java|ecma)script/i,Le=/^true\/(.*)/,je=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ze={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ze.optgroup=ze.option,ze.tbody=ze.tfoot=ze.colgroup=ze.caption=ze.thead,ze.th=ze.td,J.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=J.contains(e.ownerDocument,e);if(!(Z.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||J.isXMLDoc(e)))for(a=v(s),o=v(e),i=0,r=o.length;r>i;i++)b(o[i],a[i]);if(t)if(n)for(o=o||v(e),a=a||v(s),i=0,r=o.length;r>i;i++)g(o[i],a[i]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],h=0,f=e.length;f>h;h++)if(r=e[h],r||0===r)if("object"===J.type(r))J.merge(d,r.nodeType?[r]:r);else if(Ne.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(Pe.exec(r)||["",""])[1].toLowerCase(),s=ze[a]||ze._default,o.innerHTML=s[1]+r.replace(Me,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;J.merge(d,o.childNodes),o=u.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===J.inArray(r,i))&&(l=J.contains(r.ownerDocument,r),o=v(u.appendChild(r),"script"),l&&m(o),n))for(c=0;r=o[c++];)Oe.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=J.event.special,a=0;void 0!==(n=e[a]);a++){if(J.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)o[i]?J.event.remove(n,i):J.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete be.cache[n[be.expando]]}}}),J.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?J.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(t&&J.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(J.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return J.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!ze[(Pe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Me,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(J.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,J.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=V.apply([],e);var n,i,r,o,a,s,l=0,c=this.length,u=this,d=c-1,h=e[0],m=J.isFunction(h);if(m||c>1&&"string"==typeof h&&!Z.checkClone&&Ie.test(h))return this.each(function(n){var i=u.eq(n);m&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(n=J.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=J.map(v(n,"script"),f),o=r.length;c>l;l++)a=n,l!==d&&(a=J.clone(a,!0,!0),o&&J.merge(r,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,J.map(r,p),l=0;o>l;l++)a=r[l],Oe.test(a.type||"")&&!ve.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(je,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){J.fn[e]=function(e){for(var n,i=[],r=J(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(r[a])[t](n),U.apply(i,n.get());return this.pushStack(i)}});var Be,Fe={},He=/^margin/,qe=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),We=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=K.documentElement,o=K.createElement("div"),a=K.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&J.extend(Z,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(K.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),t}}))}(),J.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var Ve=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),Ye=new RegExp("^([+-])=("+we+")","i"),$e={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=w(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=J.camelCase(t),l=e.style;return t=J.cssProps[s]||(J.cssProps[s]=k(l,s)),a=J.cssHooks[t]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=Ye.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(J.css(e,t)),o="number"),void(null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=J.camelCase(t);return t=J.cssProps[s]||(J.cssProps[s]=k(e.style,s)),a=J.cssHooks[t]||J.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=w(e,t,i)),"normal"===r&&t in Xe&&(r=Xe[t]),""===n||n?(o=parseFloat(r),n===!0||J.isNumeric(o)?o||0:r):r}}),J.each(["height","width"],function(e,t){J.cssHooks[t]={get:function(e,n,i){return n?Ve.test(J.css(e,"display"))&&0===e.offsetWidth?J.swap(e,$e,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&We(e);return C(e,n,i?S(e,t,i,"border-box"===J.css(e,"boxSizing",!1,r),r):0)}}}),J.cssHooks.marginRight=_(Z.reliableMarginRight,function(e,t){return t?J.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(e,t){J.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+_e[i]+t]=o[i]||o[i-2]||o[0];return r}},He.test(e)||(J.cssHooks[e+t].set=C)}),J.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,o={},a=0;if(J.isArray(t)){for(i=We(e),r=t.length;r>a;a++)o[t[a]]=J.css(e,t[a],!1,i);return o}return void 0!==n?J.style(e,t,n):J.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?J(this).show():J(this).hide()})}}),J.Tween=A,A.prototype={constructor:A,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.options.duration?this.pos=t=J.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=J.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){J.fx.step[e.prop]?J.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[J.cssProps[e.prop]]||J.cssHooks[e.prop])?J.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},J.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},J.fx=A.prototype.init,J.fx.step={};var Ze,Ke,Qe=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[N],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Je.exec(t),o=r&&r[3]||(J.cssNumber[e]?"":"px"),a=(J.cssNumber[e]||"px"!==o&&+i)&&Je.exec(J.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,J.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};J.Animation=J.extend(I,{tweener:function(e,t){J.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),J.speed=function(e,t,n){var i=e&&"object"==typeof e?J.extend({},e):{complete:n||!n&&t||J.isFunction(e)&&e,duration:e,easing:n&&t||t&&!J.isFunction(t)&&t};return i.duration=J.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in J.fx.speeds?J.fx.speeds[i.duration]:J.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){J.isFunction(i.old)&&i.old.call(this),i.queue&&J.dequeue(this,i.queue)},i},J.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=J.isEmptyObject(e),o=J.speed(t,n,i),a=function(){var t=I(this,J.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=J.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&J.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=J.timers,a=i?i.length:0;for(n.finish=!0,J.queue(this,e,[]),
r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(e,t){var n=J.fn[t];J.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(M(t,!0),e,i,r)}}),J.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){J.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),J.timers=[],J.fx.tick=function(){var e,t=0,n=J.timers;for(Ze=J.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||J.fx.stop(),Ze=void 0},J.fx.timer=function(e){J.timers.push(e),e()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ke||(Ke=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ke),Ke=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(e,t){return e=J.fx?J.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=K.createElement("input"),t=K.createElement("select"),n=t.appendChild(K.createElement("option"));e.type="checkbox",Z.checkOn=""!==e.value,Z.optSelected=n.selected,t.disabled=!0,Z.optDisabled=!n.disabled,e=K.createElement("input"),e.value="t",e.type="radio",Z.radioValue="t"===e.value}();var it,rt,ot=J.expr.attrHandle;J.fn.extend({attr:function(e,t){return ge(this,J.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){J.removeAttr(this,e)})}}),J.extend({attr:function(e,t,n){var i,r,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Se?J.prop(e,t,n):(1===o&&J.isXMLDoc(e)||(t=t.toLowerCase(),i=J.attrHooks[t]||(J.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=J.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void J.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(fe);if(o&&1===e.nodeType)for(;n=o[r++];)i=J.propFix[n]||n,J.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!Z.radioValue&&"radio"===t&&J.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?J.removeAttr(e,n):e.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||J.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(e,t){return ge(this,J.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[J.propFix[e]||e]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(o=1!==a||!J.isXMLDoc(e),o&&(t=J.propFix[t]||t,r=J.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),Z.optSelected||(J.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;J.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=J.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(J.isFunction(e))return this.each(function(t){J(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(fe)||[];c>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?J.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(J.isFunction(e)?function(n){J(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=J(this),o=e.match(fe)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;J.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=J.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,J(this).val()):e,null==r?r="":"number"==typeof r?r+="":J.isArray(r)&&(r=J.map(r,function(e){return null==e?"":e+""})),t=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=J.valHooks[r.type]||J.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),J.extend({valHooks:{option:{get:function(e){var t=J.find.attr(e,"value");return null!=t?t:J.trim(J.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(t=J(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=J.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=J.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(e,t){return J.isArray(t)?e.checked=J.inArray(J(e).val(),t)>=0:void 0}},Z.checkOn||(J.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){J.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),J.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ct=J.now(),ut=/\?/;J.parseJSON=function(e){return JSON.parse(e+"")},J.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+e),t};var dt=/#.*$/,ht=/([?&])_=[^&]*/,ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},xt="*/".concat("*"),wt=e.location.href,_t=vt.exec(wt.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt,type:"GET",isLocal:pt.test(_t[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?j(j(e,J.ajaxSettings),t):j(J.ajaxSettings,e)},ajaxPrefilter:O(bt),ajaxTransport:O(yt),ajax:function(e,t){function n(e,t,n,a){var l,u,v,b,x,_=t;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,o=a||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=z(d,w,n)),b=B(d,b,w,l),l?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(J.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(J.etag[r]=x)),204===e||"HEAD"===d.type?_="nocontent":304===e?_="notmodified":(_=b.state,u=b.data,v=b.error,l=!v)):(v=_,(e||!_)&&(_="error",0>e&&(e=0))),w.status=e,w.statusText=(t||_)+"",l?p.resolveWith(h,[u,_,w]):p.rejectWith(h,[w,_,v]),w.statusCode(g),g=void 0,c&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,d,l?u:v]),m.fireWith(h,[w,_]),c&&(f.trigger("ajaxComplete",[w,d]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,c,u,d=J.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?J(h):J.event,p=J.Deferred(),m=J.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=ft.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return i&&i.abort(t),n(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||wt)+"").replace(dt,"").replace(gt,_t[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=J.trim(d.dataType||"*").toLowerCase().match(fe)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===_t[1]&&l[2]===_t[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(_t[3]||("http:"===_t[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=J.param(d.data,d.traditional)),L(bt,d,t,w),2===y)return w;c=J.event&&d.global,c&&0===J.active++&&J.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ut.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ht.test(r)?r.replace(ht,"$1_="+ct++):r+(ut.test(r)?"&":"?")+"_="+ct++)),d.ifModified&&(J.lastModified[r]&&w.setRequestHeader("If-Modified-Since",J.lastModified[r]),J.etag[r]&&w.setRequestHeader("If-None-Match",J.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+xt+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)w.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(h,w,d)===!1||2===y))return w.abort();x="abort";for(u in{success:1,error:1,complete:1})w[u](d[u]);if(i=L(yt,d,t,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{y=1,i.send(v,n)}catch(_){if(!(2>y))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return J.get(e,t,n,"json")},getScript:function(e,t){return J.get(e,void 0,t,"script")}}),J.each(["get","post"],function(e,t){J[t]=function(e,n,i,r){return J.isFunction(n)&&(r=r||i,i=n,n=void 0),J.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),J._evalUrl=function(e){return J.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(e){var t;return J.isFunction(e)?this.each(function(t){J(this).wrapAll(e.call(this,t))}):(this[0]&&(t=J(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(J.isFunction(e)?function(t){J(this).wrapInner(e.call(this,t))}:function(){var t=J(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=J.isFunction(e);return this.each(function(n){J(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},J.expr.filters.visible=function(e){return!J.expr.filters.hidden(e)};var kt=/%20/g,Ct=/\[\]$/,St=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;J.param=function(e,t){var n,i=[],r=function(e,t){t=J.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(e)||e.jquery&&!J.isPlainObject(e))J.each(e,function(){r(this.name,this.value)});else for(n in e)F(n,e[n],t,r);return i.join("&").replace(kt,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=J.prop(this,"elements");return e?J.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!J(this).is(":disabled")&&Dt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!Ce.test(e))}).map(function(e,t){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,Et={},Mt={0:200,1223:204},Pt=J.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),Z.cors=!!Pt&&"withCredentials"in Pt,Z.ajax=Pt=!!Pt,J.ajaxTransport(function(e){var t;return Z.cors||Pt&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),a=++At;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Et[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(Mt[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Et[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return J.globalEval(e),e}}}),J.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),J.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=J("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),K.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Nt=[],Rt=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Nt.pop()||J.expando+"_"+ct++;return this[e]=!0,e}}),J.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=J.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Rt,"$1"+r):t.jsonp!==!1&&(t.url+=(ut.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||J.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Nt.push(r)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||K;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=J.buildFragment([e],t,r),r&&r.length&&J(r).remove(),J.merge([],i.childNodes))};var It=J.fn.load;J.fn.load=function(e,t,n){if("string"!=typeof e&&It)return It.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=J.trim(e.slice(s)),e=e.slice(0,s)),J.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&J.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?J("<div>").append(J.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){J.fn[t]=function(e){return this.on(t,e)}}),J.expr.filters.animated=function(e){return J.grep(J.timers,function(t){return e===t.elem}).length};var Ot=e.document.documentElement;J.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=J.css(e,"position"),d=J(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=J.css(e,"top"),l=J.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),J.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},J.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){J.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,J.contains(t,i)?(typeof i.getBoundingClientRect!==Se&&(r=i.getBoundingClientRect()),n=H(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===J.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),J.nodeName(e[0],"html")||(i=e.offset()),i.top+=J.css(e[0],"borderTopWidth",!0),i.left+=J.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-J.css(n,"marginTop",!0),left:t.left-i.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Ot;e&&!J.nodeName(e,"html")&&"static"===J.css(e,"position");)e=e.offsetParent;return e||Ot})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;J.fn[t]=function(r){return ge(this,function(t,r,o){var a=H(t);return void 0===o?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),J.each(["top","left"],function(e,t){J.cssHooks[t]=_(Z.pixelPosition,function(e,n){return n?(n=w(e,t),qe.test(n)?J(e).position()[t]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(e,t){J.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){J.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return J.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?J.css(t,n,a):J.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Lt=e.jQuery,jt=e.$;return J.noConflict=function(t){return e.$===J&&(e.$=jt),t&&e.jQuery===J&&(e.jQuery=Lt),J},typeof t===Se&&(e.jQuery=e.$=J),J}),function(e,t,n,i){e.site=e.fn.site=function(r){var o,a,s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),h=e.isPlainObject(r)?e.extend(!0,{},e.site.settings,r):e.extend({},e.site.settings),f=h.namespace,p=h.error,m="module-"+f,g=e(n),v=g,b=this,y=v.data(m);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),y=o,v.data(m,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),(console===i||console.log===i)&&(o.verbose("Console not available, normalizing events"),o.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===i&&(o.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==i&&e.fn[t].settings!==i},enabled:{modules:function(t){var n=[];return t=t||h.modules,e.each(t,function(e,t){o.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||h.modules,e.each(t,function(e,t){o.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,r,a){r="string"==typeof r?"all"===r?h.modules:[r]:r||h.modules,a=a!==i?a:!0,e.each(r,function(i,r){var s,l=o.moduleExists(r)?e.fn[r].settings.namespace||!1:!0;o.moduleExists(r)&&(o.verbose("Changing default setting",t,n,r),e.fn[r].settings[t]=n,a&&l&&(s=e(":data(module-"+l+")"),s.length>0&&(o.verbose("Modifying existing settings",s),s[r]("setting",t,n))))})},settings:function(t,n,r){n="string"==typeof n?[n]:n||h.modules,r=r!==i?r:!0,e.each(n,function(n,i){var a;o.moduleExists(i)&&(o.verbose("Changing default setting",t,i),e.extend(!0,e.fn[i].settings,t),r&&f&&(a=e(":data(module-"+f+")"),a.length>0&&(o.verbose("Modifying existing settings",a),a[i]("setting",t))))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||h.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||h.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||h.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||h.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===i)return void o.error(p.console);o.debug("Restoring console function"),t.console=y.cache.console}else o.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",v),v.removeData(m)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){h.debug&&(h.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,h.name+":"),o.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,h.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(o.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var s,l,c,u=y;return n=n||d,r=b||r,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var a=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[a])&&n!=s)u=u[a];else{if(u[a]!==i)return l=u[a],!1;if(!e.isPlainObject(u[r])||n==s)return u[r]!==i?(l=u[r],!1):(o.error(p.method,t),!1);u=u[r]}})),e.isFunction(l)?c=l.apply(r,n):l!==i&&(c=l),e.isArray(a)?a.push(c):a!==i?a=[a,c]:c!==i&&(a=c),l}},u?(y===i&&o.initialize(),o.invoke(c)):(y!==i&&o.destroy(),o.initialize()),a!==i?a:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.form=function(t){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u=arguments[1],d="string"==typeof c,h=[].slice.call(arguments,1);return o.each(function(){var f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A,E,M,P=e(this),N=this,R=[],I=!1;M={initialize:function(){M.get.settings(),d?(E===i&&M.instantiate(),M.invoke(c)):(M.verbose("Initializing form validation",P,x),M.bindEvents(),M.set.defaults(),M.instantiate())},instantiate:function(){M.verbose("Storing instance of module",M),E=M,P.data(D,M)},destroy:function(){M.verbose("Destroying previous module",E),M.removeEvents(),P.removeData(D)},refresh:function(){M.verbose("Refreshing selector cache"),f=P.find(k.field),p=P.find(k.group),m=P.find(k.message),g=P.find(k.prompt),v=P.find(k.submit),b=P.find(k.clear),y=P.find(k.reset)},submit:function(){M.verbose("Submitting form",P),P.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+A,function(e){M[n](),e.preventDefault()})},bindEvents:function(){M.verbose("Attaching form events"),P.on("submit"+A,M.validate.form).on("blur"+A,k.field,M.event.field.blur).on("click"+A,k.submit,M.submit).on("click"+A,k.reset,M.reset).on("click"+A,k.clear,M.clear),x.keyboardShortcuts&&P.on("keydown"+A,k.field,M.event.field.keydown),f.each(function(){var t=e(this),n=t.prop("type"),i=M.get.changeEvent(n,t);e(this).on(i+A,M.event.field.change)})},clear:function(){f.each(function(){var t=e(this),n=t.parent(),i=t.closest(p),r=i.find(k.prompt),o=t.data(_.defaultValue)||"",a=n.is(k.uiCheckbox),s=n.is(k.uiDropdown),l=i.hasClass(C.error);l&&(M.verbose("Resetting error on field",i),i.removeClass(C.error),r.remove()),s?(M.verbose("Resetting dropdown value",n,o),n.dropdown("clear")):a?t.prop("checked",!1):(M.verbose("Resetting field value",t,o),t.val(""))})},reset:function(){f.each(function(){var t=e(this),n=t.parent(),r=t.closest(p),o=r.find(k.prompt),a=t.data(_.defaultValue),s=n.is(k.uiCheckbox),l=n.is(k.uiDropdown),c=r.hasClass(C.error);a!==i&&(c&&(M.verbose("Resetting error on field",r),r.removeClass(C.error),o.remove()),l?(M.verbose("Resetting dropdown value",n,a),n.dropdown("restore defaults")):s?(M.verbose("Resetting checkbox value",n,a),t.prop("checked",a)):(M.verbose("Resetting field value",t,a),t.val(a)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(x.regExp.bracket)},valid:function(){var t=!0;return M.verbose("Checking if form is valid"),e.each(w,function(e,n){M.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){P.off(A),f.off(A),v.off(A),f.off(A)},event:{field:{keydown:function(t){var n=e(this),i=t.which,r={enter:13,escape:27};i==r.escape&&(M.verbose("Escape key pressed blurring field"),n.blur()),!t.ctrlKey&&i==r.enter&&n.is(k.input)&&n.not(k.checkbox).length>0&&(I||(n.one("keyup"+A,M.event.field.keyup),M.submit(),M.debug("Enter pressed on input submitting form")),I=!0)},keyup:function(){I=!1},blur:function(t){var n=e(this),i=n.closest(p),r=M.get.validation(n);i.hasClass(C.error)?(M.debug("Revalidating field",n,r),M.validate.form.call(M,t,!0)):("blur"==x.on||"change"==x.on)&&r&&M.validate.field(r)},change:function(t){var n=e(this),i=n.closest(p);("change"==x.on||i.hasClass(C.error)&&x.revalidate)&&(clearTimeout(M.timer),M.timer=setTimeout(function(){M.debug("Revalidating field",n,M.get.validation(n)),M.validate.form.call(M,t,!0)},x.delay))}}},get:{ancillaryValue:function(e){return e.type&&M.is.bracketedRule(e)?e.type.match(x.regExp.bracket)[1]+"":!1},ruleName:function(e){return M.is.bracketedRule(e)?e.type.replace(e.type.match(x.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":M.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==i?"input":n.createElement("input").onpropertychange!==i?"propertychange":"keyup"},prompt:function(e,t){var n,i,r,o=M.get.ruleName(e),a=M.get.ancillaryValue(e),s=e.prompt||x.prompt[o]||x.text.unspecifiedRule,l=-1!==s.search("{value}"),c=-1!==s.search("{name}");return(c||l)&&(i=M.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),c&&(n=i.closest(k.group).find("label").eq(0),r=1==n.size()?n.text():i.prop("placeholder")||x.text.unspecifiedField,s=s.replace("{name}",r)),s=s.replace("{identifier}",t.identifier),s=s.replace("{ruleValue}",a),e.prompt||M.verbose("Using default validation prompt for type",s,o),s},settings:function(){if(e.isPlainObject(t)){var n,r=Object.keys(t),o=r.length>0?t[r[0]].identifier!==i&&t[r[0]].rules!==i:!1;o?(x=e.extend(!0,{},e.fn.form.settings,u),w=e.extend({},e.fn.form.settings.defaults,t),M.error(x.error.oldSyntax,N),M.verbose("Extending settings from legacy parameters",w,x)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,i){"string"==typeof i&&(i=[i]),t.fields[n]={rules:[]},e.each(i,function(e,i){t.fields[n].rules.push({type:i})})})),x=e.extend(!0,{},e.fn.form.settings,t),w=e.extend({},e.fn.form.settings.defaults,x.fields),M.verbose("Extending settings",w,x))}else x=e.fn.form.settings,w=e.fn.form.settings.defaults,M.verbose("Using default form validation",w,x);T=x.namespace,_=x.metadata,k=x.selector,C=x.className,S=x.error,D="module-"+T,A="."+T,E=P.data(D),M.refresh()},field:function(t){return M.verbose("Finding field with identifier",t),f.filter("#"+t).length>0?f.filter("#"+t):f.filter('[name="'+t+'"]').length>0?f.filter('[name="'+t+'"]'):f.filter('[name="'+t+'[]"]').length>0?f.filter('[name="'+t+'[]"]'):f.filter("[data-"+_.validate+'="'+t+'"]').length>0?f.filter("[data-"+_.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();
return e.each(t,function(e,t){n=n.add(M.get.field(t))}),n},validation:function(t){var n,i;return w?(e.each(w,function(e,r){i=r.identifier||e,M.get.field(i)[0]==t[0]&&(r.identifier=i,n=r)}),n||!1):!1},value:function(e){var t,n=[];return n.push(e),t=M.get.values.call(N,n),t[e]},values:function(t){var n=e.isArray(t)?M.get.fields(t):f,i={};return n.each(function(t,n){var r=e(n),o=(r.prop("type"),r.prop("name")),a=r.val(),s=r.is(k.checkbox),l=r.is(k.radio),c=-1!==o.indexOf("[]"),u=s?r.is(":checked"):!1;o&&(c?(o=o.replace("[]",""),i[o]||(i[o]=[]),s?u?i[o].push(a||!0):i[o].push(!1):i[o].push(a)):l?u&&(i[o]=a):s?u?i[o]=a||!0:i[o]=!1:i[o]=a)}),i}},has:{field:function(e){return M.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&M.error(S.identifier,e),f.filter("#"+e).length>0?!0:f.filter('[name="'+e+'"]').length>0?!0:f.filter("[data-"+_.validate+'="'+e+'"]').length>0?!0:!1}},add:{prompt:function(t,n){var r=M.get.field(t),o=r.closest(p),a=o.children(k.prompt),s=0!==a.length;n="string"==typeof n?[n]:n,M.verbose("Adding field error state",t),o.addClass(C.error),x.inline&&(s||(a=x.templates.prompt(n),a.appendTo(o)),a.html(n[0]),s?M.verbose("Inline errors are disabled, no inline error added",t):x.transition&&e.fn.transition!==i&&P.transition("is supported")?(M.verbose("Displaying error with css transition",x.transition),a.transition(x.transition+" in",x.duration)):(M.verbose("Displaying error with fallback javascript animation"),a.fadeIn(x.duration)))},errors:function(e){M.debug("Adding form error messages",e),M.set.error(),m.html(x.templates.error(e))}},remove:{prompt:function(t){var n=M.get.field(t),r=n.closest(p),o=r.children(k.prompt);r.removeClass(C.error),x.inline&&o.is(":visible")&&(M.verbose("Removing prompt for field",t),x.transition&&e.fn.transition!==i&&P.transition("is supported")?o.transition(x.transition+" out",x.duration,function(){o.remove()}):o.fadeOut(x.duration,function(){o.remove()}))}},set:{success:function(){P.removeClass(C.error).addClass(C.success)},defaults:function(){f.each(function(){var t=e(this),n=t.filter(k.checkbox).length>0,i=n?t.is(":checked"):t.val();t.data(_.defaultValue,i)})},error:function(){P.removeClass(C.success).addClass(C.error)},value:function(e,t){var n={};return n[e]=t,M.set.values.call(N,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var i,r=M.get.field(t),o=r.parent(),a=e.isArray(n),s=o.is(k.uiCheckbox),l=o.is(k.uiDropdown),c=r.is(k.radio)&&s,u=r.length>0;u&&(a&&s?(M.verbose("Selecting multiple",n,r),o.checkbox("uncheck"),e.each(n,function(e,t){i=r.filter('[value="'+t+'"]'),o=i.parent(),i.length>0&&o.checkbox("check")})):c?(M.verbose("Selecting radio value",n,r),r.filter('[value="'+n+'"]').parent(k.uiCheckbox).checkbox("check")):s?(M.verbose("Setting checkbox value",n,o),n===!0?o.checkbox("check"):o.checkbox("uncheck")):l?(M.verbose("Setting dropdown value",n,o),o.dropdown("set selected",n)):(M.verbose("Setting field value",n,r),r.val(n)))})}},validate:{form:function(e,t){var n=M.get.values();if(I)return!1;if(R=[],M.is.valid()){if(M.debug("Form has no validation errors, submitting"),M.set.success(),t!==!0)return x.onSuccess.call(N,e,n)}else if(M.debug("Form has errors"),M.set.error(),x.inline||M.add.errors(R),P.data("moduleApi")!==i&&e.stopImmediatePropagation(),t!==!0)return x.onFailure.call(N,R,n)},field:function(t,n){var r=t.identifier||n,o=M.get.field(r),a=!0,s=[];return t.identifier||(M.debug("Using field name as identifier",r),t.identifier=r),o.prop("disabled")?(M.debug("Field is disabled. Skipping",r),a=!0):t.optional&&""===e.trim(o.val())?(M.debug("Field is optional and empty. Skipping",r),a=!0):t.rules!==i&&e.each(t.rules,function(e,n){M.has.field(r)&&!M.validate.rule(t,n)&&(M.debug("Field is invalid",r,n.type),s.push(M.get.prompt(n,t)),a=!1)}),a?(M.remove.prompt(r,s),x.onValid.call(o),!0):(R=R.concat(s),M.add.prompt(r,s),x.onInvalid.call(o,s),!1)},rule:function(t,n){var r=M.get.field(t.identifier),o=(n.type,r.val()),a=M.get.ancillaryValue(n),s=M.get.ruleName(n),l=x.rules[s];return e.isFunction(l)?(o=o===i||""===o||null===o?"":e.trim(o+""),l.call(r,o,a)):void M.error(S.noRule,s)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,M,t);else{if(n===i)return M[t];M[t]=n}},debug:function(){x.debug&&(x.performance?M.performance.log(arguments):(M.debug=Function.prototype.bind.call(console.info,console,x.name+":"),M.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?M.performance.log(arguments):(M.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),M.verbose.apply(console,arguments)))},error:function(){M.error=Function.prototype.bind.call(console.error,console,x.name+":"),M.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:N,"Execution Time":n})),clearTimeout(M.performance.timer),M.performance.timer=setTimeout(M.performance.display,500)},display:function(){var t=x.name+":",n=0;s=!1,clearTimeout(M.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=E;return n=n||h,o=N||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},M.initialize()}),r!==i?r:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===i||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){var n=new RegExp(e.fn.form.settings.regExp.email,"i");return n.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){var i,r=n.match(e.fn.form.settings.regExp.flags);return r&&(n=r.length>=2?r[1]:n,i=r.length>=3?r[2]:""),t.match(new RegExp(n,i))},integer:function(t,n){var r,o,a,s=e.fn.form.settings.regExp.integer;return n&&-1===["",".."].indexOf(n)&&(-1==n.indexOf("..")?s.test(n)&&(r=o=n-0):(a=n.split("..",2),s.test(a[0])&&(r=a[0]-0),s.test(a[1])&&(o=a[1]-0))),s.test(t)&&(r===i||t>=r)&&(o===i||o>=t)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n,"i"))},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1!==t.search(new RegExp(n))},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n,"i"))},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),-1===t.search(new RegExp(n))},minLength:function(e,t){return e!==i?e.length>=t:!1},length:function(e,t){return e!==i?e.length>=t:!1},exactLength:function(e,t){return e!==i?e.length==t:!1},maxLength:function(e,t){return e!==i?e.length<=t:!1},match:function(t,n){var r;e(this);return e('[data-validate="'+n+'"]').length>0?r=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?r=e("#"+n).val():e('[name="'+n+'"]').length>0?r=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(r=e('[name="'+n+'[]"]')),r!==i?t.toString()==r.toString():!1},different:function(t,n){var r;e(this);return e('[data-validate="'+n+'"]').length>0?r=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?r=e("#"+n).val():e('[name="'+n+'"]').length>0?r=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(r=e('[name="'+n+'[]"]')),r!==i?t.toString()!==r.toString():!1},creditCard:function(t,n){var i,r,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},a={},s=!1,l="string"==typeof n?n.split(","):!1;if("string"==typeof t&&0!==t.length){if(l&&(e.each(l,function(n,i){r=o[i],r&&(a={length:-1!==e.inArray(t.length,r.length),pattern:-1!==t.search(r.pattern)},a.length&&a.pattern&&(s=!0))}),!s))return!1;if(i={number:-1!==e.inArray(t.length,o.unionPay.length),pattern:-1!==t.search(o.unionPay.pattern)},i.number&&i.pattern)return!0;for(var c=t.length,u=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],h=0;c--;)h+=d[u][parseInt(t.charAt(c),10)],u^=1;return h%10===0&&h>0}},minCount:function(e,t){return 0==t?!0:1==t?""!==e:e.split(",").length>=t},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0==t?!1:1==t?-1===e.search(","):e.split(",").length<=t}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.accordion=function(n){var r,o=e(this),a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(){var d,h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),p=f.className,m=f.namespace,g=f.selector,v=f.error,b="."+m,y="module-"+m,x=o.selector||"",w=e(this),_=w.find(g.title),k=w.find(g.content),C=this,S=w.data(y);h={initialize:function(){h.debug("Initializing",w),h.bind.events(),f.observeChanges&&h.observeChanges(),h.instantiate()},instantiate:function(){S=h,w.data(y,h)},destroy:function(){h.debug("Destroying previous instance",w),w.off(b).removeData(y)},refresh:function(){_=w.find(g.title),k=w.find(g.content)},observeChanges:function(){"MutationObserver"in t&&(d=new MutationObserver(function(e){h.debug("DOM tree modified, updating selector cache"),h.refresh()}),d.observe(C,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",d))},bind:{events:function(){h.debug("Binding delegated events"),w.on(f.on+b,g.trigger,h.event.click)}},event:{click:function(){h.toggle.call(this)}},toggle:function(t){var n=t!==i?"number"==typeof t?_.eq(t):e(t).closest(g.title):e(this).closest(g.title),r=n.next(k),o=r.hasClass(p.animating),a=r.hasClass(p.active),s=a&&!o,l=!a&&o;h.debug("Toggling visibility of content",n),s||l?f.collapsible?h.close.call(n):h.debug("Cannot close accordion content collapsing is disabled"):h.open.call(n)},open:function(t){var n=t!==i?"number"==typeof t?_.eq(t):e(t).closest(g.title):e(this).closest(g.title),r=n.next(k),o=r.hasClass(p.animating),a=r.hasClass(p.active),s=a||o;return s?void h.debug("Accordion already open, skipping",r):(h.debug("Opening accordion content",n),f.onOpening.call(r),f.exclusive&&h.closeOthers.call(n),n.addClass(p.active),r.stop(!0,!0).addClass(p.animating),f.animateChildren&&(e.fn.transition!==i&&w.transition("is supported")?r.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):r.children().stop(!0,!0).animate({opacity:1},f.duration,h.resetOpacity)),void r.slideDown(f.duration,f.easing,function(){r.removeClass(p.animating).addClass(p.active),h.reset.display.call(this),f.onOpen.call(this),f.onChange.call(this)}))},close:function(t){var n=t!==i?"number"==typeof t?_.eq(t):e(t).closest(g.title):e(this).closest(g.title),r=n.next(k),o=r.hasClass(p.animating),a=r.hasClass(p.active),s=!a&&o,l=a&&o;!a&&!s||l||(h.debug("Closing accordion content",r),f.onClosing.call(r),n.removeClass(p.active),r.stop(!0,!0).addClass(p.animating),f.animateChildren&&(e.fn.transition!==i&&w.transition("is supported")?r.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):r.children().stop(!0,!0).animate({opacity:0},f.duration,h.resetOpacity)),r.slideUp(f.duration,f.easing,function(){r.removeClass(p.animating).removeClass(p.active),h.reset.display.call(this),f.onClose.call(this),f.onChange.call(this)}))},closeOthers:function(t){var n,r,o,a=t!==i?_.eq(t):e(this).closest(g.title),s=a.parents(g.content).prev(g.title),l=a.closest(g.accordion),c=g.title+"."+p.active+":visible",u=g.content+"."+p.active+":visible";f.closeNested?(n=l.find(c).not(s),o=n.next(k)):(n=l.find(c).not(s),r=l.find(u).find(c).not(s),n=n.not(r),o=n.next(k)),n.length>0&&(h.debug("Exclusive enabled, closing other content",n),n.removeClass(p.active),o.removeClass(p.animating).stop(!0,!0),f.animateChildren&&(e.fn.transition!==i&&w.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):o.children().stop(!0,!0).animate({opacity:0},f.duration,h.resetOpacity)),o.slideUp(f.duration,f.easing,function(){e(this).removeClass(p.active),h.reset.display.call(this)}))},reset:{display:function(){h.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){h.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){return h.debug("Changing internal",t,n),n===i?h[t]:void(e.isPlainObject(t)?e.extend(!0,h,t):h[t]=n)},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(h.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",x&&(t+=" '"+x+"'"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,s,l,c=S;return n=n||u,o=C||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(h.error(v.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},c?(S===i&&h.initialize(),h.invoke(l)):(S!==i&&S.invoke("destroy"),h.initialize())}),r!==i?r:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.checkbox=function(r){var o,a=e(this),s=a.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return a.each(function(){var a,f,p=e.extend(!0,{},e.fn.checkbox.settings,r),m=p.className,g=p.namespace,v=p.selector,b=p.error,y="."+g,x="module-"+g,w=e(this),_=e(this).children(v.label),k=e(this).children(v.input),C=k[0],S=!1,T=!1,D=w.data(x),A=this;f={initialize:function(){f.verbose("Initializing checkbox",p),f.create.label(),f.bind.events(),f.set.tabbable(),f.hide.input(),f.observeChanges(),f.instantiate(),f.setup()},instantiate:function(){f.verbose("Storing instance of module",f),D=f,w.data(x,f)},destroy:function(){f.verbose("Destroying module"),f.unbind.events(),f.show.input(),w.removeData(x)},fix:{reference:function(){w.is(v.input)&&(f.debug("Behavior called on <input> adjusting invoked element"),w=w.closest(v.checkbox),f.refresh())}},setup:function(){f.set.initialLoad(),f.is.indeterminate()?(f.debug("Initial value is indeterminate"),f.indeterminate()):f.is.checked()?(f.debug("Initial value is checked"),f.check()):(f.debug("Initial value is unchecked"),f.uncheck()),f.remove.initialLoad()},refresh:function(){_=w.children(v.label),k=w.children(v.input),C=k[0]},hide:{input:function(){f.verbose("Modfying <input> z-index to be unselectable"),k.addClass(m.hidden)}},show:{input:function(){f.verbose("Modfying <input> z-index to be selectable"),k.removeClass(m.hidden)}},observeChanges:function(){"MutationObserver"in t&&(a=new MutationObserver(function(e){f.debug("DOM tree modified, updating selector cache"),f.refresh()}),a.observe(A,{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",a))},attachEvents:function(t,n){var i=e(t);n=e.isFunction(f[n])?f[n]:f.toggle,i.length>0?(f.debug("Attaching checkbox events to element",t,n),i.on("click"+y,n)):f.error(b.notFound)},event:{click:function(t){var n=e(t.target);return n.is(v.input)?void f.verbose("Using default check action on initialized checkbox"):n.is(v.link)?void f.debug("Clicking link inside checkbox, skipping toggle"):(f.toggle(),k.focus(),void t.preventDefault())},keydown:function(e){var t=e.which,n={enter:13,space:32,escape:27};t==n.escape?(f.verbose("Escape key pressed blurring field"),k.blur(),T=!0):e.ctrlKey||t!=n.space&&t!=n.enter?T=!1:(f.verbose("Enter/space key pressed, toggling checkbox"),f.toggle(),T=!0)},keyup:function(e){T&&e.preventDefault()}},check:function(){f.should.allowCheck()&&(f.debug("Checking checkbox",k),f.set.checked(),f.should.ignoreCallbacks()||(p.onChecked.call(C),p.onChange.call(C)))},uncheck:function(){f.should.allowUncheck()&&(f.debug("Unchecking checkbox"),f.set.unchecked(),f.should.ignoreCallbacks()||(p.onUnchecked.call(C),p.onChange.call(C)))},indeterminate:function(){return f.should.allowIndeterminate()?void f.debug("Checkbox is already indeterminate"):(f.debug("Making checkbox indeterminate"),f.set.indeterminate(),void(f.should.ignoreCallbacks()||(p.onIndeterminate.call(C),p.onChange.call(C))))},determinate:function(){return f.should.allowDeterminate()?void f.debug("Checkbox is already determinate"):(f.debug("Making checkbox determinate"),f.set.determinate(),void(f.should.ignoreCallbacks()||(p.onDeterminate.call(C),p.onChange.call(C))))},enable:function(){return f.is.enabled()?void f.debug("Checkbox is already enabled"):(f.debug("Enabling checkbox"),f.set.enabled(),void p.onEnabled.call(C))},disable:function(){return f.is.disabled()?void f.debug("Checkbox is already disabled"):(f.debug("Disabling checkbox"),f.set.disabled(),void p.onDisabled.call(C))},get:{radios:function(){var t=f.get.name();return e('input[name="'+t+'"]').closest(v.checkbox)},otherRadios:function(){return f.get.radios().not(w)},name:function(){return k.attr("name")}},is:{initialLoad:function(){return S},radio:function(){return k.hasClass(m.radio)||"radio"==k.attr("type")},indeterminate:function(){return k.prop("indeterminate")!==i&&k.prop("indeterminate")},checked:function(){return k.prop("checked")!==i&&k.prop("checked")},disabled:function(){return k.prop("disabled")!==i&&k.prop("disabled")},enabled:function(){return!f.is.disabled()},determinate:function(){return!f.is.indeterminate()},unchecked:function(){return!f.is.checked()}},should:{allowCheck:function(){return f.is.determinate()&&f.is.checked()&&!f.should.forceCallbacks()?(f.debug("Should not allow check, checkbox is already checked"),!1):p.beforeChecked.apply(C)===!1?(f.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return f.is.determinate()&&f.is.unchecked()&&!f.should.forceCallbacks()?(f.debug("Should not allow uncheck, checkbox is already unchecked"),!1):p.beforeUnchecked.apply(C)===!1?(f.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return f.is.indeterminate()&&!f.should.forceCallbacks()?(f.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):p.beforeIndeterminate.apply(C)===!1?(f.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return f.is.determinate()&&!f.should.forceCallbacks()?(f.debug("Should not allow determinate, checkbox is already determinate"),!1):p.beforeDeterminate.apply(C)===!1?(f.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return f.is.initialLoad()&&p.fireOnInit},ignoreCallbacks:function(){return S&&!p.fireOnInit}},can:{change:function(){return!(w.hasClass(m.disabled)||w.hasClass(m.readOnly)||k.prop("disabled")||k.prop("readonly"))},uncheck:function(){return"boolean"==typeof p.uncheckable?p.uncheckable:!f.is.radio()}},set:{initialLoad:function(){S=!0},checked:function(){return f.verbose("Setting class to checked"),w.removeClass(m.indeterminate).addClass(m.checked),f.is.radio()&&f.uncheckOthers(),!f.is.indeterminate()&&f.is.checked()?void f.debug("Input is already checked, skipping input property change"):(f.verbose("Setting state to checked",C),k.prop("indeterminate",!1).prop("checked",!0),void f.trigger.change())},unchecked:function(){return f.verbose("Removing checked class"),w.removeClass(m.indeterminate).removeClass(m.checked),!f.is.indeterminate()&&f.is.unchecked()?void f.debug("Input is already unchecked"):(f.debug("Setting state to unchecked"),k.prop("indeterminate",!1).prop("checked",!1),void f.trigger.change())},indeterminate:function(){return f.verbose("Setting class to indeterminate"),w.addClass(m.indeterminate),f.is.indeterminate()?void f.debug("Input is already indeterminate, skipping input property change"):(f.debug("Setting state to indeterminate"),k.prop("indeterminate",!0),void f.trigger.change())},determinate:function(){return f.verbose("Removing indeterminate class"),w.removeClass(m.indeterminate),f.is.determinate()?void f.debug("Input is already determinate, skipping input property change"):(f.debug("Setting state to determinate"),void k.prop("indeterminate",!1))},disabled:function(){return f.verbose("Setting class to disabled"),w.addClass(m.disabled),f.is.disabled()?void f.debug("Input is already disabled, skipping input property change"):(f.debug("Setting state to disabled"),k.prop("disabled","disabled"),void f.trigger.change())},enabled:function(){return f.verbose("Removing disabled class"),w.removeClass(m.disabled),f.is.enabled()?void f.debug("Input is already enabled, skipping input property change"):(f.debug("Setting state to enabled"),k.prop("disabled",!1),void f.trigger.change())},tabbable:function(){f.verbose("Adding tabindex to checkbox"),k.attr("tabindex")===i&&k.attr("tabindex",0)}},remove:{initialLoad:function(){S=!1}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=k[0];t&&(f.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){k.prevAll(v.label).length>0?(k.prev(v.label).detach().insertAfter(k),f.debug("Moving existing label",_)):f.has.label()||(_=e("<label>").insertAfter(k),f.debug("Creating label",_))}},has:{label:function(){return _.length>0}},bind:{events:function(){f.verbose("Attaching checkbox events"),w.on("click"+y,f.event.click).on("keydown"+y,v.input,f.event.keydown).on("keyup"+y,v.input,f.event.keyup)}},unbind:{events:function(){f.debug("Removing events"),w.off(y)}},uncheckOthers:function(){var e=f.get.otherRadios();f.debug("Unchecking other radios",e),e.removeClass(m.checked)},toggle:function(){return f.can.change()?void(f.is.indeterminate()||f.is.unchecked()?(f.debug("Currently unchecked"),f.check()):f.is.checked()&&f.can.uncheck()&&(f.debug("Currently checked"),f.uncheck())):void(f.is.radio()||f.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var a,s,l,c=D;return n=n||h,r=A||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(f.error(b.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},d?(D===i&&f.initialize(),f.invoke(u)):(D!==i&&D.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dimmer=function(t){var r,o=e(this),a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return o.each(function(){var d,h,f,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.dimmer.settings,t):e.extend({},e.fn.dimmer.settings),m=p.selector,g=p.namespace,v=p.className,b=p.error,y="."+g,x="module-"+g,w=o.selector||"",_="ontouchstart"in n.documentElement?"touchstart":"click",k=e(this),C=this,S=k.data(x);f={preinitialize:function(){f.is.dimmer()?(h=k.parent(),d=k):(h=k,d=f.has.dimmer()?p.dimmerName?h.find(m.dimmer).filter("."+p.dimmerName):h.find(m.dimmer):f.create())},initialize:function(){f.debug("Initializing dimmer",p),f.bind.events(),f.set.dimmable(),f.instantiate()},instantiate:function(){
f.verbose("Storing instance of module",f),S=f,k.data(x,S)},destroy:function(){f.verbose("Destroying previous module",d),f.unbind.events(),f.remove.variation(),h.off(y)},bind:{events:function(){"hover"==p.on?h.on("mouseenter"+y,f.show).on("mouseleave"+y,f.hide):"click"==p.on&&h.on(_+y,f.toggle),f.is.page()&&(f.debug("Setting as a page dimmer",h),f.set.pageDimmer()),f.is.closable()&&(f.verbose("Adding dimmer close event",d),h.on(_+y,m.dimmer,f.event.click))}},unbind:{events:function(){k.removeData(x)}},event:{click:function(t){f.verbose("Determining if event occured on dimmer",t),(0===d.find(t.target).length||e(t.target).is(m.content))&&(f.hide(),t.stopImmediatePropagation())}},addContent:function(t){var n=e(t);f.debug("Add content to dimmer",n),n.parent()[0]!==d[0]&&n.detach().appendTo(d)},create:function(){var t=e(p.template.dimmer());return p.variation&&(f.debug("Creating dimmer with variation",p.variation),t.addClass(p.variation)),p.dimmerName&&(f.debug("Creating named dimmer",p.dimmerName),t.addClass(p.dimmerName)),t.appendTo(h),t},show:function(t){t=e.isFunction(t)?t:function(){},f.debug("Showing dimmer",d,p),f.is.dimmed()&&!f.is.animating()||!f.is.enabled()?f.debug("Dimmer is already shown or disabled"):(f.animate.show(t),p.onShow.call(C),p.onChange.call(C))},hide:function(t){t=e.isFunction(t)?t:function(){},f.is.dimmed()||f.is.animating()?(f.debug("Hiding dimmer",d),f.animate.hide(t),p.onHide.call(C),p.onChange.call(C)):f.debug("Dimmer is not visible")},toggle:function(){f.verbose("Toggling dimmer visibility",d),f.is.dimmed()?f.hide():f.show()},animate:{show:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&d.transition("is supported")?("auto"!==p.opacity&&f.set.opacity(),d.transition({animation:p.transition+" in",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.set.dimmed()},onComplete:function(){f.set.active(),t()}})):(f.verbose("Showing dimmer animation with javascript"),f.set.dimmed(),"auto"==p.opacity&&(p.opacity=.8),d.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(f.get.duration(),p.opacity,function(){d.removeAttr("style"),f.set.active(),t()}))},hide:function(t){t=e.isFunction(t)?t:function(){},p.useCSS&&e.fn.transition!==i&&d.transition("is supported")?(f.verbose("Hiding dimmer with css"),d.transition({animation:p.transition+" out",queue:!1,duration:f.get.duration(),useFailSafe:!0,onStart:function(){f.remove.dimmed()},onComplete:function(){f.remove.active(),t()}})):(f.verbose("Hiding dimmer with javascript"),f.remove.dimmed(),d.stop().fadeOut(f.get.duration(),function(){f.remove.active(),d.removeAttr("style"),t()}))}},get:{dimmer:function(){return d},duration:function(){return"object"==typeof p.duration?f.is.active()?p.duration.hide:p.duration.show:p.duration}},has:{dimmer:function(){return p.dimmerName?k.find(m.dimmer).filter("."+p.dimmerName).length>0:k.find(m.dimmer).length>0}},is:{active:function(){return d.hasClass(v.active)},animating:function(){return d.is(":animated")||d.hasClass(v.animating)},closable:function(){return"auto"==p.closable?"hover"==p.on?!1:!0:p.closable},dimmer:function(){return k.hasClass(v.dimmer)},dimmable:function(){return k.hasClass(v.dimmable)},dimmed:function(){return h.hasClass(v.dimmed)},disabled:function(){return h.hasClass(v.disabled)},enabled:function(){return!f.is.disabled()},page:function(){return h.is("body")},pageDimmer:function(){return d.hasClass(v.pageDimmer)}},can:{show:function(){return!d.hasClass(v.disabled)}},set:{opacity:function(e){var t=d.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===p.opacity?0:p.opacity||e,i?(n[3]=e+")",t=n.join(",")):t="rgba(0, 0, 0, "+e+")",f.debug("Setting opacity to",e),d.css("background-color",t)},active:function(){d.addClass(v.active)},dimmable:function(){h.addClass(v.dimmable)},dimmed:function(){h.addClass(v.dimmed)},pageDimmer:function(){d.addClass(v.pageDimmer)},disabled:function(){d.addClass(v.disabled)},variation:function(e){e=e||p.variation,e&&d.addClass(e)}},remove:{active:function(){d.removeClass(v.active)},dimmed:function(){h.removeClass(v.dimmed)},disabled:function(){d.removeClass(v.disabled)},variation:function(e){e=e||p.variation,e&&d.removeClass(e)}},setting:function(t,n){if(f.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=p.name+":",n=0;a=!1,clearTimeout(f.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",w&&(t+=" '"+w+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,s,l,c=S;return n=n||u,o=C||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(f.error(b.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},f.preinitialize(),c?(S===i&&f.initialize(),f.invoke(l)):(S!==i&&S.invoke("destroy"),f.initialize())}),r!==i?r:this},e.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return e("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.dropdown=function(r){var o,a=e(this),s=e(n),l=a.selector||"",c="ontouchstart"in n.documentElement,u=(new Date).getTime(),d=[],h=arguments[0],f="string"==typeof h,p=[].slice.call(arguments,1);return a.each(function(m){var g,v,b,y,x,w,_,k=e.isPlainObject(r)?e.extend(!0,{},e.fn.dropdown.settings,r):e.extend({},e.fn.dropdown.settings),C=k.className,S=k.message,T=k.fields,D=k.keys,A=k.metadata,E=k.namespace,M=k.regExp,P=k.selector,N=k.error,R=k.templates,I="."+E,O="module-"+E,L=e(this),j=e(k.context),z=L.find(P.text),B=L.find(P.search),F=L.find(P.input),H=L.find(P.icon),q=L.prev().find(P.text).length>0?L.prev().find(P.text):L.prev(),W=L.children(P.menu),V=W.find(P.item),U=!1,Y=!1,$=!1,X=this,G=L.data(O);_={initialize:function(){_.debug("Initializing dropdown",k),_.is.alreadySetup()?_.setup.reference():(_.setup.layout(),_.refreshData(),_.save.defaults(),_.restore.selected(),_.create.id(),_.bind.events(),_.observeChanges(),_.instantiate())},instantiate:function(){_.verbose("Storing instance of dropdown",_),G=_,L.data(O,_)},destroy:function(){_.verbose("Destroying previous dropdown",L),_.remove.tabbable(),L.off(I).removeData(O),W.off(I),s.off(b),x&&x.disconnect(),w&&w.disconnect()},observeChanges:function(){"MutationObserver"in t&&(x=new MutationObserver(function(e){_.debug("<select> modified, recreating menu"),_.setup.select()}),w=new MutationObserver(function(e){_.debug("Menu modified, updating selector cache"),_.refresh()}),_.has.input()&&x.observe(F[0],{childList:!0,subtree:!0}),_.has.menu()&&w.observe(W[0],{childList:!0,subtree:!0}),_.debug("Setting up mutation observer",x,w))},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,_.verbose("Creating unique id for element",y)},userChoice:function(t){var n,r,o;return(t=t||_.get.userValues())?(t=e.isArray(t)?t:[t],e.each(t,function(t,a){_.get.item(a)===!1&&(o=k.templates.addition(_.add.variables(S.addResult,a)),r=e("<div />").html(o).attr("data-"+A.value,a).attr("data-"+A.text,a).addClass(C.addition).addClass(C.item),n=n===i?r:n.add(r),_.verbose("Creating user choices for value",a,r))}),n):!1},userLabels:function(t){var n=_.get.userValues();n&&(_.debug("Adding user labels",n),e.each(n,function(e,t){_.verbose("Adding custom user value"),_.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(C.menu).appendTo(L)}},search:function(e){e=e!==i?e:_.get.query(),_.verbose("Searching for query",e),_.filter(e)},select:{firstUnfiltered:function(){_.verbose("Selecting first non-filtered element"),_.remove.selectedItem(),V.not(P.unselectable).eq(0).addClass(C.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(P.item).not(P.unselectable).eq(0),n=e.prevAll(P.item).not(P.unselectable).eq(0),i=t.length>0;i?(_.verbose("Moving selection to",t),t.addClass(C.selected)):(_.verbose("Moving selection to",n),n.addClass(C.selected))}},setup:{api:function(){var e={debug:k.debug,on:!1};_.verbose("First request, initializing API"),L.api(e)},layout:function(){L.is("select")&&(_.setup.select(),_.setup.returnedObject()),_.has.menu()||_.create.menu(),_.is.search()&&!_.has.search()&&(_.verbose("Adding search input"),B=e("<input />").addClass(C.search).prop("autocomplete","off").insertBefore(z)),k.allowTab&&_.set.tabbable()},select:function(){var t=_.get.selectValues();_.debug("Dropdown initialized on a select",t),L.is("select")&&(F=L),F.parent(P.dropdown).length>0?(_.debug("UI dropdown already exists. Creating dropdown menu only"),L=F.closest(P.dropdown),_.has.menu()||_.create.menu(),W=L.children(P.menu),_.setup.menu(t)):(_.debug("Creating entire dropdown from select"),L=e("<div />").attr("class",F.attr("class")).addClass(C.selection).addClass(C.dropdown).html(R.dropdown(t)).insertBefore(F),F.hasClass(C.multiple)&&F.prop("multiple")===!1&&(_.error(N.missingMultiple),F.prop("multiple",!0)),F.is("[multiple]")&&_.set.multiple(),F.prop("disabled")&&(_.debug("Disabling dropdown"),L.addClass(C.disabled)),F.removeAttr("class").detach().prependTo(L)),_.refresh()},menu:function(e){W.html(R.menu(e,T)),V=W.find(P.item)},reference:function(){_.debug("Dropdown behavior was called on select, replacing with closest dropdown"),L=L.parent(P.dropdown),_.refresh(),_.setup.returnedObject(),f&&(G=_,_.invoke(h))},returnedObject:function(){var e=a.slice(0,m),t=a.slice(m+1);a=e.add(L).add(t)}},refresh:function(){_.refreshSelectors(),_.refreshData()},refreshSelectors:function(){_.verbose("Refreshing selector cache"),z=L.find(P.text),B=L.find(P.search),F=L.find(P.input),H=L.find(P.icon),q=L.prev().find(P.text).length>0?L.prev().find(P.text):L.prev(),W=L.children(P.menu),V=W.find(P.item)},refreshData:function(){_.verbose("Refreshing cached metadata"),V.removeData(A.text).removeData(A.value),L.removeData(A.defaultText).removeData(A.defaultValue).removeData(A.placeholderText)},toggle:function(){_.verbose("Toggling menu visibility"),_.is.active()?_.hide():_.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},_.can.show()&&!_.is.active()){if(_.debug("Showing dropdown"),_.is.multiple()&&!_.has.search()&&_.is.allFiltered())return!0;!_.has.message()||_.has.maxSelections()||_.has.allResultsFiltered()||_.remove.message(),k.onShow.call(X)!==!1&&_.animate.show(function(){_.can.click()&&_.bind.intent(),_.set.visible(),t.call(X)})}},hide:function(t){t=e.isFunction(t)?t:function(){},_.is.active()&&(_.debug("Hiding dropdown"),k.onHide.call(X)!==!1&&_.animate.hide(function(){_.remove.visible(),t.call(X)}))},hideOthers:function(){_.verbose("Finding other dropdowns to hide"),a.not(L).has(P.menu+"."+C.visible).dropdown("hide")},hideMenu:function(){_.verbose("Hiding menu  instantaneously"),_.remove.active(),_.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(P.item).find(P.menu);_.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){c&&_.bind.touchEvents(),_.bind.keyboardEvents(),_.bind.inputEvents(),_.bind.mouseEvents()},touchEvents:function(){_.debug("Touch device detected binding additional touch events"),_.is.searchSelection()||_.is.single()&&L.on("touchstart"+I,_.event.test.toggle),W.on("touchstart"+I,P.item,_.event.item.mouseenter)},keyboardEvents:function(){_.verbose("Binding keyboard events"),L.on("keydown"+I,_.event.keydown),_.has.search()&&L.on(_.get.inputEvent()+I,P.search,_.event.input),_.is.multiple()&&s.on("keydown"+b,_.event.document.keydown)},inputEvents:function(){_.verbose("Binding input change events"),L.on("change"+I,P.input,_.event.change)},mouseEvents:function(){_.verbose("Binding mouse events"),_.is.multiple()&&L.on("click"+I,P.label,_.event.label.click).on("click"+I,P.remove,_.event.remove.click),_.is.searchSelection()?(L.on("mousedown"+I,P.menu,_.event.menu.mousedown).on("mouseup"+I,P.menu,_.event.menu.mouseup).on("click"+I,P.icon,_.event.icon.click).on("click"+I,P.search,_.show).on("focus"+I,P.search,_.event.search.focus).on("blur"+I,P.search,_.event.search.blur).on("click"+I,P.text,_.event.text.focus),_.is.multiple()&&L.on("click"+I,_.event.click)):("click"==k.on?L.on("click"+I,P.icon,_.event.icon.click).on("click"+I,_.event.test.toggle):"hover"==k.on?L.on("mouseenter"+I,_.delay.show).on("mouseleave"+I,_.delay.hide):L.on(k.on+I,_.toggle),L.on("mousedown"+I,_.event.mousedown).on("mouseup"+I,_.event.mouseup).on("focus"+I,_.event.focus).on("blur"+I,_.event.blur)),W.on("mouseenter"+I,P.item,_.event.item.mouseenter).on("mouseleave"+I,P.item,_.event.item.mouseleave).on("click"+I,P.item,_.event.item.click)},intent:function(){_.verbose("Binding hide intent event to document"),c&&s.on("touchstart"+b,_.event.test.touch).on("touchmove"+b,_.event.test.touch),s.on("click"+b,_.event.test.hide)}},unbind:{intent:function(){_.verbose("Removing hide intent event from document"),c&&s.off("touchstart"+b).off("touchmove"+b),s.off("click"+b)}},filter:function(e){var t=e!==i?e:_.get.query(),n=function(){_.is.multiple()&&_.filterActive(),_.select.firstUnfiltered(),_.has.allResultsFiltered()?k.onNoResults.call(X,t)?k.allowAdditions||(_.verbose("All items filtered, showing message",t),_.add.message(S.noResults)):(_.verbose("All items filtered, hiding dropdown",t),_.hideMenu()):_.remove.message(),k.allowAdditions&&_.add.userSuggestion(e),_.is.searchSelection()&&_.can.show()&&_.is.focusedOnSearch()&&_.show()};k.useLabels&&_.has.maxSelections()||(k.apiSettings?_.can.useAPI()?_.queryRemote(t,function(){n()}):_.error(N.noAPI):(_.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,throttle:k.throttle,urlData:{query:t},onError:function(){_.add.message(S.serverError),n()},onFailure:function(){_.add.message(S.serverError),n()},onSuccess:function(e){_.remove.message(),_.setup.menu({values:e[T.remoteValues]}),n()}};L.api("get request")||_.setup.api(),i=e.extend(!0,{},i,k.apiSettings),L.api("setting",i).api("query")},filterItems:function(t){var n=t!==i?t:_.get.query(),r=null,o=_.escape.regExp(n),a=new RegExp("^"+o,"igm");_.has.query()&&(r=[],_.verbose("Searching for matching values",n),V.each(function(){var t,i,o=e(this);if("both"==k.match||"text"==k.match){if(t=String(_.get.choiceText(o,!1)),-1!==t.search(a))return r.push(this),!0;if(k.fullTextSearch&&_.fuzzySearch(n,t))return r.push(this),!0}if("both"==k.match||"value"==k.match){if(i=String(_.get.choiceValue(o,t)),-1!==i.search(a))return r.push(this),!0;if(k.fullTextSearch&&_.fuzzySearch(n,i))return r.push(this),!0}})),_.debug("Showing only matched items",n),_.remove.filteredItem(),r&&V.not(r).addClass(C.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;i>r;r++){for(var a=e.charCodeAt(r);n>o;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},filterActive:function(){k.useLabels&&V.filter("."+C.active).addClass(C.filtered)},focusSearch:function(){_.is.search()&&!_.is.focusedOnSearch()&&B[0].focus()},forceSelection:function(){var e=V.not(C.filtered).filter("."+C.selected).eq(0),t=V.not(C.filtered).filter("."+C.active).eq(0),n=e.length>0?e:t,i=n.size()>0;if(_.has.query()){if(i)return _.debug("Forcing partial selection to selected item",n),void _.event.item.click.call(n);_.remove.searchTerm()}_.hide()},event:{change:function(){$||(_.debug("Input changed, updating selection"),_.set.selected())},focus:function(){k.showOnFocus&&!U&&_.is.hidden()&&!v&&_.show()},click:function(t){var n=e(t.target);n.is(L)&&!_.is.focusedOnSearch()&&_.focusSearch()},blur:function(e){v=n.activeElement===this,U||v||(_.remove.activeLabel(),_.hide())},mousedown:function(){U=!0},mouseup:function(){U=!1},search:{focus:function(){U=!0,_.is.multiple()&&_.remove.activeLabel(),k.showOnFocus&&(_.search(),_.show())},blur:function(e){v=n.activeElement===this,Y||v?v&&k.forceSelection&&_.forceSelection():_.is.multiple()?(_.remove.activeLabel(),_.hide()):k.forceSelection?_.forceSelection():_.hide()}},icon:{click:function(e){_.toggle(),e.stopPropagation()}},text:{focus:function(e){U=!0,_.focusSearch()}},input:function(e){(_.is.multiple()||_.is.searchSelection())&&_.set.filtered(),clearTimeout(_.timer),_.timer=setTimeout(_.search,k.delay.search)},label:{click:function(t){var n=e(this),i=L.find(P.label),r=i.filter("."+C.active),o=n.nextAll("."+C.active),a=n.prevAll("."+C.active),s=o.length>0?n.nextUntil(o).add(r).add(n):n.prevUntil(a).add(r).add(n);t.shiftKey?(r.removeClass(C.active),s.addClass(C.active)):t.ctrlKey?n.toggleClass(C.active):(r.removeClass(C.active),n.addClass(C.active)),k.onLabelSelect.apply(this,i.filter("."+C.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(C.active)?_.remove.activeLabels():_.remove.activeLabels(t)}},test:{toggle:function(e){var t=_.is.multiple()?_.show:_.toggle;_.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){_.determine.eventOnElement(e,function(){"touchstart"==e.type?_.timer=setTimeout(function(){_.hide()},k.delay.touch):"touchmove"==e.type&&clearTimeout(_.timer)}),e.stopPropagation()},hide:function(e){_.determine.eventInModule(e,_.hide)}},menu:{mousedown:function(){Y=!0},mouseup:function(){Y=!1}},item:{mouseenter:function(t){var n=e(this).children(P.menu),i=e(this).siblings(P.item).children(P.menu);n.length>0&&(clearTimeout(_.itemTimer),_.itemTimer=setTimeout(function(){_.verbose("Showing sub-menu",n),e.each(i,function(){_.animate.hide(!1,e(this))}),_.animate.show(!1,n)},k.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(P.menu);n.length>0&&(clearTimeout(_.itemTimer),_.itemTimer=setTimeout(function(){_.verbose("Hiding sub-menu",n),_.animate.hide(!1,n)},k.delay.hide))},touchend:function(){},click:function(t){var n=e(this),i=e(t?t.target:""),r=n.find(P.menu),o=_.get.choiceText(n),a=_.get.choiceValue(n,o),s=r.length>0,l=r.find(i).length>0;l||s&&!k.allowCategorySelection||(k.useLabels||(_.remove.filteredItem(),_.remove.searchTerm(),_.set.scrollPosition(n)),_.determine.selectAction.call(this,o,a))}},document:{keydown:function(e){var t=e.which,n=_.is.inObject(t,D);if(n){var i=L.find(P.label),r=i.filter("."+C.active),o=(r.data(A.value),i.index(r)),a=i.length,s=r.length>0,l=r.length>1,c=0===o,u=o+1==a,d=_.is.searchSelection(),h=_.is.focusedOnSearch(),f=_.is.focused(),p=h&&0===_.get.caretPosition();if(d&&!s&&!h)return;t==D.leftArrow?!f&&!p||s?s&&(e.shiftKey?_.verbose("Adding previous label to selection"):(_.verbose("Selecting previous label"),i.removeClass(C.active)),c&&!l?r.addClass(C.active):r.prev(P.siblingLabel).addClass(C.active).end(),e.preventDefault()):(_.verbose("Selecting previous label"),i.last().addClass(C.active)):t==D.rightArrow?(f&&!s&&i.first().addClass(C.active),s&&(e.shiftKey?_.verbose("Adding next label to selection"):(_.verbose("Selecting next label"),i.removeClass(C.active)),u?d?h?i.removeClass(C.active):_.focusSearch():l?r.next(P.siblingLabel).addClass(C.active):r.addClass(C.active):r.next(P.siblingLabel).addClass(C.active),e.preventDefault())):t==D.deleteKey||t==D.backspace?s?(_.verbose("Removing active labels"),u&&d&&!h&&_.focusSearch(),r.last().next(P.siblingLabel).addClass(C.active),_.remove.activeLabels(r),e.preventDefault()):p&&!s&&t==D.backspace&&(_.verbose("Removing last label on input backspace"),r=i.last().addClass(C.active),_.remove.activeLabels(r)):r.removeClass(C.active)}}},keydown:function(e){var t=e.which,n=_.is.inObject(t,D);if(n){var i,r,o=V.not(P.unselectable).filter("."+C.selected).eq(0),a=W.children("."+C.active).eq(0),s=o.length>0?o:a,l=s.length>0?s.siblings(":not(."+C.filtered+")").andSelf():W.children(":not(."+C.filtered+")"),c=s.children(P.menu),u=s.closest(P.menu),d=u.hasClass(C.visible)||u.hasClass(C.animating)||u.parent(P.menu).length>0,h=c.length>0,f=s.length>0,p=s.not(P.unselectable).length>0,m=t==D.delimiter&&k.allowAdditions&&_.is.multiple();if(_.is.visible()){if((t==D.enter||m)&&(t==D.enter&&f&&h&&!k.allowCategorySelection?(_.verbose("Pressed enter on unselectable category, opening sub menu"),t=D.rightArrow):p&&(_.verbose("Selecting item from keyboard shortcut",s),_.event.item.click.call(s,e),_.is.searchSelection()&&_.remove.searchTerm()),e.preventDefault()),t==D.leftArrow&&(r=u[0]!==W[0],r&&(_.verbose("Left key pressed, closing sub-menu"),_.animate.hide(!1,u),s.removeClass(C.selected),u.closest(P.item).addClass(C.selected),e.preventDefault())),t==D.rightArrow&&h&&(_.verbose("Right key pressed, opening sub-menu"),_.animate.show(!1,c),s.removeClass(C.selected),c.find(P.item).eq(0).addClass(C.selected),e.preventDefault()),t==D.upArrow){if(i=f&&d?s.prevAll(P.item+":not("+P.unselectable+")").eq(0):V.eq(0),l.index(i)<0)return _.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();_.verbose("Up key pressed, changing active item"),s.removeClass(C.selected),i.addClass(C.selected),_.set.scrollPosition(i),e.preventDefault()}if(t==D.downArrow){if(i=f&&d?i=s.nextAll(P.item+":not("+P.unselectable+")").eq(0):V.eq(0),0===i.length)return _.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();_.verbose("Down key pressed, changing active item"),V.removeClass(C.selected),i.addClass(C.selected),_.set.scrollPosition(i),e.preventDefault()}t==D.pageUp&&(_.scrollPage("up"),e.preventDefault()),t==D.pageDown&&(_.scrollPage("down"),e.preventDefault()),t==D.escape&&(_.verbose("Escape key pressed, closing dropdown"),_.hide())}else m&&e.preventDefault(),t==D.downArrow&&(_.verbose("Down key pressed, showing dropdown"),_.show(),e.preventDefault())}else _.is.selection()&&!_.is.search()&&_.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=F[0];t&&(_.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){_.verbose("Determining action",k.action),e.isFunction(_.action[k.action])?(_.verbose("Triggering preset action",k.action,t,n),_.action[k.action].call(this,t,n)):e.isFunction(k.action)?(_.verbose("Triggering user action",k.action,t,n),k.action.call(this,t,n)):_.error(N.action,k.action)},eventInModule:function(t,i){var r=e(t.target),o=r.closest(n.documentElement).length>0,a=r.closest(L).length>0;return i=e.isFunction(i)?i:function(){},o&&!a?(_.verbose("Triggering event",i),i(),!0):(_.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,n){var i=e(t.target),r=i.closest(P.siblingLabel),o=0===L.find(r).length,a=0===i.closest(W).length;return n=e.isFunction(n)?n:function(){},o&&a?(_.verbose("Triggering event",n),n(),!0):(_.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n){if(n=n!==i?n:t,_.can.activate(e(this))){if(_.set.selected(n,e(this)),_.is.multiple()&&!_.is.allFiltered())return;_.hideAndClear()}},select:function(e,t){_.action.activate.call(this)},combo:function(t,n){n=n!==i?n:t,_.set.selected(n,e(this)),_.hideAndClear()},hide:function(e,t){_.set.value(t),_.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return L.data(A.defaultText)},defaultValue:function(){return L.data(A.defaultValue)},placeholderText:function(){return L.data(A.placeholderText)||""},text:function(){return z.text()},query:function(){return e.trim(B.val())},searchWidth:function(e){return e*k.glyphWidth+"em"},selectionCount:function(){var t,n=_.get.values();return t=_.is.multiple()?e.isArray(n)?n.length:0:""!==_.get.value()?1:0},transition:function(e){return"auto"==k.transition?_.is.upward(e)?"slide up":"slide down":k.transition},userValues:function(){var t=_.get.values();return t?(t=e.isArray(t)?t:[t],e.grep(t,function(e){return _.get.item(e)===!1})):!1},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=B.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=F.length>0?F.val():L.data(A.value);return e.isArray(t)&&1===t.length&&""===t[0]?"":t},values:function(){var e=_.get.value();return""===e?"":!_.has.selectInput()&&_.is.multiple()?"string"==typeof e?e.split(k.delimiter):"":e},remoteValues:function(){var t=_.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),n={},e.each(t,function(e,t){var i=_.read.remoteData(t);_.verbose("Restoring value from session data",i,t),n[t]=i?i:t})),n},choiceText:function(t,n){return n=n!==i?n:k.preserveHTML,t?(t.find(P.menu).length>0&&(_.verbose("Retreiving text of element with sub-menu"),t=t.clone(),t.find(P.menu).remove(),t.find(P.menuIcon).remove()),t.data(A.text)!==i?t.data(A.text):n?e.trim(t.html()):e.trim(t.text())):void 0},choiceValue:function(t,n){return n=n||_.get.choiceText(t),t?t.data(A.value)!==i?String(t.data(A.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n):!1},inputEvent:function(){var e=B[0];return e?e.oninput!==i?"input":e.onpropertychange!==i?"propertychange":"keyup":!1},selectValues:function(){var t={};return t.values=[],L.find("option").each(function(){var n=e(this),r=n.html(),o=n.attr("disabled"),a=n.attr("value")!==i?n.attr("value"):r;"auto"===k.placeholder&&""===a?t.placeholder=r:t.values.push({name:r,value:a,disabled:o})}),k.placeholder&&"auto"!==k.placeholder&&(_.debug("Setting placeholder value to",k.placeholder),t.placeholder=k.placeholder),k.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),_.debug("Retrieved and sorted values from select",t)):_.debug("Retreived values from select",t),t},activeItem:function(){return V.filter("."+C.active)},selectedItem:function(){var e=V.not(P.unselectable).filter("."+C.selected);return e.length>0?e:V.eq(0)},itemWithAdditions:function(e){var t=_.get.item(e),n=_.create.userChoice(e),i=n&&n.length>0;return i&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var r,o,a=!1;return t=t!==i?t:_.get.values()!==i?_.get.values():_.get.text(),r=o?t.length>0:t!==i&&null!==t,o=_.is.multiple()&&e.isArray(t),n=""===t||0===t?!0:n||!1,r&&V.each(function(){var r=e(this),s=_.get.choiceText(r),l=_.get.choiceValue(r,s);if(null!==l&&l!==i)if(o)(-1!==e.inArray(String(l),t)||-1!==e.inArray(s,t))&&(a=a?a.add(r):r);else if(n){if(_.verbose("Ambiguous dropdown value using strict type check",r,t),l===t||s===t)return a=r,!0}else if(String(l)==String(t)||s==t)return _.verbose("Found select item by value",l,t),a=r,!0}),a}},check:{maxSelections:function(e){return k.maxSelections?(e=e!==i?e:_.get.selectionCount(),e>=k.maxSelections?(_.debug("Maximum selection count reached"),k.useLabels&&(V.addClass(C.filtered),_.add.message(S.maxSelections)),!0):(_.verbose("No longer at maximum selection count"),_.remove.message(),_.remove.filteredItem(),_.is.searchSelection()&&_.filterItems(),!1)):!0}},restore:{defaults:function(){_.clear(),_.restore.defaultText(),_.restore.defaultValue()},defaultText:function(){var e=_.get.defaultText(),t=_.get.placeholderText;e===t?(_.debug("Restoring default placeholder text",e),_.set.placeholderText(e)):(_.debug("Restoring default text",e),_.set.text(e))},defaultValue:function(){var e=_.get.defaultValue();e!==i&&(_.debug("Restoring default value",e),""!==e?(_.set.value(e),_.set.selected()):(_.remove.activeItem(),_.remove.selectedItem()))},labels:function(){k.allowAdditions&&(k.useLabels||(_.error(N.labels),k.useLabels=!0),_.debug("Restoring selected values"),_.create.userLabels()),_.check.maxSelections()},selected:function(){_.restore.values(),_.is.multiple()?(_.debug("Restoring previously selected values and labels"),_.restore.labels()):_.debug("Restoring previously selected values")},values:function(){_.set.initialLoad(),k.apiSettings?k.saveRemoteData?_.restore.remoteValues():_.clearValue():_.set.selected(),_.remove.initialLoad()},remoteValues:function(){var t=_.get.remoteValues();_.debug("Recreating selected from session data",t),t&&(_.is.single()?e.each(t,function(e,t){_.set.text(t)}):e.each(t,function(e,t){_.add.label(e,t)}))}},read:{remoteData:function(e){var n;return t.Storage===i?void _.error(N.noStorage):(n=sessionStorage.getItem(e),n!==i?n:!1)}},save:{defaults:function(){_.save.defaultText(),_.save.placeholderText(),_.save.defaultValue()},defaultValue:function(){var e=_.get.value();_.verbose("Saving default value as",e),L.data(A.defaultValue,e)},defaultText:function(){var e=_.get.text();_.verbose("Saving default text as",e),L.data(A.defaultText,e)},placeholderText:function(){var e;k.placeholder!==!1&&z.hasClass(C.placeholder)&&(e=_.get.text(),_.verbose("Saving placeholder text as",e),L.data(A.placeholderText,e))},remoteData:function(e,n){return t.Storage===i?void _.error(N.noStorage):(_.verbose("Saving remote data to session storage",n,e),void sessionStorage.setItem(n,e))}},clear:function(){_.is.multiple()?_.remove.labels():(_.remove.activeItem(),_.remove.selectedItem()),_.set.placeholderText(),_.clearValue()},clearValue:function(){_.set.value("")},scrollPage:function(e,t){var n,i,r,o=t||_.get.selectedItem(),a=o.closest(P.menu),s=a.outerHeight(),l=a.scrollTop(),c=V.eq(0).outerHeight(),u=Math.floor(s/c),d=(a.prop("scrollHeight"),"up"==e?l-c*u:l+c*u),h=V.not(P.unselectable);r="up"==e?h.index(o)-u:h.index(o)+u,n="up"==e?r>=0:r<h.length,i=n?h.eq(r):"up"==e?h.first():h.last(),i.length>0&&(_.debug("Scrolling page",e,i),o.removeClass(C.selected),i.addClass(C.selected),a.scrollTop(d))},set:{filtered:function(){var e=_.is.multiple(),t=_.is.searchSelection(),n=e&&t,i=t?_.get.query():"",r="string"==typeof i&&i.length>0,o=_.get.searchWidth(i.length),a=""!==i;e&&r&&(_.verbose("Adjusting input width",o,k.glyphWidth),B.css("width",o)),r||n&&a?(_.verbose("Hiding placeholder text"),z.addClass(C.filtered)):(!e||n&&!a)&&(_.verbose("Showing placeholder text"),z.removeClass(C.filtered))},loading:function(){L.addClass(C.loading)},placeholderText:function(e){e=e||_.get.placeholderText(),_.debug("Setting placeholder text",e),_.set.text(e),z.addClass(C.placeholder)},tabbable:function(){_.has.search()?(_.debug("Added tabindex to searchable dropdown"),B.val("").attr("tabindex",0),W.attr("tabindex",-1)):(_.debug("Added tabindex to dropdown"),L.attr("tabindex")===i&&(L.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){_.verbose("Setting initial load"),g=!0},activeItem:function(e){k.allowAdditions&&e.filter(P.addition).length>0?e.addClass(C.filtered):e.addClass(C.active);
},scrollPosition:function(e,t){var n,r,o,a,s,l,c,u,d,h=5;e=e||_.get.selectedItem(),n=e.closest(P.menu),r=e&&e.length>0,t=t!==i?t:!1,e&&n.length>0&&r&&(a=e.position().top,n.addClass(C.loading),l=n.scrollTop(),s=n.offset().top,a=e.offset().top,o=l-s+a,t||(c=n.height(),d=o+h>l+c,u=l>o-h),_.debug("Scrolling to active item",o),(t||u||d)&&n.scrollTop(o),n.removeClass(C.loading))},text:function(e){"select"!==k.action&&("combo"==k.action?(_.debug("Changing combo button text",e,q),k.preserveHTML?q.html(e):q.text(e)):(e!==_.get.placeholderText()&&z.removeClass(C.placeholder),_.debug("Changing text",e,z),z.removeClass(C.filtered),k.preserveHTML?z.html(e):z.text(e)))},selectedLetter:function(t){var n,i=V.filter("."+C.selected),r=i.length>0&&_.has.firstLetter(i,t),o=!1;r&&(n=i.nextAll(V).eq(0),_.has.firstLetter(n,t)&&(o=n)),o||V.each(function(){return _.has.firstLetter(e(this),t)?(o=e(this),!1):void 0}),o&&(_.verbose("Scrolling to next value with letter",t),_.set.scrollPosition(o),i.removeClass(C.selected),o.addClass(C.selected))},direction:function(e){"auto"==k.direction?_.is.onScreen(e)?_.remove.upward(e):_.set.upward(e):"upward"==k.direction&&_.set.upward(e)},upward:function(e){var t=e||L;t.addClass(C.upward)},value:function(e,t,n){var r=F.length>0,o=(!_.has.value(e),_.get.values()),a=e!==i?String(e):e;if(r){if(a==o&&(_.verbose("Skipping value update already same value",e,o),!_.is.initialLoad()))return;_.is.single()&&_.has.selectInput()&&_.can.extendSelect()&&(_.debug("Adding user option",e),_.add.optionValue(e)),_.debug("Updating input value",e,o),$=!0,F.val(e),k.fireOnInit===!1&&_.is.initialLoad()?_.debug("Input native change event ignored on initial load"):_.trigger.change(),$=!1}else _.verbose("Storing value in metadata",e,F),e!==o&&L.data(A.value,a);k.fireOnInit===!1&&_.is.initialLoad()?_.verbose("No callback on initial load",k.onChange):k.onChange.call(X,e,t,n)},active:function(){L.addClass(C.active)},multiple:function(){L.addClass(C.multiple)},visible:function(){L.addClass(C.visible)},exactly:function(e,t){_.debug("Setting selected to exact values"),_.clear(),_.set.selected(e,t)},selected:function(t,n){var i=_.is.multiple();n=k.allowAdditions?n||_.get.itemWithAdditions(t):n||_.get.item(t),n&&(_.debug("Setting selected menu item to",n),_.is.single()?(_.remove.activeItem(),_.remove.selectedItem()):k.useLabels&&_.remove.selectedItem(),n.each(function(){var t=e(this),r=_.get.choiceText(t),o=_.get.choiceValue(t,r),a=t.hasClass(C.filtered),s=t.hasClass(C.active),l=t.hasClass(C.addition),c=i&&1==n.length;i?!s||l?(k.apiSettings&&k.saveRemoteData&&_.save.remoteData(r,o),k.useLabels?(_.add.value(o,r,t),_.add.label(o,r,c),_.set.activeItem(t),_.filterActive(),_.select.nextAvailable(n)):(_.add.value(o,r,t),_.set.text(_.add.variables(S.count)),_.set.activeItem(t))):a||(_.debug("Selected active value, removing label"),_.remove.selected(o)):(k.apiSettings&&k.saveRemoteData&&_.save.remoteData(r,o),_.set.text(r),_.set.value(o,r,t),t.addClass(C.active).addClass(C.selected))}))}},add:{label:function(t,n,i){var r,o=_.is.searchSelection()?B:z;return r=e("<a />").addClass(C.label).attr("data-value",t).html(R.label(t,n)),r=k.onLabelCreate.call(r,t,n),_.has.label(t)?void _.debug("Label already exists, skipping",t):(k.label.variation&&r.addClass(k.label.variation),void(i===!0?(_.debug("Animating in label",r),r.addClass(C.hidden).insertBefore(o).transition(k.label.transition,k.label.duration)):(_.debug("Adding selection label",r),r.insertBefore(o))))},message:function(t){var n=W.children(P.message),i=k.templates.message(_.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(C.message).appendTo(W)},optionValue:function(t){var n=F.find('option[value="'+t+'"]'),i=n.length>0;i||(x&&(x.disconnect(),_.verbose("Temporarily disconnecting mutation observer",t)),_.is.single()&&(_.verbose("Removing previous user addition"),F.find("option."+C.addition).remove()),e("<option/>").prop("value",t).addClass(C.addition).html(t).appendTo(F),_.verbose("Adding user addition as an <option>",t),x&&x.observe(F[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=W.children(P.addition),i=_.get.item(e),r=i&&i.not(P.addition).length,o=n.length>0;if(!k.useLabels||!_.has.maxSelections()){if(""===e||r)return void n.remove();V.removeClass(C.selected),o?(t=k.templates.addition(_.add.variables(S.addResult,e)),n.html(t).attr("data-"+A.value,e).attr("data-"+A.text,e).removeClass(C.filtered).addClass(C.selected),_.verbose("Replacing user suggestion with new value",n)):(n=_.create.userChoice(e),n.prependTo(W).addClass(C.selected),_.verbose("Adding item choice to menu corresponding with user choice addition",n))}},variables:function(e,t){var n,i,r=-1!==e.search("{count}"),o=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return _.verbose("Adding templated variables to message",e),r&&(n=_.get.selectionCount(),e=e.replace("{count}",n)),o&&(n=_.get.selectionCount(),e=e.replace("{maxCount}",k.maxSelections)),a&&(i=t||_.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var r,o=_.get.values();return""===t?void _.debug("Cannot select blank values from multiselect"):(e.isArray(o)?(r=o.concat([t]),r=_.get.uniqueArray(r)):r=[t],_.has.selectInput()?_.can.extendSelect()&&(_.debug("Adding value to select",t,r,F),_.add.optionValue(t)):(r=r.join(k.delimiter),_.debug("Setting hidden input to delimited value",r,F)),k.fireOnInit===!1&&_.is.initialLoad()?_.verbose("Skipping onadd callback on initial load",k.onAdd):k.onAdd.call(X,t,n,i),_.set.value(r,t,n,i),void _.check.maxSelections())}},remove:{active:function(){L.removeClass(C.active)},activeLabel:function(){L.find(P.label).removeClass(C.active)},loading:function(){L.removeClass(C.loading)},initialLoad:function(){g=!1},upward:function(e){var t=e||L;t.removeClass(C.upward)},visible:function(){L.removeClass(C.visible)},activeItem:function(){V.removeClass(C.active)},filteredItem:function(){k.useLabels&&_.has.maxSelections()||(k.useLabels&&_.is.multiple()?V.not("."+C.active).removeClass(C.filtered):V.removeClass(C.filtered))},optionValue:function(e){var t=F.find('option[value="'+e+'"]'),n=t.length>0;n&&t.hasClass(C.addition)&&(x&&(x.disconnect(),_.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),_.verbose("Removing user addition as an <option>",e),x&&x.observe(F[0],{childList:!0,subtree:!0}))},message:function(){W.children(P.message).remove()},searchTerm:function(){_.verbose("Cleared search term"),B.val(""),_.set.filtered()},selected:function(t,n){return(n=k.allowAdditions?n||_.get.itemWithAdditions(t):n||_.get.item(t))?void n.each(function(){var t=e(this),n=_.get.choiceText(t),i=_.get.choiceValue(t,n);_.is.multiple()?k.useLabels?(_.remove.value(i,n,t),_.remove.label(i)):(_.remove.value(i,n,t),0===_.get.selectionCount()?_.set.placeholderText():_.set.text(_.add.variables(S.count))):_.remove.value(i,n,t),t.removeClass(C.filtered).removeClass(C.active),k.useLabels&&t.removeClass(C.selected)}):!1},selectedItem:function(){V.removeClass(C.selected)},value:function(e,t,n){var i,r=_.get.values();_.has.selectInput()?(_.verbose("Input is <select> removing selected option",e),i=_.remove.arrayValue(e,r),_.remove.optionValue(e)):(_.verbose("Removing from delimited values",e),i=_.remove.arrayValue(e,r),i=i.join(k.delimiter)),k.fireOnInit===!1&&_.is.initialLoad()?_.verbose("No callback on initial load",k.onRemove):k.onRemove.call(X,e,t,n),_.set.value(i,t,n),_.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),_.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=L.find(P.label),i=n.filter('[data-value="'+e+'"]');_.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||L.find(P.label).filter("."+C.active),_.verbose("Removing active label selections",e),_.remove.labels(e)},labels:function(t){t=t||L.find(P.label),_.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(A.value),r=n!==i?String(n):n,o=_.is.userValue(r);return k.onLabelRemove.call(t,n)===!1?void _.debug("Label remove callback cancelled removal"):void(o?(_.remove.value(r),_.remove.label(r)):_.remove.selected(r))})},tabbable:function(){_.has.search()?(_.debug("Searchable dropdown initialized"),B.removeAttr("tabindex"),W.removeAttr("tabindex")):(_.debug("Simple selection dropdown initialized"),L.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{search:function(){return B.length>0},selectInput:function(){return F.is("select")},firstLetter:function(e,t){var n,i;return e&&0!==e.length&&"string"==typeof t?(n=_.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i):!1},input:function(){return F.length>0},items:function(){return V.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(P.message).length},label:function(e){var t=L.find(P.label);return t.filter('[data-value="'+e+'"]').length>0},maxSelections:function(){return k.maxSelections&&_.get.selectionCount()>=k.maxSelections},allResultsFiltered:function(){return V.filter(P.unselectable).length===V.length},query:function(){return""!==_.get.query()},value:function(t){var n=_.get.values(),i=e.isArray(n)?n&&-1!==e.inArray(t,n):n==t;return i?!0:!1}},is:{active:function(){return L.hasClass(C.active)},alreadySetup:function(){return L.is("select")&&L.parent(P.dropdown).length>0&&0===L.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},disabled:function(){return L.hasClass(C.disabled)},focused:function(){return n.activeElement===L[0]},focusedOnSearch:function(){return n.activeElement===B[0]},allFiltered:function(){return(_.is.multiple()||_.has.search())&&!_.has.message()&&_.has.allResultsFiltered()},hidden:function(e){return!_.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||W,i=!0,r={};return n.addClass(C.loading),t={context:{scrollTop:j.scrollTop(),height:j.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},r={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},r.below?(_.verbose("Dropdown can fit in context downward",r),i=!0):r.below||r.above?(_.verbose("Dropdown cannot fit below, opening upward",r),i=!1):(_.verbose("Dropdown cannot fit in either direction, favoring downward",r),i=!0),n.removeClass(C.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){return n==t?(i=!0,!0):void 0}),i},multiple:function(){return L.hasClass(C.multiple)},single:function(){return!_.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){return i.target&&e(i.target).is("select")?(n=!0,!0):void 0}),n},search:function(){return L.hasClass(C.search)},searchSelection:function(){return _.has.search()&&1===B.parent(P.dropdown).length},selection:function(){return L.hasClass(C.selection)},userValue:function(t){return-1!==e.inArray(t,_.get.userValues())},upward:function(e){var t=e||L;return t.hasClass(C.upward)},visible:function(e){return e?e.hasClass(C.visible):W.hasClass(C.visible)}},can:{activate:function(e){return k.useLabels?!0:_.has.maxSelections()?_.has.maxSelections()&&e.hasClass(C.active)?!0:!1:!0},click:function(){return c||"click"==k.on},extendSelect:function(){return k.allowAdditions||k.apiSettings},show:function(){return!_.is.disabled()&&(_.has.items()||_.has.message())},useAPI:function(){return e.fn.api!==i}},animate:{show:function(t,n){var r,o=n||W,a=n?function(){}:function(){_.hideSubMenus(),_.hideOthers(),_.set.active()};t=e.isFunction(t)?t:function(){},_.verbose("Doing menu show animation",o),_.set.direction(n),r=_.get.transition(n),_.is.selection()&&_.set.scrollPosition(_.get.selectedItem(),!0),(_.is.hidden(o)||_.is.animating(o))&&("none"==r?(a(),o.transition("show"),t.call(X)):e.fn.transition!==i&&L.transition("is supported")?o.transition({animation:r+" in",debug:k.debug,verbose:k.verbose,duration:k.duration,queue:!0,onStart:a,onComplete:function(){t.call(X)}}):_.error(N.noTransition,r))},hide:function(t,n){var r=n||W,o=(n?.9*k.duration:k.duration,n?function(){}:function(){_.can.click()&&_.unbind.intent(),_.remove.active()}),a=_.get.transition(n);t=e.isFunction(t)?t:function(){},(_.is.visible(r)||_.is.animating(r))&&(_.verbose("Doing menu hide animation",r),"none"==a?(o(),r.transition("hide"),t.call(X)):e.fn.transition!==i&&L.transition("is supported")?r.transition({animation:a+" out",duration:k.duration,debug:k.debug,verbose:k.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==k.direction&&_.remove.upward(n),t.call(X)}}):_.error(N.transition))}},hideAndClear:function(){_.remove.searchTerm(),_.has.maxSelections()||(_.has.search()?_.hide(function(){_.remove.filteredItem()}):_.hide())},delay:{show:function(){_.verbose("Delaying show event to ensure user intent"),clearTimeout(_.timer),_.timer=setTimeout(_.show,k.delay.show)},hide:function(){_.verbose("Delaying hide event to ensure user intent"),clearTimeout(_.timer),_.timer=setTimeout(_.hide,k.delay.hide)}},escape:{regExp:function(e){return e=String(e),e.replace(M.escape,"\\$&")}},setting:function(t,n){if(_.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===i)return _[t];_[t]=n}},debug:function(){k.debug&&(k.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,k.name+":"),_.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,k.name+":"),_.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:X,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=k.name+":",n=0;u=!1,clearTimeout(_.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",l&&(t+=" '"+l+"'"),(console.group!==i||console.table!==i)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,r){var a,s,l,c=G;return n=n||p,r=X||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(_.error(N.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},f?(G===i&&_.initialize(),_.invoke(h)):(G!==i&&G.invoke("destroy"),_.initialize())}),o!==i?o:a},e.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values||{},"");return i+='<i class="dropdown icon"></i>',i+=t.placeholder?'<div class="default text">'+n+"</div>":'<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},r="";return e.each(i,function(e,t){r+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),r},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.embed=function(n){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var h,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.embed.settings,n):e.extend({},e.fn.embed.settings),p=f.selector,m=f.className,g=f.sources,v=f.error,b=f.metadata,y=f.namespace,x=f.templates,w="."+y,_="module-"+y,k=(e(t),e(this)),C=k.find(p.placeholder),S=k.find(p.icon),T=k.find(p.embed),D=this,A=k.data(_);h={initialize:function(){h.debug("Initializing embed"),h.determine.autoplay(),h.create(),h.bind.events(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of module",h),A=h,k.data(_,h)},destroy:function(){h.verbose("Destroying previous instance of embed"),h.reset(),k.removeData(_).off(w)},refresh:function(){h.verbose("Refreshing selector cache"),C=k.find(p.placeholder),S=k.find(p.icon),T=k.find(p.embed)},bind:{events:function(){h.has.placeholder()&&(h.debug("Adding placeholder events"),k.on("click"+w,p.placeholder,h.createAndShow).on("click"+w,p.icon,h.createAndShow))}},create:function(){var e=h.get.placeholder();e?h.createPlaceholder():h.createAndShow()},createPlaceholder:function(e){var t=h.get.icon(),n=h.get.url();h.generate.embed(n);e=e||h.get.placeholder(),k.html(x.placeholder(e,t)),h.debug("Creating placeholder for embed",e,t)},createEmbed:function(t){h.refresh(),t=t||h.get.url(),T=e("<div/>").addClass(m.embed).html(h.generate.embed(t)).appendTo(k),f.onCreate.call(D,t),h.debug("Creating embed object",T)},createAndShow:function(){h.createEmbed(),h.show()},change:function(e,t,n){h.debug("Changing video to ",e,t,n),k.data(b.source,e).data(b.id,t).data(b.url,n),h.create()},reset:function(){h.debug("Clearing embed and showing placeholder"),h.remove.active(),h.remove.embed(),h.showPlaceholder(),f.onReset.call(D)},show:function(){h.debug("Showing embed"),h.set.active(),f.onDisplay.call(D)},hide:function(){h.debug("Hiding embed"),h.showPlaceholder()},showPlaceholder:function(){h.debug("Showing placeholder image"),h.remove.active(),f.onPlaceholderDisplay.call(D)},get:{id:function(){return f.id||k.data(b.id)},placeholder:function(){return f.placeholder||k.data(b.placeholder)},icon:function(){return f.icon?f.icon:k.data(b.icon)!==i?k.data(b.icon):h.determine.icon()},source:function(e){return f.source?f.source:k.data(b.source)!==i?k.data(b.source):h.determine.source()},type:function(){var e=h.get.source();return g[e]!==i?g[e].type:!1},url:function(){return f.url?f.url:k.data(b.url)!==i?k.data(b.url):h.determine.url()}},determine:{autoplay:function(){h.should.autoplay()&&(f.autoplay=!0)},source:function(t){var n=!1;return t=t||h.get.url(),t&&e.each(g,function(e,i){return-1!==t.search(i.domain)?(n=e,!1):void 0}),n},icon:function(){var e=h.get.source();return g[e]!==i?g[e].icon:!1},url:function(){var e,t=f.id||k.data(b.id),n=f.source||k.data(b.source);return e=g[n]!==i?g[n].url.replace("{id}",t):!1,e&&k.data(b.url,e),e}},set:{active:function(){k.addClass(m.active)}},remove:{active:function(){k.removeClass(m.active)},embed:function(){T.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){h.debug("Generating embed html");var t,n,i=h.get.source();return e=h.get.url(e),e?(n=h.generate.parameters(i),t=x.iframe(e,n)):h.error(v.noURL,k),t},parameters:function(t,n){var r=g[t]&&g[t].parameters!==i?g[t].parameters(f):{};return n=n||f.parameters,n&&(r=e.extend({},r,n)),r=f.onEmbed(r),h.encode.parameters(r)}},has:{placeholder:function(){return f.placeholder||k.data(b.placeholder)}},should:{autoplay:function(){return"auto"===f.autoplay?f.placeholder||k.data(b.placeholder)!==i:f.autoplay}},is:{video:function(){return"video"==h.get.type()}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=A;return n=n||d,o=D||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(h.error(v.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},u?(A===i&&h.initialize(),h.invoke(c)):(A!==i&&A.invoke("destroy"),h.initialize())}),r!==i?r:this},e.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||i,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||i,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){return'<iframe src="'+e+"?"+t+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.modal=function(r){var o,a=e(this),s=e(t),l=e(n),c=e("body"),u=a.selector||"",d=(new Date).getTime(),h=[],f=arguments[0],p="string"==typeof f,m=[].slice.call(arguments,1),g=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,v,b,y,x,w,_,k,C,S=e.isPlainObject(r)?e.extend(!0,{},e.fn.modal.settings,r):e.extend({},e.fn.modal.settings),T=S.selector,D=S.className,A=S.namespace,E=S.error,M="."+A,P="module-"+A,N=e(this),R=e(S.context),I=N.find(T.close),O=this,L=N.data(P);C={initialize:function(){C.verbose("Initializing dimmer",R),C.create.id(),C.create.dimmer(),C.refreshModals(),C.bind.events(),S.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of modal"),L=C,N.data(P,L)},create:{dimmer:function(){var t={debug:S.debug,dimmerName:"modals",duration:{show:S.duration,hide:S.duration}},n=e.extend(!0,t,S.dimmerSettings);return S.inverted&&(n.variation=n.variation!==i?n.variation+" inverted":"inverted"),e.fn.dimmer===i?void C.error(E.dimmer):(C.debug("Creating dimmer with settings",n),y=R.dimmer(n),S.detachable?(C.verbose("Modal is detachable, moving content into dimmer"),y.dimmer("add content",N)):C.set.undetached(),S.blurring&&y.addClass(D.blurring),void(x=y.dimmer("get dimmer")))},id:function(){_=(Math.random().toString(16)+"000000000").substr(2,8),w="."+_,C.verbose("Creating unique id for element",_)}},destroy:function(){C.verbose("Destroying previous modal"),N.removeData(P).off(M),s.off(w),I.off(M),R.dimmer("destroy")},observeChanges:function(){"MutationObserver"in t&&(k=new MutationObserver(function(e){C.debug("DOM tree modified, refreshing"),C.refresh()}),k.observe(O,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",k))},refresh:function(){C.remove.scrolling(),C.cacheSizes(),C.set.screenHeight(),C.set.type(),C.set.position()},refreshModals:function(){v=N.siblings(T.modal),a=v.add(N)},attachEvents:function(t,n){var i=e(t);n=e.isFunction(C[n])?C[n]:C.toggle,i.length>0?(C.debug("Attaching modal events to element",t,n),i.off(M).on("click"+M,n)):C.error(E.notFound,t)},bind:{events:function(){C.verbose("Attaching events"),N.on("click"+M,T.close,C.event.close).on("click"+M,T.approve,C.event.approve).on("click"+M,T.deny,C.event.deny),s.on("resize"+w,C.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return S.onApprove.call(O,e(this))===!1?void C.verbose("Approve callback returned false cancelling hide"):void C.hide()},deny:function(){return S.onDeny.call(O,e(this))===!1?void C.verbose("Deny callback returned false cancelling hide"):void C.hide()},close:function(){C.hide()},click:function(t){var i=e(t.target),r=i.closest(T.modal).length>0,o=e.contains(n.documentElement,t.target);!r&&o&&(C.debug("Dimmer clicked, hiding all modals"),C.is.active()&&(C.remove.clickaway(),S.allowMultiple?C.hide():C.hideAll()))},debounce:function(e,t){clearTimeout(C.timer),C.timer=setTimeout(e,t)},keyboard:function(e){var t=e.which,n=27;t==n&&(S.closable?(C.debug("Escape key pressed hiding modal"),C.hide()):C.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){y.dimmer("is active")&&g(C.refresh)}},toggle:function(){C.is.active()||C.is.animating()?C.hide():C.show()},show:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.showModal(t)},hide:function(t){t=e.isFunction(t)?t:function(){},C.refreshModals(),C.hideModal(t)},showModal:function(t){t=e.isFunction(t)?t:function(){},C.is.animating()||!C.is.active()?(C.showDimmer(),C.cacheSizes(),C.set.position(),C.set.screenHeight(),C.set.type(),C.set.clickaway(),!S.allowMultiple&&C.others.active()?C.hideOthers(C.showModal):(S.onShow.call(O),S.transition&&e.fn.transition!==i&&N.transition("is supported")?(C.debug("Showing modal with css animations"),N.transition({debug:S.debug,animation:S.transition+" in",queue:S.queue,duration:S.duration,useFailSafe:!0,onComplete:function(){S.onVisible.apply(O),C.add.keyboardShortcuts(),C.save.focus(),C.set.active(),S.autofocus&&C.set.autofocus(),t()}})):C.error(E.noTransition))):C.debug("Modal is already visible")},hideModal:function(t,n){return t=e.isFunction(t)?t:function(){},C.debug("Hiding modal"),S.onHide.call(O,e(this))===!1?void C.verbose("Hide callback returned false cancelling hide"):void((C.is.animating()||C.is.active())&&(S.transition&&e.fn.transition!==i&&N.transition("is supported")?(C.remove.active(),N.transition({debug:S.debug,animation:S.transition+" out",queue:S.queue,duration:S.duration,useFailSafe:!0,onStart:function(){C.others.active()||n||C.hideDimmer(),C.remove.keyboardShortcuts()},onComplete:function(){S.onHidden.call(O),C.restore.focus(),t()}})):C.error(E.noTransition)))},showDimmer:function(){y.dimmer("is animating")||!y.dimmer("is active")?(C.debug("Showing dimmer"),y.dimmer("show")):C.debug("Dimmer already visible")},hideDimmer:function(){return y.dimmer("is animating")||y.dimmer("is active")?void y.dimmer("hide",function(){C.remove.clickaway(),C.remove.screenHeight()}):void C.debug("Dimmer is not visible cannot hide")},hideAll:function(t){var n=a.filter("."+D.active+", ."+D.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(C.debug("Hiding all visible modals"),C.hideDimmer(),n.modal("hide modal",t))},hideOthers:function(t){var n=v.filter("."+D.active+", ."+D.animating);t=e.isFunction(t)?t:function(){},n.length>0&&(C.debug("Hiding other modals",v),n.modal("hide modal",t,!0))},others:{active:function(){return v.filter("."+D.active).length>0},animating:function(){return v.filter("."+D.animating).length>0}},add:{keyboardShortcuts:function(){C.verbose("Adding keyboard shortcuts"),l.on("keyup"+M,C.event.keyboard)}},save:{focus:function(){b=e(n.activeElement).blur()}},restore:{focus:function(){b&&b.length>0&&b.focus()}},remove:{active:function(){N.removeClass(D.active)},clickaway:function(){S.closable&&x.off("click"+w)},bodyStyle:function(){""===c.attr("style")&&(C.verbose("Removing style attribute"),c.removeAttr("style"))},screenHeight:function(){
C.debug("Removing page height"),c.css("height","")},keyboardShortcuts:function(){C.verbose("Removing keyboard shortcuts"),l.off("keyup"+M)},scrolling:function(){y.removeClass(D.scrolling),N.removeClass(D.scrolling)}},cacheSizes:function(){var r=N.outerHeight();(C.cache===i||0!==r)&&(C.cache={pageHeight:e(n).outerHeight(),height:r+S.offset,contextHeight:"body"==S.context?e(t).height():y.height()}),C.debug("Caching modal and container sizes",C.cache)},can:{fit:function(){return C.cache.height+2*S.padding<C.cache.contextHeight}},is:{active:function(){return N.hasClass(D.active)},animating:function(){return N.transition("is supported")?N.transition("is animating"):N.is(":visible")},scrolling:function(){return y.hasClass(D.scrolling)},modernBrowser:function(){return!(t.ActiveXObject||"ActiveXObject"in t)}},set:{autofocus:function(){var e=N.find(":input").filter(":visible"),t=e.filter("[autofocus]"),n=t.length>0?t.first():e.first();n.length>0&&n.focus()},clickaway:function(){S.closable&&x.on("click"+w,C.event.click)},screenHeight:function(){C.can.fit()?c.css("height",""):(C.debug("Modal is taller than page content, resizing page height"),c.css("height",C.cache.height+2*S.padding))},active:function(){N.addClass(D.active)},scrolling:function(){y.addClass(D.scrolling),N.addClass(D.scrolling)},type:function(){C.can.fit()?(C.verbose("Modal fits on screen"),C.others.active()||C.others.animating()||C.remove.scrolling()):(C.verbose("Modal cannot fit on screen setting to scrolling"),C.set.scrolling())},position:function(){C.verbose("Centering modal on page",C.cache),C.can.fit()?N.css({top:"",marginTop:-(C.cache.height/2)}):N.css({marginTop:"",top:l.scrollTop()})},undetached:function(){y.addClass(D.undetached)}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(n===i)return S[t];S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(n===i)return C[t];C[t]=n}},debug:function(){S.debug&&(S.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,S.name+":"),C.debug.apply(console,arguments)))},verbose:function(){S.verbose&&S.debug&&(S.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,S.name+":"),C.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=d||t,n=t-i,d=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=S.name+":",n=0;d=!1,clearTimeout(C.performance.timer),e.each(h,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&h.length>0&&(console.groupCollapsed(t),console.table?console.table(h):e.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(t,n,r){var a,s,l,c=L;return n=n||m,r=O||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},p?(L===i&&C.initialize(),C.invoke(f)):(L!==i&&L.invoke("destroy"),C.initialize())}),o!==i?o:this},e.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.nag=function(n){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,h=e.isPlainObject(n)?e.extend(!0,{},e.fn.nag.settings,n):e.extend({},e.fn.nag.settings),f=(h.className,h.selector),p=h.error,m=h.namespace,g="."+m,v=m+"-module",b=e(this),y=(b.find(f.close),e(h.context?h.context:"body")),x=this,w=b.data(v);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};o={initialize:function(){o.verbose("Initializing element"),b.on("click"+g,f.close,o.dismiss).data(v,o),h.detachable&&b.parent()[0]!==y[0]&&b.detach().prependTo(y),h.displayTime>0&&setTimeout(o.hide,h.displayTime),o.show()},destroy:function(){o.verbose("Destroying instance"),b.removeData(v).off(g)},show:function(){o.should.show()&&!b.is(":visible")&&(o.debug("Showing nag",h.animation.show),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideDown(h.duration,h.easing))},hide:function(){o.debug("Showing nag",h.animation.hide),"fade"==h.animation.show?b.fadeIn(h.duration,h.easing):b.slideUp(h.duration,h.easing)},onHide:function(){o.debug("Removing nag",h.animation.hide),b.remove(),h.onHide&&h.onHide()},dismiss:function(e){h.storageMethod&&o.storage.set(h.key,h.value),o.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return h.persist?(o.debug("Persistent nag is set, can show nag"),!0):o.storage.get(h.key)!=h.value.toString()?(o.debug("Stored value is not set, can show nag",o.storage.get(h.key)),!0):(o.debug("Stored value is set, cannot show nag",o.storage.get(h.key)),!1)}},get:{storageOptions:function(){var e={};return h.expires&&(e.expires=h.expires),h.domain&&(e.domain=h.domain),h.path&&(e.path=h.path),e}},clear:function(){o.storage.remove(h.key)},storage:{set:function(n,r){var a=o.get.storageOptions();if("localstorage"==h.storageMethod&&t.localStorage!==i)t.localStorage.setItem(n,r),o.debug("Value stored using local storage",n,r);else if("sessionstorage"==h.storageMethod&&t.sessionStorage!==i)t.sessionStorage.setItem(n,r),o.debug("Value stored using session storage",n,r);else{if(e.cookie===i)return void o.error(p.noCookieStorage);e.cookie(n,r,a),o.debug("Value stored using cookie",n,r,a)}},get:function(n,r){var a;return"localstorage"==h.storageMethod&&t.localStorage!==i?a=t.localStorage.getItem(n):"sessionstorage"==h.storageMethod&&t.sessionStorage!==i?a=t.sessionStorage.getItem(n):e.cookie!==i?a=e.cookie(n):o.error(p.noCookieStorage),("undefined"==a||"null"==a||a===i||null===a)&&(a=i),a},remove:function(n){var r=o.get.storageOptions();"localstorage"==h.storageMethod&&t.localStorage!==i?t.localStorage.removeItem(n):"sessionstorage"==h.storageMethod&&t.sessionStorage!==i?t.sessionStorage.removeItem(n):e.cookie!==i?e.removeCookie(n,r):o.error(p.noStorage)}},setting:function(t,n){if(o.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(n===i)return o[t];o[t]=n}},debug:function(){h.debug&&(h.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,h.name+":"),o.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,h.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=h.name+":",n=0;s=!1,clearTimeout(o.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,a){var s,l,c,u=w;return n=n||d,a=x||a,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,r){var a=n!=s?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[a])&&n!=s)u=u[a];else{if(u[a]!==i)return l=u[a],!1;if(!e.isPlainObject(u[r])||n==s)return u[r]!==i?(l=u[r],!1):(o.error(p.method,t),!1);u=u[r]}})),e.isFunction(l)?c=l.apply(a,n):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},u?(w===i&&o.initialize(),o.invoke(c)):(w!==i&&w.invoke("destroy"),o.initialize())}),r!==i?r:this},e.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.popup=function(r){var o,a=e(this),s=e(n),l=e(t),c=e("body"),u=a.selector||"",d=!0,h=(new Date).getTime(),f=[],p=arguments[0],m="string"==typeof p,g=[].slice.call(arguments,1);return a.each(function(){var n,a,v,b,y,x=e.isPlainObject(r)?e.extend(!0,{},e.fn.popup.settings,r):e.extend({},e.fn.popup.settings),w=x.selector,_=x.className,k=x.error,C=x.metadata,S=x.namespace,T="."+x.namespace,D="module-"+S,A=e(this),E=e(x.context),M=x.target?e(x.target):A,P=0,N=!1,R=!1,I=this,O=A.data(D);y={initialize:function(){y.debug("Initializing",A),y.createID(),y.bind.events(),!y.exists()&&x.preserve&&y.create(),y.instantiate()},instantiate:function(){y.verbose("Storing instance",y),O=y,A.data(D,O)},refresh:function(){x.popup?n=e(x.popup).eq(0):x.inline&&(n=M.nextAll(w.popup).eq(0),x.popup=n),x.popup?(n.addClass(_.loading),a=y.get.offsetParent(),n.removeClass(_.loading),x.movePopup&&y.has.popup()&&y.get.offsetParent(n)[0]!==a[0]&&(y.debug("Moving popup to the same offset parent as activating element"),n.detach().appendTo(a))):a=x.inline?y.get.offsetParent(M):y.has.popup()?y.get.offsetParent(n):c,a.is("html")&&a[0]!==c[0]&&(y.debug("Setting page as offset parent"),a=c),y.get.variation()&&y.set.variation()},reposition:function(){y.refresh(),y.set.position()},destroy:function(){y.debug("Destroying previous module"),n&&!x.preserve&&y.removePopup(),clearTimeout(y.hideTimer),clearTimeout(y.showTimer),l.off(v),A.off(T).removeData(D)},event:{start:function(t){var n=e.isPlainObject(x.delay)?x.delay.show:x.delay;clearTimeout(y.hideTimer),R||(y.showTimer=setTimeout(y.show,n))},end:function(){var t=e.isPlainObject(x.delay)?x.delay.hide:x.delay;clearTimeout(y.showTimer),y.hideTimer=setTimeout(y.hide,t)},touchstart:function(e){R=!0,y.show()},resize:function(){y.is.visible()&&y.set.position()},hideGracefully:function(t){t&&0===e(t.target).closest(w.popup).length?(y.debug("Click occurred outside popup hiding popup"),y.hide()):y.debug("Click was inside popup, keeping popup open")}},create:function(){var t=y.get.html(),i=y.get.title(),r=y.get.content();t||r||i?(y.debug("Creating pop-up html"),t||(t=x.templates.popup({title:i,content:r})),n=e("<div/>").addClass(_.popup).data(C.activator,A).html(t),x.inline?(y.verbose("Inserting popup element inline",n),n.insertAfter(A)):(y.verbose("Appending popup element to body",n),n.appendTo(E)),y.refresh(),y.set.variation(),x.hoverable&&y.bind.popup(),x.onCreate.call(n,I)):0!==M.next(w.popup).length?(y.verbose("Pre-existing popup found"),x.inline=!0,x.popups=M.next(w.popup).data(C.activator,A),y.refresh(),x.hoverable&&y.bind.popup()):x.popup?(e(x.popup).data(C.activator,A),y.verbose("Used popup specified in settings"),y.refresh(),x.hoverable&&y.bind.popup()):y.debug("No content specified skipping display",I)},createID:function(){b=(Math.random().toString(16)+"000000000").substr(2,8),v="."+b,y.verbose("Creating unique id for element",b)},toggle:function(){y.debug("Toggling pop-up"),y.is.hidden()?(y.debug("Popup is hidden, showing pop-up"),y.unbind.close(),y.show()):(y.debug("Popup is visible, hiding pop-up"),y.hide())},show:function(e){if(e=e||function(){},y.debug("Showing pop-up",x.transition),y.is.hidden()&&(!y.is.active()||!y.is.dropdown())){if(y.exists()||y.create(),x.onShow.call(n,I)===!1)return void y.debug("onShow callback returned false, cancelling popup animation");x.preserve||x.popup||y.refresh(),n&&y.set.position()&&(y.save.conditions(),x.exclusive&&y.hideAll(),y.animate.show(e))}},hide:function(e){if(e=e||function(){},y.is.visible()||y.is.animating()){if(x.onHide.call(n,I)===!1)return void y.debug("onHide callback returned false, cancelling popup animation");y.remove.visible(),y.unbind.close(),y.restore.conditions(),y.animate.hide(e)}},hideAll:function(){e(w.popup).filter("."+_.visible).each(function(){e(this).data(C.activator).popup("hide")})},exists:function(){return n?x.inline||x.popup?y.has.popup():n.closest(E).length>=1?!0:!1:!1},removePopup:function(){y.has.popup()&&!x.popup&&(y.debug("Removing popup",n),n.remove(),n=i,x.onRemove.call(n,I))},save:{conditions:function(){y.cache={title:A.attr("title")},y.cache.title&&A.removeAttr("title"),y.verbose("Saving original attributes",y.cache.title)}},restore:{conditions:function(){return y.cache&&y.cache.title&&(A.attr("title",y.cache.title),y.verbose("Restoring original attributes",y.cache.title)),!0}},animate:{show:function(t){t=e.isFunction(t)?t:function(){},x.transition&&e.fn.transition!==i&&A.transition("is supported")?(y.set.visible(),n.transition({animation:x.transition+" in",queue:!1,debug:x.debug,verbose:x.verbose,duration:x.duration,onComplete:function(){y.bind.close(),t.call(n,I),x.onVisible.call(n,I)}})):y.error(k.noTransition)},hide:function(t){return t=e.isFunction(t)?t:function(){},y.debug("Hiding pop-up"),x.onHide.call(n,I)===!1?void y.debug("onHide callback returned false, cancelling popup animation"):void(x.transition&&e.fn.transition!==i&&A.transition("is supported")?n.transition({animation:x.transition+" out",queue:!1,duration:x.duration,debug:x.debug,verbose:x.verbose,onComplete:function(){y.reset(),t.call(n,I),x.onHidden.call(n,I)}}):y.error(k.noTransition))}},change:{content:function(e){n.html(e)}},get:{html:function(){return A.removeData(C.html),A.data(C.html)||x.html},title:function(){return A.removeData(C.title),A.data(C.title)||x.title},content:function(){return A.removeData(C.content),A.data(C.content)||A.attr("title")||x.content},variation:function(){return A.removeData(C.variation),A.data(C.variation)||x.variation},popup:function(){return n},popupOffset:function(){return n.offset()},calculations:function(){var e,i=M[0],r=x.inline||x.popup&&x.movePopup?M.position():M.offset(),o={};return o={target:{element:M[0],width:M.outerWidth(),height:M.outerHeight(),top:r.top,left:r.left,margin:{}},popup:{width:n.outerWidth(),height:n.outerHeight()},parent:{width:a.outerWidth(),height:a.outerHeight()},screen:{scroll:{top:l.scrollTop(),left:l.scrollLeft()},width:l.width(),height:l.height()}},x.setFluidWidth&&y.is.fluid()&&(o.container={width:n.parent().outerWidth()},o.popup.width=o.container.width),o.target.margin.top=x.inline?parseInt(t.getComputedStyle(i).getPropertyValue("margin-top"),10):0,o.target.margin.left=x.inline?y.is.rtl()?parseInt(t.getComputedStyle(i).getPropertyValue("margin-right"),10):parseInt(t.getComputedStyle(i).getPropertyValue("margin-left"),10):0,e=o.screen,o.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},o},id:function(){return b},startEvent:function(){return"hover"==x.on?"mouseenter":"focus"==x.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==x.on?"mouseleave":"focus"==x.on?"blur":!1},distanceFromBoundary:function(e,t){var n,i,r={};return e=e||y.get.offset(),t=t||y.get.calculations(),n=t.popup,i=t.boundary,e&&(r={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},y.verbose("Distance from boundaries determined",e,r)),r},offsetParent:function(t){var n=t!==i?t[0]:A[0],r=n.parentNode,o=e(r);if(r)for(var a="none"===o.css("transform"),s="static"===o.css("position"),l=o.is("html");r&&!l&&s&&a;)r=r.parentNode,o=e(r),a="none"===o.css("transform"),s="static"===o.css("position"),l=o.is("html");return o&&o.length>0?o:e()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],r={top:"bottom",bottom:"top",left:"right",right:"left"},o={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==n||"bottom"==n,l=!1,c=!1,u=!1;return N||(y.verbose("All available positions available"),N=y.get.positions()),y.debug("Recording last position tried",e),N[e]=!0,"opposite"===x.prefer&&(u=[r[n],i],u=u.join(" "),l=N[u]===!0,y.debug("Trying opposite strategy",u)),"adjacent"===x.prefer&&s&&(u=[n,o[i]],u=u.join(" "),c=N[u]===!0,y.debug("Trying adjacent strategy",u)),(c||l)&&(y.debug("Using backup position",u),u=a[e]),u}},set:{position:function(e,t){if(0===M.length||0===n.length)return void y.error(k.notFound);var r,o,a,s,l,c,u,d;if(t=t||y.get.calculations(),e=e||A.data(C.position)||x.position,r=A.data(C.offset)||x.offset,o=x.distanceAway,a=t.target,s=t.popup,l=t.parent,0===a.width&&0===a.height&&!(a.element instanceof SVGGraphicsElement))return y.debug("Popup target is hidden, no action taken"),!1;switch(x.inline&&(y.debug("Adding margin to calculation",a.margin),"left center"==e||"right center"==e?(r+=a.margin.top,o+=-a.margin.left):"top left"==e||"top center"==e||"top right"==e?(r+=a.margin.left,o-=a.margin.top):(r+=a.margin.left,o+=a.margin.top)),y.debug("Determining popup position from calculations",e,t),y.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),y.debug("RTL: Popup position updated",e)),P==x.maxSearchDepth&&"string"==typeof x.lastResort&&(e=x.lastResort),e){case"top left":c={top:"auto",bottom:l.height-a.top+o,left:a.left+r,right:"auto"};break;case"top center":c={bottom:l.height-a.top+o,left:a.left+a.width/2-s.width/2+r,top:"auto",right:"auto"};break;case"top right":c={bottom:l.height-a.top+o,right:l.width-a.left-a.width-r,top:"auto",left:"auto"};break;case"left center":c={top:a.top+a.height/2-s.height/2+r,right:l.width-a.left+o,left:"auto",bottom:"auto"};break;case"right center":c={top:a.top+a.height/2-s.height/2+r,left:a.left+a.width+o,bottom:"auto",right:"auto"};break;case"bottom left":c={top:a.top+a.height+o,left:a.left+r,bottom:"auto",right:"auto"};break;case"bottom center":c={top:a.top+a.height+o,left:a.left+a.width/2-s.width/2+r,bottom:"auto",right:"auto"};break;case"bottom right":c={top:a.top+a.height+o,right:l.width-a.left-a.width-r,left:"auto",bottom:"auto"}}if(c===i&&y.error(k.invalidPosition,e),y.debug("Calculated popup positioning values",c),n.css(c).removeClass(_.position).addClass(e).addClass(_.loading),u=y.get.popupOffset(),d=y.get.distanceFromBoundary(u,t),y.is.offstage(d,e)){if(y.debug("Position is outside viewport",e),P<x.maxSearchDepth)return P++,e=y.get.nextPosition(e),y.debug("Trying new position",e),n?y.set.position(e,t):!1;if(!x.lastResort)return y.debug("Popup could not find a position to display",n),y.error(k.cannotPlace,I),y.remove.attempts(),y.remove.loading(),y.reset(),x.onUnplaceable.call(n,I),!1;y.debug("No position found, showing with last position")}return y.debug("Position is on stage",e),y.remove.attempts(),y.remove.loading(),x.setFluidWidth&&y.is.fluid()&&y.set.fluidWidth(t),!0},fluidWidth:function(e){e=e||y.get.calculations(),y.debug("Automatically setting element width to parent width",e.parent.width),n.css("width",e.container.width)},variation:function(e){e=e||y.get.variation(),e&&y.has.popup()&&(y.verbose("Adding variation to popup",e),n.addClass(e))},visible:function(){A.addClass(_.visible)}},remove:{loading:function(){n.removeClass(_.loading)},variation:function(e){e=e||y.get.variation(),e&&(y.verbose("Removing variation",e),n.removeClass(e))},visible:function(){A.removeClass(_.visible)},attempts:function(){y.verbose("Resetting all searched positions"),P=0,N=!1}},bind:{events:function(){y.debug("Binding popup events to module"),"click"==x.on&&A.on("click"+T,y.toggle),"hover"==x.on&&d&&A.on("touchstart"+T,y.event.touchstart),y.get.startEvent()&&A.on(y.get.startEvent()+T,y.event.start).on(y.get.endEvent()+T,y.event.end),x.target&&y.debug("Target set to element",M),l.on("resize"+v,y.event.resize)},popup:function(){y.verbose("Allowing hover events on popup to prevent closing"),n&&y.has.popup()&&n.on("mouseenter"+T,y.event.start).on("mouseleave"+T,y.event.end)},close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.one(y.get.scrollEvent()+v,y.event.hideGracefully),E.one(y.get.scrollEvent()+v,y.event.hideGracefully)),"hover"==x.on&&R&&(y.verbose("Binding popup close event to document"),s.on("touchstart"+v,function(e){y.verbose("Touched away from popup"),y.event.hideGracefully.call(I,e)})),"click"==x.on&&x.closable&&(y.verbose("Binding popup close event to document"),s.on("click"+v,function(e){y.verbose("Clicked away from popup"),y.event.hideGracefully.call(I,e)}))}},unbind:{close:function(){(x.hideOnScroll===!0||"auto"==x.hideOnScroll&&"click"!=x.on)&&(s.off("scroll"+v,y.hide),E.off("scroll"+v,y.hide)),"hover"==x.on&&R&&(s.off("touchstart"+v),R=!1),"click"==x.on&&x.closable&&(y.verbose("Removing close event from document"),s.off("click"+v))}},has:{popup:function(){return n&&n.length>0}},is:{offstage:function(t,n){var i=[];return e.each(t,function(e,t){t<-x.jitter&&(y.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),i.length>0?!0:!1},active:function(){return A.hasClass(_.active)},animating:function(){return n!==i&&n.hasClass(_.animating)},fluid:function(){return n!==i&&n.hasClass(_.fluid)},visible:function(){return n!==i&&n.hasClass(_.visible)},dropdown:function(){return A.hasClass(_.dropdown)},hidden:function(){return!y.is.visible()},rtl:function(){return"rtl"==A.css("direction")}},reset:function(){y.remove.visible(),x.preserve?e.fn.transition!==i&&n.transition("remove transition"):y.removePopup()},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,y,t);else{if(n===i)return y[t];y[t]=n}},debug:function(){x.debug&&(x.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,x.name+":"),y.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,x.name+":"),y.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=h||t,n=t-i,h=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var t=x.name+":",n=0;h=!1,clearTimeout(y.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",u&&(t+=" '"+u+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,r){var a,s,l,c=O;return n=n||g,r=I||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},m?(O===i&&y.initialize(),y.invoke(p)):(O!==i&&O.invoke("destroy"),y.initialize())}),o!==i?o:this},e.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return i[e]};return n.test(e)?e.replace(t,r):e},popup:function(t){var n="",r=e.fn.popup.settings.templates.escape;return typeof t!==i&&(typeof t.title!==i&&t.title&&(t.title=r(t.title),n+='<div class="header">'+t.title+"</div>"),typeof t.content!==i&&t.content&&(t.content=r(t.content),n+='<div class="content">'+t.content+"</div>")),n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.progress=function(t){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,h,f=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),p=f.className,m=f.metadata,g=f.namespace,v=f.selector,b=f.error,y="."+g,x="module-"+g,w=e(this),_=e(this).find(v.bar),k=e(this).find(v.progress),C=e(this).find(v.label),S=this,T=w.data(x),D=!1;h={initialize:function(){h.debug("Initializing progress bar",f),h.set.duration(),h.set.transitionEvent(),h.read.metadata(),h.read.settings(),h.instantiate()},instantiate:function(){h.verbose("Storing instance of progress",h),T=h,w.data(x,h)},destroy:function(){h.verbose("Destroying previous progress for",w),clearInterval(T.interval),h.remove.state(),w.removeData(x),T=i},reset:function(){h.set.percent(0),h.set.value(0)},complete:function(){(h.percent===i||h.percent<100)&&h.set.percent(100)},read:{metadata:function(){var e={percent:w.data(m.percent),total:w.data(m.total),value:w.data(m.value)};e.percent&&(h.debug("Current percent value set from metadata",e.percent),h.set.percent(e.percent)),e.total&&(h.debug("Total value set from metadata",e.total),h.set.total(e.total)),e.value&&(h.debug("Current value set from metadata",e.value),h.set.value(e.value),h.set.progress(e.value))},settings:function(){f.total!==!1&&(h.debug("Current total set in settings",f.total),h.set.total(f.total)),f.value!==!1&&(h.debug("Current value set in settings",f.value),h.set.value(f.value),h.set.progress(h.value)),f.percent!==!1&&(h.debug("Current percent set in settings",f.percent),h.set.percent(f.percent))}},increment:function(e){var t,n,i;h.has.total()?(n=h.get.value(),e=e||1,i=n+e,t=h.get.total(),h.debug("Incrementing value",n,i,t),i>t&&(h.debug("Value cannot increment above total",t),i=t)):(n=h.get.percent(),e=e||h.get.randomValue(),i=n+e,t=100,h.debug("Incrementing percentage by",n,i),i>t&&(h.debug("Value cannot increment above 100 percent"),i=t)),h.set.progress(i)},decrement:function(e){var t,n,i=h.get.total();i?(t=h.get.value(),e=e||1,n=t-e,h.debug("Decrementing value by",e,t)):(t=h.get.percent(),e=e||h.get.randomValue(),n=t-e,h.debug("Decrementing percentage by",e,t)),0>n&&(h.debug("Value cannot decrement below 0"),n=0),h.set.progress(n)},has:{total:function(){return h.get.total()!==!1}},get:{text:function(e){var t=h.value||0,n=h.total||0,i=D?h.get.displayPercent():h.percent||0,r=h.total>0?n-t:100-i;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",r).replace("{percent}",i),h.debug("Adding variables to progress bar text",e),e},randomValue:function(){return h.debug("Generating random increment percentage"),Math.floor(Math.random()*f.random.max+f.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")?+e.replace(/[^\d.]/g,""):!1:e},transitionEnd:function(){var e,t=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in r)if(t.style[e]!==i)return r[e]},displayPercent:function(){var e=_.width(),t=w.width(),n=parseInt(_.css("min-width"),10),i=e>n?e/t*100:h.percent;return f.precision>0?Math.round(i*(10*f.precision))/(10*f.precision):Math.round(i)},percent:function(){return h.percent||0},value:function(){return h.value||0},total:function(){return h.total||!1}},is:{success:function(){return w.hasClass(p.success)},warning:function(){return w.hasClass(p.warning)},error:function(){return w.hasClass(p.error)},active:function(){return w.hasClass(p.active)},visible:function(){return w.is(":visible")}},remove:{state:function(){h.verbose("Removing stored state"),delete h.total,delete h.percent,delete h.value},active:function(){h.verbose("Removing active state"),w.removeClass(p.active)},success:function(){h.verbose("Removing success state"),w.removeClass(p.success)},warning:function(){h.verbose("Removing warning state"),w.removeClass(p.warning)},error:function(){h.verbose("Removing error state"),w.removeClass(p.error)}},set:{barWidth:function(e){e>100?h.error(b.tooHigh,e):0>e?h.error(b.tooLow,e):(_.css("width",e+"%"),w.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||f.duration,e="number"==typeof e?e+"ms":e,h.verbose("Setting progress bar transition duration",e),_.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=f.precision>0?Math.round(e*(10*f.precision))/(10*f.precision):Math.round(e),h.percent=e,h.has.total()||(h.value=f.precision>0?Math.round(e/100*h.total*(10*f.precision))/(10*f.precision):Math.round(e/100*h.total*10)/10,f.limitValues&&(h.value=h.value>100?100:h.value<0?0:h.value)),h.set.barWidth(e),h.set.labelInterval(),h.set.labels(),f.onChange.call(S,e,h.value,h.total);
},labelInterval:function(){var e=function(){h.verbose("Bar finished animating, removing continuous label updates"),clearInterval(h.interval),D=!1,h.set.labels()};clearInterval(h.interval),_.one(o+y,e),h.timer=setTimeout(e,f.duration+100),D=!0,h.interval=setInterval(h.set.labels,f.framerate)},labels:function(){h.verbose("Setting both bar progress and outer label text"),h.set.barLabel(),h.set.state()},label:function(e){e=e||"",e&&(e=h.get.text(e),h.debug("Setting label to text",e),C.text(e))},state:function(e){e=e!==i?e:h.percent,100===e?!f.autoSuccess||h.is.warning()||h.is.error()?(h.verbose("Reached 100% removing active state"),h.remove.active()):(h.set.success(),h.debug("Automatically triggering success at 100%")):e>0?(h.verbose("Adjusting active progress bar label",e),h.set.active()):(h.remove.active(),h.set.label(f.text.active))},barLabel:function(e){e!==i?k.text(h.get.text(e)):"ratio"==f.label&&h.total?(h.debug("Adding ratio to bar label"),k.text(h.get.text(f.text.ratio))):"percent"==f.label&&(h.debug("Adding percentage to bar label"),k.text(h.get.text(f.text.percent)))},active:function(e){e=e||f.text.active,h.debug("Setting active state"),f.showActivity&&!h.is.active()&&w.addClass(p.active),h.remove.warning(),h.remove.error(),h.remove.success(),e&&h.set.label(e),f.onActive.call(S,h.value,h.total)},success:function(e){e=e||f.text.success,h.debug("Setting success state"),w.addClass(p.success),h.remove.active(),h.remove.warning(),h.remove.error(),h.complete(),e&&h.set.label(e),f.onSuccess.call(S,h.total)},warning:function(e){e=e||f.text.warning,h.debug("Setting warning state"),w.addClass(p.warning),h.remove.active(),h.remove.success(),h.remove.error(),h.complete(),e&&h.set.label(e),f.onWarning.call(S,h.value,h.total)},error:function(e){e=e||f.text.error,h.debug("Setting error state"),w.addClass(p.error),h.remove.active(),h.remove.success(),h.remove.warning(),h.complete(),e&&h.set.label(e),f.onError.call(S,h.value,h.total)},transitionEvent:function(){o=h.get.transitionEnd()},total:function(e){h.total=e},value:function(e){h.value=e},progress:function(e){var t,n=h.get.numericValue(e);n===!1&&h.error(b.nonNumeric,e),h.has.total()?(h.set.value(n),t=n/h.total*100,h.debug("Calculating percent complete from total",t),h.set.percent(t)):(t=n,h.debug("Setting value to exact percentage value",t),h.set.percent(t))}},setting:function(t,n){if(h.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},debug:function(){f.debug&&(f.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,f.name+":"),h.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,f.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=T;return n=n||d,o=S||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(h.error(b.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},u?(T===i&&h.initialize(),h.invoke(c)):(T!==i&&T.invoke("destroy"),h.initialize())}),r!==i?r:this},e.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.rating=function(t){var n,r=e(this),o=r.selector||"",a=(new Date).getTime(),s=[],l=arguments[0],c="string"==typeof l,u=[].slice.call(arguments,1);return r.each(function(){var d,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.rating.settings,t):e.extend({},e.fn.rating.settings),f=h.namespace,p=h.className,m=h.metadata,g=h.selector,v=(h.error,"."+f),b="module-"+f,y=this,x=e(this).data(b),w=e(this),_=w.find(g.icon);d={initialize:function(){d.verbose("Initializing rating module",h),0===_.length&&d.setup.layout(),h.interactive?d.enable():d.disable(),d.set.rating(d.get.initialRating()),d.instantiate()},instantiate:function(){d.verbose("Instantiating module",h),x=d,w.data(b,d)},destroy:function(){d.verbose("Destroying previous instance",x),d.remove.events(),w.removeData(b)},refresh:function(){_=w.find(g.icon)},setup:{layout:function(){var t=d.get.maxRating(),n=e.fn.rating.settings.templates.icon(t);d.debug("Generating icon html dynamically"),w.html(n),d.refresh()}},event:{mouseenter:function(){var t=e(this);t.nextAll().removeClass(p.selected),w.addClass(p.selected),t.addClass(p.selected).prevAll().addClass(p.selected)},mouseleave:function(){w.removeClass(p.selected),_.removeClass(p.selected)},click:function(){var t=e(this),n=d.get.rating(),i=_.index(t)+1,r="auto"==h.clearable?1===_.length:h.clearable;r&&n==i?d.clearRating():d.set.rating(i)}},clearRating:function(){d.debug("Clearing current rating"),d.set.rating(0)},bind:{events:function(){d.verbose("Binding events"),w.on("mouseenter"+v,g.icon,d.event.mouseenter).on("mouseleave"+v,g.icon,d.event.mouseleave).on("click"+v,g.icon,d.event.click)}},remove:{events:function(){d.verbose("Removing events"),w.off(v)}},enable:function(){d.debug("Setting rating to interactive mode"),d.bind.events(),w.removeClass(p.disabled)},disable:function(){d.debug("Setting rating to read-only mode"),d.remove.events(),w.addClass(p.disabled)},get:{initialRating:function(){return w.data(m.rating)!==i?(w.removeData(m.rating),w.data(m.rating)):h.initialRating},maxRating:function(){return w.data(m.maxRating)!==i?(w.removeData(m.maxRating),w.data(m.maxRating)):h.maxRating},rating:function(){var e=_.filter("."+p.active).length;return d.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=e-1>=0?e-1:0,n=_.eq(t);w.removeClass(p.selected),_.removeClass(p.selected).removeClass(p.active),e>0&&(d.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(p.active)),h.onRate.call(y,e)}},setting:function(t,n){if(d.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,h,t);else{if(n===i)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,d,t);else{if(n===i)return d[t];d[t]=n}},debug:function(){h.debug&&(h.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,h.name+":"),d.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,h.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var t=h.name+":",n=0;a=!1,clearTimeout(d.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==i||console.table!==i)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,r,o){var a,s,l,c=x;return r=r||u,o=y||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(o,r):s!==i&&(l=s),e.isArray(n)?n.push(l):n!==i?n=[n,l]:l!==i&&(n=l),s}},c?(x===i&&d.initialize(),d.invoke(l)):(x!==i&&x.invoke("destroy"),d.initialize())}),n!==i?n:this},e.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";e>=t;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.search=function(r){var o,a=e(this),s=a.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return e(this).each(function(){var f,p=e.isPlainObject(r)?e.extend(!0,{},e.fn.search.settings,r):e.extend({},e.fn.search.settings),m=p.className,g=p.metadata,v=p.regExp,b=p.fields,y=p.selector,x=p.error,w=p.namespace,_="."+w,k=w+"-module",C=e(this),S=C.find(y.prompt),T=C.find(y.searchButton),D=C.find(y.results),A=(C.find(y.result),C.find(y.category),this),E=C.data(k);f={initialize:function(){f.verbose("Initializing module"),f.determine.searchFields(),f.bind.events(),f.set.type(),f.create.results(),f.instantiate()},instantiate:function(){f.verbose("Storing instance of module",f),E=f,C.data(k,f)},destroy:function(){f.verbose("Destroying instance"),C.off(_).removeData(k)},bind:{events:function(){f.verbose("Binding events to search"),p.automatic&&(C.on(f.get.inputEvent()+_,y.prompt,f.event.input),S.attr("autocomplete","off")),C.on("focus"+_,y.prompt,f.event.focus).on("blur"+_,y.prompt,f.event.blur).on("keydown"+_,y.prompt,f.handleKeyboard).on("click"+_,y.searchButton,f.query).on("mousedown"+_,y.results,f.event.result.mousedown).on("mouseup"+_,y.results,f.event.result.mouseup).on("click"+_,y.result,f.event.result.click)}},determine:{searchFields:function(){r&&r.searchFields!==i&&(p.searchFields=r.searchFields)}},event:{input:function(){clearTimeout(f.timer),f.timer=setTimeout(f.query,p.searchDelay)},focus:function(){f.set.focus(),f.has.minimumCharacters()&&(f.query(),f.can.show()&&f.showResults())},blur:function(e){var t=n.activeElement===this,i=function(){f.cancel.query(),f.remove.focus(),f.timer=setTimeout(f.hideResults,p.hideDelay)};t||(f.resultsClicked?(f.debug("Determining if user action caused search to close"),C.one("click",y.results,function(e){f.is.animating()||f.is.hidden()||i()})):(f.debug("Input blurred without user action, closing results"),i()))},result:{mousedown:function(){f.resultsClicked=!0},mouseup:function(){f.resultsClicked=!1},click:function(n){f.debug("Search result selected");var i=e(this),r=i.find(y.title).eq(0),o=i.find("a[href]").eq(0),a=o.attr("href")||!1,s=o.attr("target")||!1,l=(r.html(),r.length>0?r.text():!1),c=f.get.results(),u=i.data(g.result)||f.get.result(l,c);return e.isFunction(p.onSelect)&&p.onSelect.call(A,u,c)===!1?void f.debug("Custom onSelect callback cancelled default select action"):(f.hideResults(),l&&f.set.value(l),void(a&&(f.verbose("Opening search link found in result",o),"_blank"==s||n.ctrlKey?t.open(a):t.location.href=a)))}}},handleKeyboard:function(e){var t,n=C.find(y.result),i=C.find(y.category),r=n.index(n.filter("."+m.active)),o=n.length,a=e.which,s={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(a==s.escape&&(f.verbose("Escape key pressed, blurring search field"),f.trigger.blur()),f.is.visible())if(a==s.enter){if(f.verbose("Enter key pressed, selecting active result"),n.filter("."+m.active).length>0)return f.event.result.click.call(n.filter("."+m.active),e),e.preventDefault(),!1}else a==s.upArrow?(f.verbose("Up key pressed, changing active result"),t=0>r-1?r:r-1,i.removeClass(m.active),n.removeClass(m.active).eq(t).addClass(m.active).closest(i).addClass(m.active),e.preventDefault()):a==s.downArrow&&(f.verbose("Down key pressed, changing active result"),t=r+1>=o?r:r+1,i.removeClass(m.active),n.removeClass(m.active).eq(t).addClass(m.active).closest(i).addClass(m.active),e.preventDefault());else a==s.enter&&(f.verbose("Enter key pressed, executing query"),f.query(),f.set.buttonPressed(),S.one("keyup",f.remove.buttonFocus))},setup:{api:function(){var e={debug:p.debug,on:!1,cache:"local",action:"search",onError:f.error};f.verbose("First request, initializing API"),C.api(e)}},can:{useAPI:function(){return e.fn.api!==i},show:function(){return f.is.focused()&&!f.is.visible()&&!f.is.empty()},transition:function(){return p.transition&&e.fn.transition!==i&&C.transition("is supported")}},is:{animating:function(){return D.hasClass(m.animating)},hidden:function(){return D.hasClass(m.hidden)},empty:function(){return""===D.html()},visible:function(){return D.filter(":visible").length>0},focused:function(){return S.filter(":focus").length>0}},trigger:{blur:function(){var e=n.createEvent("HTMLEvents"),t=S[0];t&&(f.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=S[0],t=e!==i&&e.oninput!==i?"input":e!==i&&e.onpropertychange!==i?"propertychange":"keyup";return t},value:function(){return S.val()},results:function(){var e=C.data(g.results);return e},result:function(t,n){var r=["title","id"],o=!1;return t=t!==i?t:f.get.value(),n=n!==i?n:f.get.results(),"category"===p.type?(f.debug("Finding result that matches",t),e.each(n,function(n,i){return e.isArray(i.results)&&(o=f.search.object(t,i.results,r)[0])?!1:void 0})):(f.debug("Finding result in results object",t),o=f.search.object(t,n,r)[0]),o||!1}},set:{focus:function(){C.addClass(m.focus)},loading:function(){C.addClass(m.loading)},value:function(e){f.verbose("Setting search input value",e),S.val(e)},type:function(e){e=e||p.type,"category"==p.type&&C.addClass(p.type)},buttonPressed:function(){T.addClass(m.pressed)}},remove:{loading:function(){C.removeClass(m.loading)},focus:function(){C.removeClass(m.focus)},buttonPressed:function(){T.removeClass(m.pressed)}},query:function(){var t=f.get.value(),n=f.read.cache(t);f.has.minimumCharacters()?(n?(f.debug("Reading result from cache",t),f.save.results(n.results),f.addResults(n.html),f.inject.id(n.results)):(f.debug("Querying for",t),e.isPlainObject(p.source)||e.isArray(p.source)?f.search.local(t):f.can.useAPI()?f.search.remote(t):f.error(x.source)),p.onSearchQuery.call(A,t)):f.hideResults()},search:{local:function(e){var t,n=f.search.object(e,p.content);f.set.loading(),f.save.results(n),f.debug("Returned local search results",n),t=f.generateResults({results:n}),f.remove.loading(),f.addResults(t),f.inject.id(n),f.write.cache(e,{html:t,results:n})},remote:function(t){var n={onSuccess:function(e){f.parse.response.call(A,e,t)},onFailure:function(){f.displayMessage(x.serverError)},urlData:{query:t}};C.api("get request")||f.setup.api(),e.extend(!0,n,p.apiSettings),f.debug("Executing search",n),f.cancel.query(),C.api("setting",n).api("query")},object:function(t,n,r){var o=[],a=[],s=t.toString().replace(v.escape,"\\$&"),l=new RegExp(v.beginsWith+s,"i"),c=function(t,n){var i=-1==e.inArray(n,o),r=-1==e.inArray(n,a);i&&r&&t.push(n)};return n=n||p.source,r=r!==i?r:p.searchFields,e.isArray(r)||(r=[r]),n===i||n===!1?(f.error(x.source),[]):(e.each(r,function(i,r){e.each(n,function(e,n){var i="string"==typeof n[r];i&&(-1!==n[r].search(l)?c(o,n):p.searchFullText&&f.fuzzySearch(t,n[r])&&c(a,n))})}),e.merge(o,a))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var r=0,o=0;i>r;r++){for(var a=e.charCodeAt(r);n>o;)if(t.charCodeAt(o++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var n=f.generateResults(e);f.verbose("Parsing server response",e),e!==i&&t!==i&&e[b.results]!==i&&(f.addResults(n),f.inject.id(e[b.results]),f.write.cache(t,{html:n,results:e[b.results]}),f.save.results(e[b.results]))}},cancel:{query:function(){f.can.useAPI()&&C.api("abort")}},has:{minimumCharacters:function(){var e=f.get.value(),t=e.length;return t>=p.minCharacters}},clear:{cache:function(e){var t=C.data(g.cache);e?e&&t&&t[e]&&(f.debug("Removing value from cache",e),delete t[e],C.data(g.cache,t)):(f.debug("Clearing cache",e),C.removeData(g.cache))}},read:{cache:function(e){var t=C.data(g.cache);return p.cache?(f.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==i?t[e]:!1):!1}},create:{id:function(e,t){var n,r,o=e+1;return t!==i?(n=String.fromCharCode(97+t),r=n+o,f.verbose("Creating category result id",r)):(r=o,f.verbose("Creating result id",r)),r},results:function(){0===D.length&&(D=e("<div />").addClass(m.results).appendTo(C))}},inject:{result:function(e,t,n){f.verbose("Injecting result into results");var r=n!==i?D.children().eq(n).children(y.result).eq(t):D.children(y.result).eq(t);f.verbose("Injecting results metadata",r),r.data(g.result,e)},id:function(t){f.debug("Injecting unique ids into results");var n=0,r=0;return"category"===p.type?e.each(t,function(t,o){r=0,e.each(o.results,function(e,t){var a=o.results[e];a.id===i&&(a.id=f.create.id(r,n)),f.inject.result(a,r,n),r++}),n++}):e.each(t,function(e,n){var o=t[e];o.id===i&&(o.id=f.create.id(r)),f.inject.result(o,r),r++}),t}},save:{results:function(e){f.verbose("Saving current search results to metadata",e),C.data(g.results,e)}},write:{cache:function(e,t){var n=C.data(g.cache)!==i?C.data(g.cache):{};p.cache&&(f.verbose("Writing generated html to cache",e,t),n[e]=t,C.data(g.cache,n))}},addResults:function(t){return e.isFunction(p.onResultsAdd)&&p.onResultsAdd.call(D,t)===!1?(f.debug("onResultsAdd callback cancelled default action"),!1):(D.html(t),void(f.can.show()&&f.showResults()))},showResults:function(){f.is.visible()||(f.can.transition()?(f.debug("Showing results with css animations"),D.transition({animation:p.transition+" in",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0})):(f.debug("Showing results with javascript"),D.stop().fadeIn(p.duration,p.easing)),p.onResultsOpen.call(D))},hideResults:function(){f.is.visible()&&(f.can.transition()?(f.debug("Hiding results with css animations"),D.transition({animation:p.transition+" out",debug:p.debug,verbose:p.verbose,duration:p.duration,queue:!0})):(f.debug("Hiding results with javascript"),D.stop().fadeOut(p.duration,p.easing)),p.onResultsClose.call(D))},generateResults:function(t){f.debug("Generating html from response",t);var n=p.templates[p.type],i=e.isPlainObject(t[b.results])&&!e.isEmptyObject(t[b.results]),r=e.isArray(t[b.results])&&t[b.results].length>0,o="";return i||r?(p.maxResults>0&&(i?"standard"==p.type&&f.error(x.maxResults):t[b.results]=t[b.results].slice(0,p.maxResults)),e.isFunction(n)?o=n(t,b):f.error(x.noTemplate,!1)):o=f.displayMessage(x.noResults,"empty"),p.onResults.call(A,t),o},displayMessage:function(e,t){return t=t||"standard",f.debug("Displaying message",e,t),f.addResults(p.templates.message(e,t)),p.templates.message(e,t)},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},debug:function(){p.debug&&(p.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,p.name+":"),f.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,p.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;p.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:A,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var t=p.name+":",n=0;l=!1,clearTimeout(f.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var a,s,l,c=E;return n=n||h,r=A||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},d?(E===i&&f.initialize(),f.invoke(u)):(E!==i&&E.invoke("destroy"),f.initialize())}),o!==i?o:this},e.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t=/[&<>"'`]/g,n=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return i[e]};return n.test(e)?e.replace(t,r):e},message:function(e,t){var n="";return e!==i&&t!==i&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(t,n){var r="";e.fn.search.settings.templates.escape;return t[n.categoryResults]!==i?(e.each(t[n.categoryResults],function(t,o){o[n.results]!==i&&o.results.length>0&&(r+='<div class="category">',o[n.categoryName]!==i&&(r+='<div class="name">'+o[n.categoryName]+"</div>"),e.each(o.results,function(e,t){r+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(r+='<div class="image"> <img src="'+t[n.image]+'"></div>'),r+='<div class="content">',t[n.price]!==i&&(r+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(r+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(r+='<div class="description">'+t[n.description]+"</div>"),r+="</div>",r+="</a>"}),r+="</div>")}),t[n.action]&&(r+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),r):!1},standard:function(t,n){var r="";return t[n.results]!==i?(e.each(t[n.results],function(e,t){r+=t[n.url]?'<a class="result" href="'+t[n.url]+'">':'<a class="result">',t[n.image]!==i&&(r+='<div class="image"> <img src="'+t[n.image]+'"></div>'),r+='<div class="content">',t[n.price]!==i&&(r+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==i&&(r+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==i&&(r+='<div class="description">'+t[n.description]+"</div>"),r+="</div>",r+="</a>"}),t[n.action]&&(r+='<a href="'+t[n.action][n.actionURL]+'" class="action">'+t[n.action][n.actionText]+"</a>"),r):!1}}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.shape=function(r){var o,a=e(this),s=(e("body"),(new Date).getTime()),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var t,f,p,m=a.selector||"",g=e.isPlainObject(r)?e.extend(!0,{},e.fn.shape.settings,r):e.extend({},e.fn.shape.settings),v=g.namespace,b=g.selector,y=g.error,x=g.className,w="."+v,_="module-"+v,k=e(this),C=k.find(b.sides),S=k.find(b.side),T=!1,D=this,A=k.data(_);p={initialize:function(){p.verbose("Initializing module for",D),p.set.defaultSide(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),A=p,k.data(_,A)},destroy:function(){p.verbose("Destroying previous module for",D),k.removeData(_).off(w)},refresh:function(){p.verbose("Refreshing selector cache for",D),k=e(D),C=e(this).find(b.shape),S=e(this).find(b.side)},repaint:function(){p.verbose("Forcing repaint event");var e=C[0]||n.createElement("div");e.offsetWidth},animate:function(e,n){p.verbose("Animating box with properties",e),n=n||function(e){p.verbose("Executing animation callback"),e!==i&&e.stopPropagation(),p.reset(),p.set.active()},g.beforeChange.call(f[0]),p.get.transitionEvent()?(p.verbose("Starting CSS animation"),k.addClass(x.animating),C.css(e).one(p.get.transitionEvent(),n),p.set.duration(g.duration),h(function(){k.addClass(x.animating),t.addClass(x.hidden)})):n()},queue:function(e){p.debug("Queueing animation of",e),C.one(p.get.transitionEvent(),function(){p.debug("Executing queued animation"),setTimeout(function(){k.shape(e)},0)})},reset:function(){p.verbose("Animating states reset"),k.removeClass(x.animating).attr("style","").removeAttr("style"),C.attr("style","").removeAttr("style"),S.attr("style","").removeAttr("style").removeClass(x.hidden),f.removeClass(x.animating).attr("style","").removeAttr("style")},is:{complete:function(){return S.filter("."+x.active)[0]==f[0]},animating:function(){return k.hasClass(x.animating)}},set:{defaultSide:function(){t=k.find("."+g.className.active),f=t.next(b.side).length>0?t.next(b.side):k.find(b.side).first(),T=!1,p.verbose("Active side set to",t),p.verbose("Next side set to",f)},duration:function(e){e=e||g.duration,e="number"==typeof e?e+"ms":e,p.verbose("Setting animation duration",e),(g.duration||0===g.duration)&&C.add(S).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=k.find("."+g.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);k.css({width:t,height:n})},stageSize:function(){var e=k.clone().addClass(x.loading),t=e.find("."+g.className.active),n=T?e.find(b.side).eq(T):t.next(b.side).length>0?t.next(b.side):e.find(b.side).first(),i={};p.set.currentStageSize(),t.removeClass(x.active),n.addClass(x.active),e.insertAfter(k),i={width:n.outerWidth(!0),height:n.outerHeight(!0)},e.remove(),k.css(i),p.verbose("Resizing stage to fit new content",i)},nextSide:function(e){T=e,f=S.filter(e),T=S.index(f),0===f.length&&(p.set.defaultSide(),p.error(y.side)),p.verbose("Next side manually set to",f)},active:function(){p.verbose("Setting new side to active",f),S.removeClass(x.active),f.addClass(x.active),g.onChange.call(f[0]),p.set.defaultSide()}},flip:{up:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip up"):(p.debug("Flipping up",f),p.set.stageSize(),p.stage.above(),p.animate(p.get.transform.up()))):void p.debug("Side already visible",f)},down:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip down"):(p.debug("Flipping down",f),p.set.stageSize(),p.stage.below(),p.animate(p.get.transform.down()))):void p.debug("Side already visible",f)},left:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip left"):(p.debug("Flipping left",f),p.set.stageSize(),p.stage.left(),p.animate(p.get.transform.left()))):void p.debug("Side already visible",f)},right:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip right"):(p.debug("Flipping right",f),p.set.stageSize(),p.stage.right(),p.animate(p.get.transform.right()))):void p.debug("Side already visible",f)},over:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip over"):(p.debug("Flipping over",f),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.over()))):void p.debug("Side already visible",f)},back:function(){return!p.is.complete()||p.is.animating()||g.allowRepeats?void(p.is.animating()?p.queue("flip back"):(p.debug("Flipping back",f),p.set.stageSize(),p.stage.behind(),p.animate(p.get.transform.back()))):void p.debug("Side already visible",f)}},get:{transform:{up:function(){var e={y:-((t.outerHeight(!0)-f.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(-90deg)"}},down:function(){var e={y:-((t.outerHeight(!0)-f.outerHeight(!0))/2),z:-(t.outerHeight(!0)/2)};return{transform:"translateY("+e.y+"px) translateZ("+e.z+"px) rotateX(90deg)"}},left:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(90deg)"}},right:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2),z:-(t.outerWidth(!0)/2)};return{transform:"translateX("+e.x+"px) translateZ("+e.z+"px) rotateY(-90deg)"}},over:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(180deg)"}},back:function(){var e={x:-((t.outerWidth(!0)-f.outerWidth(!0))/2)};return{transform:"translateX("+e.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",
WebkitTransition:"webkitTransitionEnd"};for(e in r)if(t.style[e]!==i)return r[e]},nextSide:function(){return t.next(b.side).length>0?t.next(b.side):k.find(b.side).first()}},stage:{above:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as above",f,e),C.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(x.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(t.outerHeight(!0)-f.outerHeight(!0))/2,depth:{active:f.outerHeight(!0)/2,next:t.outerHeight(!0)/2}};p.verbose("Setting the initial animation position as below",f,e),C.css({transform:"translateZ(-"+e.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),f.addClass(x.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",f,n),C.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as left",f,n),C.css({transform:"translateZ(-"+n.depth.active+"px)"}),t.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),f.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e={active:t.outerWidth(!0),next:f.outerWidth(!0)},n={origin:(e.active-e.next)/2,depth:{active:e.next/2,next:e.active/2}};p.verbose("Setting the initial animation position as behind",f,n),t.css({transform:"rotateY(0deg)"}),f.addClass(x.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(t,n){if(p.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",m&&(t+=" '"+m+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,r){var a,s,l,c=A;return n=n||d,r=D||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},u?(A===i&&p.initialize(),p.invoke(c)):(A!==i&&A.invoke("destroy"),p.initialize())}),o!==i?o:this},e.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sidebar=function(r){var o,a=e(this),s=e(t),l=e(n),c=e("html"),u=e("head"),d=a.selector||"",h=(new Date).getTime(),f=[],p=arguments[0],m="string"==typeof p,g=[].slice.call(arguments,1),v=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,b,y,x,w,_,k=e.isPlainObject(r)?e.extend(!0,{},e.fn.sidebar.settings,r):e.extend({},e.fn.sidebar.settings),C=k.selector,S=k.className,T=k.namespace,D=k.regExp,A=k.error,E="."+T,M="module-"+T,P=e(this),N=e(k.context),R=P.children(C.sidebar),I=N.children(C.fixed),O=N.children(C.pusher),L=this,j=P.data(M);_={initialize:function(){_.debug("Initializing sidebar",r),_.create.id(),w=_.get.transitionEvent(),_.is.ios()&&_.set.ios(),k.delaySetup?v(_.setup.layout):_.setup.layout(),v(function(){_.setup.cache()}),_.instantiate()},instantiate:function(){_.verbose("Storing instance of module",_),j=_,P.data(M,_)},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),b="."+y,_.verbose("Creating unique id for element",y)}},destroy:function(){_.verbose("Destroying previous module for",P),P.off(E).removeData(M),_.is.ios()&&_.remove.ios(),N.off(b),s.off(b),l.off(b)},event:{clickaway:function(e){var t=O.find(e.target).length>0||O.is(e.target),n=N.is(e.target);t&&(_.verbose("User clicked on dimmed page"),_.hide()),n&&(_.verbose("User clicked on dimmable context (scaled out page)"),_.hide())},touch:function(e){},containScroll:function(e){L.scrollTop<=0&&(L.scrollTop=1),L.scrollTop+L.offsetHeight>=L.scrollHeight&&(L.scrollTop=L.scrollHeight-L.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(C.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){_.verbose("Adding clickaway events to context",N),k.closable&&N.on("click"+b,_.event.clickaway).on("touchend"+b,_.event.clickaway)},scrollLock:function(){k.scrollLock&&(_.debug("Disabling page scroll"),s.on("DOMMouseScroll"+b,_.event.scroll)),_.verbose("Adding events to contain sidebar scroll"),l.on("touchmove"+b,_.event.touch),P.on("scroll"+E,_.event.containScroll)}},unbind:{clickaway:function(){_.verbose("Removing clickaway events from context",N),N.off(b)},scrollLock:function(){_.verbose("Removing scroll lock from page"),l.off(b),s.off(b),P.off("scroll"+E)}},add:{inlineCSS:function(){var t,n=_.cache.width||P.outerWidth(),i=_.cache.height||P.outerHeight(),r=_.is.rtl(),o=_.get.direction(),s={left:n,right:-n,top:i,bottom:-i};r&&(_.verbose("RTL detected, flipping widths"),s.left=-n,s.right=n),t="<style>","left"===o||"right"===o?(_.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[o]+"px, 0, 0);           transform: translate3d("+s[o]+"px, 0, 0); }"):("top"===o||"bottom"==o)&&(t+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[o]+"px, 0);           transform: translate3d(0, "+s[o]+"px, 0); }"),_.is.ie()&&("left"===o||"right"===o?(_.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[o]+"px, 0, 0);           transform: translate3d("+s[o]+"px, 0, 0); }"):("top"===o||"bottom"==o)&&(t+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[o]+"px, 0);           transform: translate3d(0, "+s[o]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",a=e(t).appendTo(u),_.debug("Adding sizing css to head",a)}},refresh:function(){_.verbose("Refreshing selector cache"),N=e(k.context),R=N.children(C.sidebar),O=N.children(C.pusher),I=N.children(C.fixed),_.clear.cache()},refreshSidebars:function(){_.verbose("Refreshing other sidebars"),R=N.children(C.sidebar)},repaint:function(){_.verbose("Forcing repaint event"),L.style.display="none";L.offsetHeight;L.scrollTop=L.scrollTop,L.style.display=""},setup:{cache:function(){_.cache={width:P.outerWidth(),height:P.outerHeight(),rtl:"rtl"==P.css("direction")}},layout:function(){0===N.children(C.pusher).length&&(_.debug("Adding wrapper element for sidebar"),_.error(A.pusher),O=e('<div class="pusher" />'),N.children().not(C.omitted).not(R).wrapAll(O),_.refresh()),(0===P.nextAll(C.pusher).length||P.nextAll(C.pusher)[0]!==O[0])&&(_.debug("Moved sidebar to correct parent element"),_.error(A.movedSidebar,L),P.detach().prependTo(N),_.refresh()),_.clear.cache(),_.set.pushable(),_.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(_[n])?_[n]:_.toggle,i.length>0?(_.debug("Attaching sidebar events to element",t,n),i.on("click"+E,n)):_.error(A.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},_.is.hidden()){if(_.refreshSidebars(),k.overlay&&(_.error(A.overlay),k.transition="overlay"),_.refresh(),_.othersActive())if(_.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition)return void _.hideOthers(_.show);_.hideOthers()}else k.transition="overlay";_.pushPage(function(){t.call(L),k.onShow.call(L)}),k.onChange.call(L),k.onVisible.call(L)}else _.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(_.is.visible()||_.is.animating())&&(_.debug("Hiding sidebar",t),_.refreshSidebars(),_.pullPage(function(){t.call(L),k.onHidden.call(L)}),k.onChange.call(L),k.onHide.call(L))},othersAnimating:function(){return R.not(P).filter("."+S.animating).length>0},othersVisible:function(){return R.not(P).filter("."+S.visible).length>0},othersActive:function(){return _.othersVisible()||_.othersAnimating()},hideOthers:function(e){var t=R.not(P).filter("."+S.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){i++,i==n&&e()})},toggle:function(){_.verbose("Determining toggled direction"),_.is.hidden()?_.show():_.hide()},pushPage:function(t){var n,i,r,o=_.get.transition(),a="overlay"===o||_.othersActive()?P:O;t=e.isFunction(t)?t:function(){},"scale down"==k.transition&&_.scrollToTop(),_.set.transition(o),_.repaint(),n=function(){_.bind.clickaway(),_.add.inlineCSS(),_.set.animating(),_.set.visible()},i=function(){_.set.dimmed()},r=function(e){e.target==a[0]&&(a.off(w+b,r),_.remove.animating(),_.bind.scrollLock(),t.call(L))},a.off(w+b),a.on(w+b,r),v(n),k.dimPage&&!_.othersVisible()&&v(i)},pullPage:function(t){var n,i,r=_.get.transition(),o="overlay"==r||_.othersActive()?P:O;t=e.isFunction(t)?t:function(){},_.verbose("Removing context push state",_.get.direction()),_.unbind.clickaway(),_.unbind.scrollLock(),n=function(){_.set.transition(r),_.set.animating(),_.remove.visible(),k.dimPage&&!_.othersVisible()&&O.removeClass(S.dimmed)},i=function(e){e.target==o[0]&&(o.off(w+b,i),_.remove.animating(),_.remove.transition(),_.remove.inlineCSS(),("scale down"==r||k.returnScroll&&_.is.mobile())&&_.scrollBack(),t.call(L))},o.off(w+b),o.on(w+b,i),v(n)},scrollToTop:function(){_.verbose("Scrolling to top of page to avoid animation issues"),x=e(t).scrollTop(),P.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){_.verbose("Scrolling back to original page position"),t.scrollTo(0,x)},clear:{cache:function(){_.verbose("Clearing cached dimensions"),_.cache={}}},set:{ios:function(){c.addClass(S.ios)},pushed:function(){N.addClass(S.pushed)},pushable:function(){N.addClass(S.pushable)},dimmed:function(){O.addClass(S.dimmed)},active:function(){P.addClass(S.active)},animating:function(){P.addClass(S.animating)},transition:function(e){e=e||_.get.transition(),P.addClass(e)},direction:function(e){e=e||_.get.direction(),P.addClass(S[e])},visible:function(){P.addClass(S.visible)},overlay:function(){P.addClass(S.overlay)}},remove:{inlineCSS:function(){_.debug("Removing inline css styles",a),a&&a.length>0&&a.remove()},ios:function(){c.removeClass(S.ios)},pushed:function(){N.removeClass(S.pushed)},pushable:function(){N.removeClass(S.pushable)},active:function(){P.removeClass(S.active)},animating:function(){P.removeClass(S.animating)},transition:function(e){e=e||_.get.transition(),P.removeClass(e)},direction:function(e){e=e||_.get.direction(),P.removeClass(S[e])},visible:function(){P.removeClass(S.visible)},overlay:function(){P.removeClass(S.overlay)}},get:{direction:function(){return P.hasClass(S.top)?S.top:P.hasClass(S.right)?S.right:P.hasClass(S.bottom)?S.bottom:S.left},transition:function(){var e,t=_.get.direction();return e=_.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[t]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[t]:k.transition,_.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),r={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in r)if(t.style[e]!==i)return r[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(D.ios),n=e.match(D.mobileChrome);return t&&!n?(_.verbose("Browser was found to be iOS",e),!0):!1},mobile:function(){var e=navigator.userAgent,t=e.match(D.mobile);return t?(_.verbose("Browser was found to be mobile",e),!0):(_.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!_.is.visible()},visible:function(){return P.hasClass(S.visible)},open:function(){return _.is.visible()},closed:function(){return _.is.hidden()},vertical:function(){return P.hasClass(S.top)},animating:function(){return N.hasClass(S.animating)},rtl:function(){return _.cache.rtl===i&&(_.cache.rtl="rtl"==P.css("direction")),_.cache.rtl}},setting:function(t,n){if(_.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,k,t);else{if(n===i)return k[t];k[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,_,t);else{if(n===i)return _[t];_[t]=n}},debug:function(){k.debug&&(k.performance?_.performance.log(arguments):(_.debug=Function.prototype.bind.call(console.info,console,k.name+":"),_.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?_.performance.log(arguments):(_.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),_.verbose.apply(console,arguments)))},error:function(){_.error=Function.prototype.bind.call(console.error,console,k.name+":"),_.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;k.performance&&(t=(new Date).getTime(),i=h||t,n=t-i,h=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:L,"Execution Time":n})),clearTimeout(_.performance.timer),_.performance.timer=setTimeout(_.performance.display,500)},display:function(){var t=k.name+":",n=0;h=!1,clearTimeout(_.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(console.group!==i||console.table!==i)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,r){var a,s,l,c=j;return n=n||g,r=L||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(_.error(A.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},m?(j===i&&_.initialize(),_.invoke(p)):(j!==i&&_.invoke("destroy"),_.initialize())}),o!==i?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.sticky=function(n){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,h,f,p,m=e.isPlainObject(n)?e.extend(!0,{},e.fn.sticky.settings,n):e.extend({},e.fn.sticky.settings),g=m.className,v=m.namespace,b=m.error,y="."+v,x="module-"+v,w=e(this),_=e(t),k=e(m.scrollContext),C=(w.selector||"",w.data(x)),S=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},T=this;p={initialize:function(){p.determineContainer(),p.determineContext(),p.verbose("Initializing sticky",m,o),p.save.positions(),p.checkErrors(),p.bind.events(),m.observeChanges&&p.observeChanges(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),C=p,w.data(x,p)},destroy:function(){p.verbose("Destroying previous instance"),p.reset(),f&&f.disconnect(),_.off("load"+y,p.event.load).off("resize"+y,p.event.resize),k.off("scrollchange"+y,p.event.scrollchange),w.removeData(x)},observeChanges:function(){var e=h[0];"MutationObserver"in t&&(f=new MutationObserver(function(e){clearTimeout(p.timer),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu",e),p.refresh()},100)}),f.observe(T,{childList:!0,subtree:!0}),f.observe(e,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",f))},determineContainer:function(){o=w.offsetParent()},determineContext:function(){return h=m.context?e(m.context):o,0===h.length?void p.error(b.invalidContext,m.context,w):void 0},checkErrors:function(){return p.is.hidden()&&p.error(b.visible,w),p.cache.element.height>p.cache.context.height?(p.reset(),void p.error(b.elementSize,w)):void 0},bind:{events:function(){_.on("load"+y,p.event.load).on("resize"+y,p.event.resize),k.off("scroll"+y).on("scroll"+y,p.event.scroll).on("scrollchange"+y,p.event.scrollchange)}},event:{load:function(){p.verbose("Page contents finished loading"),S(p.refresh)},resize:function(){p.verbose("Window resized"),S(p.refresh)},scroll:function(){S(function(){k.triggerHandler("scrollchange"+y,k.scrollTop())})},scrollchange:function(e,t){p.stick(t),m.onScroll.call(T)}},refresh:function(e){p.reset(),m.context||p.determineContext(),e&&p.determineContainer(),p.save.positions(),p.stick(),m.onReposition.call(T)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(g.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){p.lastScroll=e},elementScroll:function(e){p.elementScroll=e},positions:function(){var e={height:k.height()},t={margin:{top:parseInt(w.css("margin-top"),10),bottom:parseInt(w.css("margin-bottom"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},n={offset:h.offset(),height:h.outerHeight()};({height:o.outerHeight()});p.is.standardScroll()||(p.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=k.scrollTop(),e.left=k.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),p.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},p.set.containerSize(),p.set.size(),p.stick(),p.debug("Caching element positions",p.cache)}},get:{direction:function(e){var t="down";return e=e||k.scrollTop(),p.lastScroll!==i&&(p.lastScroll<e?t="down":p.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||k.scrollTop(),p.lastScroll?e-p.lastScroll:0},currentElementScroll:function(){return p.elementScroll?p.elementScroll:p.is.top()?Math.abs(parseInt(w.css("top"),10))||0:Math.abs(parseInt(w.css("bottom"),10))||0},elementScroll:function(e){e=e||k.scrollTop();var t=p.cache.element,n=p.cache.scrollContext,i=p.get.scrollChange(e),r=t.height-n.height+m.offset,o=p.get.currentElementScroll(),a=o+i;return o=p.cache.fits||0>a?0:a>r?r:a}},remove:{lastScroll:function(){delete p.lastScroll},elementScroll:function(e){delete p.elementScroll},offset:function(){w.css("margin-top","")}},set:{offset:function(){p.verbose("Setting offset on element",m.offset),w.css("margin-top",m.offset)},containerSize:function(){var e=o.get(0).tagName;"HTML"===e||"body"==e?p.determineContainer():Math.abs(o.outerHeight()-p.cache.context.height)>m.jitter&&(p.debug("Context has padding, specifying exact height for container",p.cache.context.height),o.css({height:p.cache.context.height}))},minimumSize:function(){var e=p.cache.element;o.css("min-height",e.height)},scroll:function(e){p.debug("Setting scroll on element",e),p.elementScroll!=e&&(p.is.top()&&w.css("bottom","").css("top",-e),p.is.bottom()&&w.css("top","").css("bottom",e))},size:function(){0!==p.cache.element.height&&0!==p.cache.element.width&&(T.style.setProperty("width",p.cache.element.width+"px","important"),T.style.setProperty("height",p.cache.element.height+"px","important"))}},is:{standardScroll:function(){return k[0]==t},top:function(){return w.hasClass(g.top)},bottom:function(){return w.hasClass(g.bottom)},initialPosition:function(){return!p.is.fixed()&&!p.is.bound()},hidden:function(){return!w.is(":visible")},bound:function(){return w.hasClass(g.bound)},fixed:function(){return w.hasClass(g.fixed)}},stick:function(e){var t=e||k.scrollTop(),n=p.cache,i=n.fits,r=n.element,o=n.scrollContext,a=n.context,s=p.is.bottom()&&m.pushing?m.bottomOffset:m.offset,e={top:t+s,bottom:t+s+o.height},l=(p.get.direction(e.top),i?0:p.get.elementScroll(e.top)),c=!i,u=0!==r.height;u&&(p.is.initialPosition()?e.top>=a.bottom?(p.debug("Initial element position is bottom of container"),p.bindBottom()):e.top>r.top&&(r.height+e.top-l>=a.bottom?(p.debug("Initial element position is bottom of container"),p.bindBottom()):(p.debug("Initial element position is fixed"),p.fixTop())):p.is.fixed()?p.is.top()?e.top<=r.top?(p.debug("Fixed element reached top of container"),p.setInitialPosition()):r.height+e.top-l>=a.bottom?(p.debug("Fixed element reached bottom of container"),p.bindBottom()):c&&(p.set.scroll(l),p.save.lastScroll(e.top),p.save.elementScroll(l)):p.is.bottom()&&(e.bottom-r.height<=r.top?(p.debug("Bottom fixed rail has reached top of container"),p.setInitialPosition()):e.bottom>=a.bottom?(p.debug("Bottom fixed rail has reached bottom of container"),p.bindBottom()):c&&(p.set.scroll(l),p.save.lastScroll(e.top),p.save.elementScroll(l))):p.is.bottom()&&(e.top<=r.top?(p.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),p.setInitialPosition()):m.pushing?p.is.bound()&&e.bottom<=a.bottom&&(p.debug("Fixing bottom attached element to bottom of browser."),p.fixBottom()):p.is.bound()&&e.top<=a.bottom-r.height&&(p.debug("Fixing bottom attached element to top of browser."),p.fixTop())))},bindTop:function(){p.debug("Binding element to top of parent container"),p.remove.offset(),w.css({left:"",top:"",marginBottom:""}).removeClass(g.fixed).removeClass(g.bottom).addClass(g.bound).addClass(g.top),m.onTop.call(T),m.onUnstick.call(T)},bindBottom:function(){p.debug("Binding element to bottom of parent container"),p.remove.offset(),w.css({left:"",top:""}).removeClass(g.fixed).removeClass(g.top).addClass(g.bound).addClass(g.bottom),m.onBottom.call(T),m.onUnstick.call(T)},setInitialPosition:function(){p.debug("Returning to initial position"),p.unfix(),p.unbind()},fixTop:function(){p.debug("Fixing element to top of page"),p.set.minimumSize(),p.set.offset(),w.css({left:p.cache.element.left,bottom:"",marginBottom:""}).removeClass(g.bound).removeClass(g.bottom).addClass(g.fixed).addClass(g.top),m.onStick.call(T)},fixBottom:function(){p.debug("Sticking element to bottom of page"),p.set.minimumSize(),p.set.offset(),w.css({left:p.cache.element.left,bottom:"",marginBottom:""}).removeClass(g.bound).removeClass(g.top).addClass(g.fixed).addClass(g.bottom),m.onStick.call(T)},unbind:function(){p.is.bound()&&(p.debug("Removing container bound position on element"),p.remove.offset(),w.removeClass(g.bound).removeClass(g.top).removeClass(g.bottom))},unfix:function(){p.is.fixed()&&(p.debug("Removing fixed position on element"),p.remove.offset(),w.removeClass(g.fixed).removeClass(g.top).removeClass(g.bottom),m.onUnstick.call(T))},reset:function(){p.debug("Reseting elements position"),p.unbind(),p.unfix(),p.resetCSS(),p.remove.offset(),p.remove.lastScroll()},resetCSS:function(){w.css({width:"",height:""}),o.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){m.debug&&(m.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,m.name+":"),p.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,m.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,0)},display:function(){var t=m.name+":",n=0;s=!1,clearTimeout(p.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=C;return n=n||d,o=T||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},u?(C===i&&p.initialize(),p.invoke(c)):(C!==i&&C.invoke("destroy"),p.initialize())}),r!==i?r:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.tab=function(r){var o,a=e(e.isFunction(this)?t:this),s=a.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1),f=!1;return a.each(function(){var p,m,g,v,b,y,x=e.isPlainObject(r)?e.extend(!0,{},e.fn.tab.settings,r):e.extend({},e.fn.tab.settings),w=x.className,_=x.metadata,k=x.selector,C=x.error,S="."+x.namespace,T="module-"+x.namespace,D=e(this),A={},E=!0,M=0,P=this,N=D.data(T);b={initialize:function(){b.debug("Initializing tab menu item",D),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",x.context,m),x.auto&&b.set.auto(),b.bind.events(),x.history&&!f&&(b.initializeHistory(),f=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),N=b,D.data(T,b)},destroy:function(){b.debug("Destroying tabs",D),D.removeData(T).off(S)},bind:{events:function(){e.isWindow(P)||(b.debug("Attaching tab activation events to element",D),D.on("click"+S,b.event.click))}},determineTabs:function(){var t;"parent"===x.context?(D.closest(k.ui).length>0?(t=D.closest(k.ui),b.verbose("Using closest UI element as parent",t)):t=D,p=t.parent(),b.verbose("Determined parent element for creating context",p)):x.context?(p=e(x.context),b.verbose("Using selector for tab context",x.context,p)):p=e("body"),x.childrenOnly?(m=p.children(k.tabs),b.debug("Searching tab context children for tabs",p,m)):(m=p.find(k.tabs),b.debug("Searching tab context for tabs",p,m))},fix:{callbacks:function(){e.isPlainObject(r)&&(r.onTabLoad||r.onTabInit)&&(r.onTabLoad&&(r.onLoad=r.onTabLoad,delete r.onTabLoad,b.error(C.legacyLoad,r.onLoad)),r.onTabInit&&(r.onFirstLoad=r.onTabInit,delete r.onTabInit,b.error(C.legacyInit,r.onFirstLoad)),x=e.extend(!0,{},e.fn.tab.settings,r))}},initializeHistory:function(){if(b.debug("Initializing page state"),e.address===i)return b.error(C.state),!1;if("state"==x.historyType){if(b.debug("Using HTML5 to manage state"),x.path===!1)return b.error(C.path),!1;e.address.history(!0).state(x.path)}e.address.bind("change",b.event.history.change)},event:{click:function(t){var n=e(this).data(_.tab);n!==i?(x.history?(b.verbose("Updating page state",t),e.address.value(n)):(b.verbose("Changing tab",t),b.changeTab(n)),t.preventDefault()):b.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||b.get.initialPath(),r=x.templates.determineTitle(n)||!1;b.performance.display(),b.debug("History change event",n,t),y=t,n!==i&&b.changeTab(n),r&&e.address.title(r)}}},refresh:function(){g&&(b.debug("Refreshing tab",g),b.changeTab(g))},cache:{read:function(e){return e!==i?A[e]:!1},add:function(e,t){e=e||g,b.debug("Adding cached content for",e),A[e]=t},remove:function(e){e=e||g,b.debug("Removing cached content for",e),delete A[e]}},set:{auto:function(){var t="string"==typeof x.path?x.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",t),
e.isPlainObject(x.apiSettings)?x.apiSettings.url=t:x.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e),n=t.hasClass(w.loading);n||(b.verbose("Setting loading state for",t),t.addClass(w.loading).siblings(m).removeClass(w.active+" "+w.loading),t.length>0&&x.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,r=i&&x.ignoreFirstLoad&&E,o=x.auto||e.isPlainObject(x.apiSettings),a=o&&!r?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(a),e.each(a,function(t,i){var s,l,c,u,d=a.slice(0,t+1),h=b.utilities.arrayToPath(d),f=b.is.tab(h),m=t+1==a.length,k=b.get.tabElement(h);if(b.verbose("Looking for tab",i),f){if(b.verbose("Tab was found",i),g=h,v=b.utilities.filterArray(a,d),m?u=!0:(l=a.slice(0,t+2),c=b.utilities.arrayToPath(l),u=!b.is.tab(c),u&&b.verbose("Tab parameters found",l)),u&&o)return r?(b.debug("Ignoring remote content on first tab load",h),E=!1,b.cache.add(n,k.html()),b.activate.all(h),x.onFirstLoad.call(k[0],h,v,y),x.onLoad.call(k[0],h,v,y)):(b.activate.navigation(h),b.fetch.content(h,n)),!1;b.debug("Opened local tab",h),b.activate.all(h),b.cache.read(h)||(b.cache.add(h,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(k[0],h,v,y)),x.onLoad.call(k[0],h,v,y)}else{if(-1!=n.search("/")||""===n)return b.error(C.missingTab,D,p,h),!1;if(s=e("#"+n+', a[name="'+n+'"]'),h=s.closest("[data-tab]").data(_.tab),k=b.get.tabElement(h),s&&s.length>0&&h)return b.debug("Anchor link used, opening parent tab",k,s),k.hasClass(w.active)||setTimeout(function(){b.scrollTo(s)},0),b.activate.all(h),b.cache.read(h)||(b.cache.add(h,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(k[0],h,v,y)),x.onLoad.call(k[0],h,v,y),!1}})},scrollTo:function(t){var i=t&&t.length>0?t.offset().top:!1;i!==!1&&(b.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(e,t,n){var r=b.get.tabElement(e),o=r[0];n=n!==i?n:x.evaluateScripts,n?(b.debug("Updating HTML and evaluating inline scripts",e,t),r.html(t)):(b.debug("Updating HTML",e,t),o.innerHTML=t)}},fetch:{content:function(t,n){var r,o,a=b.get.tabElement(t),s={dataType:"html",encodeParameters:!1,on:"now",cache:x.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){b.cache.add(n,e),b.update.content(t,e),t==g?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),x.onFirstLoad.call(a[0],t,v,y),x.onLoad.call(a[0],t,v,y)},urlData:{tab:n}},l=a.api("get request")||!1,c=l&&"pending"===l.state();n=n||t,o=b.cache.read(n),x.cache&&o?(b.activate.tab(t),b.debug("Adding cached content",n),"once"==x.evaluateScripts?b.update.content(t,o,!1):b.update.content(t,o),x.onLoad.call(a[0],t,v,y)):c?(b.set.loading(t),b.debug("Content is already loading",n)):e.api!==i?(r=e.extend(!0,{},x.apiSettings,s),b.debug("Retrieving remote content",n,r),b.set.loading(t),a.api(r)):b.error(C.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=t.hasClass(w.active);b.verbose("Showing tab content for",t),n||(t.addClass(w.active).siblings(m).removeClass(w.active+" "+w.loading),t.length>0&&x.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=t.hasClass(w.active);b.verbose("Activating tab navigation for",t,e),n||t.addClass(w.active).siblings(a).removeClass(w.active+" "+w.loading)}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){a.removeClass(w.active)},tabs:function(){m.removeClass(w.active+" "+w.loading)}},is:{tab:function(e){return e!==i?b.get.tabElement(e).length>0:!1}},get:{initialPath:function(){return a.eq(0).data(_.tab)||m.eq(0).data(_.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=a.filter("[data-"+_.tab+'^="'+e+'/"]').eq(0),n=t.data(_.tab)||!1;if(n){if(b.debug("Found default tab",n),M<x.maxDepth)return M++,b.get.defaultPath(n);b.error(C.recursion)}else b.debug("No default tabs found for",e,m);return M=0,e},navElement:function(e){return e=e||g,a.filter("[data-"+_.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,r;return e=e||g,i=b.utilities.pathToArray(e),r=b.utilities.last(i),t=m.filter("[data-"+_.tab+'="'+e+'"]'),n=m.filter("[data-"+_.tab+'="'+r+'"]'),t.length>0?t:n},tab:function(){return g}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return e.isArray(t)?t[t.length-1]:!1},pathToArray:function(e){return e===i&&(e=g),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){return e.isArray(t)?t.join("/"):!1}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,x,t);else{if(n===i)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===i)return b[t];b[t]=n}},debug:function(){x.debug&&(x.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,x.name+":"),b.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,x.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;x.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=x.name+":",n=0;l=!1,clearTimeout(b.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var a,s,l,c=N;return n=n||h,r=P||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(b.error(C.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},d?(N===i&&b.initialize(),b.invoke(u)):(N!==i&&N.invoke("destroy"),b.initialize())}),o!==i?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.transition=function(){var r,o=e(this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments,u=c[0],d=[].slice.call(arguments,1),h="string"==typeof u;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return o.each(function(t){var f,p,m,g,v,b,y,x,w,_=e(this),k=this;w={initialize:function(){f=w.get.settings.apply(k,c),g=f.className,m=f.error,v=f.metadata,x="."+f.namespace,y="module-"+f.namespace,p=_.data(y)||w,b=w.get.animationEndEvent(),h&&(h=w.invoke(u)),h===!1&&(w.verbose("Converted arguments into settings object",f),f.interval?w.delay(f.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),p=w,_.data(y,p)},destroy:function(){w.verbose("Destroying previous module for",k),_.removeData(y)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var e=_.parent(),t=_.next();0===t.length?_.detach().appendTo(e):_.detach().insertBefore(t)},repaint:function(){w.verbose("Repainting element");k.offsetWidth},delay:function(e){var n,r,a=w.get.animationDirection();a||(a=w.can.transition()?w.get.direction():"static"),e=e!==i?e:f.interval,n="auto"==f.reverse&&a==g.outward,r=n||1==f.reverse?(o.length-t)*f.interval:t*f.interval,w.debug("Delaying animation by",r),setTimeout(w.animate,r)},animate:function(e){if(f=e||f,!w.is.supported())return w.error(m.support),!1;if(w.debug("Preparing animation",f.animation),w.is.animating()){if(f.queue)return!f.allowRepeats&&w.has.direction()&&w.is.occurring()&&w.queuing!==!0?w.debug("Animation is currently occurring, preventing queueing same animation",f.animation):w.queue(f.animation),!1;if(!f.allowRepeats&&w.is.occurring())return w.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;w.debug("New animation started, completing previous early",f.animation),p.complete()}w.can.animate()?w.set.animating(f.animation):w.error(m.noAnimation,f.animation,k)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(e){w.debug("Queueing animation of",e),w.queuing=!0,_.one(b+".queue"+x,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,f)})},complete:function(e){w.debug("Animation complete",f.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):(w.verbose("Static animation completed"),w.restore.conditions(),f.onComplete.call(k)))},force:{visible:function(){var e=_.attr("style"),t=w.get.userStyle(),n=w.get.displayType(),r=t+"display: "+n+" !important;",o=_.css("display"),a=e===i||""===e;o!==n?(w.verbose("Overriding default display to show element",n),_.attr("style",r)):a&&_.removeAttr("style")},hidden:function(){var e=_.attr("style"),t=_.css("display"),n=e===i||""===e;"none"===t||w.is.hidden()?n&&_.removeAttr("style"):(w.verbose("Overriding default display to hide element"),_.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){(t===g.inward||t===g.outward)&&(n=!0)})),n},inlineDisplay:function(){var t=_.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;w.remove.completeCallback(),e=e||f.animation,t=w.get.animationClass(e),w.save.animation(t),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(t)},duration:function(e,t){t=t||f.duration,t="number"==typeof t?t+"ms":t,(t||0===t)&&(w.verbose("Setting animation duration",t),_.css({"animation-duration":t}))},direction:function(e){e=e||w.get.direction(),e==g.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),_.addClass(g.looping)},hidden:function(){_.addClass(g.transition).addClass(g.hidden)},inward:function(){w.debug("Setting direction to inward"),_.removeClass(g.outward).addClass(g.inward)},outward:function(){w.debug("Setting direction to outward"),_.removeClass(g.inward).addClass(g.outward)},visible:function(){_.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||w.get.animationClass(),w.debug("Starting tween",e),_.addClass(e).one(b+".complete"+x,w.complete),f.useFailSafe&&w.add.failSafe(),w.set.duration(f.duration),f.onStart.call(k)}},save:{animation:function(e){w.cache||(w.cache={}),w.cache.animation=e},displayType:function(e){"none"!==e&&_.data(v.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,w.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=w.get.currentAnimation();e&&(_.removeClass(e),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var e=w.get.duration();w.timer=setTimeout(function(){_.triggerHandler(b)},e+f.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){_.removeClass(g.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){_.off(".queue"+x)},completeCallback:function(){_.off(".complete"+x)},display:function(){_.css("display","")},direction:function(){_.removeClass(g.inward).removeClass(g.outward)},duration:function(){_.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){_.removeClass(g.hidden)},visible:function(){_.removeClass(g.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),_.removeClass(g.looping))},transition:function(){_.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return w.cache&&w.cache.animation!==i?w.cache.animation:!1},currentDirection:function(){return w.is.inward()?g.inward:g.outward},direction:function(){return w.is.hidden()||!w.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n?n:!1},duration:function(e){return e=e||f.duration,e===!1&&(e=_.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return f.displayType?f.displayType:(_.data(v.displayType)===i&&w.can.transition(!0),_.data(v.displayType))},userStyle:function(e){return e=e||_.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),r={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in r)if(t.style[e]!==i)return r[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),r={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in r)if(t.style[e]!==i)return r[e];return!1}},can:{transition:function(t){var n,r,o,a,s,l,c,u=f.animation,d=w.get.transitionExists(u);if(d===i||t){if(w.verbose("Determining whether animation exists"),n=_.attr("class"),r=_.prop("tagName"),o=e("<"+r+" />").addClass(n).insertAfter(_),a=o.addClass(u).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),s=o.addClass(g.inward).css("animationName"),c=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),w.verbose("Determining final display state",c),w.save.displayType(c),o.remove(),a!=s)w.debug("Direction exists for animation",u),l=!0;else{if("none"==a||!a)return void w.debug("No animation defined in css",u);w.debug("Static animation found",u,c),l=!1}w.save.transitionExists(u,l)}return d!==i?d:l},animate:function(){return w.can.transition()!==i}},is:{animating:function(){return _.hasClass(g.animating)},inward:function(){return _.hasClass(g.inward)},outward:function(){return _.hasClass(g.outward)},looping:function(){return _.hasClass(g.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),_.filter(e).length>0},visible:function(){return _.is(":visible")},hidden:function(){return"hidden"===_.css("visibility")},supported:function(){return b!==!1}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),k.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),w.force.hidden(),f.onHide.call(k),f.onComplete.call(k)},show:function(e){w.verbose("Showing element",e),w.remove.hidden(),w.set.visible(),w.force.visible(),f.onShow.call(k),f.onComplete.call(k)},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),_.triggerHandler(b)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),_.triggerHandler(b)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),_.removeClass(g.disabled)},disable:function(){w.debug("Stopping animation"),_.addClass(g.disabled)},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(n===i)return f[t];f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(n===i)return w[t];w[t]=n}},debug:function(){f.debug&&(f.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,f.name+":"),w.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,f.name+":"),w.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(w.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=p;return n=n||d,o=k||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):!1;c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s!==i?s:!1}},w.initialize()}),r!==i?r:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.api=e.fn.api=function(n){var r,o=e(e.isFunction(this)?t:this),a=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,h,f,p,m,g,v=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),b=v.namespace,y=v.metadata,x=v.selector,w=v.error,_=v.className,k="."+b,C="module-"+b,S=e(this),T=S.closest(x.form),D=v.stateContext?e(v.stateContext):S,A=this,E=D[0],M=S.data(C);g={initialize:function(){u||g.bind.events(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),M=g,S.data(C,M)},destroy:function(){g.verbose("Destroying previous module for",A),S.removeData(C).off(k)},bind:{events:function(){var e=g.get.event();e?(g.verbose("Attaching API events to element",e),S.on(e+k,g.event.trigger)):"now"==v.on&&(g.debug("Querying API endpoint immediately"),g.query())}},decode:{json:function(e){if(e!==i&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}},read:{cachedResponse:function(e){var n;return t.Storage===i?void g.error(w.noStorage):(n=sessionStorage.getItem(e),g.debug("Using cached response",e,n),n=g.decode.json(n),!1)}},write:{cachedResponse:function(n,r){return r&&""===r?void g.debug("Response empty, not caching",r):t.Storage===i?void g.error(w.noStorage):(e.isPlainObject(r)&&(r=JSON.stringify(r)),sessionStorage.setItem(n,r),void g.verbose("Storing cached response for url",n,r))}},query:function(){if(g.is.disabled())return void g.debug("Element is disabled API request aborted");if(g.is.loading()){if(!v.interruptRequests)return void g.debug("Cancelling request, previous request is still pending");g.debug("Interrupting previous request"),g.abort()}return v.defaultData&&e.extend(!0,v.urlData,g.get.defaultData()),v.serializeForm&&(v.data=g.add.formData(v.data)),h=g.get.settings(),h===!1?(g.cancelled=!0,void g.error(w.beforeSend)):(g.cancelled=!1,f=g.get.templatedURL(),f||g.is.mocked()?(f=g.add.urlData(f),f||g.is.mocked()?(h.url=v.base+f,o=e.extend(!0,{},v,{type:v.method||v.type,data:p,url:v.base+f,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),g.debug("Querying URL",o.url),g.verbose("Using AJAX settings",o),"local"===v.cache&&g.read.cachedResponse(f)?(g.debug("Response returned from local cache"),g.request=g.create.request(),void g.request.resolveWith(E,[g.read.cachedResponse(f)])):void(v.throttle?v.throttleFirstRequest||g.timer?(g.debug("Throttling request",v.throttle),clearTimeout(g.timer),g.timer=setTimeout(function(){g.timer&&delete g.timer,g.debug("Sending throttled request",p,o.method),g.send.request()},v.throttle)):(g.debug("Sending request",p,o.method),g.send.request(),g.timer=setTimeout(function(){},v.throttle)):(g.debug("Sending request",p,o.method),g.send.request()))):void 0):void g.error(w.missingURL))},should:{removeError:function(){return v.hideError===!0||"auto"===v.hideError&&!g.is.form()}},is:{disabled:function(){return S.filter(x.disabled).length>0},form:function(){return S.is("form")||D.is("form")},mocked:function(){return v.mockResponse||v.mockResponseAsync||v.response||v.responseAsync},input:function(){return S.is("input")},loading:function(){return g.request&&"pending"==g.request.state()},abortedRequest:function(e){return e&&e.readyState!==i&&0===e.readyState?(g.verbose("XHR request determined to be aborted"),!0):(g.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return"json"!==v.dataType&&"jsonp"!==v.dataType||!e.isFunction(v.successTest)?(g.verbose("Response is not JSON, skipping validation",v.successTest,t),!0):(g.debug("Checking JSON returned success",v.successTest,t),v.successTest(t)?(g.debug("Response passed success test",t),!0):(g.debug("Response failed success test",t),!1))}},was:{cancelled:function(){return g.cancelled||!1},succesful:function(){return g.request&&"resolved"==g.request.state()},failure:function(){return g.request&&"rejected"==g.request.state()},complete:function(){return g.request&&("resolved"==g.request.state()||"rejected"==g.request.state())}},add:{urlData:function(t,n){var r,o;return t&&(r=t.match(v.regExp.required),o=t.match(v.regExp.optional),n=n||v.urlData,r&&(g.debug("Looking for required URL variables",r),e.each(r,function(r,o){var a=-1!==o.indexOf("$")?o.substr(2,o.length-3):o.substr(1,o.length-2),s=e.isPlainObject(n)&&n[a]!==i?n[a]:S.data(a)!==i?S.data(a):D.data(a)!==i?D.data(a):n[a];return s===i?(g.error(w.requiredParameter,a,t),t=!1,!1):(g.verbose("Found required variable",a,s),s=v.encodeParameters?g.get.urlEncodedValue(s):s,t=t.replace(o,s),void 0)})),o&&(g.debug("Looking for optional URL variables",r),e.each(o,function(r,o){var a=-1!==o.indexOf("$")?o.substr(3,o.length-4):o.substr(2,o.length-3),s=e.isPlainObject(n)&&n[a]!==i?n[a]:S.data(a)!==i?S.data(a):D.data(a)!==i?D.data(a):n[a];s!==i?(g.verbose("Optional variable Found",a,s),t=t.replace(o,s)):(g.verbose("Optional variable not found",a),t=-1!==t.indexOf("/"+o)?t.replace("/"+o,""):t.replace(o,""))}))),t},formData:function(t){var n,r=e.fn.serializeObject!==i,o=r?T.serializeObject():T.serialize();return t=t||v.data,n=e.isPlainObject(t),n?r?(g.debug("Extending existing data with form data",t,o),t=e.extend(!0,{},t,o)):(g.error(w.missingSerialize),g.debug("Cant extend data. Replacing data with form data",t,o),t=o):(g.debug("Adding form data",o),t=o),t}},send:{request:function(){g.set.loading(),g.request=g.create.request(),g.is.mocked()?g.mockedXHR=g.create.mockedXHR():g.xhr=g.create.xhr(),v.onRequest.call(E,g.request,g.xhr)}},event:{trigger:function(e){g.query(),("submit"==e.type||"click"==e.type)&&e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var r=this,o=(new Date).getTime()-m,a=v.loadingDuration-o,s=e.isFunction(v.onResponse)?v.onResponse.call(r,e.extend(!0,{},t)):!1;a=a>0?a:0,s&&(g.debug("Modified API response in onResponse callback",v.onResponse,s,t),t=s),a>0&&g.debug("Response completed early delaying state change by",a),setTimeout(function(){g.is.validResponse(t)?g.request.resolveWith(r,[t,i]):g.request.rejectWith(r,[i,"invalid"])},a)},fail:function(e,t,n){var i=this,r=(new Date).getTime()-m,o=v.loadingDuration-r;o=o>0?o:0,o>0&&g.debug("Response completed early delaying state change by",o),setTimeout(function(){g.is.abortedRequest(e)?g.request.rejectWith(i,[e,"aborted",n]):g.request.rejectWith(i,[e,"error",t,n])},o)}},request:{done:function(e,t){g.debug("Successful API Response",e),"local"===v.cache&&f&&(g.write.cachedResponse(f,e),g.debug("Saving server response locally",g.cache)),v.onSuccess.call(E,e,S,t)},complete:function(e,t){var n,i;g.was.succesful()?(i=e,n=t):(n=e,i=g.get.responseFromXHR(n)),g.remove.loading(),v.onComplete.call(E,i,S,n)},fail:function(e,t,n){var r=g.get.responseFromXHR(e),a=g.get.errorFromRequest(r,t,n);"aborted"==t?(g.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),v.onAbort.call(E,t,S,e)):"invalid"==t?g.debug("JSON did not pass success test. A server-side error has most likely occurred",r):"error"==t&&e!==i&&(g.debug("XHR produced a server error",t,n),200!=e.status&&n!==i&&""!==n&&g.error(w.statusMessage+n,o.url),v.onError.call(E,a,S,e)),v.errorDuration&&"aborted"!==t&&(g.debug("Adding error state"),g.set.error(),g.should.removeError()&&setTimeout(g.remove.error,v.errorDuration)),g.debug("API Request failed",a,e),v.onFailure.call(E,r,S,e)}}},create:{request:function(){return e.Deferred().always(g.event.request.complete).done(g.event.request.done).fail(g.event.request.fail)},mockedXHR:function(){var t,n,i,r=!1,o=!1,a=!1,s=v.mockResponse||v.response,l=v.mockResponseAsync||v.responseAsync;return i=e.Deferred().always(g.event.xhr.complete).done(g.event.xhr.done).fail(g.event.xhr.fail),s?(e.isFunction(s)?(g.debug("Using specified synchronous callback",s),n=s.call(E,h)):(g.debug("Using settings specified response",s),n=s),i.resolveWith(E,[n,r,{responseText:n}])):e.isFunction(l)&&(t=function(e){g.debug("Async callback returned response",e),e?i.resolveWith(E,[e,r,{responseText:e}]):i.rejectWith(E,[{responseText:e},o,a])},g.debug("Using specified async response callback",l),l.call(E,h,t)),i},xhr:function(){var t;return t=e.ajax(o).always(g.event.xhr.always).done(g.event.xhr.done).fail(g.event.xhr.fail),g.verbose("Created server request",t),t}},set:{error:function(){g.verbose("Adding error state to element",D),D.addClass(_.error)},loading:function(){g.verbose("Adding loading state to element",D),D.addClass(_.loading),m=(new Date).getTime()}},remove:{error:function(){g.verbose("Removing error state from element",D),D.removeClass(_.error)},loading:function(){g.verbose("Removing loading state from element",D),D.removeClass(_.loading)}},get:{responseFromXHR:function(t){return e.isPlainObject(t)?"json"==v.dataType||"jsonp"==v.dataType?g.decode.json(t.responseText):t.responseText:!1},errorFromRequest:function(t,n,r){return e.isPlainObject(t)&&t.error!==i?t.error:v.error[n]!==i?v.error[n]:r},request:function(){return g.request||!1},xhr:function(){return g.xhr||!1},settings:function(){var t;return t=v.beforeSend.call(E,v),t&&(t.success!==i&&(g.debug("Legacy success callback detected",t),g.error(w.legacyParameters,t.success),t.onSuccess=t.success),t.failure!==i&&(g.debug("Legacy failure callback detected",t),g.error(w.legacyParameters,t.failure),t.onFailure=t.failure),t.complete!==i&&(g.debug("Legacy complete callback detected",t),g.error(w.legacyParameters,t.complete),t.onComplete=t.complete)),t===i&&g.error(w.noReturnedValue),t!==i?e.extend(!0,{},t):e.extend(!0,{},v)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e),r=n!==e;return r?(g.debug("URL value is already encoded, avoiding double encoding",e),e):(g.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(A)||(g.is.input()?t.value=S.val():g.is.form()&&(t.text=S.text())),t},event:function(){return e.isWindow(A)||"now"==v.on?(g.debug("API called without element, no events attached"),!1):"auto"==v.on?S.is("input")?A.oninput!==i?"input":A.onpropertychange!==i?"propertychange":"keyup":S.is("form")?"submit":"click":v.on},templatedURL:function(e){if(e=e||S.data(y.action)||v.action||!1,f=S.data(y.url)||v.url||!1)return g.debug("Using specified url",f),f;if(e){if(g.debug("Looking up url for action",e,v.api),v.api[e]===i&&!g.is.mocked())return void g.error(w.missingAction,v.action,v.api);f=v.api[e]}else g.is.form()&&(f=S.attr("action")||D.attr("action")||!1,g.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=g.get.xhr();e&&"resolved"!==e.state()&&(g.debug("Cancelling API request"),e.abort())},reset:function(){g.remove.error(),g.remove.loading()},setting:function(t,n){if(g.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,v,t);else{if(n===i)return v[t];v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===i)return g[t];g[t]=n}},debug:function(){v.debug&&(v.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,v.name+":"),g.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),g.verbose.apply(console,arguments)))},error:function(){g.error=Function.prototype.bind.call(console.error,console,v.name+":"),
g.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;v.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=v.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var a,s,l,c=M;return n=n||d,o=A||o,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(g.error(w.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(o,n):s!==i&&(l=s),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),s}},u?(M===i&&g.initialize(),g.invoke(c)):(M!==i&&M.invoke("destroy"),g.initialize())}),r!==i?r:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.state=function(t){var r,o=e(this),a=o.selector||"",s=("ontouchstart"in n.documentElement,(new Date).getTime()),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var n,h=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=h.error,p=h.metadata,m=h.className,g=h.namespace,v=h.states,b=h.text,y="."+g,x=g+"-module",w=e(this),_=this,k=w.data(x);n={initialize:function(){n.verbose("Initializing module"),h.automatic&&n.add.defaults(),h.context&&""!==a?e(h.context).on(a,"mouseenter"+y,n.change.text).on(a,"mouseleave"+y,n.reset.text).on(a,"click"+y,n.toggle.state):w.on("mouseenter"+y,n.change.text).on("mouseleave"+y,n.reset.text).on("click"+y,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),k=n,w.data(x,n)},destroy:function(){n.verbose("Destroying previous module",k),w.off(y).removeData(x)},refresh:function(){n.verbose("Refreshing selector cache"),w=e(_)},add:{defaults:function(){var r=t&&e.isPlainObject(t.states)?t.states:{};e.each(h.defaults,function(t,o){n.is[t]!==i&&n.is[t]()&&(n.verbose("Adding default states",t,_),e.extend(h.states,o,r))})}},is:{active:function(){return w.hasClass(m.active)},loading:function(){return w.hasClass(m.loading)},inactive:function(){return!w.hasClass(m.active)},state:function(e){return m[e]===i?!1:w.hasClass(m[e])},enabled:function(){return!w.is(h.filter.active)},disabled:function(){return w.is(h.filter.active)},textEnabled:function(){return!w.is(h.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),v[e]=!0},disallow:function(e){n.debug("No longer allowing",e),v[e]=!1},allows:function(e){return v[e]||!1},enable:function(){w.removeClass(m.disabled)},disable:function(){w.addClass(m.disabled)},setState:function(e){n.allows(e)&&w.addClass(m[e])},removeState:function(e){n.allows(e)&&w.removeClass(m[e])},toggle:{state:function(){var t,r;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),e.fn.api!==i)if(t=w.api("get request"),r=w.api("was cancelled"))n.debug("API Request cancelled by beforesend"),h.activateTest=function(){return!1},h.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),h.activateTest=function(){return!0},h.deactivateTest=function(){return!0}):(n.debug("API request failed"),h.activateTest=function(){return!1},h.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),h.sync&&n.sync(),h.onChange.call(_)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){h.activateTest.call(_)&&(n.debug("Setting state to active"),w.addClass(m.active),n.update.text(b.active),h.onActivate.call(_))},deactivate:function(){h.deactivateTest.call(_)&&(n.debug("Setting state to inactive"),w.removeClass(m.active),n.update.text(b.inactive),h.onDeactivate.call(_))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?o.not(w).state("activate"):o.not(w).state("deactivate")},get:{text:function(){return h.selector.text?w.find(h.selector.text).text():w.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var r=n.get.text();n.debug("Flashing text message",e,t),e=e||h.text.flash,t=t||h.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(r),i.call(_)},t)}},reset:{text:function(){var e=b.active||w.data(p.storedText),t=b.inactive||w.data(p.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),h.selector.text?w.data(p.storedText,e).find(h.selector.text).text(e):w.data(p.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,r){if(n.debug("Changing setting",t,r),e.isPlainObject(t))e.extend(!0,h,t);else{if(r===i)return h[t];h[t]=r}},internal:function(t,r){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(r===i)return n[t];n[t]=r}},debug:function(){h.debug&&(h.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,h.name+":"),n.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,h.name+":"),n.error.apply(console,arguments)},performance:{log:function(e){var t,i,r;h.performance&&(t=(new Date).getTime(),r=s||t,i=t-r,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:_,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=h.name+":",r=0;s=!1,clearTimeout(n.performance.timer),e.each(l,function(e,t){r+=t["Execution Time"]}),t+=" "+r+"ms",a&&(t+=" '"+a+"'"),(console.group!==i||console.table!==i)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,o,a){var s,l,c,u=k;return o=o||d,a=_||a,"string"==typeof t&&u!==i&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(r,o){var a=r!=s?o+t[r+1].charAt(0).toUpperCase()+t[r+1].slice(1):t;if(e.isPlainObject(u[a])&&r!=s)u=u[a];else{if(u[a]!==i)return l=u[a],!1;if(!e.isPlainObject(u[o])||r==s)return u[o]!==i?(l=u[o],!1):(n.error(f.method,t),!1);u=u[o]}})),e.isFunction(l)?c=l.apply(a,o):l!==i&&(c=l),e.isArray(r)?r.push(c):r!==i?r=[r,c]:c!==i&&(r=c),l}},u?(k===i&&n.initialize(),n.invoke(c)):(k!==i&&k.invoke("destroy"),n.initialize())}),r!==i?r:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";e.fn.visibility=function(r){var o,a=e(this),s=a.selector||"",l=(new Date).getTime(),c=[],u=arguments[0],d="string"==typeof u,h=[].slice.call(arguments,1);return a.each(function(){var a,f,p,m=e.isPlainObject(r)?e.extend(!0,{},e.fn.visibility.settings,r):e.extend({},e.fn.visibility.settings),g=m.className,v=m.namespace,b=m.error,y=m.metadata,x="."+v,w="module-"+v,_=e(t),k=e(this),C=e(m.context),S=(k.selector||"",k.data(w)),T=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},D=this,A=!1;p={initialize:function(){p.debug("Initializing",m),p.setup.cache(),p.should.trackChanges()&&("image"==m.type&&p.setup.image(),"fixed"==m.type&&p.setup.fixed(),m.observeChanges&&p.observeChanges(),p.bind.events()),p.save.position(),p.is.visible()||p.error(b.visible,k),m.initialCheck&&p.checkVisibility(),p.instantiate()},instantiate:function(){p.debug("Storing instance",p),k.data(w,p),S=p},destroy:function(){p.verbose("Destroying previous module"),f&&f.disconnect(),_.off("load"+x,p.event.load).off("resize"+x,p.event.resize),C.off("scrollchange"+x,p.event.scrollchange),k.off(x).removeData(w)},observeChanges:function(){"MutationObserver"in t&&(f=new MutationObserver(function(e){p.verbose("DOM tree modified, updating visibility calculations"),p.timer=setTimeout(function(){p.verbose("DOM tree modified, updating sticky menu"),p.refresh()},100)}),f.observe(D,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",f))},bind:{events:function(){p.verbose("Binding visibility events to scroll and resize"),m.refreshOnLoad&&_.on("load"+x,p.event.load),_.on("resize"+x,p.event.resize),C.off("scroll"+x).on("scroll"+x,p.event.scroll).on("scrollchange"+x,p.event.scrollchange)}},event:{resize:function(){p.debug("Window resized"),m.refreshOnResize&&T(p.refresh)},load:function(){p.debug("Page finished loading"),T(p.refresh)},scroll:function(){m.throttle?(clearTimeout(p.timer),p.timer=setTimeout(function(){C.triggerHandler("scrollchange"+x,[C.scrollTop()])},m.throttle)):T(function(){C.triggerHandler("scrollchange"+x,[C.scrollTop()])})},scrollchange:function(e,t){p.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var r=t.length,o=0,a=[],s=n.createElement("img"),l=function(){o++,o>=t.length&&e.isFunction(i)&&i()};r--;)s=n.createElement("img"),s.onload=l,s.onerror=l,s.src=t[r],a.push(s)},enableCallbacks:function(){p.debug("Allowing callbacks to occur"),A=!1},disableCallbacks:function(){p.debug("Disabling all callbacks temporarily"),A=!0},should:{trackChanges:function(){return d?(p.debug("One time query, no need to bind events"),!1):(p.debug("Callbacks being attached"),!0)}},setup:{cache:function(){p.cache={occurred:{},screen:{},element:{}}},image:function(){var e=k.data(y.src);e&&(p.verbose("Lazy loading image",e),m.once=!0,m.observeChanges=!1,m.onOnScreen=function(){p.debug("Image on screen",D),p.precache(e,function(){p.set.image(e)})})},fixed:function(){p.debug("Setting up fixed"),m.once=!1,m.observeChanges=!1,m.initialCheck=!0,m.refreshOnLoad=!0,r.transition||(m.transition=!1),p.create.placeholder(),p.debug("Added placeholder",a),m.onTopPassed=function(){p.debug("Element passed, adding fixed position",k),p.show.placeholder(),p.set.fixed(),m.transition&&e.fn.transition!==i&&k.transition(m.transition,m.duration)},m.onTopPassedReverse=function(){p.debug("Element returned to position, removing fixed",k),p.hide.placeholder(),p.remove.fixed()}}},create:{placeholder:function(){p.verbose("Creating fixed position placeholder"),a=k.clone(!1).css("display","none").addClass(g.placeholder).insertAfter(k)}},show:{placeholder:function(){p.verbose("Showing placeholder"),a.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){p.verbose("Hiding placeholder"),a.css("display","none").css("visibility","")}},set:{fixed:function(){p.verbose("Setting element to fixed position"),k.addClass(g.fixed).css({position:"fixed",top:m.offset+"px",left:"auto",zIndex:"1"})},image:function(t){k.attr("src",t),m.transition?e.fn.transition!==i?k.transition(m.transition,m.duration):k.fadeIn(m.duration):k.show()}},is:{onScreen:function(){var e=p.get.elementCalculations();return e.onScreen},offScreen:function(){var e=p.get.elementCalculations();return e.offScreen},visible:function(){return p.cache&&p.cache.element?!(0===p.cache.element.width&&0===p.cache.element.offset.top):!1}},refresh:function(){p.debug("Refreshing constants (width/height)"),"fixed"==m.type&&(p.remove.fixed(),p.remove.occurred()),p.reset(),p.save.position(),m.checkOnRefresh&&p.checkVisibility(),m.onRefresh.call(D)},reset:function(){p.verbose("Reseting all cached values"),e.isPlainObject(p.cache)&&(p.cache.screen={},p.cache.element={})},checkVisibility:function(e){p.verbose("Checking visibility of element",p.cache.element),!A&&p.is.visible()&&(p.save.scroll(e),p.save.calculations(),p.passed(),p.passingReverse(),p.topVisibleReverse(),p.bottomVisibleReverse(),p.topPassedReverse(),p.bottomPassedReverse(),p.onScreen(),p.offScreen(),p.passing(),p.topVisible(),p.bottomVisible(),p.topPassed(),p.bottomPassed(),m.onUpdate&&m.onUpdate.call(D,p.get.elementCalculations()))},passed:function(t,n){var r=p.get.elementCalculations();if(t&&n)m.onPassed[t]=n;else{if(t!==i)return p.get.pixelsPassed(t)>r.pixelsPassed;r.passing&&e.each(m.onPassed,function(e,t){r.bottomVisible||r.pixelsPassed>p.get.pixelsPassed(e)?p.execute(t,e):m.once||p.remove.occurred(t)})}},onScreen:function(e){var t=p.get.elementCalculations(),n=e||m.onOnScreen,r="onScreen";return e&&(p.debug("Adding callback for onScreen",e),m.onOnScreen=e),t.onScreen?p.execute(n,r):m.once||p.remove.occurred(r),e!==i?t.onOnScreen:void 0},offScreen:function(e){var t=p.get.elementCalculations(),n=e||m.onOffScreen,r="offScreen";return e&&(p.debug("Adding callback for offScreen",e),m.onOffScreen=e),t.offScreen?p.execute(n,r):m.once||p.remove.occurred(r),e!==i?t.onOffScreen:void 0},passing:function(e){var t=p.get.elementCalculations(),n=e||m.onPassing,r="passing";return e&&(p.debug("Adding callback for passing",e),m.onPassing=e),t.passing?p.execute(n,r):m.once||p.remove.occurred(r),e!==i?t.passing:void 0},topVisible:function(e){var t=p.get.elementCalculations(),n=e||m.onTopVisible,r="topVisible";return e&&(p.debug("Adding callback for top visible",e),m.onTopVisible=e),t.topVisible?p.execute(n,r):m.once||p.remove.occurred(r),e===i?t.topVisible:void 0},bottomVisible:function(e){var t=p.get.elementCalculations(),n=e||m.onBottomVisible,r="bottomVisible";return e&&(p.debug("Adding callback for bottom visible",e),m.onBottomVisible=e),t.bottomVisible?p.execute(n,r):m.once||p.remove.occurred(r),e===i?t.bottomVisible:void 0},topPassed:function(e){var t=p.get.elementCalculations(),n=e||m.onTopPassed,r="topPassed";return e&&(p.debug("Adding callback for top passed",e),m.onTopPassed=e),t.topPassed?p.execute(n,r):m.once||p.remove.occurred(r),e===i?t.topPassed:void 0},bottomPassed:function(e){var t=p.get.elementCalculations(),n=e||m.onBottomPassed,r="bottomPassed";return e&&(p.debug("Adding callback for bottom passed",e),m.onBottomPassed=e),t.bottomPassed?p.execute(n,r):m.once||p.remove.occurred(r),e===i?t.bottomPassed:void 0},passingReverse:function(e){var t=p.get.elementCalculations(),n=e||m.onPassingReverse,r="passingReverse";return e&&(p.debug("Adding callback for passing reverse",e),m.onPassingReverse=e),t.passing?m.once||p.remove.occurred(r):p.get.occurred("passing")&&p.execute(n,r),e!==i?!t.passing:void 0},topVisibleReverse:function(e){var t=p.get.elementCalculations(),n=e||m.onTopVisibleReverse,r="topVisibleReverse";return e&&(p.debug("Adding callback for top visible reverse",e),m.onTopVisibleReverse=e),t.topVisible?m.once||p.remove.occurred(r):p.get.occurred("topVisible")&&p.execute(n,r),e===i?!t.topVisible:void 0},bottomVisibleReverse:function(e){var t=p.get.elementCalculations(),n=e||m.onBottomVisibleReverse,r="bottomVisibleReverse";return e&&(p.debug("Adding callback for bottom visible reverse",e),m.onBottomVisibleReverse=e),t.bottomVisible?m.once||p.remove.occurred(r):p.get.occurred("bottomVisible")&&p.execute(n,r),e===i?!t.bottomVisible:void 0},topPassedReverse:function(e){var t=p.get.elementCalculations(),n=e||m.onTopPassedReverse,r="topPassedReverse";return e&&(p.debug("Adding callback for top passed reverse",e),m.onTopPassedReverse=e),t.topPassed?m.once||p.remove.occurred(r):p.get.occurred("topPassed")&&p.execute(n,r),e===i?!t.onTopPassed:void 0},bottomPassedReverse:function(e){var t=p.get.elementCalculations(),n=e||m.onBottomPassedReverse,r="bottomPassedReverse";return e&&(p.debug("Adding callback for bottom passed reverse",e),m.onBottomPassedReverse=e),t.bottomPassed?m.once||p.remove.occurred(r):p.get.occurred("bottomPassed")&&p.execute(n,r),e===i?!t.bottomPassed:void 0},execute:function(e,t){var n=p.get.elementCalculations(),i=p.get.screenCalculations();e=e||!1,e&&(m.continuous?(p.debug("Callback being called continuously",t,n),e.call(D,n,i)):p.get.occurred(t)||(p.debug("Conditions met",t,n),e.call(D,n,i))),p.save.occurred(t)},remove:{fixed:function(){p.debug("Removing fixed position"),k.removeClass(g.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){if(e){var t=p.cache.occurred;t[e]!==i&&t[e]===!0&&(p.debug("Callback can now be called again",e),p.cache.occurred[e]=!1)}else p.cache.occurred={}}},save:{calculations:function(){p.verbose("Saving all calculations necessary to determine positioning"),p.save.direction(),p.save.screenCalculations(),p.save.elementCalculations()},occurred:function(e){e&&(p.cache.occurred[e]===i||p.cache.occurred[e]!==!0)&&(p.verbose("Saving callback occurred",e),p.cache.occurred[e]=!0)},scroll:function(e){e=e+m.offset||C.scrollTop()+m.offset,p.cache.scroll=e},direction:function(){var e,t=p.get.scroll(),n=p.get.lastScroll();return e=t>n&&n?"down":n>t&&n?"up":"static",p.cache.direction=e,p.cache.direction},elementPosition:function(){var e=p.cache.element,t=p.get.screenSize();return p.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=k.offset(),e.width=k.outerWidth(),e.height=k.outerHeight(),p.cache.element=e,e},elementCalculations:function(){var e=p.get.screenCalculations(),t=p.get.elementPosition();return m.includeMargin?(t.margin={},t.margin.top=parseInt(k.css("margin-top"),10),t.margin.bottom=parseInt(k.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),p.cache.element=t,p.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=p.get.scroll();return p.save.direction(),p.cache.screen.top=e,p.cache.screen.bottom=e+p.cache.screen.height,p.cache.screen},screenSize:function(){p.verbose("Saving window position"),p.cache.screen={height:C.height()}},position:function(){p.save.screenSize(),p.save.elementPosition()}},get:{pixelsPassed:function(e){var t=p.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return p.cache.occurred!==i?p.cache.occurred[e]||!1:!1},direction:function(){return p.cache.direction===i&&p.save.direction(),p.cache.direction},elementPosition:function(){return p.cache.element===i&&p.save.elementPosition(),p.cache.element},elementCalculations:function(){return p.cache.element===i&&p.save.elementCalculations(),p.cache.element},screenCalculations:function(){return p.cache.screen===i&&p.save.screenCalculations(),p.cache.screen},screenSize:function(){return p.cache.screen===i&&p.save.screenSize(),p.cache.screen},scroll:function(){return p.cache.scroll===i&&p.save.scroll(),p.cache.scroll},lastScroll:function(){return p.cache.screen===i?(p.debug("First scroll event, no last scroll could be found"),!1):p.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,m,t);else{if(n===i)return m[t];m[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,p,t);else{if(n===i)return p[t];p[t]=n}},debug:function(){m.debug&&(m.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,m.name+":"),p.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,m.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;m.performance&&(t=(new Date).getTime(),i=l||t,n=t-i,l=t,c.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=m.name+":",n=0;l=!1,clearTimeout(p.performance.timer),e.each(c,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(t),console.table?console.table(c):e.each(c,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(t,n,r){var a,s,l,c=S;return n=n||h,r=D||r,"string"==typeof t&&c!==i&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,r){var o=n!=a?r+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=a)c=c[o];else{if(c[o]!==i)return s=c[o],!1;if(!e.isPlainObject(c[r])||n==a)return c[r]!==i?(s=c[r],!1):(p.error(b.method,t),!1);c=c[r]}})),e.isFunction(s)?l=s.apply(r,n):s!==i&&(l=s),e.isArray(o)?o.push(l):o!==i?o=[o,l]:l!==i&&(o=l),s}},d?(S===i&&p.initialize(),S.save.scroll(),S.save.calculations(),p.invoke(u)):(S!==i&&S.invoke("destroy"),p.initialize())}),o!==i?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(){var e,t,n,i;!function(){var r={},o={};e=function(e,t,n){r[e]={deps:t,callback:n}},i=n=t=function(e){function n(t){if("."!==t.charAt(0))return t;for(var n=t.split("/"),i=e.split("/").slice(0,-1),r=0,o=n.length;o>r;r++){var a=n[r];if(".."===a)i.pop();else{if("."===a)continue;i.push(a)}}return i.join("/")}if(i._eak_seen=r,o[e])return o[e];if(o[e]={},!r[e])throw new Error("Could not find module "+e);for(var a,s=r[e],l=s.deps,c=s.callback,u=[],d=0,h=l.length;h>d;d++)"exports"===l[d]?u.push(a={}):u.push(t(n(l[d])));var f=c.apply(this,u);return o[e]=a||f}}(),e("promise/all",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to all.");return new t(function(t,n){function i(e){return function(t){o(e,t)}}function o(e,n){s[e]=n,0===--l&&t(s)}var a,s=[],l=e.length;0===l&&t([]);for(var c=0;c<e.length;c++)a=e[c],a&&r(a.then)?a.then(i(c),n):o(c,a)})}var i=e.isArray,r=e.isFunction;t.all=n}),e("promise/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(r)}}function n(){var e=0,t=new l(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){return function(){c.setTimeout(r,1)}}function r(){for(var e=0;e<u.length;e++){var t=u[e],n=t[0],i=t[1];n(i)}u=[]}function o(e,t){var n=u.push([e,t]);1===n&&a()}var a,s="undefined"!=typeof window?window:{},l=s.MutationObserver||s.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,u=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():l?n():i(),e.asap=o}),e("promise/config",["exports"],function(e){"use strict";function t(e,t){return 2!==arguments.length?n[e]:void(n[e]=t)}var n={instrument:!1};e.config=n,e.configure=t}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,n){"use strict";function i(){var e;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var t="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),o(t)}();t||(e.Promise=r)}var r=e.Promise,o=t.isFunction;n.polyfill=i}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,n,i,r,o,a,s){"use strict";function l(e){if(!w(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(e,this)}function c(e,t){function n(e){p(t,e)}function i(e){g(t,e)}try{e(n,i)}catch(r){i(r)}}function u(e,t,n,i){var r,o,a,s,l=w(n);if(l)try{r=n(i),a=!0}catch(c){s=!0,o=c}else r=i,a=!0;f(t,r)||(l&&a?p(t,r):s?g(t,o):e===E?p(t,r):e===M&&g(t,r))}function d(e,t,n,i){var r=e._subscribers,o=r.length;r[o]=t,r[o+E]=n,r[o+M]=i}function h(e,t){for(var n,i,r=e._subscribers,o=e._detail,a=0;a<r.length;a+=3)n=r[a],i=r[a+t],u(t,n,i,o);e._subscribers=null}function f(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(x(t)&&(i=t.then,w(i)))return i.call(t,function(i){return n?!0:(n=!0,void(t!==i?p(e,i):m(e,i)))},function(t){return n?!0:(n=!0,void g(e,t))}),!0}catch(r){return n?!0:(g(e,r),!0)}return!1}function p(e,t){e===t?m(e,t):f(e,t)||m(e,t)}function m(e,t){e._state===D&&(e._state=A,e._detail=t,y.async(v,e))}function g(e,t){e._state===D&&(e._state=A,e._detail=t,y.async(b,e))}function v(e){h(e,e._state=E)}function b(e){h(e,e._state=M)}var y=e.config,x=(e.configure,t.objectOrFunction),w=t.isFunction,_=(t.now,n.all),k=i.race,C=r.resolve,S=o.reject,T=a.asap;y.async=T;var D=void 0,A=0,E=1,M=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n=this,i=new this.constructor(function(){});if(this._state){var r=arguments;y.async(function(){u(n._state,i,r[n._state-1],n._detail)})}else d(this,i,e,t);return i},"catch":function(e){return this.then(null,e)}},l.all=_,l.race=k,l.resolve=C,l.reject=S,s.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){"use strict";function n(e){var t=this;if(!i(e))throw new TypeError("You must pass an array to race.");return new t(function(t,n){for(var i,r=0;r<e.length;r++)i=e[r],i&&"function"==typeof i.then?i.then(t,n):t(i)})}var i=e.isArray;t.race=n}),e("promise/reject",["exports"],function(e){"use strict";function t(e){var t=this;return new t(function(t,n){n(e)})}e.reject=t}),e("promise/resolve",["exports"],function(e){"use strict";function t(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=this;return new t(function(t){t(e)})}e.resolve=t}),e("promise/utils",["exports"],function(e){"use strict";function t(e){return n(e)||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}var r=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=t,e.isFunction=n,e.isArray=i,e.now=r}),t("promise/polyfill").polyfill()}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.localforage=t():e.localforage=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=function(e){function t(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function o(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(p(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}function a(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t]===e)return!0;return!1}function s(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e["catch"](n)}var l={},c={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",
WEBSQL:"webSQLStorage"},u=[c.INDEXEDDB,c.WEBSQL,c.LOCALSTORAGE],d=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],h={description:"",driver:u.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},f=function(e){var t={};return t[c.INDEXEDDB]=!!function(){try{var t=t||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;return"undefined"!=typeof e.openDatabase&&e.navigator&&e.navigator.userAgent&&/Safari/.test(e.navigator.userAgent)&&!/Chrome/.test(e.navigator.userAgent)?!1:t&&"function"==typeof t.open&&"undefined"!=typeof e.IDBKeyRange}catch(n){return!1}}(),t[c.WEBSQL]=!!function(){try{return e.openDatabase}catch(t){return!1}}(),t[c.LOCALSTORAGE]=!!function(){try{return e.localStorage&&"setItem"in e.localStorage&&e.localStorage.setItem}catch(t){return!1}}(),t}(e),p=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},m=function(){function e(t){i(this,e),this.INDEXEDDB=c.INDEXEDDB,this.LOCALSTORAGE=c.LOCALSTORAGE,this.WEBSQL=c.WEBSQL,this._defaultConfig=o({},h),this._config=o({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e)"storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),this._config[t]=e[t];return"driver"in e&&e.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new Promise(function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+e._driver);if(!e._driver)return void n(r);if(a(e._driver))return void n(o);for(var s=d.concat("_initStorage"),c=0;c<s.length;c++){var u=s[c];if(!u||!e[u]||"function"!=typeof e[u])return void n(r)}var h=Promise.resolve(!0);"_support"in e&&(h=e._support&&"function"==typeof e._support?e._support():Promise.resolve(!!e._support)),h.then(function(n){f[i]=n,l[i]=e,t()},n)}catch(p){n(p)}});return s(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,i){var r=this,o=function(){if(a(e))switch(e){case r.INDEXEDDB:return new Promise(function(e,t){e(n(1))});case r.LOCALSTORAGE:return new Promise(function(e,t){e(n(2))});case r.WEBSQL:return new Promise(function(e,t){e(n(4))})}else if(l[e])return Promise.resolve(l[e]);return Promise.reject(new Error("Driver not found."))}();return s(o,t,i),o},e.prototype.getSerializer=function(e){var t=new Promise(function(e,t){e(n(3))});return s(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return s(n,e,e),n},e.prototype.setDriver=function(e,t,n){function i(){o._config.driver=o.driver()}function r(e){return function(){function t(){for(;n<e.length;){var r=e[n];return n++,o._dbInfo=null,o._ready=null,o.getDriver(r).then(function(e){return o._extend(e),i(),o._ready=o._initStorage(o._config),o._ready})["catch"](t)}i();var a=new Error("No available storage method found.");return o._driverSet=Promise.reject(a),o._driverSet}var n=0;return t()}}var o=this;p(e)||(e=[e]);var a=this._getSupportedDrivers(e),l=null!==this._driverSet?this._driverSet["catch"](function(){return Promise.resolve()}):Promise.resolve();return this._driverSet=l.then(function(){var e=a[0];return o._dbInfo=null,o._ready=null,o.getDriver(e).then(function(e){o._driver=e._driver,i(),o._wrapLibraryMethodsWithReady(),o._initDriver=r(a)})})["catch"](function(){i();var e=new Error("No available storage method found.");return o._driverSet=Promise.reject(e),o._driverSet}),s(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!f[e]},e.prototype._extend=function(e){o(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;i>n;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<d.length;e++)t(this,d[e])},e.prototype.createInstance=function(t){return new e(t)},e}();return new m}("undefined"!=typeof window?window:"undefined"!=typeof self?self:{});t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=function(e){function t(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(i){if("TypeError"!==i.name)throw i;for(var r=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,o=new r,a=0;a<t.length;a+=1)o.append(t[a]);return o.getBlob(n.type)}}function n(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;t>r;r++)i[r]=e.charCodeAt(r);return n}function i(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.withCredentials=!0,i.responseType="arraybuffer",i.onreadystatechange=function(){return 4===i.readyState?200===i.status?t({response:i.response,type:i.getResponseHeader("Content-Type")}):void n({status:i.status,response:i.response}):void 0},i.send()})}function r(e){return new Promise(function(n,r){var o=t([""],{type:"image/png"}),a=e.transaction([E],"readwrite");a.objectStore(E).put(o,"key"),a.oncomplete=function(){var t=e.transaction([E],"readwrite"),o=t.objectStore(E).get("key");o.onerror=r,o.onsuccess=function(e){var t=e.target.result,r=URL.createObjectURL(t);i(r).then(function(e){n(!(!e||"image/png"!==e.type))},function(){n(!1)}).then(function(){URL.revokeObjectURL(r)})}},a.onerror=a.onabort=r})["catch"](function(){return!1})}function o(e){return"boolean"==typeof D?Promise.resolve(D):r(e).then(function(e){return D=e})}function a(e){return new Promise(function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)})}function s(e){var i=n(atob(e.data));return t([i],{type:e.type})}function l(e){return e&&e.__local_forage_encoded_blob}function c(e){var t=this,n=t._initReady().then(function(){var e=A[t._dbInfo.name];return e&&e.dbReady?e.dbReady:void 0});return n.then(e,e),n}function u(e){var t=A[e.name],n={};n.promise=new Promise(function(e){n.resolve=e}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function d(e){var t=A[e.name],n=t.deferredOperations.pop();n&&n.resolve()}function h(e){function t(){return Promise.resolve()}var n=this,i={db:null};if(e)for(var r in e)i[r]=e[r];A||(A={});var o=A[i.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},A[i.name]=o),o.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=c);for(var a=[],s=0;s<o.forages.length;s++){var l=o.forages[s];l!==n&&a.push(l._initReady()["catch"](t))}var u=o.forages.slice(0);return Promise.all(a).then(function(){return i.db=o.db,f(i)}).then(function(e){return i.db=e,g(i,n._defaultConfig.version)?p(i):e}).then(function(e){i.db=o.db=e,n._dbInfo=i;for(var t=0;t<u.length;t++){var r=u[t];r!==n&&(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}})}function f(e){return m(e,!1)}function p(e){return m(e,!0)}function m(t,n){return new Promise(function(i,r){if(t.db){if(!n)return i(t.db);u(t),t.db.close()}var o=[t.name];n&&o.push(t.version);var a=T.open.apply(T,o);n&&(a.onupgradeneeded=function(n){var i=a.result;try{i.createObjectStore(t.storeName),n.oldVersion<=1&&i.createObjectStore(E)}catch(r){if("ConstraintError"!==r.name)throw r;e.console.warn('The database "'+t.name+'" has been upgraded from version '+n.oldVersion+" to version "+n.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(){r(a.error)},a.onsuccess=function(){i(a.result),d(t)}})}function g(t,n){if(!t.db)return!0;var i=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,o=t.version>t.db.version;if(r&&(t.version!==n&&e.console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||i){if(i){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function v(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),l(t)&&(t=s(t)),e(t)},a.onerror=function(){n(a.error)}})["catch"](n)});return S(r,n),r}function b(e,t){var n=this,i=new Promise(function(t,i){n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=o.openCursor(),c=1;a.onsuccess=function(){var n=a.result;if(n){var i=n.value;l(i)&&(i=s(i));var r=e(i,n.key,c++);void 0!==r?t(r):n["continue"]()}else t()},a.onerror=function(){i(a.error)}})["catch"](i)});return S(i,t),i}function y(t,n,i){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var s=new Promise(function(e,i){var s;r.ready().then(function(){return s=r._dbInfo,n instanceof Blob?o(s.db).then(function(e){return e?n:a(n)}):n}).then(function(n){var r=s.db.transaction(s.storeName,"readwrite"),o=r.objectStore(s.storeName);null===n&&(n=void 0),r.oncomplete=function(){void 0===n&&(n=null),e(n)},r.onabort=r.onerror=function(){var e=a.error?a.error:a.transaction.error;i(e)};var a=o.put(n,t)})["catch"](i)});return S(s,i),s}function x(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),a=o.objectStore(r.storeName),s=a["delete"](t);o.oncomplete=function(){e()},o.onerror=function(){n(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;n(e)}})["catch"](n)});return S(r,n),r}function w(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo,r=i.db.transaction(i.storeName,"readwrite"),o=r.objectStore(i.storeName),a=o.clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}})["catch"](n)});return S(n,e),n}function _(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}})["catch"](n)});return S(n,e),n}function k(e,t){var n=this,i=new Promise(function(t,i){return 0>e?void t(null):void n.ready().then(function(){var r=n._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),a=!1,s=o.openCursor();s.onsuccess=function(){var n=s.result;return n?void(0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e))):void t(null)},s.onerror=function(){i(s.error)}})["catch"](i)});return S(i,t),i}function C(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo,r=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),o=r.openCursor(),a=[];o.onsuccess=function(){var t=o.result;return t?(a.push(t.key),void t["continue"]()):void e(a)},o.onerror=function(){n(o.error)}})["catch"](n)});return S(n,e),n}function S(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var T=T||e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.OIndexedDB||e.msIndexedDB;if(T){var D,A,E="local-forage-detect-blob-support",M={_driver:"asyncStorage",_initStorage:h,iterate:b,getItem:v,setItem:y,removeItem:x,clear:w,length:_,key:k,keys:C};return M}}("undefined"!=typeof window?window:"undefined"!=typeof self?self:{});t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){function t(e){var t=this,i={};if(e)for(var r in e)i[r]=e[r];return i.keyPrefix=i.name+"/",i.storeName!==t._defaultConfig.storeName&&(i.keyPrefix+=i.storeName+"/"),t._dbInfo=i,new Promise(function(e,t){e(n(3))}).then(function(e){return i.serializer=e,Promise.resolve()})}function i(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=h.length-1;n>=0;n--){var i=h.key(n);0===i.indexOf(e)&&h.removeItem(i)}});return d(n,e),n}function r(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=i.ready().then(function(){var e=i._dbInfo,n=h.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return d(r,n),r}function o(e,t){var n=this,i=n.ready().then(function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,o=h.length,a=1,s=0;o>s;s++){var l=h.key(s);if(0===l.indexOf(i)){var c=h.getItem(l);if(c&&(c=t.serializer.deserialize(c)),c=e(c,l.substring(r),a++),void 0!==c)return c}}});return d(i,t),i}function a(e,t){var n=this,i=n.ready().then(function(){var t,i=n._dbInfo;try{t=h.key(e)}catch(r){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t});return d(i,t),i}function s(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=h.length,i=[],r=0;n>r;r++)0===h.key(r).indexOf(e.keyPrefix)&&i.push(h.key(r).substring(e.keyPrefix.length));return i});return d(n,e),n}function l(e){var t=this,n=t.keys().then(function(e){return e.length});return d(n,e),n}function c(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=i.ready().then(function(){var e=i._dbInfo;h.removeItem(e.keyPrefix+t)});return d(r,n),r}function u(t,n,i){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=r.ready().then(function(){void 0===n&&(n=null);var e=n;return new Promise(function(i,o){var a=r._dbInfo;a.serializer.serialize(n,function(n,r){if(r)o(r);else try{h.setItem(a.keyPrefix+t,n),i(e)}catch(s){("QuotaExceededError"===s.name||"NS_ERROR_DOM_QUOTA_REACHED"===s.name)&&o(s),o(s)}})})});return d(o,i),o}function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var h=null;try{if(!(e.localStorage&&"setItem"in e.localStorage))return;h=e.localStorage}catch(f){return}var p={_driver:"localStorageWrapper",_initStorage:t,iterate:o,getItem:r,setItem:u,removeItem:c,clear:i,length:l,key:a,keys:s};return p}("undefined"!=typeof window?window:"undefined"!=typeof self?self:{});t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";t.__esModule=!0;var n=function(e){function t(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(i){if("TypeError"!==i.name)throw i;for(var r=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,o=new r,a=0;a<t.length;a+=1)o.append(t[a]);return o.getBlob(n.type)}}function n(e,t){var n="";if(e&&(n=e.toString()),e&&("[object ArrayBuffer]"===e.toString()||e.buffer&&"[object ArrayBuffer]"===e.buffer.toString())){var i,r=c;e instanceof ArrayBuffer?(i=e,r+=d):(i=e.buffer,"[object Int8Array]"===n?r+=f:"[object Uint8Array]"===n?r+=p:"[object Uint8ClampedArray]"===n?r+=m:"[object Int16Array]"===n?r+=g:"[object Uint16Array]"===n?r+=b:"[object Int32Array]"===n?r+=v:"[object Uint32Array]"===n?r+=y:"[object Float32Array]"===n?r+=x:"[object Float64Array]"===n?r+=w:t(new Error("Failed to get type for BinaryArray"))),t(r+o(i))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=s+e.type+"~"+o(this.result);t(c+h+n)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(l){console.error("Couldn't convert value into a JSON string: ",e),t(null,l)}}function i(e){if(e.substring(0,u)!==c)return JSON.parse(e);var n,i=e.substring(_),o=e.substring(u,_);if(o===h&&l.test(i)){var a=i.match(l);n=a[1],i=i.substring(a[0].length)}var s=r(i);switch(o){case d:return s;case h:return t([s],{type:n});case f:return new Int8Array(s);case p:return new Uint8Array(s);case m:return new Uint8ClampedArray(s);case g:return new Int16Array(s);case b:return new Uint16Array(s);case v:return new Int32Array(s);case y:return new Uint32Array(s);case x:return new Float32Array(s);case w:return new Float64Array(s);default:throw new Error("Unkown type: "+o)}}function r(e){var t,n,i,r,o,s=.75*e.length,l=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(t=0;l>t;t+=4)n=a.indexOf(e[t]),i=a.indexOf(e[t+1]),r=a.indexOf(e[t+2]),o=a.indexOf(e[t+3]),d[c++]=n<<2|i>>4,d[c++]=(15&i)<<4|r>>2,d[c++]=(3&r)<<6|63&o;return u}function o(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=a[n[t]>>2],i+=a[(3&n[t])<<4|n[t+1]>>4],i+=a[(15&n[t+1])<<2|n[t+2]>>6],i+=a[63&n[t+2]];return n.length%3===2?i=i.substring(0,i.length-1)+"=":n.length%3===1&&(i=i.substring(0,i.length-2)+"=="),i}var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="~~local_forage_type~",l=/^~~local_forage_type~([^~]+)~/,c="__lfsc__:",u=c.length,d="arbf",h="blob",f="si08",p="ui08",m="uic8",g="si16",v="si32",b="ur16",y="ui32",x="fl32",w="fl64",_=u+d.length,k={serialize:n,deserialize:i,stringToBuffer:r,bufferToString:o};return k}("undefined"!=typeof window?window:"undefined"!=typeof self?self:{});t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";t.__esModule=!0;var i=function(e){function t(e){var t=this,i={db:null};if(e)for(var r in e)i[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new Promise(function(e,n){try{i.db=h(i.name,String(i.version),i.description,i.size)}catch(r){return n(r)}i.db.transaction(function(r){r.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){t._dbInfo=i,e()},function(e,t){n(t)})})});return new Promise(function(e,t){e(n(3))}).then(function(e){return i.serializer=e,o})}function i(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)},function(e,t){n(t)})})})["catch"](n)});return d(r,n),r}function r(e,t){var n=this,i=new Promise(function(t,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT * FROM "+r.storeName,[],function(n,i){for(var o=i.rows,a=o.length,s=0;a>s;s++){var l=o.item(s),c=l.value;if(c&&(c=r.serializer.deserialize(c)),c=e(c,l.key,s+1),void 0!==c)return void t(c)}t()},function(e,t){i(t)})})})["catch"](i)});return d(i,t),i}function o(t,n,i){var r=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise(function(e,i){r.ready().then(function(){void 0===n&&(n=null);var o=n,a=r._dbInfo;a.serializer.serialize(n,function(n,r){r?i(r):a.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){e(o)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&i(e)})})})["catch"](i)});return d(o,i),o}function a(t,n){var i=this;"string"!=typeof t&&(e.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[t],function(){e()},function(e,t){n(t)})})})["catch"](n)});return d(r,n),r}function s(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("DELETE FROM "+i.storeName,[],function(){e()},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function l(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT COUNT(key) as c FROM "+i.storeName,[],function(t,n){var i=n.rows.item(0).c;e(i)},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function c(e,t){var n=this,i=new Promise(function(t,i){n.ready().then(function(){var r=n._dbInfo;r.db.transaction(function(n){n.executeSql("SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)},function(e,t){i(t)})})})["catch"](i)});return d(i,t),i}function u(e){var t=this,n=new Promise(function(e,n){t.ready().then(function(){var i=t._dbInfo;i.db.transaction(function(t){t.executeSql("SELECT key FROM "+i.storeName,[],function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)},function(e,t){n(t)})})})["catch"](n)});return d(n,e),n}function d(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}var h=e.openDatabase;if(h){var f={_driver:"webSQLStorage",_initStorage:t,iterate:r,getItem:i,setItem:o,removeItem:a,clear:s,length:l,key:c,keys:u};return f}}("undefined"!=typeof window?window:"undefined"!=typeof self?self:{});t["default"]=i,e.exports=t["default"]}])}),function(e,t,n){function i(n,i,r){var o=t.createElement(n);return i&&(o.id=J+i),r&&(o.style.cssText=r),e(o)}function r(){return n.innerHeight?n.innerHeight:e(n).height()}function o(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var i;return void 0===this.cache[t]&&(i=e(this.el).attr("data-cbox-"+t),void 0!==i?this.cache[t]=i:void 0!==n[t]?this.cache[t]=n[t]:void 0!==K[t]&&(this.cache[t]=K[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function a(e){var t=T.length,n=(W+e)%t;return 0>n?t+n:n}function s(e,t){return Math.round((/%/.test(e)?("x"===t?D.width():r())/100:1)*parseInt(e,10))}function l(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function u(e){"contains"in y[0]&&!y[0].contains(e.target)&&e.target!==b[0]&&(e.stopPropagation(),y.focus())}function d(e){d.str!==e&&(y.add(b).removeClass(d.str).addClass(e),d.str=e)}function h(t){W=0,t&&t!==!1&&"nofollow"!==t?(T=e("."+ee).filter(function(){var n=e.data(this,Q),i=new o(this,n);return i.get("rel")===t}),W=T.index(z.el),-1===W&&(T=T.add(z.el),W=T.length-1)):T=e(z.el)}function f(n){e(t).trigger(n),se.triggerHandler(n)}function p(n){var r;if(!$){if(r=e(n).data(Q),z=new o(n,r),h(z.get("rel")),!U){U=Y=!0,d(z.get("className")),y.css({visibility:"hidden",display:"block",opacity:""}),A=i(le,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),w.css({width:"",height:""}).append(A),B=_.height()+S.height()+w.outerHeight(!0)-w.height(),F=k.width()+C.width()+w.outerWidth(!0)-w.width(),H=A.outerHeight(!0),q=A.outerWidth(!0);var a=s(z.get("initialWidth"),"x"),l=s(z.get("initialHeight"),"y"),c=z.get("maxWidth"),p=z.get("maxHeight");z.w=Math.max((c!==!1?Math.min(a,s(c,"x")):a)-q-F,0),z.h=Math.max((p!==!1?Math.min(l,s(p,"y")):l)-H-B,0),A.css({width:"",height:z.h}),G.position(),f(te),z.get("onOpen"),j.add(P).hide(),y.focus(),z.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",u,!0),se.one(oe,function(){t.removeEventListener("focus",u,!0)})),z.get("returnFocus")&&se.one(oe,function(){e(z.el).focus()})}var m=parseFloat(z.get("opacity"));b.css({opacity:m===m?m:"",cursor:z.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),z.get("closeButton")?L.html(z.get("close")).appendTo(w):L.appendTo("<div/>"),v()}}function m(){y||(Z=!1,D=e(n),y=i(le).attr({id:Q,"class":e.support.opacity===!1?J+"IE":"",role:"dialog",tabindex:"-1"}).hide(),b=i(le,"Overlay").hide(),M=e([i(le,"LoadingOverlay")[0],i(le,"LoadingGraphic")[0]]),x=i(le,"Wrapper"),w=i(le,"Content").append(P=i(le,"Title"),N=i(le,"Current"),O=e('<button type="button"/>').attr({id:J+"Previous"}),I=e('<button type="button"/>').attr({id:J+"Next"}),R=i("button","Slideshow"),M),L=e('<button type="button"/>').attr({id:J+"Close"}),x.append(i(le).append(i(le,"TopLeft"),_=i(le,"TopCenter"),i(le,"TopRight")),i(le,!1,"clear:left").append(k=i(le,"MiddleLeft"),w,C=i(le,"MiddleRight")),i(le,!1,"clear:left").append(i(le,"BottomLeft"),S=i(le,"BottomCenter"),i(le,"BottomRight"))).find("div div").css({"float":"left"}),E=i(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),j=I.add(O).add(N).add(R)),t.body&&!y.parent().length&&e(t.body).append(b,y.append(x,E))}function g(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),p(this))}return y?(Z||(Z=!0,I.click(function(){G.next()}),O.click(function(){G.prev()}),L.click(function(){G.close()}),b.click(function(){z.get("overlayClose")&&G.close()}),e(t).bind("keydown."+J,function(e){var t=e.keyCode;U&&z.get("escKey")&&27===t&&(e.preventDefault(),G.close()),U&&z.get("arrowKey")&&T[1]&&!e.altKey&&(37===t?(e.preventDefault(),O.click()):39===t&&(e.preventDefault(),I.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+J,"."+ee,n):e("."+ee).live("click."+J,n)),!0):!1}function v(){var t,r,o,a=G.prep,u=++ce;if(Y=!0,V=!1,f(ae),f(ne),z.get("onLoad"),z.h=z.get("height")?s(z.get("height"),"y")-H-B:z.get("innerHeight")&&s(z.get("innerHeight"),"y"),z.w=z.get("width")?s(z.get("width"),"x")-q-F:z.get("innerWidth")&&s(z.get("innerWidth"),"x"),z.mw=z.w,z.mh=z.h,z.get("maxWidth")&&(z.mw=s(z.get("maxWidth"),"x")-q-F,z.mw=z.w&&z.w<z.mw?z.w:z.mw),z.get("maxHeight")&&(z.mh=s(z.get("maxHeight"),"y")-H-B,z.mh=z.h&&z.h<z.mh?z.h:z.mh),t=z.get("href"),X=setTimeout(function(){M.show()},100),z.get("inline")){var d=e(t);o=e("<div>").hide().insertBefore(d),se.one(ae,function(){o.replaceWith(d)}),a(d)}else z.get("iframe")?a(" "):z.get("html")?a(z.get("html")):l(z,t)?(t=c(z,t),V=z.get("createImg"),e(V).addClass(J+"Photo").bind("error."+J,function(){a(i(le,"Error").html(z.get("imgError")))}).one("load",function(){u===ce&&setTimeout(function(){var t;z.get("retinaImage")&&n.devicePixelRatio>1&&(V.height=V.height/n.devicePixelRatio,V.width=V.width/n.devicePixelRatio),z.get("scalePhotos")&&(r=function(){V.height-=V.height*t,V.width-=V.width*t},z.mw&&V.width>z.mw&&(t=(V.width-z.mw)/V.width,r()),z.mh&&V.height>z.mh&&(t=(V.height-z.mh)/V.height,r())),z.h&&(V.style.marginTop=Math.max(z.mh-V.height,0)/2+"px"),T[1]&&(z.get("loop")||T[W+1])&&(V.style.cursor="pointer",e(V).bind("click."+J,function(){G.next()})),V.style.width=V.width+"px",V.style.height=V.height+"px",a(V)},1)}),V.src=t):t&&E.load(t,z.get("data"),function(t,n){u===ce&&a("error"===n?i(le,"Error").html(z.get("xhrError")):e(this).contents())})}var b,y,x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z,B,F,H,q,W,V,U,Y,$,X,G,Z,K={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image,n=e(this).data("cbox-img-attrs");return"object"==typeof n&&e.each(n,function(e,n){t[e]=n}),t},createIframe:function(){var n=t.createElement("iframe"),i=e(this).data("cbox-iframe-attrs");return"object"==typeof i&&e.each(i,function(e,t){n[e]=t}),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},Q="colorbox",J="cbox",ee=J+"Element",te=J+"_open",ne=J+"_load",ie=J+"_complete",re=J+"_cleanup",oe=J+"_closed",ae=J+"_purge",se=e("<a/>"),le="div",ce=0,ue={},de=function(){function e(){clearTimeout(a)}function t(){(z.get("loop")||T[W+1])&&(e(),a=setTimeout(G.next,z.get("slideshowSpeed")))}function n(){R.html(z.get("slideshowStop")).unbind(l).one(l,i),se.bind(ie,t).bind(ne,e),y.removeClass(s+"off").addClass(s+"on")}function i(){e(),se.unbind(ie,t).unbind(ne,e),R.html(z.get("slideshowStart")).unbind(l).one(l,function(){G.next(),n()}),y.removeClass(s+"on").addClass(s+"off")}function r(){o=!1,R.hide(),e(),se.unbind(ie,t).unbind(ne,e),y.removeClass(s+"off "+s+"on")}var o,a,s=J+"Slideshow_",l="click."+J;return function(){o?z.get("slideshow")||(se.unbind(re,r),r()):z.get("slideshow")&&T[1]&&(o=!0,se.one(re,r),z.get("slideshowAuto")?n():i(),R.show())}}();e[Q]||(e(m),G=e.fn[Q]=e[Q]=function(t,n){var i,r=this;return t=t||{},e.isFunction(r)&&(r=e("<a/>"),t.open=!0),r[0]?(m(),g()&&(n&&(t.onComplete=n),r.each(function(){var n=e.data(this,Q)||{};e.data(this,Q,e.extend(n,t))}).addClass(ee),i=new o(r[0],t),i.get("open")&&p(r[0])),r):r},G.position=function(t,n){function i(){_[0].style.width=S[0].style.width=w[0].style.width=parseInt(y[0].style.width,10)-F+"px",w[0].style.height=k[0].style.height=C[0].style.height=parseInt(y[0].style.height,10)-B+"px"}var o,a,l,c=0,u=0,d=y.offset();if(D.unbind("resize."+J),y.css({top:-9e4,left:-9e4}),a=D.scrollTop(),l=D.scrollLeft(),z.get("fixed")?(d.top-=a,d.left-=l,y.css({position:"fixed"})):(c=a,u=l,y.css({position:"absolute"})),u+=z.get("right")!==!1?Math.max(D.width()-z.w-q-F-s(z.get("right"),"x"),0):z.get("left")!==!1?s(z.get("left"),"x"):Math.round(Math.max(D.width()-z.w-q-F,0)/2),c+=z.get("bottom")!==!1?Math.max(r()-z.h-H-B-s(z.get("bottom"),"y"),0):z.get("top")!==!1?s(z.get("top"),"y"):Math.round(Math.max(r()-z.h-H-B,0)/2),y.css({top:d.top,left:d.left,visibility:"visible"}),x[0].style.width=x[0].style.height="9999px",o={width:z.w+q+F,height:z.h+H+B,top:c,left:u},t){var h=0;e.each(o,function(e){return o[e]!==ue[e]?void(h=t):void 0}),t=h}ue=o,t||y.css(o),y.dequeue().animate(o,{duration:t||0,complete:function(){i(),Y=!1,x[0].style.width=z.w+q+F+"px",x[0].style.height=z.h+H+B+"px",z.get("reposition")&&setTimeout(function(){D.bind("resize."+J,G.position)},1),e.isFunction(n)&&n()},step:i})},G.resize=function(e){var t;U&&(e=e||{},e.width&&(z.w=s(e.width,"x")-q-F),e.innerWidth&&(z.w=s(e.innerWidth,"x")),A.css({width:z.w}),e.height&&(z.h=s(e.height,"y")-H-B),e.innerHeight&&(z.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(t=A.scrollTop(),A.css({height:"auto"}),z.h=A.height()),A.css({height:z.h}),t&&A.scrollTop(t),G.position("none"===z.get("transition")?0:z.get("speed")))},G.prep=function(n){function r(){return z.w=z.w||A.width(),z.w=z.mw&&z.mw<z.w?z.mw:z.w,z.w}function s(){return z.h=z.h||A.height(),z.h=z.mh&&z.mh<z.h?z.mh:z.h,z.h}if(U){var u,h="none"===z.get("transition")?0:z.get("speed");A.remove(),A=i(le,"LoadedContent").append(n),A.hide().appendTo(E.show()).css({width:r(),overflow:z.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(w),E.hide(),e(V).css({"float":"none"}),d(z.get("className")),u=function(){function n(){e.support.opacity===!1&&y[0].style.removeAttribute("filter")}var i,r,s=T.length;U&&(r=function(){clearTimeout(X),M.hide(),f(ie),z.get("onComplete")},P.html(z.get("title")).show(),A.show(),s>1?("string"==typeof z.get("current")&&N.html(z.get("current").replace("{current}",W+1).replace("{total}",s)).show(),I[z.get("loop")||s-1>W?"show":"hide"]().html(z.get("next")),O[z.get("loop")||W?"show":"hide"]().html(z.get("previous")),de(),z.get("preloading")&&e.each([a(-1),a(1)],function(){var n,i=T[this],r=new o(i,e.data(i,Q)),a=r.get("href");a&&l(r,a)&&(a=c(r,a),n=t.createElement("img"),n.src=a)})):j.hide(),z.get("iframe")?(i=z.get("createIframe"),z.get("scrolling")||(i.scrolling="no"),e(i).attr({src:z.get("href"),"class":J+"Iframe"}).one("load",r).appendTo(A),se.one(ae,function(){i.src="//about:blank"}),z.get("fastIframe")&&e(i).trigger("load")):r(),"fade"===z.get("transition")?y.fadeTo(h,1,n):n())},
"fade"===z.get("transition")?y.fadeTo(h,0,function(){G.position(0,u)}):G.position(h,u)}},G.next=function(){!Y&&T[1]&&(z.get("loop")||T[W+1])&&(W=a(1),p(T[W]))},G.prev=function(){!Y&&T[1]&&(z.get("loop")||W)&&(W=a(-1),p(T[W]))},G.close=function(){U&&!$&&($=!0,U=!1,f(re),z.get("onCleanup"),D.unbind("."+J),b.fadeTo(z.get("fadeOut")||0,0),y.stop().fadeTo(z.get("fadeOut")||0,0,function(){y.hide(),b.hide(),f(ae),A.remove(),setTimeout(function(){$=!1,f(oe),z.get("onClosed")},1)}))},G.remove=function(){y&&(y.stop(),e[Q].close(),y.stop(!1,!0).remove(),b.remove(),$=!1,y=null,e("."+ee).removeData(Q).removeClass(ee),e(t).unbind("click."+J).unbind("keydown."+J))},G.element=function(){return e(z.el)},G.settings=K)}(jQuery,document,window),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=e,o=n[i],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}var a={},s="tinymce/geom/Rect",l="tinymce/util/Promise",c="tinymce/util/Delay",u="tinymce/dom/EventUtils",d="tinymce/dom/Sizzle",h="tinymce/Env",f="tinymce/util/Arr",p="tinymce/util/Tools",m="tinymce/dom/DomQuery",g="tinymce/html/Styles",v="tinymce/dom/TreeWalker",b="tinymce/dom/Range",y="tinymce/html/Entities",x="tinymce/dom/StyleSheetLoader",w="tinymce/dom/DOMUtils",_="tinymce/dom/ScriptLoader",k="tinymce/AddOnManager",C="tinymce/dom/NodeType",S="tinymce/text/Zwsp",T="tinymce/caret/CaretContainer",D="tinymce/dom/RangeUtils",A="tinymce/NodeChange",E="tinymce/html/Node",M="tinymce/html/Schema",P="tinymce/html/SaxParser",N="tinymce/html/DomParser",R="tinymce/html/Writer",I="tinymce/html/Serializer",O="tinymce/dom/Serializer",L="tinymce/dom/TridentSelection",j="tinymce/util/VK",z="tinymce/dom/ControlSelection",B="tinymce/util/Fun",F="tinymce/caret/CaretCandidate",H="tinymce/geom/ClientRect",q="tinymce/text/ExtendingChar",W="tinymce/caret/CaretPosition",V="tinymce/caret/CaretBookmark",U="tinymce/dom/BookmarkManager",Y="tinymce/dom/Selection",$="tinymce/dom/ElementUtils",X="tinymce/fmt/Preview",G="tinymce/Formatter",Z="tinymce/UndoManager",K="tinymce/EnterKey",Q="tinymce/ForceBlocks",J="tinymce/EditorCommands",ee="tinymce/util/URI",te="tinymce/util/Class",ne="tinymce/util/EventDispatcher",ie="tinymce/data/Binding",re="tinymce/util/Observable",oe="tinymce/data/ObservableObject",ae="tinymce/ui/Selector",se="tinymce/ui/Collection",le="tinymce/ui/DomUtils",ce="tinymce/ui/BoxUtils",ue="tinymce/ui/ClassList",de="tinymce/ui/ReflowQueue",he="tinymce/ui/Control",fe="tinymce/ui/Factory",pe="tinymce/ui/KeyboardNavigation",me="tinymce/ui/Container",ge="tinymce/ui/DragHelper",ve="tinymce/ui/Scrollable",be="tinymce/ui/Panel",ye="tinymce/ui/Movable",xe="tinymce/ui/Resizable",we="tinymce/ui/FloatPanel",_e="tinymce/ui/Window",ke="tinymce/ui/MessageBox",Ce="tinymce/WindowManager",Se="tinymce/ui/Tooltip",Te="tinymce/ui/Widget",De="tinymce/ui/Progress",Ae="tinymce/ui/Notification",Ee="tinymce/NotificationManager",Me="tinymce/dom/NodePath",Pe="tinymce/util/Quirks",Ne="tinymce/EditorObservable",Re="tinymce/Mode",Ie="tinymce/Shortcuts",Oe="tinymce/file/Uploader",Le="tinymce/file/Conversions",je="tinymce/file/ImageScanner",ze="tinymce/file/BlobCache",Be="tinymce/EditorUpload",Fe="tinymce/caret/CaretUtils",He="tinymce/caret/CaretWalker",qe="tinymce/caret/FakeCaret",We="tinymce/dom/Dimensions",Ve="tinymce/caret/LineWalker",Ue="tinymce/caret/LineUtils",Ye="tinymce/DragDropOverrides",$e="tinymce/SelectionOverrides",Xe="tinymce/Editor",Ge="tinymce/util/I18n",Ze="tinymce/FocusManager",Ke="tinymce/EditorManager",Qe="tinymce/LegacyInput",Je="tinymce/util/XHR",et="tinymce/util/JSON",tt="tinymce/util/JSONRequest",nt="tinymce/util/JSONP",it="tinymce/util/LocalStorage",rt="tinymce/Compat",ot="tinymce/ui/Layout",at="tinymce/ui/AbsoluteLayout",st="tinymce/ui/Button",lt="tinymce/ui/ButtonGroup",ct="tinymce/ui/Checkbox",ut="tinymce/ui/ComboBox",dt="tinymce/ui/ColorBox",ht="tinymce/ui/PanelButton",ft="tinymce/ui/ColorButton",pt="tinymce/util/Color",mt="tinymce/ui/ColorPicker",gt="tinymce/ui/Path",vt="tinymce/ui/ElementPath",bt="tinymce/ui/FormItem",yt="tinymce/ui/Form",xt="tinymce/ui/FieldSet",wt="tinymce/ui/FilePicker",_t="tinymce/ui/FitLayout",kt="tinymce/ui/FlexLayout",Ct="tinymce/ui/FlowLayout",St="tinymce/ui/FormatControls",Tt="tinymce/ui/GridLayout",Dt="tinymce/ui/Iframe",At="tinymce/ui/Label",Et="tinymce/ui/Toolbar",Mt="tinymce/ui/MenuBar",Pt="tinymce/ui/MenuButton",Nt="tinymce/ui/MenuItem",Rt="tinymce/ui/Menu",It="tinymce/ui/ListBox",Ot="tinymce/ui/Radio",Lt="tinymce/ui/ResizeHandle",jt="tinymce/ui/SelectBox",zt="tinymce/ui/Slider",Bt="tinymce/ui/Spacer",Ft="tinymce/ui/SplitButton",Ht="tinymce/ui/StackLayout",qt="tinymce/ui/TabPanel",Wt="tinymce/ui/TextBox",Vt="tinymce/ui/Throbber";i(s,[],function(){function e(e,t,n){var i,r,a,s,l,u;return i=t.x,r=t.y,a=e.w,s=e.h,l=t.w,u=t.h,n=(n||"").split(""),"b"===n[0]&&(r+=u),"r"===n[1]&&(i+=l),"c"===n[0]&&(r+=c(u/2)),"c"===n[1]&&(i+=c(l/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=a),"c"===n[3]&&(r-=c(s/2)),"c"===n[4]&&(i-=c(a/2)),o(i,r,a,s)}function t(t,n,i,r){var o,a;for(a=0;a<r.length;a++)if(o=e(t,n,r[a]),o.x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[a];return null}function n(e,t,n){return o(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function i(e,t){var n,i,r,a;return n=l(e.x,t.x),i=l(e.y,t.y),r=s(e.x+e.w,t.x+t.w),a=s(e.y+e.h,t.y+t.h),0>r-n||0>a-i?null:o(n,i,r-n,a-i)}function r(e,t,n){var i,r,a,s,c,u,d,h,f,p;return c=e.x,u=e.y,d=e.x+e.w,h=e.y+e.h,f=t.x+t.w,p=t.y+t.h,i=l(0,t.x-c),r=l(0,t.y-u),a=l(0,d-f),s=l(0,h-p),c+=i,u+=r,n&&(d+=i,h+=r,c-=a,u-=s),d-=a,h-=s,o(c,u,d-c,h-u)}function o(e,t,n,i){return{x:e,y:t,w:n,h:i}}function a(e){return o(e.left,e.top,e.width,e.height)}var s=Math.min,l=Math.max,c=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:i,clamp:r,create:o,fromClientRect:a}}),i(l,[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,e(i,this),e(r,this))}function n(e){var t=this;return null===this._state?void this._deferreds.push(e):void l(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)})}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void s(e(n,t),e(i,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(a){r.call(this,a)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;t>e;e++)n.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function s(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var l=t.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return t.prototype["catch"]=function(e){return this.then(null,e)},t.prototype.then=function(e,i){var r=this;return new t(function(t,o){n.call(r,new a(e,i,t,o))})},t.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},t}),i(c,[l],function(e){function t(e,t){function n(e){window.setTimeout(e,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(e,t)}function n(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function i(e,t){return"number"!=typeof t&&(t=0),setInterval(e,t)}function r(e){return clearTimeout(e)}function o(e){return clearInterval(e)}var a;return{requestAnimationFrame:function(n,i){return a?void a.then(n):void(a=new e(function(e){i||(i=document.body),t(e,i)}).then(n))},setTimeout:n,setInterval:i,setEditorTimeout:function(e,t,i){return n(function(){e.removed||t()},i)},setEditorInterval:function(e,t,n){var r;return r=i(function(){e.removed?clearInterval(r):t()},n)},clearInterval:o,clearTimeout:r}}),i(u,[c],function(e){function t(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function n(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function i(e,t){function n(){return!1}function i(){return!0}var r,o,a=t||{};for(r in e)l[r]||(a[r]=e[r]);if(a.target||(a.target=a.srcElement||document),e&&s.test(e.type)&&e.pageX===o&&e.clientX!==o){var c=a.target.ownerDocument||document,u=c.documentElement,d=c.body;a.pageX=e.clientX+(u&&u.scrollLeft||d&&d.scrollLeft||0)-(u&&u.clientLeft||d&&d.clientLeft||0),a.pageY=e.clientY+(u&&u.scrollTop||d&&d.scrollTop||0)-(u&&u.clientTop||d&&d.clientTop||0)}return a.preventDefault=function(){a.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},a.stopPropagation=function(){a.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=i,a.stopPropagation()},a.isDefaultPrevented||(a.isDefaultPrevented=n,a.isPropagationStopped=n,a.isImmediatePropagationStopped=n),"undefined"==typeof a.metaKey&&(a.metaKey=!1),a}function r(i,r,o){function a(){o.domLoaded||(o.domLoaded=!0,r(u))}function s(){("complete"===c.readyState||"interactive"===c.readyState&&c.body)&&(n(c,"readystatechange",s),a())}function l(){try{c.documentElement.doScroll("left")}catch(t){return void e.setTimeout(l)}a()}var c=i.document,u={type:"ready"};return o.domLoaded?void r(u):(c.addEventListener?"complete"===c.readyState?a():t(i,"DOMContentLoaded",a):(t(c,"readystatechange",s),c.documentElement.doScroll&&i.self===i.top&&l()),void t(i,"load",a))}function o(){function e(e,t){var n,i,r,o,a=h[t];if(n=a&&a[e.type])for(i=0,r=n.length;r>i;i++)if(o=n[i],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var o,s,l,c,u,d=this,h={};s=a+(+new Date).toString(32),c="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,u={mouseenter:"mouseover",mouseleave:"mouseout"},o=1,d.domLoaded=!1,d.events=h,d.bind=function(n,a,f,p){function m(t){e(i(t||k.event),g)}var g,v,b,y,x,w,_,k=window;if(n&&3!==n.nodeType&&8!==n.nodeType){for(n[s]?g=n[s]:(g=o++,n[s]=g,h[g]={}),p=p||n,a=a.split(" "),b=a.length;b--;)y=a[b],w=m,x=_=!1,"DOMContentLoaded"===y&&(y="ready"),d.domLoaded&&"ready"===y&&"complete"==n.readyState?f.call(p,i({type:y})):(c||(x=u[y],x&&(w=function(t){var n,r;if(n=t.currentTarget,r=t.relatedTarget,r&&n.contains)r=n.contains(r);else for(;r&&r!==n;)r=r.parentNode;r||(t=i(t||k.event),t.type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=n,e(t,g))})),l||"focusin"!==y&&"focusout"!==y||(_=!0,x="focusin"===y?"focus":"blur",w=function(t){t=i(t||k.event),t.type="focus"===t.type?"focusin":"focusout",e(t,g)}),v=h[g][y],v?"ready"===y&&d.domLoaded?f({type:y}):v.push({func:f,scope:p}):(h[g][y]=v=[{func:f,scope:p}],v.fakeName=x,v.capture=_,v.nativeHandler=w,"ready"===y?r(n,w,d):t(n,x||y,w,_)));return n=v=0,f}},d.unbind=function(e,t,i){var r,o,a,l,c,u;if(!e||3===e.nodeType||8===e.nodeType)return d;if(r=e[s]){if(u=h[r],t){for(t=t.split(" "),a=t.length;a--;)if(c=t[a],o=u[c]){if(i)for(l=o.length;l--;)if(o[l].func===i){var f=o.nativeHandler,p=o.fakeName,m=o.capture;o=o.slice(0,l).concat(o.slice(l+1)),o.nativeHandler=f,o.fakeName=p,o.capture=m,u[c]=o}i&&0!==o.length||(delete u[c],n(e,o.fakeName||c,o.nativeHandler,o.capture))}}else{for(c in u)o=u[c],n(e,o.fakeName||c,o.nativeHandler,o.capture);u={}}for(c in u)return d;delete h[r];try{delete e[s]}catch(g){e[s]=null}}return d},d.fire=function(t,n,r){var o;if(!t||3===t.nodeType||8===t.nodeType)return d;r=i(null,r),r.type=n,r.target=t;do o=t[s],o&&e(r,o),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow;while(t&&!r.isPropagationStopped());return d},d.clean=function(e){var t,n,i=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[s]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[s]&&i(e);return d},d.destroy=function(){h={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var a="mce-data-",s=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return o.Event=new o,o.Event.bind(window,"ready",function(){}),o}),i(d,[],function(){function e(e,t,n,i){var r,o,a,s,l,c,d,f,p,m;if((t?t.ownerDocument||t:F)!==N&&P(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(I&&!i){if(r=ve.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&z(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&w.getElementsByClassName)return J.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!O||!O.test(e))){if(f=d=B,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?f=d.replace(ye,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return J.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return D(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>_.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=N.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)_.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!==$&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[H,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===H&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:g(v,h,e,s,l),y=n?o||(i?e:p||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(c=g(y,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[f[u]]=!(b[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?te.call(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else y=g(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):J.apply(a,y)})}function b(e){for(var t,n,i,r=e.length,o=_.relative[e[0].type],a=o||_.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return te.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==A)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=_.relative[e[s].type])u=[f(p(u),n)];else{if(n=_.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;r>i&&!_.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&b(e.slice(s,i)),r>i&&b(e=e.slice(i)),r>i&&h(e))}u.push(n)}return p(u)}function y(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],b=A,y=i||o&&_.find.TAG("*",c),x=H+=null==b?1:Math.random()||.1,w=y.length;for(c&&(A=a!==N&&a);p!==w&&null!=(u=y[p]);p++){if(o&&u){for(d=0;h=t[d++];)if(h(u,a,s)){l.push(u);break}c&&(H=x)}r&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}J.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return c&&(H=x,A=b),m};return r?i(a):a}var x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z,B="sizzle"+-new Date,F=window.document,H=0,q=0,W=n(),V=n(),U=n(),Y=function(e,t){return e===t&&(M=!0),0},$=typeof t,X=1<<31,G={}.hasOwnProperty,Z=[],K=Z.pop,Q=Z.push,J=Z.push,ee=Z.slice,te=Z.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ie+"*("+re+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ie+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(ae),he=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Z=ee.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(_e){J={apply:Z.length?function(e,t){Q.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=e.support={},C=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=e.setDocument=function(e){var t,n=e?e.ownerDocument||e:F,i=n.defaultView;return n!==N&&9===n.nodeType&&n.documentElement?(N=n,R=n.documentElement,I=!C(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){P()},!1):i.attachEvent&&i.attachEvent("onunload",function(){P()})),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ge.test(n.getElementsByClassName),w.getById=r(function(e){return R.appendChild(e).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),w.getById?(_.find.ID=function(e,t){if(typeof t.getElementById!==$&&I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(e){var t=e.replace(xe,we);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(xe,we);return function(e){var n=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return n&&n.value===t}}),_.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=w.getElementsByClassName&&function(e,t){return I?t.getElementsByClassName(e):void 0},L=[],O=[],(w.qsa=ge.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+ie+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(w.matchesSelector=ge.test(j=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(e){w.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),L.push("!=",ae)}),O=O.length&&new RegExp(O.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(R.compareDocumentPosition),z=t||ge.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return M=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===F&&z(F,e)?-1:t===n||t.ownerDocument===F&&z(F,t)?1:E?te.call(E,e)-te.call(E,t):0:4&i?-1:1)}:function(e,t){if(e===t)return M=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:E?te.call(E,e)-te.call(E,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===F?-1:c[r]===F?1:0},n):N},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==N&&P(t),n=n.replace(ue,"='$1']"),w.matchesSelector&&I&&(!L||!L.test(n))&&(!O||!O.test(n)))try{var i=j.call(t,n);if(i||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,N,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==N&&P(e),z(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==N&&P(e);var i=_.attrHandle[n.toLowerCase()],r=i&&G.call(_.attrHandle,n.toLowerCase())?i(e,n,!I):t;return r!==t?r:w.attributes||!I?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null},e.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!w.detectDuplicates,E=!w.sortStable&&e.slice(0),e.sort(Y),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return E=null,e},k=e.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=k(t);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,we),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(u=g[B]||(g[B]={}),c=u[e]||[],f=c[0]===H&&c[1],h=c[0]===H&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[H,f,h];break}}else if(b&&(c=(t[B]||(t[B]={}))[e])&&c[0]===H)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[B]||(d[B]={}))[e]=[H,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=te.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(se,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(e){return e=e.replace(xe,we),function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:i(function(t){return he.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,we).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===R},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},_.pseudos.nth=_.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})_.pseudos[x]=l(x);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,S=e.tokenize=function(t,n){var i,r,o,a,s,l,c,u=V[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=_.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in _.filter)!(r=fe[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):V(t,l).slice(0)},T=e.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=b(t[n]),o[B]?i.push(o):r.push(o);o=U(e,y(r,i)),o.selector=e}return o},D=e.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&S(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&I&&_.relative[o[1].type]){if(t=(_.find.ID(a.matches[0].replace(xe,we),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=fe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(xe,we),be.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return J.apply(n,i),n;break}}return(c||T(e,d))(i,t,!I,n,be.test(e)&&u(t.parentNode)||t),n},w.sortStable=B.split("").sort(Y).join("")===B,w.detectDuplicates=!!M,P(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(N.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){
var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),e}),i(h,[],function(){function e(e){return"matchMedia"in window?matchMedia(e).matches:!1}var t,n,i,r,o,a,s,l,c,u,d,h,f=navigator,p=f.userAgent;t=window.opera&&window.opera.buildNumber,c=/Android/.test(p),n=/WebKit/.test(p),i=!n&&!t&&/MSIE/gi.test(p)&&/Explorer/gi.test(f.appName),i=i&&/MSIE (\w+)\./.exec(p)[1],r=-1==p.indexOf("Trident/")||-1==p.indexOf("rv:")&&-1==f.appName.indexOf("Netscape")?!1:11,o=-1==p.indexOf("Edge/")||i||r?!1:12,i=i||r||o,a=!n&&!r&&/Gecko/.test(p),s=-1!=p.indexOf("Mac"),l=/(iPad|iPhone)/.test(p),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(c||l),h=e("only screen and (min-width: 800px)")&&(c||l),o&&(n=!1);var m=!l||u||p.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:t,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:c,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:u,ceFalse:i===!1||i>8,desktop:!d&&!h}}),i(f,[],function(){function e(e){var t,n,i=e;if(!u(e))for(i=[],t=0,n=e.length;n>t;t++)i[t]=e[t];return i}function n(e,n,i){var r,o;if(!e)return 0;if(i=i||e,e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return 0;return 1}function i(e,t){var i=[];return n(e,function(n,r){i.push(t(n,r,e))}),i}function r(e,t){var i=[];return n(e,function(n,r){(!t||t(n,r,e))&&i.push(n)}),i}function o(e,t){var n,i;if(e)for(n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function a(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n}function s(e,t,n){var i,r;for(i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e))return i;return-1}function l(e,n,i){var r=s(e,n,i);return-1!==r?e[r]:t}function c(e){return e[e.length-1]}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:u,toArray:e,each:n,map:i,filter:r,indexOf:o,reduce:a,findIndex:s,find:l,last:c}}),i(p,[h,f],function(e,n){function i(e){return null===e||e===t?"":(""+e).replace(f,"")}function r(e,i){return i?"array"==i&&n.isArray(e)?!0:typeof e==i:e!==t}function o(e,t,n){var i;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n}function a(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(e[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],c?r[o]=function(){return i[a].apply(this,arguments)}:r[o]=function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t["static"],function(e,t){r[o][t]=e})}}function s(e,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;r>i;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==t&&(e[o]=a))}return e}function l(e,t,i,r){r=r||this,e&&(i&&(e=e[i]),n.each(e,function(e,n){return t.call(r,e,n,i)===!1?!1:void l(e,t,i,r)}))}function c(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)i=e[n],t[i]||(t[i]={}),t=t[i];return t}function u(e,t){var n,i;for(t=t||window,e=e.split("."),n=0,i=e.length;i>n&&(t=t[e[n]]);n++);return t}function d(e,t){return!e||r(e,"array")?e:n.map(e.split(t||","),i)}function h(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}var f=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:s,create:a,walk:l,createNS:c,resolve:u,explode:d,_addCacheSuffix:h}}),i(m,[u,d,p,h],function(e,n,i,r){function o(e){return"undefined"!=typeof e}function a(e){return"string"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,i,r;for(t=t||k,r=t.createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function c(e,t,n,i){var r;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=h.makeArray(t),i)for(r=t.length-1;r>=0;r--)c(e,t[r],n,i);else for(r=0;r<t.length;r++)c(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function u(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function d(e,t,n){var i,r;return t=h(t)[0],e.each(function(){var e=this;n&&i==e.parentNode?r.appendChild(e):(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e),r.appendChild(e))}),e}function h(e,t){return new h.fn.init(e,t)}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function p(e){return null===e||e===_?"":(""+e).replace(O,"")}function m(e,t){var n,i,r,o,a;if(e)if(n=e.length,n===o){for(i in e)if(e.hasOwnProperty(i)&&(a=e[i],t.call(a,i,a)===!1))break}else for(r=0;n>r&&(a=e[r],t.call(a,r,a)!==!1);r++);return e}function g(e,t){var n=[];return m(e,function(e,i){t(i,e)&&n.push(i)}),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:k}function b(e,n,i){var r=[],o=e[n];for("string"!=typeof i&&i instanceof h&&(i=i[0]);o&&9!==o.nodeType;){if(i!==t){if(o===i)break;if("string"==typeof i&&h(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function y(e,n,i,r){var o=[];for(r instanceof h&&(r=r[0]);e;e=e[n])if(!i||e.nodeType===i){if(r!==t){if(e===r)break;if("string"==typeof r&&h(e).is(r))break}o.push(e)}return o}function x(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function w(e,t,n){m(n,function(n,i){e[n]=e[n]||{},e[n][t]=i})}var _,k=document,C=Array.prototype.push,S=Array.prototype.slice,T=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,D=e.Event,A=i.makeMap("children,contents,next,prev"),E=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),M=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),P={"for":"htmlFor","class":"className",readonly:"readOnly"},N={"float":"cssFloat"},R={},I={},O=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return h(e).attr(t);r.context=t=document}if(a(e)){if(r.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!n)return h(t).find(e);if(n[1])for(i=l(e,v(t)).firstChild;i;)C.call(r,i),i=i.nextSibling;else{if(i=v(t).getElementById(n[2]),!i)return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return i.toArray(this)},add:function(e,t){var n,i,r=this;if(a(e))return r.add(h(e));if(t!==!1)for(n=h.unique(r.toArray().concat(h.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else C.apply(r,h.makeArray(e));return r},attr:function(e,t){var n,i=this;if("object"==typeof e)m(e,function(e,t){i.attr(e,t)});else{if(!o(t)){if(i[0]&&1===i[0].nodeType){if(n=R[e],n&&n.get)return n.get(i[0],e);if(M[e])return i.prop(e)?e:_;t=i[0].getAttribute(e,2),null===t&&(t=_)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=R[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=P[e]||e,"object"==typeof e)m(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,t){function n(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var r,a,s=this;if("object"==typeof e)m(e,function(e,t){s.css(e,t)});else if(o(t))e=n(e),"number"!=typeof t||E[e]||(t+="px"),s.each(function(){var n=this.style;if(a=I[e],a&&a.set)return void a.set(this,t);try{this.style[N[e]||e]=t}catch(r){}(null===t||""===t)&&(n.removeProperty?n.removeProperty(i(e)):n.removeAttribute(e))});else{if(r=s[0],a=I[e],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(e))}catch(l){return _}else if(r.currentStyle)return r.currentStyle[n(e)]}return s},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],D.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(o(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(i){h(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(o(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return c(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return c(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?c(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return h(e).append(this),this},prependTo:function(e){return h(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each(function(){h(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),h(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?m(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r,o;o=u(i,e),o!==t&&(r=i.className,o?i.className=p((" "+r+" ").replace(" "+e+" "," ")):i.className+=r?" "+e:e)}),n)},hasClass:function(e){return u(this[0],e)},each:function(e){return m(this,e)},on:function(e,t){return this.each(function(){D.bind(this,e,t)})},off:function(e,t){return this.each(function(){D.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?D.fire(this,e.type,e):D.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h(S.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;n>t;t++)h.find(e,this[t],i);return h(i)},filter:function(e){return h("function"==typeof e?g(this.toArray(),function(t,n){return e(n,t)}):h.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof h&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&h(i).is(e)){t.push(i);break}if(i==e){t.push(i);break}i=i.parentNode}}),h(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,i=n.documentElement,t.getBoundingClientRect&&(r=t.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:C,sort:[].sort,splice:[].splice},i.extend(h,{extend:i.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:i.toArray(e)},inArray:f,isArray:i.isArray,each:m,trim:p,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return t=1===t.length?h.find.matchesSelector(t[0],e)?[t[0]]:[]:h.find.matches(e,t)}}),m({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b(e,"parentNode")},next:function(e){return x(e,"nextSibling",1)},prev:function(e){return x(e,"previousSibling",1)},children:function(e){return y(e.firstChild,"nextSibling",1)},contents:function(e){return i.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){h.fn[e]=function(n){var i=this,r=[];return i.each(function(){var e=t.call(r,this,n,r);e&&(h.isArray(e)?r.push.apply(r,e):r.push(e))}),this.length>1&&(A[e]||(r=h.unique(r)),0===e.indexOf("parents")&&(r=r.reverse())),r=h(r),n?r.filter(n):r}}),m({parentsUntil:function(e,t){return b(e,"parentNode",t)},nextUntil:function(e,t){return y(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return y(e,"previousSibling",1,t).slice(1)}},function(e,t){h.fn[e]=function(n,i){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(h.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=h.unique(o),(0===e.indexOf("parents")||"prevUntil"===e)&&(o=o.reverse())),o=h(o),i?o.filter(i):o}}),h.fn.is=function(e){return!!e&&this.filter(e).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(e){function t(i,r){return n=n||e(),0===arguments.length&&(i=n.element),r||(r=n.context),new t.fn.init(i,r)}var n;return h.extend(t,this),t},r.ie&&r.ie<8&&(w(R,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?_:t},size:function(e){var t=e.size;return 20===t?_:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?_:t}}),w(R,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(N["float"]="styleFloat",w(I,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),h.attrHooks=R,h.cssHooks=I,h}),i(g,[],function(){return function(e,t){function n(e,t,n,i){function r(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var i,r,o,a,s,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,u=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,h={},f="\ufeff";for(e=e||{},t&&(a=t.getValidStyles(),s=t.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+f).split(" "),r=0;r<o.length;r++)h[o[r]]=f+r,h[f+r]=o[r];return{toHex:function(e){return e.replace(l,n)},parse:function(t){function i(e,t,n){var i,o,a,s;if(i=y[e+"-top"+t],i&&(o=y[e+"-right"+t],o&&(a=y[e+"-bottom"+t],a&&(s=y[e+"-left"+t])))){var l=[i,o,a,s];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(y[e+t]=-1==r?l[0]:l.join(" "),delete y[e+"-top"+t],delete y[e+"-right"+t],delete y[e+"-bottom"+t],delete y[e+"-left"+t])}}function o(e){var t,n=y[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return y[e]=n[0],!0}}function a(e,t,n,i){o(t)&&o(n)&&o(i)&&(y[e]=y[t]+" "+y[n]+" "+y[i],delete y[t],delete y[n],delete y[i])}function s(e){return b=!0,h[e]}function f(e,t){return b&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return h[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(t,n,i,r,o,a){if(o=o||a)return o=f(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=f(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return x&&(n=x.call(w,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var m,g,v,b,y={},x=e.url_converter,w=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,s).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,s)});m=u.exec(t);){if(g=m[1].replace(d,"").toLowerCase(),v=m[2].replace(d,""),v=v.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),g&&v.length>0){if(!e.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===g&&"700"===v?v="bold":("color"===g||"background-color"===g)&&(v=v.toLowerCase()),v=v.replace(l,n),v=v.replace(c,p),y[g]=b?f(v,!0):v}u.lastIndex=m.index+m[0].length}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),a("border","border-width","border-style","border-color"),"medium none"===y.border&&delete y.border,"none"===y["border-image"]&&delete y["border-image"]}return y},serialize:function(e,t){function n(t){var n,r,o,s;if(n=a[t])for(r=0,o=n.length;o>r;r++)t=n[r],s=e[t],s!==i&&s.length>0&&(c+=(c.length>0?" ":"")+t+": "+s+";")}function r(e,t){var n;return n=s["*"],n&&n[e]?!1:(n=s[t],n&&n[e]?!1:!0)}var o,l,c="";if(t&&a)n("*"),n(t);else for(o in e)l=e[o],l!==i&&l.length>0&&(!s||r(o,t))&&(c+=(c.length>0?" ":"")+o+": "+l+";");return c}}}}),i(v,[],function(){return function(e,t){function n(e,n,i,r){var o,a;if(e){if(!r&&e[n])return e[n];if(e!=t){if(o=e[i])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[i])return o}}}var i=e;this.current=function(){return i},this.next=function(e){return i=n(i,"firstChild","nextSibling",e)},this.prev=function(e){return i=n(i,"lastChild","previousSibling",e)}}}),i(b,[p],function(e){function t(n){function i(){return O.createDocumentFragment()}function r(e,t){k(B,e,t)}function o(e,t){k(F,e,t)}function a(e){r(e.parentNode,Y(e))}function s(e){r(e.parentNode,Y(e)+1)}function l(e){o(e.parentNode,Y(e))}function c(e){o(e.parentNode,Y(e)+1)}function u(e){e?(I[W]=I[q],I[V]=I[H]):(I[q]=I[W],I[H]=I[V]),I.collapsed=B}function d(e){a(e),c(e)}function h(e){r(e,0),o(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function f(e,t){var n=I[q],i=I[H],r=I[W],o=I[V],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?_(n,i,a,s):1===e?_(r,o,a,s):2===e?_(r,o,l,c):3===e?_(n,i,l,c):void 0}function p(){C(z)}function m(){return C(L)}function g(){return C(j)}function v(e){var t,i,r=this[q],o=this[H];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(e,i):3==r.nodeType?n.insertAfter(e,r):r.appendChild(e)):o?o>=r.nodeValue.length?n.insertAfter(e,r):(t=r.splitText(o),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function b(e){var t=I.extractContents();I.insertNode(e),e.appendChild(t),I.selectNode(e)}function y(){return U(new t(n),{startContainer:I[q],startOffset:I[H],endContainer:I[W],endOffset:I[V],collapsed:I.collapsed,commonAncestorContainer:I.commonAncestorContainer})}function x(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function w(){return I[q]==I[W]&&I[H]==I[V]}function _(e,t,i,r){var o,a,s,l,c,u;if(e==i)return t==r?0:r>t?-1:1;for(o=i;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&t>a;)a++,s=s.nextSibling;return a>=t?-1:1}for(o=e;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&r>a;)a++,s=s.nextSibling;return r>a?-1:1}for(l=n.findCommonAncestor(e,i),c=e;c&&c.parentNode!=l;)c=c.parentNode;for(c||(c=l),u=i;u&&u.parentNode!=l;)u=u.parentNode;if(u||(u=l),c==u)return 0;for(s=l.firstChild;s;){if(s==c)return-1;if(s==u)return 1;s=s.nextSibling}}function k(e,t,i){var r,o;for(e?(I[q]=t,I[H]=i):(I[W]=t,I[V]=i),r=I[W];r.parentNode;)r=r.parentNode;for(o=I[q];o.parentNode;)o=o.parentNode;o==r?_(I[q],I[H],I[W],I[V])>0&&I.collapse(e):I.collapse(e),I.collapsed=w(),I.commonAncestorContainer=n.findCommonAncestor(I[q],I[W])}function C(e){var t,n,i,r,o,a,s,l=0,c=0;if(I[q]==I[W])return S(e);for(t=I[W],n=t.parentNode;n;t=n,n=n.parentNode){if(n==I[q])return T(t,e);++l}for(t=I[q],n=t.parentNode;n;t=n,n=n.parentNode){if(n==I[W])return D(t,e);++c}for(i=c-l,r=I[q];i>0;)r=r.parentNode,i--;for(o=I[W];0>i;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return A(r,o,e)}function S(e){var t,n,r,o,a,s,l,c,u;if(e!=z&&(t=i()),I[H]==I[V])return t;if(3==I[q].nodeType){if(n=I[q].nodeValue,r=n.substring(I[H],I[V]),e!=j&&(o=I[q],c=I[H],u=I[V]-I[H],0===c&&u>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(c,u),I.collapse(B)),e==z)return;return r.length>0&&t.appendChild(O.createTextNode(r)),t}for(o=x(I[q],I[H]),a=I[V]-I[H];o&&a>0;)s=o.nextSibling,l=N(o,e),t&&t.appendChild(l),--a,o=s;return e!=j&&I.collapse(B),t}function T(e,t){var n,r,o,a,s,l;if(t!=z&&(n=i()),r=E(e,t),n&&n.appendChild(r),o=Y(e),a=o-I[H],0>=a)return t!=j&&(I.setEndBefore(e),I.collapse(F)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=N(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=j&&(I.setEndBefore(e),I.collapse(F)),n}function D(e,t){var n,r,o,a,s,l;for(t!=z&&(n=i()),o=M(e,t),n&&n.appendChild(o),r=Y(e),++r,a=I[V]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=N(o,t),n&&n.appendChild(l),--a,o=s;return t!=j&&(I.setStartAfter(e),I.collapse(B)),n}function A(e,t,n){var r,o,a,s,l,c,u;for(n!=z&&(o=i()),r=M(e,n),o&&o.appendChild(r),a=Y(e),s=Y(t),++a,l=s-a,c=e.nextSibling;l>0;)u=c.nextSibling,r=N(c,n),o&&o.appendChild(r),c=u,--l;return r=E(t,n),o&&o.appendChild(r),n!=j&&(I.setStartAfter(e),I.collapse(B)),o}function E(e,t){var n,i,r,o,a,s=x(I[W],I[V]-1),l=s!=I[W];if(s==e)return P(s,l,F,t);for(n=s.parentNode,i=P(n,F,F,t);n;){for(;s;)r=s.previousSibling,o=P(s,l,F,t),t!=z&&i.insertBefore(o,i.firstChild),l=B,s=r;if(n==e)return i;s=n.previousSibling,n=n.parentNode,a=P(n,F,F,t),t!=z&&a.appendChild(i),i=a}}function M(e,t){var n,i,r,o,a,s=x(I[q],I[H]),l=s!=I[q];if(s==e)return P(s,l,B,t);for(n=s.parentNode,i=P(n,F,B,t);n;){for(;s;)r=s.nextSibling,o=P(s,l,B,t),t!=z&&i.appendChild(o),l=B,s=r;if(n==e)return i;s=n.nextSibling,n=n.parentNode,a=P(n,F,B,t),t!=z&&a.appendChild(i),i=a}}function P(e,t,i,r){var o,a,s,l,c;if(t)return N(e,r);if(3==e.nodeType){if(o=e.nodeValue,i?(l=I[H],a=o.substring(l),s=o.substring(0,l)):(l=I[V],a=o.substring(0,l),s=o.substring(l)),r!=j&&(e.nodeValue=s),r==z)return;return c=n.clone(e,F),c.nodeValue=a,c}return r!=z?n.clone(e,F):void 0}function N(e,t){return t!=z?t==j?n.clone(e,B):e:void e.parentNode.removeChild(e)}function R(){return n.create("body",null,g()).outerText}var I=this,O=n.doc,L=0,j=1,z=2,B=!0,F=!1,H="startOffset",q="startContainer",W="endContainer",V="endOffset",U=e.extend,Y=n.nodeIndex;return U(I,{startContainer:O,startOffset:0,endContainer:O,endOffset:0,collapsed:B,commonAncestorContainer:O,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:c,collapse:u,selectNode:d,selectNodeContents:h,compareBoundaryPoints:f,deleteContents:p,extractContents:m,cloneContents:g,insertNode:v,surroundContents:b,cloneRange:y,toStringIE:R}),I}return t.prototype.toString=function(){return this.toStringIE()},t}),i(y,[p],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,i,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),r[i]||(o="&"+e[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[<>&\"\']/g,u=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(c,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||i,e.replace(t?s:l,function(e){return r[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return r[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function c(e,n){return h.encodeNamed(e,n,t)}return t=n(t)||i,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?c:h.encodeNamed:e.numeric?h.encodeNumeric:h.encodeRaw},decode:function(e){return e.replace(u,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[e]||i[e]||t(e)})}};return h}),i(x,[p,c],function(e,t){return function(n,i){function r(e){n.getElementsByTagName("head")[0].appendChild(e)}function o(i,o,c){function u(){for(var e=y.passed,t=e.length;t--;)e[t]();y.status=2,y.passed=[],y.failed=[]}function d(){for(var e=y.failed,t=e.length;t--;)e[t]();y.status=3,y.passed=[],y.failed=[]}function h(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function f(e,n){e()||((new Date).getTime()-b<a?t.setTimeout(n):d())}function p(){f(function(){for(var e,t,i=n.styleSheets,r=i.length;r--;)if(e=i[r],t=e.ownerNode?e.ownerNode:e.owningElement,t&&t.id===g.id)return u(),!0},p)}function m(){f(function(){try{var e=v.sheet.cssRules;return u(),!!e}catch(t){}},m)}var g,v,b,y;if(i=e._addCacheSuffix(i),l[i]?y=l[i]:(y={passed:[],failed:[]},l[i]=y),o&&y.passed.push(o),c&&y.failed.push(c),1!=y.status){if(2==y.status)return void u();if(3==y.status)return void d();if(y.status=1,g=n.createElement("link"),g.rel="stylesheet",g.type="text/css",g.id="u"+s++,g.async=!1,g.defer=!1,b=(new Date).getTime(),"onload"in g&&!h())g.onload=p,g.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+i+'"',m(),void r(v);p()}r(g),g.href=i}}var a,s=0,l={};i=i||{},a=i.maxLoadTime||5e3,this.load=o}}),i(w,[d,m,g,u,v,b,y,h,p,x],function(e,n,i,r,o,a,s,l,c,u){function d(e,t){var n,i={},r=t.keep_values;return n={set:function(n,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||e,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(r&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},r&&(i.href=i.src=n),i}function h(e,t){var n=t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr("data-mce-style",n)}function f(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r}function p(e,t){var o,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!y||e.documentMode>=8,a.boxModel=!y||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new u(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new i({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new r(t.proxy):r.Event,a.attrHooks=d(a,t),o=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var m=c.each,g=c.is,v=c.grep,b=c.trim,y=l.ie,x=/^([a-z0-9],?)+$/i,w=/^[ \t\r\n]*$/;return p.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(y&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,i,r=this;return!y||1!==e.nodeType||t?e.cloneNode(t):(i=r.doc,t?n.firstChild:(n=i.createElement(e.nodeName),m(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,i=this;return e=i.get(e),t=i.getPos(e),n=i.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,i=this;return e=i.get(e),t=i.getStyle(e,"width"),n=i.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,i,r){var o,a=this,s=[];for(e=a.get(e),r=r===t,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),g(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=i&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!r)return e;s.push(e)}e=e.parentNode}return r?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,
e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var i=this;return e(t,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===t){if("*"===i)return 1==n.nodeType;if(x.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,i,r){var o=this;return this.run(e,function(e){var a;return a=g(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";r+="<"+e;for(i in t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&h(this,e)},getStyle:function(e,n,i){return e=this.$$(e),i?e.css(n):(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&h(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this,a=o.settings;""===n&&(n=null),e=o.$$(e),i=e.attr(t),e.length&&(r=o.attrHooks[t],r&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,i){m(t,function(e,t){n.setAttrib(i,t,e)})})},getAttrib:function(e,t,n){var i,r,o=this;return e=o.$$(e),e.length&&(i=o.attrHooks[t],r=i&&i.get?i.get(e,t):e.attr(t)),"undefined"==typeof r&&(r=n||""),r},getPos:function(e,t){var i,r,o=this,a=0,s=0,l=o.doc,c=l.body;if(e=o.get(e),t=t||c,e){if(t===c&&e.getBoundingClientRect&&"static"===n(c).css("position"))return r=e.getBoundingClientRect(),t=o.boxModel?l.documentElement:c,a=r.left+(l.documentElement.scrollLeft||c.scrollLeft)-t.clientLeft,s=r.top+(l.documentElement.scrollTop||c.scrollTop)-t.clientTop,{x:a,y:s};for(i=e;i&&i!=t&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!=t&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this,r=i.doc;if(i!==p.DOM&&r===document){var o=p.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,p.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=r.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(r.createTextNode(e))},loadCSS:function(e){var t,n=this,i=n.doc;return n!==p.DOM&&i===document?void p.DOM.loadCSS(e):(e||(e=""),t=i.getElementsByTagName("head")[0],void m(e.split(","),function(e){var r;e=c._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,r=n.create("link",{rel:"stylesheet",href:e}),y&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),t.appendChild(r))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,i){this.$$(e).toggleClass(t,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),y?e.each(function(e,i){if(i.canHaveHTML!==!1){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+t,i.removeChild(i.firstChild)}catch(r){n("<div>").html("<br>"+t).contents().slice(1).appendTo(i)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&"outerHTML"in e?e.outerHTML:n("<div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var i=this;i.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}i.remove(n(this).html(t),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,i;return n=t.parentNode,i=t.nextSibling,i?n.insertBefore(e,i):n.appendChild(e),e})},replace:function(e,t,n){var i=this;return i.run(t,function(t){return g(t,"array")&&(e=e.cloneNode(!0)),n&&m(v(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,i=this;return e.nodeName!=t.toUpperCase()&&(n=i.create(t),m(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),i.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(c.trim(e))},run:function(e,t,n){var i,r=this;return"string"==typeof e&&(e=r.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(i=[],m(e,function(e,o){e&&("string"==typeof e&&(e=r.get(e)),i.push(t.call(n,e,o)))}),i)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(y){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,r,a,s,l=this,c=0;if(e=e.firstChild){a=new o(e,e.parentNode),t=t||(l.schema?l.schema.getNonEmptyElements():null);do{if(r=e.nodeType,1===r){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){c++;continue}return!1}for(i=l.getAttribs(e),n=i.length;n--;)if(s=i[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==r)return!1;if(3===r&&!w.test(e.nodeValue))return!1}while(e=a.next())}return 1>=c},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:f,split:function(e,t,n){function i(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var a=b(e.nodeValue).length;if(!s.isBlock(e.parentNode)||a>0||0===a&&t(e))return}else if(1==o&&(r=e.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,o,a,s=this,l=s.createRng();return e&&t?(l.setStart(e.parentNode,s.nodeIndex(e)),l.setEnd(t.parentNode,s.nodeIndex(t)),r=l.extractContents(),l=s.createRng(),l.setStart(t.parentNode,s.nodeIndex(t)+1),l.setEnd(e.parentNode,s.nodeIndex(e)+1),o=l.extractContents(),a=e.parentNode,a.insertBefore(i(r),e),n?a.insertBefore(n,e):a.insertBefore(t,e),a.insertBefore(i(o),e),s.remove(e),n||t):void 0},bind:function(e,t,n,i){var r=this;if(c.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(c.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var i=t.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},p.DOM=new p(document),p.nodeIndex=f,p}),i(_,[w,p],function(e,t){function n(){function e(e,n){function r(){l.remove(s),a&&(a.onreadystatechange=a.onload=a=null),n()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var a,s,l=i;s=l.uniqueId(),a=document.createElement("script"),a.id=s,a.type="text/javascript",a.src=t._addCacheSuffix(e),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&r()}:a.onload=r,a.onerror=o,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}var n,a=0,s=1,l=2,c={},u=[],d={},h=[],f=0;this.isDone=function(e){return c[e]==l},this.markDone=function(e){c[e]=l},this.add=this.load=function(e,t,i){var r=c[e];r==n&&(u.push(e),c[e]=a),t&&(d[e]||(d[e]=[]),d[e].push({func:t,scope:i||this}))},this.loadQueue=function(e,t){this.loadScripts(u,e,t)},this.loadScripts=function(t,i,a){function u(e){r(d[e],function(e){e.func.call(e.scope)}),d[e]=n}var p;h.push({func:i,scope:a||this}),(p=function(){var n=o(t);t.length=0,r(n,function(t){return c[t]==l?void u(t):void(c[t]!=s&&(c[t]=s,f++,e(t,function(){c[t]=l,f--,u(t),p()})))}),f||(r(h,function(e){e.func.call(e.scope)}),h.length=0)})()}}var i=e.DOM,r=t.each,o=t.grep;return n.ScriptLoader=new n,n}),i(k,[_,p],function(e,n){function i(){var e=this;e.items=[],e.urls={},e.lookup={}}var r=n.each;return i.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1==n.indexOf(","+r+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,o,a,s){function l(){var i=c.dependencies(n);r(i,function(e){var n=c.createUrl(o,e);c.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var c=this,u=o;c.urls[n]||("object"==typeof o&&(u=o.prefix+o.resource+o.suffix),0!==u.indexOf("/")&&-1==u.indexOf("://")&&(u=i.baseURL+"/"+u),c.urls[n]=u.substring(0,u.lastIndexOf("/")),c.lookup[n]?l():e.ScriptLoader.add(u,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i(C,[],function(){function e(e){return function(t){return!!t&&t.nodeType==e}}function t(e){return e=e.toLowerCase().split(" "),function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}}function n(e,t){return t=t.toLowerCase().split(" "),function(n){var i,r;if(s(n))for(i=0;i<t.length;i++)if(r=getComputedStyle(n,null).getPropertyValue(e),r===t[i])return!0;return!1}}function i(e,t){return function(n){return s(n)&&n[e]===t}}function r(e,t){return function(n){return s(n)&&n.getAttribute(e)===t}}function o(e){return s(e)&&e.hasAttribute("data-mce-bogus")}function a(e){return function(t){if(s(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:t,hasPropValue:i,hasAttributeValue:r,matchStyleValues:n,isBogus:o}}),i(S,[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="\u200b";return{isZwsp:e,ZWSP:n,trim:t}}),i(T,[C,S],function(e,t){function n(e){return d(e)&&(e=e.parentNode),u(e)&&e.hasAttribute("data-mce-caret")}function i(e){return d(e)&&t.isZwsp(e.data)}function r(e){return n(e)||i(e)}function o(e,n){var i,o,a,s;if(i=e.ownerDocument,a=i.createTextNode(t.ZWSP),s=e.parentNode,n){if(o=e.previousSibling,d(o)){if(r(o))return o;if(c(o))return o.splitText(o.data.length-1)}s.insertBefore(a,e)}else{if(o=e.nextSibling,d(o)){if(r(o))return o;if(l(o))return o.splitText(1),o}e.nextSibling?s.insertBefore(a,e.nextSibling):s.appendChild(a)}return a}function a(e,t,n){var i,r,o;return i=t.ownerDocument,r=i.createElement(e),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(i.createTextNode("\xa0")),o=t.parentNode,n?o.insertBefore(r,t):t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r),r}function s(e){var n;u(e)&&r(e)&&("&nbsp;"!=e.innerHTML?e.removeAttribute("data-mce-caret"):e.parentNode&&e.parentNode.removeChild(e)),d(e)&&(n=t.trim(e.data),0===n.length&&e.parentNode&&e.parentNode.removeChild(e),e.nodeValue=n)}function l(e){return d(e)&&e.data[0]==t.ZWSP}function c(e){return d(e)&&e.data[e.data.length-1]==t.ZWSP}var u=e.isElement,d=e.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,insertInline:o,insertBlock:a,remove:s,startsWithCaretContainer:l,endsWithCaretContainer:c}}),i(D,[p,v,C,T],function(e,t,n,i){function r(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:0>t&&(t=0),n[t]||e}function o(e){this.walk=function(t,n){function i(e){var t;return t=e[0],3===t.nodeType&&t===g&&v>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===y&&e.length>0&&t===b&&3===t.nodeType&&e.splice(e.length-1,1),e}function o(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function a(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function l(e,t,r){var a=r?"nextSibling":"previousSibling";for(h=e,f=h.parentNode;h&&h!=t;h=f)f=h.parentNode,p=o(h==e?h:h[a],a),p.length&&(r||p.reverse(),n(i(p)))}var c,u,d,h,f,p,m,g=t.startContainer,v=t.startOffset,b=t.endContainer,y=t.endOffset;if(m=e.select("td.mce-item-selected,th.mce-item-selected"),m.length>0)return void s(m,function(e){n([e])});if(1==g.nodeType&&g.hasChildNodes()&&(g=g.childNodes[v]),1==b.nodeType&&b.hasChildNodes()&&(b=r(b,y)),g==b)return n(i([g]));for(c=e.findCommonAncestor(g,b),h=g;h;h=h.parentNode){if(h===b)return l(g,c,!0);if(h===c)break}for(h=b;h;h=h.parentNode){if(h===g)return l(b,c);if(h===c)break}u=a(g,c)||g,d=a(b,c)||b,l(g,u,!0),p=o(u==g?u:u.nextSibling,"nextSibling",d==b?d.nextSibling:d),p.length&&n(i(p)),l(b,d)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=t(n,i),n=r.previousSibling,o>i?(o-=i,n=r=t(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=t(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function s(n,i){for(var r=new t(n,e.getParent(n.parentNode,e.isBlock)||x);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0}function u(e){for(;e&&e!=x;){if(l(e))return!0;e=e.parentNode}return!1}function d(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function h(n,i){var a,s,l;if(i=i||f,l=e.getParent(i.parentNode,e.isBlock)||x,n&&"BR"==i.nodeName&&y&&e.isEmpty(l))return f=i.parentNode,p=e.nodeIndex(i),void(r=!0);for(a=new t(i,l);g=a[n?"prev":"next"]();){if("false"===e.getContentEditableParent(g)||c(g))return;if(3===g.nodeType&&g.nodeValue.length>0)return f=g,p=n?g.nodeValue.length:0,void(r=!0);if(e.isBlock(g)||v[g.nodeName.toLowerCase()])return;s=g}o&&s&&(f=s,r=!0,p=0)}var f,p,m,g,v,b,y,x=e.getRoot();if(f=n[(i?"start":"end")+"Container"],p=n[(i?"start":"end")+"Offset"],y=1==f.nodeType&&p===f.childNodes.length,v=e.schema.getNonEmptyElements(),b=i,!c(f)){if(1==f.nodeType&&p>f.childNodes.length-1&&(b=!1),9===f.nodeType&&(f=e.getRoot(),p=0),f===x){if(b&&(g=f.childNodes[p>0?p-1:0])){if(c(g))return;if(v[g.nodeName]||"TABLE"==g.nodeName)return}if(f.hasChildNodes()){if(p=Math.min(!b&&p>0?p-1:p,f.childNodes.length-1),f=f.childNodes[p],p=0,u(f)||c(f))return;if(f.hasChildNodes()&&!/TABLE/.test(f.nodeName)){g=f,m=new t(f,x);do{if(l(g)||c(g)){r=!1;break}if(3===g.nodeType&&g.nodeValue.length>0){p=b?0:g.nodeValue.length,f=g,r=!0;break}if(v[g.nodeName.toLowerCase()]&&!a(g)){p=e.nodeIndex(g),f=g.parentNode,"IMG"!=g.nodeName||b||p++,r=!0;break}}while(g=b?m.next():m.prev())}}}o&&(3===f.nodeType&&0===p&&h(!0),1===f.nodeType&&(g=f.childNodes[p],g||(g=f.childNodes[p-1]),!g||"BR"!==g.nodeName||d(g,"A")||s(g)||s(g,!0)||h(!0,g))),b&&!o&&3===f.nodeType&&p===f.nodeValue.length&&h(!1),r&&n["set"+(i?"Start":"End")](f,p)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function a(t,n,i){var r,o,a;if(r=i.elementFromPoint(t,n),o=i.body.createTextRange(),"HTML"==r.tagName&&(r=i.body),o.moveToElementText(r),a=e.toArray(o.getClientRects()),a=a.sort(function(e,t){return e=Math.abs(Math.max(e.top-n,e.bottom-n)),t=Math.abs(Math.max(t.top-n,t.bottom-n)),e-t}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(t,n),o.collapse(!0),o}catch(s){}}return null}var s=e.each,l=n.isContentEditableFalse,c=i.isCaretContainer;return o.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},o.getCaretRangeFromPoint=function(e,t,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(e,t),i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(o){i=a(e,t,n)}}return i},o.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},o.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},o}),i(A,[D,h,c],function(e,t,n){return function(i){function r(e){var t,n;if(n=i.$(e).parentsUntil(i.getBody()).add(e),n.length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(-1===t)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,r;n=i.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(r,o)||i.fire("SelectionChange"),o=r}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var e=i.selection.getStart(!0);(t.range||!i.selection.isCollapsed())&&!r(e)&&i.dom.isChildOf(e,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),t=o.getStart()||r,t=t.ownerDocument!=i.getDoc()?i.getBody():t,"IMG"==t.nodeName&&o.isCollapsed()&&(t=t.parentNode),n=[],i.dom.getParent(t,function(e){return e===r?!0:void n.push(e)}),e=e||{},e.element=t,e.parents=n,i.fire("NodeChange",e))}}}),i(E,[],function(){function e(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,i,r,o=this;if("string"!=typeof e){for(i in e)o.attr(i,e[i]);return o}if(n=o.attributes){if(t!==r){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),o;return o}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,n,i,r,o,a=this,s=new t(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},e=0,n=i.length;n>e;e++)r=i[e],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):i.next=n,t.lastChild===e?(t.lastChild=i,i&&(i.next=null)):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=i,e},getAll:function(t){var n,i=this,r=[];for(n=i.firstChild;n;n=e(n,i))n.name===t&&r.push(n);return r},empty:function(){var t,n,i,r=this;if(r.firstChild){for(t=[],i=r.firstChild;i;i=e(i,r))t.push(i);for(n=t.length;n--;)i=t[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(t){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var r,o;if(r=new t(e,i[e]||1),n)for(o in n)r.attr(o,n[o]);return r},t}),i(M,[p],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,i){function r(e,t){var n,i,r={};for(n=0,i=e.length;i>n;n++)r[e[n]]=t||{};return r}var s,l,c,u=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=t(i)),l=3;l<u.length;l++)"string"==typeof u[l]&&(u[l]=t(u[l])),i.push.apply(i,u[l]);for(e=t(e),s=e.length;s--;)c=[].concat(a,t(n)),f[e[s]]={attributes:r(c),attributesOrder:c,children:r(i,o)}}function i(e,n){var i,r,o,a;for(e=t(e),i=e.length,n=t(n);i--;)for(r=f[e[i]],o=0,a=n.length;a>o;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,l,c,u,d,h,f={};return r[e]?r[e]:(a=t("id accesskey class dir lang style tabindex title"),l=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),c=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,t("article aside details dialog figure header footer hgroup section nav")),c.push.apply(c,t("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),h=t("acronym applet basefont big font strike tt"),c.push.apply(c,h),s(h,function(e){n(e,"",c)}),d=t("center dir isindex noframes"),l.push.apply(l,d),u=[].concat(l,c),s(d,function(e){n(e,"",u)})),u=u||[].concat(l,c),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",u),n("address dt dd div caption","",u),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),n("blockquote","cite",u),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",u),n("dl","","dt dd"),n("a","href target rel media hreflang type",c),n("q","cite",c),n("ins del","cite datetime",u),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",u),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",u,"param"),n("param","name value"),n("map","name",u,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",u),n("th","colspan rowspan headers scope abbr",u),n("form","accept-charset action autocomplete enctype method name novalidate target",u),n("fieldset","disabled form name",u,"legend"),n("label","form for",c),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?u:c),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",u,"li"),n("noscript","",u),"html4"!=e&&(n("wbr"),n("ruby","",c,"rt rp"),n("figcaption","",u),n("mark rt rp summary bdi","",c),n("canvas","width height",u),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",u,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",u,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",c,"option"),n("article section nav aside header footer","",u),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",u,"figcaption"),n("time","datetime",c),n("dialog","open",u),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",c),n("progress","value max",c),n("meter","value min max low high optimum",c),n("details","open",u,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=e&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),function(e){f[e]&&delete f[e].children[e]}),delete f.caption.children.table,delete f.script,r[e]=f,f)}function i(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,function(e,i){n[i]=n[i.toUpperCase()]="map"==t?a(e,/[, ]/):c(e,/[, ]/)})),n}var r={},o={},a=e.makeMap,s=e.each,l=e.extend,c=e.explode,u=e.inArray;return function(e){function o(t,n,i){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=r[t],o||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,i),r[t]=o)),o}function d(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function h(e){var n,i,r,o,s,l,c,h,f,p,m,g,v,b,y,x,w,_,k,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,T=/[*?+]/;if(e)for(e=t(e,","),P["@"]&&(x=P["@"].attributes,w=P["@"].attributesOrder),n=0,i=e.length;i>n;n++)if(s=C.exec(e[n])){if(b=s[1],f=s[2],y=s[3],h=s[5],g={},v=[],l={attributes:g,attributesOrder:v},"#"===b&&(l.paddEmpty=!0),"-"===b&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),x){for(_ in x)g[_]=x[_];v.push.apply(v,w)}if(h)for(h=t(h,"|"),r=0,o=h.length;o>r;r++)if(s=S.exec(h[r])){if(c={},m=s[1],p=s[2].replace(/::/g,":"),b=s[3],k=s[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),c.required=!0),"-"===m){delete g[p],v.splice(u(v,p),1);continue}b&&("="===b&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:k}),c.defaultValue=k),":"===b&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:k}),c.forcedValue=k),"<"===b&&(c.validValues=a(k,"?"))),T.test(p)?(l.attributePatterns=l.attributePatterns||[],c.pattern=d(p),l.attributePatterns.push(c)):(g[p]||v.push(p),g[p]=c)}x||"@"!=f||(x=g,w=v),y&&(l.outputName=f,P[y]=l),T.test(f)?(l.pattern=d(f),R.push(l)):P[f]=l}}function f(e){P={},R=[],h(e),s(y,function(e,t){N[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&(r.text_block_elements=r.block_elements=null,s(t(e,","),function(e){var t=n.exec(e),i="~"===t[1],r=i?"span":"div",o=t[2];if(N[o]=N[r],I[o]=r,i||(S[o.toUpperCase()]={},
S[o]={}),!P[o]){var a=P[r];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,P[o]=a}s(N,function(e,t){e[r]&&(N[t]=e=l({},N[t]),e[o]=e[r])})}))}function m(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;r[e.schema]=null,n&&s(t(n,","),function(e){var n,r,o=i.exec(e);o&&(r=o[1],n=r?N[o[2]]:N[o[2]]={"#comment":{}},n=N[o[2]],s(t(o[3],"|"),function(e){"-"===r?delete n[e]:n[e]={}}))})}function g(e){var t,n=P[e];if(n)return n;for(t=R.length;t--;)if(n=R[t],n.pattern.test(e))return n}var v,b,y,x,w,_,k,C,S,T,D,A,E,M=this,P={},N={},R=[],I={},O={};e=e||{},y=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),v=i(e.valid_styles),b=i(e.invalid_styles,"map"),C=i(e.valid_classes,"map"),x=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),w=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),_=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),T=o("non_empty_elements","td th iframe video audio object script",_),D=o("move_caret_before_on_enter_elements","table",T),A=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),S=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",A),E=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),function(e){O[e]=new RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?f(e.valid_elements):(s(y,function(e,t){P[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},N[t]=e.children}),"html5"!=e.schema&&s(t("strong/b em/i"),function(e){e=t(e,"/"),P[e[1]].outputName=e[0]}),P.img.attributesDefault=[{name:"alt",value:""}],s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){P[e]&&(P[e].removeEmpty=!0)}),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){P[e].paddEmpty=!0}),s(t("span"),function(e){P[e].removeEmptyAttrs=!0})),p(e.custom_elements),m(e.valid_children),h(e.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&s(c(e.invalid_elements),function(e){P[e]&&delete P[e]}),g("span")||h("span[!data-mce-type|*]"),M.children=N,M.getValidStyles=function(){return v},M.getInvalidStyles=function(){return b},M.getValidClasses=function(){return C},M.getBoolAttrs=function(){return k},M.getBlockElements=function(){return S},M.getTextBlockElements=function(){return A},M.getTextInlineElements=function(){return E},M.getShortEndedElements=function(){return _},M.getSelfClosingElements=function(){return w},M.getNonEmptyElements=function(){return T},M.getMoveCaretBeforeOnEnterElements=function(){return D},M.getWhiteSpaceElements=function(){return x},M.getSpecialElements=function(){return O},M.isValidChild=function(e,t){var n=N[e];return!(!n||!n[t])},M.isValid=function(e,t){var n,i,r=g(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},M.getElementRule=g,M.getCustomElements=function(){return I},M.addValidElements=h,M.setValidElements=f,M.addCustomElements=p,M.addValidChildren=m,M.elements=P}}),i(P,[M,y,p],function(e,t,n){function i(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function r(r,a){function s(){}var l=this;r=r||{},l.schema=a=a||new e,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(e){e&&(l[e]=r[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=B.length;t--&&B[t].name!==e;);if(t>=0){for(n=B.length-1;n>=t;n--)e=B[n],e.valid&&j.end(e.name);B.length=t}}function s(e,t,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in b?t:H(n||i||o||""),x&&!m&&0!==t.indexOf("data-")){if(a=S[t],!a&&T){for(s=T.length;s--&&(a=T[s],!a.pattern.test(t)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(q[t]&&!r.allow_script_urls){var c=n.replace(l,"");try{c=decodeURIComponent(c)}catch(u){c=unescape(c)}if(W.test(c))return;if(!r.allow_html_data_urls&&V.test(c)&&!/^data:image\//i.test(c))return}d.map[t]=n,d.push({name:t,value:n})}var l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j=this,z=0,B=[],F=0,H=t.decode,q=n.makeMap("src,href,data,background,formaction,poster"),W=/((java|vb)script|mhtml):/i,V=/^data:/i;for(N=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),R=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),P=r.self_closing_elements||a.getSelfClosingElements(),b=a.getBoolAttrs(),x=r.validate,g=r.remove_internals,L=r.fix_self_closing,I=a.getSpecialElements();l=N.exec(e);){if(z<l.index&&j.text(H(e.substr(z,l.index-z))),c=l[6])c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),o(c);else if(c=l[7]){if(c=c.toLowerCase(),":"===c.charAt(0)&&(c=c.substr(1)),y=c in v,L&&P[c]&&B.length>0&&B[B.length-1].name===c&&o(c),!x||(w=a.getElementRule(c))){if(_=!0,x&&(S=w.attributes,T=w.attributePatterns),(C=l[8])?(m=-1!==C.indexOf("data-mce-type"),m&&g&&(_=!1),d=[],d.map={},C.replace(R,s)):(d=[],d.map={}),x&&!m){if(D=w.attributesRequired,A=w.attributesDefault,E=w.attributesForced,M=w.removeEmptyAttrs,M&&!d.length&&(_=!1),E)for(h=E.length;h--;)k=E[h],p=k.name,O=k.value,"{$uid}"===O&&(O="mce_"+F++),d.map[p]=O,d.push({name:p,value:O});if(A)for(h=A.length;h--;)k=A[h],p=k.name,p in d.map||(O=k.value,"{$uid}"===O&&(O="mce_"+F++),d.map[p]=O,d.push({name:p,value:O}));if(D){for(h=D.length;h--&&!(D[h]in d.map););-1===h&&(_=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){z=i(a,e,N.lastIndex),N.lastIndex=z;continue}_=!1}}_&&j.start(c,d,y)}else _=!1;if(u=I[c]){u.lastIndex=z=l.index+l[0].length,(l=u.exec(e))?(_&&(f=e.substr(z,l.index-z)),z=l.index+l[0].length):(f=e.substr(z),z=e.length),_&&(f.length>0&&j.text(f,!0),j.end(c)),N.lastIndex=z;continue}y||(C&&C.indexOf("/")==C.length-1?_&&j.end(c):B.push({name:c,valid:_}))}else(c=l[1])?(">"===c.charAt(0)&&(c=" "+c),r.allow_conditional_comments||"[if"!==c.substr(0,3)||(c=" "+c),j.comment(c)):(c=l[2])?j.cdata(c):(c=l[3])?j.doctype(c):(c=l[4])&&j.pi(c,l[5]);z=l.index+l[0].length}for(z<e.length&&j.text(H(e.substr(z))),h=B.length-1;h>=0;h--)c=B[h],c.valid&&j.end(c.name)}}var o=n.each;return r.findEndTag=i,r}),i(N,[E,M,P,p],function(e,t,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function c(t){var n,i,o,a,s,c,d,h,f,p,m,g,v,b,y;for(m=r("tr,td,th,tbody,thead,tfoot,table"),p=l.getNonEmptyElements(),g=l.getTextBlockElements(),v=l.getSpecialElements(),n=0;n<t.length;n++)if(i=t[n],i.parent&&!i.fixed)if(g[i.name]&&"li"==i.parent.name){for(b=i.next;b&&g[b.name];)b.name="li",b.fixed=!0,i.parent.insert(b,i.parent),b=b.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!m[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=c=u.filterNode(a[0].clone()),f=0;f<a.length-1;f++){for(l.isValidChild(c.name,a[f].name)?(d=u.filterNode(a[f].clone()),c.append(d)):d=c,h=a[f].firstChild;h&&h!=a[f+1];)y=h.next,d.append(h),h=y;c=d}s.isEmpty(p)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(p)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(b=i.prev,b&&("ul"===b.name||"ul"===b.name)){b.append(i);continue}if(b=i.next,b&&("ul"===b.name||"ul"===b.name)){b.insert(i,b.firstChild,!0);continue}i.wrap(u.filterNode(new e("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(u.filterNode(new e("div",1))):v[i.name]?i.empty().remove():i.unwrap()}}}var u=this,d={},h=[],f={},p={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",u.schema=l=l||new t,u.filterNode=function(e){var t,n,i;n in d&&(i=f[n],i?i.push(e):f[n]=[e]),t=h.length;for(;t--;)n=h[t].name,n in e.attributes.map&&(i=p[n],i?i.push(e):p[n]=[e]);return e},u.addNodeFilter=function(e,t){o(a(e),function(e){var n=d[e];n||(d[e]=n=[]),n.push(t)})},u.addAttributeFilter=function(e,t){o(a(e),function(e){var n;for(n=0;n<h.length;n++)if(h[n].name===e)return void h[n].callbacks.push(t);h.push({name:e,callbacks:[t]})})},u.parse=function(t,o){function a(){function e(e){e&&(r=e.firstChild,r&&3==r.type&&(r.value=r.value.replace(E,"")),r=e.lastChild,r&&3==r.type&&(r.value=r.value.replace(P,"")))}var t,n,r=b.firstChild;if(l.isValidChild(b.name,j.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!A[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=u(j,1),n.attr(i.forced_root_block_attrs),b.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}function u(t,n){var i,r=new e(t,n);return t in d&&(i=f[t],i?i.push(r):f[t]=[r]),r}function m(e){var t,n,i,r,o=l.getBlockElements();for(t=e.prev;t&&3===t.type;){if(i=t.value.replace(P,""),i.length>0)return void(t.value=i);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}r=t.prev,t.remove(),t=r}}function g(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var v,b,y,x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z=[];if(o=o||{},f={},p={},A=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),L=l.getNonEmptyElements(),O=l.children,D=i.validate,j="forced_root_block"in o?o.forced_root_block:i.forced_root_block,I=l.getWhiteSpaceElements(),E=/^[ \t\r\n]+/,P=/[ \t\r\n]+$/,N=/[ \t\r\n]+/g,R=/^[ \t\r\n]+$/,v=new n({validate:D,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:g(l.getSelfClosingElements()),cdata:function(e){y.append(u("#cdata",4)).value=e},text:function(e,t){var n;M||(e=e.replace(N," "),y.lastChild&&A[y.lastChild.name]&&(e=e.replace(E,""))),0!==e.length&&(n=u("#text",3),n.raw=!!t,y.append(n).value=e)},comment:function(e){y.append(u("#comment",8)).value=e},pi:function(e,t){y.append(u(e,7)).value=t,m(y)},doctype:function(e){var t;t=y.append(u("#doctype",10)),t.value=e,m(y)},start:function(e,t,n){var i,r,o,a,s;if(o=D?l.getElementRule(e):{}){for(i=u(o.outputName||e,1),i.attributes=t,i.shortEnded=n,y.append(i),s=O[y.name],s&&O[i.name]&&!s[i.name]&&z.push(i),r=h.length;r--;)a=h[r].name,a in t.map&&(S=p[a],S?S.push(i):p[a]=[i]);A[e]&&m(i),n||(y=i),!M&&I[e]&&(M=!0)}},end:function(t){var n,i,r,o,a;if(i=D?l.getElementRule(t):{}){if(A[t]&&!M){if(n=y.firstChild,n&&3===n.type)if(r=n.value.replace(E,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||R.test(r))&&(n.remove(),n=o),n=o;if(n=y.lastChild,n&&3===n.type)if(r=n.value.replace(P,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||R.test(r))&&(n.remove(),n=o),n=o}if(M&&I[t]&&(M=!1),(i.removeEmpty||i.paddEmpty)&&y.isEmpty(L))if(i.paddEmpty)y.empty().append(new e("#text","3")).value="\xa0";else if(!y.attributes.map.name&&!y.attributes.map.id)return a=y.parent,A[y.name]?y.empty().remove():y.unwrap(),void(y=a);y=y.parent}}},l),b=y=new e(o.context||i.root_name,11),v.parse(t),D&&z.length&&(o.context?o.invalid=!0:c(z)),j&&("body"==b.name||o.isRootContent)&&a(),!o.invalid){for(T in f){for(S=d[T],x=f[T],k=x.length;k--;)x[k].parent||x.splice(k,1);for(w=0,_=S.length;_>w;w++)S[w](x,T,o)}for(w=0,_=h.length;_>w;w++)if(S=h[w],S.name in p){for(x=p[S.name],k=x.length;k--;)x[k].parent||x.splice(k,1);for(k=0,C=S.callbacks.length;C>k;k++)S.callbacks[k](x,S.name,o)}}return b},i.remove_trailing_brs&&u.addNodeFilter("br",function(t){var n,i,r,o,a,c,u,d,h=t.length,f=s({},l.getBlockElements()),p=l.getNonEmptyElements();for(f.body=1,n=0;h>n;n++)if(i=t[n],r=i.parent,f[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(c=a.name,"span"!==c||"bookmark"!==a.attr("data-mce-type")){if("br"!==c)break;if("br"===c){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(p)&&(u=l.getElementRule(r.name),u&&(u.removeEmpty?r.remove():u.paddEmpty&&(r.empty().append(new e("#text",3)).value="\xa0"))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!f[r.name]);)r=r.parent;o===r&&(d=new e("#text",3),d.value="\xa0",i.replace(d))}}),i.allow_html_in_named_anchor||u.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if(r=e[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,t=r.lastChild;do n=t.prev,i.insert(t,r),t=n;while(t)}}),i.validate&&l.getValidClasses()&&u.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,c=e.length,u=l.getValidClasses();c--;){for(t=e[c],n=t.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,a=u["*"],a&&a[r]&&(s=!0),a=u[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}}),i(R,[y,p],function(e,t){var n=t.makeMap;return function(t){var i,r,o,a,s,l=[];return t=t||{},i=t.indent,r=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var c,u,d,h;if(i&&r[e]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",e),t)for(c=0,u=t.length;u>c;c++)d=t[c],l.push(" ",d.name,'="',a(d.value,!0),'"');!n||s?l[l.length]=">":l[l.length]=" />",n&&i&&o[e]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),i&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("<!--",e,"-->")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),i&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i(I,[R,M],function(e,t){return function(n,i){var r=this,o=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,r.schema=i=i||new t,r.writer=o,r.serialize=function(e){function t(e){var n,s,l,c,u,d,h,f,p,m=r[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1&&(d=[],d.map={},p=i.getElementRule(e.name))){for(h=0,f=p.attributesOrder.length;f>h;h++)c=p.attributesOrder[h],c in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(h=0,f=l.length;f>h;h++)c=l[h].name,c in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do t(e);while(e=e.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?r[11](e):t(e),o.getContent()}}}),i(O,[w,N,P,y,I,E,M,h,p,S],function(e,t,n,i,r,o,a,s,l,c){function u(e){function t(e){return e&&"br"===e.name}var n,i;n=e.lastChild,t(n)&&(i=n.prev,t(i)&&(n.remove(),i.remove()))}var d=l.each,h=l.trim,f=e.DOM,p=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(e,o){function l(){var e,t,i,r,a,s=o.getBody().innerHTML,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=o.schema;for(s=c.trim(s.replace(p,"")),a=u.getShortEndedElements();r=l.exec(s);)t=l.lastIndex,i=r[0].length,e=a[r[1]]?t:n.findEndTag(u,s,t),s=s.substring(0,t-i)+s.substring(e),l.lastIndex=t-i;return h(s)}var m,g,v;return o&&(m=o.dom,g=o.schema),m=m||f,g=g||new a(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,v=new t(e,g),v.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)n=e[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),v.addAttributeFilter("src,href,style",function(t,n){for(var i,r,o,a=t.length,s="data-mce-"+n,l=e.url_converter,c=e.url_converter_scope;a--;)i=t[a],r=i.attributes.map[s],r!==o?(i.attr(n,r.length>0?r:null),i.attr(s,null)):(r=i.attributes.map[n],"style"===n?r=m.serializeStyle(m.parseStyle(r),i.name):l&&(r=l.call(c,r,n,i.name)),i.attr(n,r.length>0?r:null))}),v.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),v.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)i=e[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),v.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)t=e[n].firstChild,t&&(t.value=i.decode(t.value))}),v.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=e.length;a--;)i=e[a],r=i.firstChild?i.firstChild.value:"","script"===t?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),v.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),v.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)n=e[i],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&v.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),v.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:g,addNodeFilter:v.addNodeFilter,addAttributeFilter:v.addAttributeFilter,serialize:function(t,n){var i,o,a,l,f,p,b=this;return s.ie&&m.select("script,style,select,map").length>0?(f=t.innerHTML,t=t.cloneNode(!1),m.setHTML(t,f)):t=t.cloneNode(!0),i=t.ownerDocument.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),d("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,a=m.doc,m.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,b.onPreProcess(n)),p=v.parse(h(n.getInner?t.innerHTML:m.getOuterHTML(t)),n),u(p),l=new r(e,g),n.content=l.serialize(p),n.cleanup||(n.content=c.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||b.onPostProcess(n),a&&(m.doc=a),n.node=null,n.content},addRules:function(e){g.addValidElements(e)},setRules:function(e){g.setValidElements(e)},onPreProcess:function(e){o&&o.fire("PreProcess",e)},onPostProcess:function(e){o&&o.fire("PostProcess",e)},getTrimmedContent:l}}}),i(L,[],function(){function e(e){function t(t,n){var i,r,o,a,s,l,c,u,d=0,h=-1;if(i=t.duplicate(),i.collapse(n),u=i.parentElement(),u.ownerDocument===e.dom.doc){for(;"false"===u.contentEditable;)u=u.parentNode;if(!u.hasChildNodes())return{node:u,inside:1};for(a=u.children,r=a.length-1;r>=d;)if(c=Math.floor((d+r)/2),s=a[c],i.moveToElementText(s),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",t),h>0)r=c-1;else{if(!(0>h))return{node:s};d=c+1}if(0>h)for(s?i.collapse(!1):(i.moveToElementText(u),i.collapse(!0),s=u,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",1)&&u==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==i.move("character",-1)&&u==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}function n(){function n(e){var n,i,r,o,a,s=t(u,e),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return void d[e?"setStart":"setEnd"](n,0);if(i===o)return void d[e?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return void d[e?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[e?"setStart":"setEnd"](r,0):d[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(a=r.nodeValue,l+=a.length,l>=i)){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[e?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[e?"setStart":"setEnd"](r,n.nodeValue.length):d[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(l+=r.nodeValue.length,l>=i)){n=r,l-=i;break}r=r.previousSibling}}d[e?"setStart":"setEnd"](n,l)}var o,a,s,l,c,u=e.getRng(),d=r.createRng();if(o=u.item?u.item(0):u.parentElement(),o.ownerDocument!=r.doc)return d;if(a=e.isCollapsed(),u.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),s=u.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=u.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(c),u=e.getRng(),n(!0),a||n()}return d}var i=this,r=e.dom,o=!1;this.getBookmark=function(n){function i(e){var t,n,i,o,a=[];for(t=e.parentNode,n=r.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=t.children,o=i.length;o--;)if(e===i[o]){a.push(o);break}e=t,t=t.parentNode}return a}function o(e){var n;return n=t(a,e),n?{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}:void 0}var a=e.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),e.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(e){function t(e){var t,n,i,o;for(t=r.getRoot(),n=e.length-1;n>=0;n--)o=t.children,i=e[n],i<=o.length-1&&(t=o[i]);return t}function n(n){var r,a,s,l,c=e[n?"start":"end"];c&&(r=c.position>0,a=o.createTextRange(),a.moveToElementText(t(c.indexes)),l=c.offset,l!==s?(a.collapse(c.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;e.start&&(e.start.ctrl?(i=o.createControlRange(),i.addElement(t(e.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(t){function n(e){var t,n,a,d,h;a=r.create("a"),t=e?s:c,n=e?l:u,d=i.duplicate(),(t==p||t==p.documentElement)&&(t=m,n=0),3==t.nodeType?(t.parentNode.insertBefore(a,t),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(e?"StartToStart":"EndToEnd",d)):(h=t.childNodes,h.length?(n>=h.length?r.insertAfter(a,h[h.length-1]):t.insertBefore(a,h[n]),d.moveToElementText(a)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",a=t.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(e?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,c,u,d,h,f,p=e.dom.doc,m=p.body;if(s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset,i=m.createTextRange(),s==c&&1==s.nodeType){if(l==u&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(s),s=s.parentNode}if(l==u-1)try{if(f=s.childNodes[l],a=m.createControlRange(),a.addElement(f),a.select(),h=e.getRng(),h.item&&f===h.item(0))return}catch(g){}}n(!0),n(),i.select()},this.getRangeAt=n}return e}),i(j,[h],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),i(z,[j,p,c,h,C],function(e,t,n,i,r){var o=r.isContentEditableFalse;return function(r,a){function s(e){var t=a.settings.object_resizing;return t===!1||i.iOS?!1:("string"!=typeof t&&(t="table,img,div"),"false"===e.getAttribute("data-mce-resize")?!1:e==a.getBody()?!1:a.dom.is(e,t))}function l(t){var n,i,r,o,s;n=t.screenX-E,i=t.screenY-M,j=n*D[2]+R,z=i*D[3]+I,j=5>j?5:j,z=5>z?5:z,r="IMG"==k.nodeName&&a.settings.resize_img_proportional!==!1?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==k.nodeName&&D[2]*D[3]!==0,r&&(Y(n)>Y(i)?(z=$(j*O),j=$(z/O)):(j=$(z/O),z=$(j*O))),H.setStyles(C,{width:j,height:z}),o=D.startPos.x+n,s=D.startPos.y+i,o=o>0?o:0,s=s>0?s:0,H.setStyles(S,{left:o,top:s,display:"block"}),S.innerHTML=j+" &times; "+z,D[2]<0&&C.clientWidth<=j&&H.setStyle(C,"left",P+(R-j)),D[3]<0&&C.clientHeight<=z&&H.setStyle(C,"top",N+(I-z)),n=X.scrollWidth-B,i=X.scrollHeight-F,n+i!==0&&H.setStyles(S,{left:o-n,top:s-i}),L||(a.fire("ObjectResizeStart",{target:k,width:R,height:I}),L=!0)}function c(){function e(e,t){t&&(k.style[e]||!a.schema.isValid(k.nodeName.toLowerCase(),e)?H.setStyle(k,e,t):H.setAttrib(k,e,t))}L=!1,e("width",j),e("height",z),H.unbind(W,"mousemove",l),H.unbind(W,"mouseup",c),V!=W&&(H.unbind(V,"mousemove",l),H.unbind(V,"mouseup",c)),H.remove(C),H.remove(S),U&&"TABLE"!=k.nodeName||u(k),a.fire("ObjectResized",{target:k,width:j,height:z}),H.setAttrib(k,"style",H.getAttrib(k,"style")),a.nodeChanged()}function u(e,t,n){var r,o,u,h,f;d(),y(),r=H.getPos(e,X),P=r.x,N=r.y,f=e.getBoundingClientRect(),o=f.width||f.right-f.left,u=f.height||f.bottom-f.top,k!=e&&(b(),k=e,j=z=0),h=a.fire("ObjectSelected",{target:e}),s(e)&&!h.isDefaultPrevented()?q(T,function(e,r){function a(t){E=t.screenX,M=t.screenY,R=k.clientWidth,I=k.clientHeight,O=I/R,D=e,e.startPos={x:o*e[0]+P,y:u*e[1]+N},B=X.scrollWidth,F=X.scrollHeight,C=k.cloneNode(!0),H.addClass(C,"mce-clonedresizable"),H.setAttrib(C,"data-mce-bogus","all"),C.contentEditable=!1,C.unSelectabe=!0,H.setStyles(C,{left:P,top:N,margin:0}),C.removeAttribute("data-mce-selected"),X.appendChild(C),H.bind(W,"mousemove",l),H.bind(W,"mouseup",c),V!=W&&(H.bind(V,"mousemove",l),H.bind(V,"mouseup",c)),S=H.add(X,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},R+" &times; "+I)}var s;return t?void(r==t&&a(n)):(s=H.get("mceResizeHandle"+r),s&&H.remove(s),s=H.add(X,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),i.ie&&(s.contentEditable=!1),H.bind(s,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),a(e)}),e.elm=s,void H.setStyles(s,{left:o*e[0]+P-s.offsetWidth/2,top:u*e[1]+N-s.offsetHeight/2}))}):d(),k.setAttribute("data-mce-selected","1")}function d(){var e,t;y(),k&&k.removeAttribute("data-mce-selected");for(e in T)t=H.get("mceResizeHandle"+e),t&&(H.unbind(t),H.remove(t))}function h(e){function t(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var n,i;return L||a.removed?void 0:(q(H.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:r.getNode(),i=H.$(i).closest(U?"table":"table,img,hr")[0],t(i,X)&&(x(),n=r.getStart(!0),t(n,i)&&t(r.getEnd(!0),i)&&(!U||i!=n&&"IMG"!==n.nodeName))?void u(i):void d())}function f(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function p(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function m(e){var t,n,i,r,o,s,l,c=e.srcElement;t=c.getBoundingClientRect(),s=A.clientX-t.left,l=A.clientY-t.top;for(n in T)if(i=T[n],r=c.offsetWidth*i[0],o=c.offsetHeight*i[1],Y(r-s)<8&&Y(o-l)<8){D=i;break}L=!0,a.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),a.getDoc().selection.empty(),u(c,n,A)}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function v(e){var t=e.srcElement;if(o(t))return void g(e);if(t!=k){if(a.fire("ObjectSelected",{target:t}),b(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);("IMG"==t.nodeName||"TABLE"==t.nodeName)&&(d(),k=t,f(t,"resizestart",m))}}function b(){p(k,"resizestart",m)}function y(){for(var e in T){var t=T[e];t.elm&&(H.unbind(t.elm),delete t.elm)}}function x(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function w(e){var t;if(U){t=W.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function _(){k=C=null,U&&(b(),p(X,"controlselect",v))}var k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z,B,F,H=a.dom,q=t.each,W=a.getDoc(),V=document,U=i.ie&&i.ie<11,Y=Math.abs,$=Math.round,X=a.getBody();T={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var G=".mce-content-body";return a.contentStyles.push(G+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+G+" .mce-resizehandle:hover {background: #000}"+G+" *[data-mce-selected] {outline: 1px solid black;resize: none}"+G+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+G+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),a.on("init",function(){U?(a.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(d(),w(e.target))}),f(X,"controlselect",v),a.on("mousedown",function(e){A=e})):(x(),i.ie>=11&&(a.on("mousedown click",function(e){var t=e.target.nodeName;!L&&/^(TABLE|IMG|HR)$/.test(t)&&(a.selection.select(e.target,"TABLE"==t),"mousedown"==e.type&&a.nodeChanged())}),a.dom.bind(X,"mscontrolselect",function(e){function t(e){n.setEditorTimeout(a,function(){a.selection.select(e)})}return o(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target)))}))),a.on("nodechange ResizeEditor ResizeWindow drop",function(e){n.requestAnimationFrame(function(){h(e)})}),a.on("keydown keyup",function(e){k&&"TABLE"==k.nodeName&&h(e)}),a.on("hide blur",d)}),a.on("remove",y),{isResizable:s,showResizeRect:u,hideResizeRect:d,updateResizeRect:h,controlSelect:w,destroy:_}}}),i(B,[],function(){function e(e){return function(){return e}}function t(e){return function(t){return!e(t)}}function n(e,t){return function(n){return e(t(n))}}function i(){var e=a.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}function r(){var e=a.call(arguments);return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}function o(e){var t=a.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}var a=[].slice;return{constant:e,negate:t,and:r,or:i,curry:o,compose:n}}),i(F,[C,f,T],function(e,t,n){function i(e){return m(e)?!1:d(e)?h(e.parentNode)?!1:!0:f(e)||u(e)||p(e)||c(e)}function r(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(c(e))return!1;if(l(e))return!0}return!0}function o(e){return c(e)?t.reduce(e.getElementsByTagName("*"),function(e,t){return e||l(t)},!1)!==!0:!1}function a(e){return f(e)||o(e)}function s(e,t){return i(e)&&r(e,t)}var l=e.isContentEditableTrue,c=e.isContentEditableFalse,u=e.isBr,d=e.isText,h=e.matchNodeNames("script style textarea"),f=e.matchNodeNames("img input textarea hr iframe video audio object"),p=e.matchNodeNames("table"),m=n.isCaretContainer;
return{isCaretCandidate:i,isInEditable:r,isAtomic:a,isEditableCaretCandidate:s}}),i(H,[],function(){function e(e){return e?{left:c(e.left),top:c(e.top),bottom:c(e.bottom),right:c(e.right),width:c(e.width),height:c(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function t(t,n){return t=e(t),n?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t}function n(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function i(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2}function r(e,t){return e.bottom<t.top?!0:e.top>t.bottom?!1:i(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom?!0:e.bottom<t.top?!1:i(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function l(e,t){return r(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}var c=Math.round;return{clone:e,collapse:t,isEqual:n,isAbove:r,isBelow:o,isLeft:a,isRight:s,compare:l}}),i(q,[],function(){function e(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&t.test(e)}var t=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:e}}),i(W,[B,C,w,D,F,H,q],function(e,t,n,i,r,o,a){function s(e){return e&&/[\r\n\t ]/.test(e)}function l(e){var t,n=e.startContainer,i=e.startOffset;return s(e.toString())&&g(n.parentNode)&&(t=n.data,s(t[i-1])||s(t[i+1]))?!0:!1}function c(e){function t(e){var t,n=e.ownerDocument,i=n.createRange(),r=n.createTextNode("\xa0"),a=e.parentNode;return a.insertBefore(r,e),i.setStart(r,0),i.setEnd(r,1),t=o.clone(i.getBoundingClientRect()),a.removeChild(r),t}function n(e){var n,i;return i=e.getClientRects(),n=i.length>0?o.clone(i[0]):o.clone(e.getBoundingClientRect()),b(e)&&0===n.left?t(e):n}function i(e,t){return e=o.collapse(e,t),e.width=1,e.right=e.left+1,e}function r(e){0!==e.height&&(h.length>0&&o.isEqual(e,h[h.length-1])||h.push(e))}function s(e,t){var o=e.ownerDocument.createRange();return t<e.data.length&&a.isExtendingChar(e.data[t])?h:(t>0&&(o.setStart(e,t-1),o.setEnd(e,t),l(o)||r(i(n(o),!1))),void(t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),l(o)||r(i(n(o),!0)))))}var c,u,h=[];if(v(e.container()))return s(e.container(),e.offset()),h;if(d(e.container()))if(e.isAtEnd())u=x(e.container(),e.offset()),v(u)&&s(u,u.data.length),m(u)&&!b(u)&&r(i(n(u),!1));else{if(u=x(e.container(),e.offset()),v(u)&&s(u,0),m(u)&&e.isAtEnd())return r(i(n(u),!1)),h;c=x(e.container(),e.offset()-1),m(c)&&!b(c)&&(f(c)||f(u)||!m(u))&&r(i(n(c),!1)),m(u)&&r(i(n(u),!0))}return h}function u(t,n,i){function r(){return v(t)?0===n:0===n}function o(){return v(t)?n>=t.data.length:n>=t.childNodes.length}function a(){var e;return e=t.ownerDocument.createRange(),e.setStart(t,n),e.setEnd(t,n),e}function s(){return i||(i=c(new u(t,n))),i}function l(){return s().length>0}function d(e){return e&&t===e.container()&&n===e.offset()}function h(e){return x(t,e?n-1:n)}return{container:e.constant(t),offset:e.constant(n),toRange:a,getClientRects:s,isVisible:l,isAtStart:r,isAtEnd:o,isEqual:d,getNode:h}}var d=t.isElement,h=r.isCaretCandidate,f=t.matchStyleValues("display","block table"),p=t.matchStyleValues("float","left right"),m=e.and(d,h,e.negate(p)),g=e.negate(t.matchStyleValues("white-space","pre pre-line pre-wrap")),v=t.isText,b=t.isBr,y=n.nodeIndex,x=i.getNode;return u.fromRangeStart=function(e){return new u(e.startContainer,e.startOffset)},u.fromRangeEnd=function(e){return new u(e.endContainer,e.endOffset)},u.after=function(e){return new u(e.parentNode,y(e)+1)},u.before=function(e){return new u(e.parentNode,y(e))},u}),i(V,[C,w,B,f,W],function(e,t,n,i,r){function o(e){var t=e.parentNode;return v(t)?o(t):t}function a(e){return e?i.reduce(e.childNodes,function(e,t){return v(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function s(e,t){for(;(e=e.previousSibling)&&g(e);)t+=e.data.length;return t}function l(e){return function(t){return e===t}}function c(t){var n,r,s;return n=a(o(t)),r=i.findIndex(n,l(t),t),n=n.slice(0,r+1),s=i.reduce(n,function(e,t,i){return g(t)&&g(n[i-1])&&e++,e},0),n=i.filter(n,e.matchNodeNames(t.nodeName)),r=i.findIndex(n,l(t),t),r-s}function u(e){var t;return t=g(e)?"text()":e.nodeName.toLowerCase(),t+"["+c(e)+"]"}function d(e,t,n){var i=[];for(t=t.parentNode;!(t==e||n&&n(t));t=t.parentNode)i.push(t);return i}function h(t,r){var o,a,l,c,h,f=[];return o=r.container(),a=r.offset(),g(o)?l=s(o,a):(c=o.childNodes,a>=c.length?(l="after",a=c.length-1):l="before",o=c[a]),f.push(u(o)),h=d(t,o),h=i.filter(h,n.negate(e.isBogus)),f=f.concat(i.map(h,function(e){return u(e)})),f.reverse().join("/")+","+l}function f(t,n,r){var o=a(t);return o=i.filter(o,function(e,t){return!g(e)||!g(o[t-1])}),o=i.filter(o,e.matchNodeNames(n)),o[r]}function p(e,t){for(var n,i=e,o=0;g(i);){if(n=i.data.length,t>=o&&o+n>=t){e=i,t-=o;break}if(!g(i.nextSibling)){e=i,t=n;break}o+=n,i=i.nextSibling}return t>e.data.length&&(t=e.data.length),new r(e,t)}function m(e,t){var n,o,a;return t?(n=t.split(","),t=n[0].split("/"),a=n.length>1?n[1]:"before",o=i.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),f(e,t[1],parseInt(t[2],10))):null},e),o?g(o)?p(o,parseInt(a,10)):(a="after"===a?b(o)+1:b(o),new r(o.parentNode,a)):null):null}var g=e.isText,v=e.isBogus,b=t.nodeIndex;return{create:h,resolve:m}}),i(U,[h,p,T,V,W,C],function(e,t,n,i,r,o){function a(a){var l=a.dom;this.getBookmark=function(e,c){function u(e,n){var i=0;return t.each(l.select(e),function(e){return"all"!==e.getAttribute("data-mce-bogus")?e==n?!1:void i++:void 0}),i}function d(e){function t(t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(t?i:i-1,r.length-1)],n&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i)))}return t(!0),t(),e}function h(e){function t(e,t){var i,r,o=e[t?"startContainer":"endContainer"],a=e[t?"startOffset":"endOffset"],s=[],u=0;if(3==o.nodeType){if(c)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else r=o.childNodes,a>=r.length&&r.length&&(u=1,a=Math.max(0,r.length-1)),s.push(l.nodeIndex(r[a],c)+u);for(;o&&o!=n;o=o.parentNode)s.push(l.nodeIndex(o,c));return s}var n=l.getRoot(),i={};return i.start=t(e,!0),a.isCollapsed()||(i.end=t(e)),i}function f(e){function t(e){var t;if(n.isCaretContainer(e)){if(o.isText(e)&&n.isCaretContainerBlock(e)&&(e=e.parentNode),t=e.previousSibling,s(t))return t;if(t=e.nextSibling,s(t))return t}}return t(e.startContainer)||t(e.endContainer)}var p,m,g,v,b,y,x,w="&#xFEFF;";if(2==e)return y=a.getNode(),b=y?y.nodeName:null,p=a.getRng(),s(y)||"IMG"==b?{name:b,index:u(b,y)}:a.tridentSel?a.tridentSel.getBookmark(e):(y=f(p),y?(b=y.tagName,{name:b,index:u(b,y)}):h(p));if(3==e)return p=a.getRng(),{start:i.create(l.getRoot(),r.fromRangeStart(p)),end:i.create(l.getRoot(),r.fromRangeEnd(p))};if(e)return{rng:a.getRng()};if(p=a.getRng(),g=l.uniqueId(),v=a.isCollapsed(),x="overflow:hidden;line-height:0px",p.duplicate||p.item){if(p.item)return y=p.item(0),b=y.nodeName,{name:b,index:u(b,y)};m=p.duplicate();try{p.collapse(),p.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_start" style="'+x+'">'+w+"</span>"),v||(m.collapse(!1),p.moveToElementText(m.parentElement()),0===p.compareEndPoints("StartToEnd",m)&&m.move("character",-1),m.pasteHTML('<span data-mce-type="bookmark" id="'+g+'_end" style="'+x+'">'+w+"</span>"))}catch(_){return null}}else{if(y=a.getNode(),b=y.nodeName,"IMG"==b)return{name:b,index:u(b,y)};m=d(p.cloneRange()),v||(m.collapse(!1),m.insertNode(l.create("span",{"data-mce-type":"bookmark",id:g+"_end",style:x},w))),p=d(p),p.collapse(!0),p.insertNode(l.create("span",{"data-mce-type":"bookmark",id:g+"_start",style:x},w))}return a.moveToBookmark({id:g,keep:1}),{id:g}},this.moveToBookmark=function(n){function r(e){var t,i,r,o,a=n[e?"start":"end"];if(a){for(r=a[0],i=d,t=a.length-1;t>=1;t--){if(o=i.childNodes,a[t]>o.length-1)return;i=o[a[t]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),e?u.setStart(i,r):u.setEnd(i,r)}return!0}function o(i){var r,o,a,s,c=l.get(n.id+"_"+i),u=n.keep;if(c&&(r=c.parentNode,"start"==i?(u?(r=c.firstChild,o=1):o=l.nodeIndex(c),h=f=r,p=m=o):(u?(r=c.firstChild,o=1):o=l.nodeIndex(c),f=r,m=o),!u)){for(s=c.previousSibling,a=c.nextSibling,t.each(t.grep(c.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});c=l.get(n.id+"_"+i);)l.remove(c,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!e.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),l.remove(a),"start"==i?(h=f=s,p=m=o):(f=s,m=o))}}function s(t){return!l.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}function c(){var e,t;return e=l.createRng(),t=i.resolve(l.getRoot(),n.start),e.setStart(t.container(),t.offset()),t=i.resolve(l.getRoot(),n.end),e.setEnd(t.container(),t.offset()),e}var u,d,h,f,p,m;if(n)if(t.isArray(n.start)){if(u=l.createRng(),d=l.getRoot(),a.tridentSel)return a.tridentSel.moveToBookmark(n);r(!0)&&r()&&a.setRng(u)}else"string"==typeof n.start?a.setRng(c(n)):n.id?(o("start"),o("end"),h&&(u=l.createRng(),u.setStart(s(h),p),u.setEnd(s(f),m),a.setRng(u))):n.name?a.select(l.select(n.name)[n.index]):n.rng&&a.setRng(n.rng)}}var s=o.isContentEditableFalse;return a.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},a}),i(Y,[v,L,z,D,U,C,h,p],function(e,n,i,r,o,a,s,l){function c(e,t,r,a){var s=this;s.dom=e,s.win=t,s.serializer=r,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var u=l.each,d=l.trim,h=s.ie;return c.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=i="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+i,o.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for(i=a.duplicate(),i.collapse(1),t=i.parentElement(),t.ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return t=a.startContainer,1==t.nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),t=r.parentElement(),t.ownerDocument!==i.dom.doc&&(t=i.dom.getRoot()),t&&"BODY"==t.nodeName?t.lastChild||t:t):(t=r.endContainer,n=r.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&r.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,i=n.getRng();i.item&&(t=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(t)),i.collapse(!!e),n.setRng(i)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(o=l.win.document,!e&&l.lastFocusBookmark){var c=l.lastFocusBookmark;return c.startContainer?(i=o.createRange(),i.setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset)):i=c,i}if(e&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(u){}if(s=l.editor.fire("GetSelectionRange",{range:i}),s.range!==i)return s.range;if(h&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(u){}a&&a.item&&(r=a.item(0),i=o.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===t(i.START_TO_START,i,l.selectedRange)&&0===t(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,l.explicitRange=null)),i},setRng:function(e,t){var n,i,r,o=this;if(e)if(e.select){o.explicitRange=null;try{e.select()}catch(a){}}else if(o.tridentSel){if(e.cloneRange)try{o.tridentSel.addRange(e)}catch(a){}}else{if(n=o.getSel(),r=o.editor.fire("SetSelectionRange",{range:e}),e=r.range,n){o.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(a){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||s.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset],i&&"IMG"==i.tagName&&o.getSel().setBaseAndExtent(i,0,i,1))}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,i=n.getRng(),r=i.startContainer,o=i.endContainer,a=i.startOffset,s=i.endOffset,l=n.dom.getRoot();return i?i.setStart?(t=i.commonAncestorContainer,!i.collapsed&&(r==o&&2>s-a&&r.hasChildNodes()&&(t=r.childNodes[a]),3===r.nodeType&&3===o.nodeType&&(r=r.length===a?e(r.nextSibling,!0):r.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,r&&r===o))?r:t&&3==t.nodeType?t.parentNode:t):(t=i.item?i.item(0):i.parentElement(),t.ownerDocument!==n.win.document&&(t=l),t):l},getSelectedBlocks:function(t,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=r&&s.push(t),t&&n&&t!=n){i=t;for(var l=new e(t,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&t!=n&&n!=r&&s.push(n),s},isForward:function(){var e,t,n=this.dom,i=this.getSel();return i&&i.anchorNode&&i.focusNode?(e=n.createRng(),e.setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0):!0},normalize:function(){var e=this,t=e.getRng();return s.range&&new r(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(e){var t=e.element,r=i.dom,o=r.getParents(t,null,r.getRoot()),a={};u(i.selectorChangedData,function(e,t){u(o,function(i){return r.is(i,t)?(n[t]||(u(e,function(e){e(!0,{node:i,selector:t,parents:o})}),n[t]=e),a[t]=e,!1):void 0})}),u(n,function(e,i){a[i]||(delete n[i],u(e,function(e){e(!1,{node:t,selector:i,parents:o})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(t),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var i,r,o,s,l=this,c=l.dom,u=c.getRoot(),d=0;if(a.isElement(e)){if(t===!1&&(d=e.offsetHeight),"BODY"!=u.nodeName){var h=l.getScrollContainer();if(h)return i=n(e).y-n(h).y+d,s=h.clientHeight,o=h.scrollTop,void((o>i||i+25>o+s)&&(h.scrollTop=o>i?i:i-s+25))}r=c.getViewPort(l.editor.getWin()),i=c.getPos(e).y+d,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&l.editor.getWin().scrollTo(0,o>i?i:i-s+25)}},placeCaretAt:function(e,t){this.setRng(r.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(t,n,i){var r=n,o=new e(n,r),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==d(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"==n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?t.setStart(n,0):t.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"==r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},c}),i($,[U,p],function(e,t){function n(t){this.compare=function(n,r){function o(e){var n={};return i(t.getAttribs(e),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&"data-mce-style"!==r&&(n[r]=t.getAttrib(e,r))}),n}function a(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(n=t[i],"undefined"==typeof n)return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return n.nodeName!=r.nodeName?!1:a(o(n),o(r))&&a(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(r,"style")))?!e.isBookmarkNode(n)&&!e.isBookmarkNode(r):!1}}var i=t.each;return n}),i(X,[p],function(e){function t(e,t){function i(e){return e.replace(/%(\w+)/g,"")}var r,o,a,s,l=e.dom,c="";if(s=e.settings.preview_styles,s===!1)return"";if(s||(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return r=t.block||t.inline||"span",o=l.create(r),n(t.styles,function(e,t){e=i(e),e&&l.setStyle(o,t,e)}),n(t.attributes,function(e,t){e=i(e),e&&l.setAttrib(o,t,e)}),n(t.classes,function(e){e=i(e),l.hasClass(o,e)||l.addClass(o,e)}),e.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),a=l.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(s.split(" "),function(t){var n=l.getStyle(o,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(o),c}var n=e.each;return{getCssText:t}}),i(G,[v,D,U,$,p,X],function(e,t,n,i,r,o){return function(a){function s(e){return e.nodeType&&(e=e.nodeName),!!a.schema.getTextBlockElements()[e.toLowerCase()]}function l(e){return/^(TH|TD)$/.test(e.nodeName)}function c(e){return e&&/^(IMG)$/.test(e.nodeName)}function u(e,t){return G.getParents(e,t,G.getRoot())}function d(e){return 1===e.nodeType&&"_mce_caret"===e.id}function h(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){le(n,function(t,n){G.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),le("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){m(e,{block:e,remove:"all"})}),m(a.settings.formats)}function f(){a.addShortcut("meta+b","bold_desc","Bold"),a.addShortcut("meta+i","italic_desc","Italic"),a.addShortcut("meta+u","underline_desc","Underline");for(var e=1;6>=e;e++)a.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);a.addShortcut("access+7","",["FormatBlock",!1,"p"]),a.addShortcut("access+8","",["FormatBlock",!1,"div"]),a.addShortcut("access+9","",["FormatBlock",!1,"address"])}function p(e){return e?X[e]:X}function m(e,t){e&&("string"!=typeof e?le(e,function(e,t){m(t,e)}):(t=t.length?t:[t],le(t,function(e){e.deep===U&&(e.deep=!e.selector),e.split===U&&(e.split=!e.selector||e.inline),e.remove===U&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),X[e]=t))}function g(e){return e&&X[e]&&delete X[e],X}function v(e){var t;return a.dom.getParent(e,function(e){return t=a.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function b(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=v(e.parentNode),a.dom.getStyle(e,"color")&&t?a.dom.setStyle(e,"text-decoration",t):a.dom.getStyle(e,"text-decoration")===t&&a.dom.setStyle(e,"text-decoration",null))}function y(t,n,i){function r(e,t){if(t=t||f,e){if(t.onformat&&t.onformat(e,t,n,i),le(t.styles,function(t,i){G.setStyle(e,i,N(t,n))}),t.styles){var r=G.getAttrib(e,"style");r&&e.setAttribute("data-mce-style",r)}le(t.attributes,function(t,i){G.setAttrib(e,i,N(t,n))}),le(t.classes,function(t){t=N(t,n),G.hasClass(e,t)||G.addClass(e,t)})}}function o(){function t(t,n){var r=new e(n);for(i=r.current();i;i=r.prev())if(i.childNodes.length>1||i==t||"BR"==i.tagName)return i}var n=a.selection.getRng(),r=n.startContainer,o=n.endContainer;if(r!=o&&0===n.endOffset){var s=t(r,o),l=3==s.nodeType?s.length:s.childNodes.length;n.setEnd(s,l)}return n}function l(e,i,o){var a,l,c=[],u=!0;a=f.inline||f.block,l=G.create(a),r(l),K.walk(e,function(e){function i(e){var g,v,b,y,x;return x=u,g=e.nodeName.toLowerCase(),v=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&ae(e)&&(x=u,u="true"===ae(e),y=!0),E(g,"br")?(p=0,void(f.block&&G.remove(e))):f.wrapper&&_(e,t,n)?void(p=0):u&&!y&&f.block&&!f.wrapper&&s(g)&&Q(v,a)?(e=G.rename(e,a),r(e),c.push(e),void(p=0)):f.selector&&(le(h,function(t){return"collapsed"in t&&t.collapsed!==m?void 0:G.is(e,t.selector)&&!d(e)?(r(e,t),b=!0,!1):void 0}),!f.inline||b)?void(p=0):void(!u||y||!Q(a,g)||!Q(v,a)||!o&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||d(e)||f.inline&&J(e)?(p=0,le(ce(e.childNodes),i),y&&(u=x),p=0):(p||(p=G.clone(l,re),e.parentNode.insertBefore(p,e),c.push(p)),p.appendChild(e)))}var p;le(e,i)}),f.links===!0&&le(c,function(e){function t(e){"A"===e.nodeName&&r(e,f),le(ce(e.childNodes),t)}t(e)}),le(c,function(e){function i(e){var t=0;return le(e.childNodes,function(e){R(e)||se(e)||t++}),t}function o(e){var t,n;return le(e.childNodes,function(e){return 1!=e.nodeType||se(e)||d(e)?void 0:(t=e,re)}),t&&!se(t)&&A(t,f)&&(n=G.clone(t,re),r(n),G.replace(n,e,oe),G.remove(t,1)),n||e}var a;if(a=i(e),(c.length>1||!J(e))&&0===a)return void G.remove(e,1);if(f.inline||f.wrapper){if(f.exact||1!==a||(e=o(e)),le(h,function(t){le(G.select(t.inline,e),function(e){se(e)||j(t,n,e,t.exact?e:null)})}),_(e.parentNode,t,n))return G.remove(e,1),e=0,oe;f.merge_with_parents&&G.getParent(e.parentNode,function(i){return _(i,t,n)?(G.remove(e,1),e=0,oe):void 0}),e&&f.merge_siblings!==!1&&(e=F(B(e),e),e=F(e,B(e,oe)))}})}var c,u,h=p(t),f=h[0],m=!i&&Z.isCollapsed();if("false"!==ae(Z.getNode())){if(f)if(i)i.nodeType?(u=G.createRng(),u.setStartBefore(i),u.setEndAfter(i),l(O(u,h),null,!0)):l(i,null,!0);else if(m&&f.inline&&!G.select("td.mce-item-selected,th.mce-item-selected").length)q("apply",t,n);else{var g=a.selection.getNode();ee||!h[0].defaultBlock||G.getParent(g,G.isBlock)||y(h[0].defaultBlock),a.selection.setRng(o()),c=Z.getBookmark(),l(O(Z.getRng(oe),h),c),f.styles&&(f.styles.color||f.styles.textDecoration)&&(ue(g,b,"childNodes"),b(g)),Z.moveToBookmark(c),W(Z.getRng(oe)),a.nodeChanged()}}else{i=Z.getNode();for(var v=0,x=h.length;x>v;v++)if(h[v].ceFalseOverride&&G.is(i,h[v].selector))return void r(i,h[v])}}function x(e,t,n,i){function r(e){var n,i,o,a,s;if(1===e.nodeType&&ae(e)&&(a=y,y="true"===ae(e),s=!0),n=ce(e.childNodes),y&&!s)for(i=0,o=g.length;o>i&&!j(g[i],t,e,e);i++);if(b.deep&&n.length){for(i=0,o=n.length;o>i;i++)r(n[i]);s&&(y=a)}}function o(n){var r;return le(u(n.parentNode).reverse(),function(n){var o;r||"_start"==n.id||"_end"==n.id||(o=_(n,e,t,i),o&&o.split!==!1&&(r=n))}),r}function s(e,n,i,r){var o,a,s,l,c,u;if(e){for(u=e.parentNode,o=n.parentNode;o&&o!=u;o=o.parentNode){for(a=G.clone(o,re),c=0;c<g.length;c++)if(j(g[c],t,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||b.mixed&&J(e)||(n=G.split(e,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function c(e){return s(o(e),e,e,!0)}function d(e){var t=G.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return se(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),G.remove(t,!0),n}function h(e){var t,n,i=e.commonAncestorContainer;if(e=O(e,g,oe),b.split){if(t=H(e,oe),n=H(e),t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&l(n)&&n.firstChild&&(n=n.firstChild||n),G.isChildOf(t,n)&&!J(n)&&!l(t)&&!l(n))return t=I(t,"span",{id:"_start","data-mce-type":"bookmark"}),c(t),void(t=d(oe));t=I(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=I(n,"span",{id:"_end","data-mce-type":"bookmark"}),c(t),c(n),t=d(oe),n=d()}else t=n=c(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=te(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=te(n)+1}K.walk(e,function(e){le(e,function(e){r(e),1===e.nodeType&&"underline"===a.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===v(e.parentNode)&&j({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var f,m,g=p(e),b=g[0],y=!0;if(n)return void(n.nodeType?(m=G.createRng(),m.setStartBefore(n),m.setEndAfter(n),h(m)):h(n));if("false"!==ae(Z.getNode()))Z.isCollapsed()&&b.inline&&!G.select("td.mce-item-selected,th.mce-item-selected").length?q("remove",e,t,i):(f=Z.getBookmark(),h(Z.getRng(oe)),Z.moveToBookmark(f),b.inline&&k(e,t,Z.getStart())&&W(Z.getRng(!0)),a.nodeChanged());else{n=Z.getNode();for(var x=0,w=g.length;w>x&&(!g[x].ceFalseOverride||!j(g[x],t,n,n));x++);}}function w(e,t,n){var i=p(e);!k(e,t,n)||"toggle"in i[0]&&!i[0].toggle?y(e,t,n):x(e,t,n)}function _(e,t,n,i){function r(e,t,r){var o,a,s,l=t[r];if(t.onmatch)return t.onmatch(e,t,r);if(l)if(l.length===U){for(o in l)if(l.hasOwnProperty(o)){
if(a="attributes"===r?G.getAttrib(e,o):M(e,o),i&&!a&&!t.exact)return;if((!i||t.exact)&&!E(a,P(N(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?G.getAttrib(e,l[s]):M(e,l[s]))return t;return t}var o,a,s,l=p(t);if(l&&e)for(a=0;a<l.length;a++)if(o=l[a],A(e,o)&&r(e,o,"attributes")&&r(e,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!G.hasClass(e,s[a]))return;return o}}function k(e,t,n){function i(n){var i=G.getRoot();return n===i?!1:(n=G.getParent(n,function(n){return n.parentNode===i||!!_(n,e,t,!0)}),_(n,e,t))}var r;return n?i(n):(n=Z.getNode(),i(n)?oe:(r=Z.getStart(),r!=n&&i(r)?oe:re))}function C(e,t){var n,i=[],r={};return n=Z.getStart(),G.getParent(n,function(n){var o,a;for(o=0;o<e.length;o++)a=e[o],!r[a]&&_(n,a,t)&&(r[a]=!0,i.push(a))},G.getRoot()),i}function S(e){var t,n,i,r,o,a=p(e);if(a)for(t=Z.getStart(),n=u(t),r=a.length-1;r>=0;r--){if(o=a[r].selector,!o||a[r].defaultBlock)return oe;for(i=n.length-1;i>=0;i--)if(G.is(n[i],o))return oe}return re}function T(e,t,n){var i;return V||(V={},i={},a.on("NodeChange",function(e){var t=u(e.element),n={};t=r.grep(t,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),le(V,function(e,r){le(t,function(o){return _(o,r,{},e.similar)?(i[r]||(le(e,function(e){e(!0,{node:o,format:r,parents:t})}),i[r]=e),n[r]=e,!1):void 0})}),le(i,function(r,o){n[o]||(delete i[o],le(r,function(n){n(!1,{node:e.element,format:o,parents:t})}))})})),le(e.split(","),function(e){V[e]||(V[e]=[],V[e].similar=n),V[e].push(t)}),this}function D(e){return o.getCssText(a,e)}function A(e,t){return E(e,t.inline)?oe:E(e,t.block)?oe:t.selector?1==e.nodeType&&G.is(e,t.selector):void 0}function E(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function M(e,t){return P(G.getStyle(e,t),t)}function P(e,t){return("color"==t||"backgroundColor"==t)&&(e=G.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function N(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function R(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function I(e,t,n){var i=G.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function O(t,n,i){function r(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var i,r,o,a,s;if(i=r=e?g:b,a=e?"previousSibling":"nextSibling",s=G.getRoot(),3==i.nodeType&&!R(i)&&(e?v>0:y<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&J(r))return r;for(o=r[a];o;o=o[a])if(!se(o)&&!R(o)&&!t(o))return r;if(r==s||r.parentNode==s){i=r;break}r=r.parentNode}return i}function o(e,t){for(t===U&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function l(e){for(var t=e;t;){if(1===t.nodeType&&ae(t))return"false"===ae(t)?t:e;t=t.parentNode}return e}function c(t,n,r){function o(e,t){var n,o,a=e.nodeValue;return"undefined"==typeof t&&(t=r?a.length:0),r?(n=a.lastIndexOf(" ",t),o=a.lastIndexOf("\xa0",t),n=n>o?n:o,-1===n||i||n++):(n=a.indexOf(" ",t),o=a.indexOf("\xa0",t),n=-1!==n&&(-1===o||o>n)?n:o),n}var s,l,c,u;if(3===t.nodeType){if(c=o(t,n),-1!==c)return{container:t,offset:c};u=t}for(s=new e(t,G.getParent(t,J)||a.getBody());l=s[r?"prev":"next"]();)if(3===l.nodeType){if(u=l,c=o(l),-1!==c)return{container:l,offset:c}}else if(J(l))break;return u?(n=r?0:u.length,{container:u,offset:n}):void 0}function d(e,i){var r,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[i]&&(e=e[i]),r=u(e),o=0;o<r.length;o++)for(a=0;a<n.length;a++)if(s=n[a],!("collapsed"in s&&s.collapsed!==t.collapsed)&&G.is(r[o],s.selector))return r[o];return e}function h(e,t){var i,r=G.getRoot();if(n[0].wrapper||(i=G.getParent(e,n[0].block,r)),i||(i=G.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=r&&s(e)})),i&&n[0].wrapper&&(i=u(i,"ul,ol").reverse()[0]||i),!i)for(i=e;i[t]&&!J(i[t])&&(i=i[t],!E(i,"br")););return i||e}var f,p,m,g=t.startContainer,v=t.startOffset,b=t.endContainer,y=t.endOffset;if(1==g.nodeType&&g.hasChildNodes()&&(f=g.childNodes.length-1,g=g.childNodes[v>f?f:v],3==g.nodeType&&(v=0)),1==b.nodeType&&b.hasChildNodes()&&(f=b.childNodes.length-1,b=b.childNodes[y>f?f:y-1],3==b.nodeType&&(y=b.nodeValue.length)),g=l(g),b=l(b),(se(g.parentNode)||se(g))&&(g=se(g)?g:g.parentNode,g=g.nextSibling||g,3==g.nodeType&&(v=0)),(se(b.parentNode)||se(b))&&(b=se(b)?b:b.parentNode,b=b.previousSibling||b,3==b.nodeType&&(y=b.length)),n[0].inline&&(t.collapsed&&(m=c(g,v,!0),m&&(g=m.container,v=m.offset),m=c(b,y),m&&(b=m.container,y=m.offset)),p=o(b,y),p.node)){for(;p.node&&0===p.offset&&p.node.previousSibling;)p=o(p.node.previousSibling);p.node&&p.offset>0&&3===p.node.nodeType&&" "===p.node.nodeValue.charAt(p.offset-1)&&p.offset>1&&(b=p.node,b.splitText(p.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==g.nodeType&&0!==v||(g=r(!0)),n[0].inline&&3==b.nodeType&&y!==b.nodeValue.length||(b=r())),n[0].selector&&n[0].expand!==re&&!n[0].inline&&(g=d(g,"previousSibling"),b=d(b,"nextSibling")),(n[0].block||n[0].selector)&&(g=h(g,"previousSibling"),b=h(b,"nextSibling"),n[0].block&&(J(g)||(g=r(!0)),J(b)||(b=r()))),1==g.nodeType&&(v=te(g),g=g.parentNode),1==b.nodeType&&(y=te(b)+1,b=b.parentNode),{startContainer:g,startOffset:v,endContainer:b,endOffset:y}}function L(e,t){return t.links&&"A"==e.tagName}function j(e,t,n,i){var r,o,a;if(!A(n,e)&&!L(n,e))return re;if("all"!=e.remove)for(le(e.styles,function(r,o){r=P(N(r,t),o),"number"==typeof o&&(o=r,i=0),(e.remove_similar||!i||E(M(i,o),r))&&G.setStyle(n,o,""),a=1}),a&&""===G.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),le(e.attributes,function(e,r){var o;if(e=N(e,t),"number"==typeof r&&(r=e,i=0),!i||E(G.getAttrib(i,r),e)){if("class"==r&&(e=G.getAttrib(n,r),e&&(o="",le(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o)))return void G.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),ie.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),le(e.classes,function(e){e=N(e,t),(!i||G.hasClass(i,e))&&G.removeClass(n,e)}),o=G.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return re;return"none"!=e.remove?(z(n,e),oe):void 0}function z(e,t){function n(e,t,n){return e=B(e,t,n),!e||"BR"==e.nodeName||J(e)}var i,r=e.parentNode;t.block&&(ee?r==G.getRoot()&&(t.list_block&&E(e,t.list_block)||le(ce(e.childNodes),function(e){Q(ee,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=I(e,ee),G.setAttribs(i,a.settings.forced_root_block_attrs)):i=0})):J(e)&&!J(r)&&(n(e,re)||n(e.firstChild,oe,1)||e.insertBefore(G.create("br"),e.firstChild),n(e,oe)||n(e.lastChild,re,1)||e.appendChild(G.create("br")))),t.selector&&t.inline&&!E(t.inline,e)||G.remove(e,1)}function B(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!R(e))return e}function F(e,t){function n(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!se(r))return r}return e}var r,o,a=new i(G);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return G.remove(t),le(ce(t.childNodes),function(t){e.appendChild(t)}),e}return t}function H(t,n){var i,r,o;return i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new e(i,a.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new e(i,a.getBody()).prev()||i),i}function q(t,n,i,r){function o(e){var t=G.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return e&&t.appendChild(a.getDoc().createTextNode(ne)),t}function l(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==ne||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function c(e){for(;e;){if(e.id===g)return e;e=e.parentNode}}function u(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,i;if(e)i=Z.getRng(!0),l(e)?(t!==!1&&(i.setStartBefore(e),i.setEndBefore(e)),G.remove(e)):(n=u(e),n.nodeValue.charAt(0)===ne&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),G.remove(e,1)),Z.setRng(i);else if(e=c(Z.getStart()),!e)for(;e=G.get(g);)d(e,!1)}function h(){var e,t,r,a,s,l,d;e=Z.getRng(!0),a=e.startOffset,l=e.startContainer,d=l.nodeValue,t=c(Z.getStart()),t&&(r=u(t)),d&&a>0&&a<d.length&&/\w/.test(d.charAt(a))&&/\w/.test(d.charAt(a-1))?(s=Z.getBookmark(),e.collapse(!0),e=O(e,p(n)),e=K.split(e),y(n,i,e),Z.moveToBookmark(s)):(t&&r.nodeValue===ne?y(n,i,t):(t=o(!0),r=t.firstChild,e.insertNode(t),a=1,y(n,i,t)),Z.setCursorLocation(r,a))}function f(){var e,t,a,l,c,u,d,h,f=Z.getRng(!0),m=[];for(e=f.startContainer,t=f.startOffset,c=e,3==e.nodeType&&(t!=e.nodeValue.length&&(l=!0),c=c.parentNode);c;){if(_(c,n,i,r)){u=c;break}c.nextSibling&&(l=!0),m.push(c),c=c.parentNode}if(u)if(l)a=Z.getBookmark(),f.collapse(!0),f=O(f,p(n),!0),f=K.split(f),x(n,i,f),Z.moveToBookmark(a);else{for(h=o(),c=h,d=m.length-1;d>=0;d--)c.appendChild(G.clone(m[d],!1)),c=c.firstChild;c.appendChild(G.doc.createTextNode(ne)),c=c.firstChild;var g=G.getParent(u,s);g&&G.isEmpty(g)?u.parentNode.replaceChild(h,u):G.insertAfter(h,u),Z.setCursorLocation(c,1),G.isEmpty(u)&&G.remove(u)}}function m(){var e;e=c(Z.getStart()),e&&!G.isEmpty(e)&&ue(e,function(e){1!=e.nodeType||e.id===g||G.isEmpty(e)||G.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var g="_mce_caret",v=a.settings.caret_debug;a._hasCaretEvents||($=function(){var e,t=[];if(l(c(Z.getStart()),t))for(e=t.length;e--;)G.setAttrib(t[e],"data-mce-bogus","1")},Y=function(e){var t=e.keyCode;d(),8==t&&Z.isCollapsed()&&Z.getStart().innerHTML==ne&&d(c(Z.getStart())),(37==t||39==t)&&d(c(Z.getStart())),m()},a.on("SetContent",function(e){e.selection&&m()}),a._hasCaretEvents=!0),"apply"==t?h():f()}function W(t){var n,i,r,o,a,s=t.startContainer,l=t.startOffset;if((t.startContainer!=t.endContainer||!c(t.startContainer.childNodes[t.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=te(s),s=s.parentNode,n=!0),1==s.nodeType))for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new e(s,G.getParent(s,G.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!R(r))return a=G.create("a",{"data-mce-bogus":"all"},ne),r.parentNode.insertBefore(a,r),t.setStart(r,0),Z.setRng(t),void G.remove(a)}var V,U,Y,$,X={},G=a.dom,Z=a.selection,K=new t(G),Q=a.schema.isValidChild,J=G.isBlock,ee=a.settings.forced_root_block,te=G.nodeIndex,ne="\ufeff",ie=/^(src|href|style)$/,re=!1,oe=!0,ae=G.getContentEditable,se=n.isBookmarkNode,le=r.each,ce=r.grep,ue=r.walk,de=r.extend;de(this,{get:p,register:m,unregister:g,apply:y,remove:x,toggle:w,match:k,matchAll:C,matchNode:_,canApply:S,formatChanged:T,getCssText:D}),h(),f(),a.on("BeforeGetContent",function(e){$&&"raw"!=e.format&&$()}),a.on("mouseup keydown",function(e){Y&&Y(e)})}}),i(Z,[j,h],function(e,t){return function(e){function n(){return e.serializer.getTrimmedContent()}function i(t){e.setDirty(t)}function r(e){s.typing=!1,s.add({},e)}var o,a,s=this,l=0,c=[],u=0;return e.on("init",function(){s.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&s.beforeChange()}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&r(e)}),e.on("ObjectResizeStart Cut",function(){s.beforeChange()}),e.on("SaveContent ObjectResized blur",r),e.on("DragEnd",r),e.on("KeyUp",function(o){var l=o.keyCode;o.isDefaultPrevented()||((l>=33&&36>=l||l>=37&&40>=l||45==l||13==l||o.ctrlKey)&&(r(),e.nodeChanged()),(46==l||8==l||t.mac&&(91==l||93==l))&&e.nodeChanged(),a&&s.typing&&(e.isDirty()||(i(c[0]&&n()!=c[0].content),e.isDirty()&&e.fire("change",{level:c[0],lastLevel:null})),e.fire("TypingUndo"),a=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&36>=t||t>=37&&40>=t||45==t)return void(s.typing&&r(e));var n=e.ctrlKey&&!e.altKey||e.metaKey;!(16>t||t>20)||224==t||91==t||s.typing||n||(s.beforeChange(),s.typing=!0,s.add({},e),a=!0)}}),e.on("MouseDown",function(e){s.typing&&r(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),s={data:c,typing:!1,beforeChange:function(){u||(o=e.selection.getBookmark(2,!0))},add:function(t,r){var a,s,d=e.settings;if(t=t||{},t.content=n(),u||e.removed)return null;if(s=c[l],e.fire("BeforeAddUndo",{level:t,lastLevel:s,originalEvent:r}).isDefaultPrevented())return null;if(s&&s.content==t.content)return null;if(c[l]&&(c[l].beforeBookmark=o),d.custom_undo_redo_levels&&c.length>d.custom_undo_redo_levels){for(a=0;a<c.length-1;a++)c[a]=c[a+1];c.length--,l=c.length}t.bookmark=e.selection.getBookmark(2,!0),l<c.length-1&&(c.length=l+1),c.push(t),l=c.length-1;var h={level:t,lastLevel:s,originalEvent:r};return e.fire("AddUndo",h),l>0&&(i(!0),e.fire("change",h)),t},undo:function(){var t;return s.typing&&(s.add(),s.typing=!1),l>0&&(t=c[--l],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.beforeBookmark),i(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return l<c.length-1&&(t=c[++l],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.bookmark),i(!0),e.fire("redo",{level:t})),t},clear:function(){c=[],l=0,s.typing=!1,e.fire("ClearUndos")},hasUndo:function(){return l>0||s.typing&&c[0]&&n()!=c[0].content},hasRedo:function(){return l<c.length-1&&!this.typing},transact:function(e){s.beforeChange();try{u++,e()}finally{u--}s.add()}}}}),i(K,[v,D,h],function(e,t,n){var i=n.ie&&n.ie<11;return function(r){function o(o){function f(e){return e&&a.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==a.getContentEditable(e)}function p(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function m(e){var t;a.isBlock(e)&&(t=s.getRng(),e.appendChild(a.create("span",null,"\xa0")),s.select(e),e.lastChild.outerHTML="",s.setRng(t))}function g(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(a.isBlock(n))return;1!=n.nodeType||d[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)n=i[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?a.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&a.remove(n)}}function v(t){function i(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var r,o,l,c,u=t;if(t){if(n.ie&&n.ie<9&&I&&I.firstChild&&I.firstChild==I.lastChild&&"BR"==I.firstChild.tagName&&a.remove(I.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var d=i(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(a.doc.createTextNode("\xa0"),t.firstChild)}if(l=a.createRng(),n.ie||t.normalize(),t.hasChildNodes()){for(r=new e(t,t);o=r.current();){if(3==o.nodeType){l.setStart(o,0),l.setEnd(o,0);break}if(h[o.nodeName.toLowerCase()]){l.setStartBefore(o),l.setEndBefore(o);break}u=o,o=r.next()}o||(l.setStart(u,0),l.setEnd(u,0))}else"BR"==t.nodeName?t.nextSibling&&a.isBlock(t.nextSibling)?((!O||9>O)&&(c=a.create("br"),t.parentNode.insertBefore(c,t)),l.setStartBefore(t),l.setEndBefore(t)):(l.setStartAfter(t),l.setEndAfter(t)):(l.setStart(t,0),l.setEnd(t,0));s.setRng(l),a.remove(c),s.scrollIntoView(t)}}function b(e){var t=l.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&a.setAttribs(e,l.forced_root_block_attrs)}function y(e){e.innerHTML=i?"":'<br data-mce-bogus="1">'}function x(e){var t,n,r,o=N,s=u.getTextInlineElements();if(e||"TABLE"==F?(t=a.create(e||q),b(t)):t=I.cloneNode(!1),r=t,l.keep_styles!==!1)do if(s[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),a.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(r=n,t.appendChild(n))}while(o=o.parentNode);return i||(r.innerHTML='<br data-mce-bogus="1">'),t}function w(t){var n,i,r;if(3==N.nodeType&&(t?R>0:R<N.nodeValue.length))return!1;if(N.parentNode==I&&W&&!t)return!0;if(t&&1==N.nodeType&&N==I.firstChild)return!0;if("TABLE"===N.nodeName||N.previousSibling&&"TABLE"==N.previousSibling.nodeName)return W&&!t||!W&&t;for(n=new e(N,I),3==N.nodeType&&(t&&0===R?n.prev():t||R!=N.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),d[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;t?n.prev():n.next()}return!0}function _(e,t){var n,i,o,s,l,c,d=q||"P";if(i=a.getParent(e,a.isBlock),!i||!f(i)){if(i=i||P,c=i==r.getBody()||p(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return n=a.create(d),b(n),i.appendChild(n),E.setStart(n,0),E.setEnd(n,0),n;for(s=e;s.parentNode!=i;)s=s.parentNode;for(;s&&!a.isBlock(s);)o=s,s=s.previousSibling;if(o&&u.isValidChild(c,d.toLowerCase())){for(n=a.create(d),b(n),o.parentNode.insertBefore(n,o),s=o;s&&!a.isBlock(s);)l=s.nextSibling,n.appendChild(s),s=l;E.setStart(e,t),E.setEnd(e,t)}}return e}function k(){function e(e){for(var t=B[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===I}function t(){var e=B.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:B}if(B!=r.getBody()){var n=B.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(q="LI"),j=q?x(q):a.create("BR"),e(!0)&&e()?"LI"==n?a.insertAfter(j,t()):a.replace(j,B):e(!0)?"LI"==n?(a.insertAfter(j,t()),j.appendChild(a.doc.createTextNode(" ")),j.appendChild(B)):B.parentNode.insertBefore(j,B):e()?(a.insertAfter(j,t()),m(j)):(B=t(),M=E.cloneRange(),M.setStartAfter(I),M.setEndAfter(B),z=M.extractContents(),"LI"==q&&"LI"==z.firstChild.nodeName?(j=z.firstChild,a.insertAfter(z,B)):(a.insertAfter(z,B),a.insertAfter(j,B))),a.remove(I),v(j),c.add()}}function C(){r.execCommand("InsertLineBreak",!1,o)}function S(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function T(e){var t,n,i=a.getRoot();for(t=e;t!==i&&"false"!==a.getContentEditable(t);)"true"===a.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}function D(e){var t;i||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(a.getStyle(t,"float",!0)))&&a.add(e,"br"))}function A(){j=/^(H[1-6]|PRE|FIGURE)$/.test(F)&&"HGROUP"!=H?x(q):x(),l.end_container_on_empty_block&&f(B)&&a.isEmpty(I)?j=a.split(B,I):a.insertAfter(j,I),v(j)}var E,M,P,N,R,I,O,L,j,z,B,F,H,q,W;if(E=s.getRng(!0),!o.isDefaultPrevented()){if(!E.collapsed)return void r.execCommand("Delete");if(new t(a).normalize(E),N=E.startContainer,R=E.startOffset,q=(l.force_p_newlines?"p":"")||l.forced_root_block,q=q?q.toUpperCase():"",O=a.doc.documentMode,L=o.shiftKey,1==N.nodeType&&N.hasChildNodes()&&(W=R>N.childNodes.length-1,N=N.childNodes[Math.min(R,N.childNodes.length-1)]||N,R=W&&3==N.nodeType?N.nodeValue.length:0),P=T(N)){if(c.beforeChange(),!a.isBlock(P)&&P!=a.getRoot())return void((!q||L)&&C());if((q&&!L||!q&&L)&&(N=_(N,R)),I=a.getParent(N,a.isBlock),B=I?a.getParent(I.parentNode,a.isBlock):null,F=I?I.nodeName.toUpperCase():"",H=B?B.nodeName.toUpperCase():"","LI"!=H||o.ctrlKey||(I=B,F=H),/^(LI|DT|DD)$/.test(F)){if(!q&&L)return void C();if(a.isEmpty(I))return void k()}if("PRE"==F&&l.br_in_pre!==!1){if(!L)return void C()}else if(!q&&!L&&"LI"!=F||q&&L)return void C();q&&I===r.getBody()||(q=q||"P",w()?A():w(!0)?(j=I.parentNode.insertBefore(x(),I),m(j),v(I)):(M=E.cloneRange(),M.setEndAfter(I),z=M.extractContents(),S(z),j=z.firstChild,a.insertAfter(z,I),g(j),D(I),a.isEmpty(I)&&y(I),j.normalize(),a.isEmpty(j)?(a.remove(j),A()):v(j)),a.setAttrib(j,"id",""),r.fire("NewBlock",{newBlock:j}),c.add())}}}var a=r.dom,s=r.selection,l=r.settings,c=r.undoManager,u=r.schema,d=u.getNonEmptyElements(),h=u.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(e){13==e.keyCode&&o(e)!==!1&&e.preventDefault()})}}),i(Q,[],function(){return function(e){function t(){var t,s,l,c,u,d,h,f,p,m,g,v,b=r.getStart(),y=e.getBody(),x=-16777215;if(v=n.forced_root_block,b&&1===b.nodeType&&v){for(;b&&b!=y;){if(a[b.nodeName])return;b=b.parentNode}if(t=r.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,c=t.endContainer,u=t.endOffset;try{p=e.getDoc().activeElement===y}catch(w){}}else t.item&&(b=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(b)),p=t.parentElement().ownerDocument===e.getDoc(),m=t.duplicate(),m.collapse(!0),l=-1*m.move("character",x),m.collapsed||(m=t.duplicate(),m.collapse(!1),u=-1*m.move("character",x)-l);for(b=y.firstChild,g=y.nodeName.toLowerCase();b;)if((3===b.nodeType||1==b.nodeType&&!a[b.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===b.nodeType&&0===b.nodeValue.length){h=b,b=b.nextSibling,i.remove(h);continue}d||(d=i.create(v,e.settings.forced_root_block_attrs),b.parentNode.insertBefore(d,b),f=!0),h=b,b=b.nextSibling,d.appendChild(h)}else d=null,b=b.nextSibling;if(f&&p){if(t.setStart)t.setStart(s,l),t.setEnd(c,u),r.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(y),t.collapse(!0),t.moveStart("character",l),u>0&&t.moveEnd("character",u),t.select()}catch(w){}e.nodeChanged()}}}var n=e.settings,i=e.dom,r=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),i(J,[I,h,p,$,D,v],function(e,n,i,r,o,a){var s=i.each,l=i.extend,c=i.map,u=i.inArray,d=i.explode,h=n.ie,f=n.ie&&n.ie<11,p=!0,m=!1;return function(i){function g(e,t,n,r){var o,a,l=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus||i.focus(),r=i.fire("BeforeExecCommand",{command:e,ui:t,value:n}),r.isDefaultPrevented())return!1;if(a=e.toLowerCase(),o=I.exec[a])return o(a,t,n),i.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(s(i.plugins,function(r){return r.execCommand&&r.execCommand(e,t,n)?(i.fire("ExecCommand",{command:e,ui:t,value:n}),l=!0,!1):void 0}),l)return l;if(i.theme&&i.theme.execCommand&&i.theme.execCommand(e,t,n))return i.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{l=i.getDoc().execCommand(e,t,n)}catch(c){}return l?(i.fire("ExecCommand",{command:e,ui:t,value:n}),!0):!1}function v(e){var t;if(!i._isHidden()){if(e=e.toLowerCase(),t=I.state[e])return t(e);try{return i.getDoc().queryCommandState(e)}catch(n){}return!1}}function b(e){var t;if(!i._isHidden()){if(e=e.toLowerCase(),t=I.value[e])return t(e);try{return i.getDoc().queryCommandValue(e)}catch(n){}}}function y(e,t){t=t||"exec",s(e,function(e,n){s(n.toLowerCase().split(","),function(n){I[t][n]=e})})}function x(e,t,n){e=e.toLowerCase(),I.exec[e]=function(e,r,o,a){return t.call(n||i,r,o,a)}}function w(e){if(e=e.toLowerCase(),I.exec[e])return!0;try{return i.getDoc().queryCommandSupported(e)}catch(t){}return!1}function _(e,t,n){e=e.toLowerCase(),I.state[e]=function(){return t.call(n||i)}}function k(e,t,n){e=e.toLowerCase(),I.value[e]=function(){return t.call(n||i)}}function C(e){return e=e.toLowerCase(),!!I.exec[e]}function S(e,n,r){return n===t&&(n=m),r===t&&(r=null),i.getDoc().execCommand(e,n,r)}function T(e){return N.match(e)}function D(e,n){N.toggle(e,n?{value:n}:t),i.nodeChanged()}function A(e){R=P.getBookmark(e)}function E(){P.moveToBookmark(R)}var M,P,N,R,I={state:{},exec:{},value:{}},O=i.settings;i.on("PreInit",function(){M=i.dom,P=i.selection,O=i.settings,N=i.formatter}),l(this,{execCommand:g,queryCommandState:v,queryCommandValue:b,queryCommandSupported:w,addCommands:y,addCommand:x,addQueryStateHandler:_,addQueryValueHandler:k,hasCustomCommand:C}),y({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){i.undoManager.add()},"Cut,Copy,Paste":function(e){var t,r=i.getDoc();try{S(e)}catch(o){t=p}if(t||!r.queryCommandSupported(e)){var a=i.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(a=a.replace(/Ctrl\+/g,"\u2318+")),i.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(P.isCollapsed()){var e=P.getNode();return void("A"==e.tagName&&i.dom.remove(e,!0))}N.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),function(e){t!=e&&N.remove("align"+e)}),"none"!=t&&D("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;S(e),t=M.getParent(P.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(A(),M.split(n,t),E()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){D(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){D(e,n)},FontSize:function(e,t,n){var i,r;n>=1&&7>=n&&(r=d(O.font_size_style_values),i=d(O.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),D(e,n)},RemoveFormat:function(e){N.remove(e)},mceBlockQuote:function(){D("blockquote")},FormatBlock:function(e,t,n){return D(n||"p")},mceCleanup:function(){var e=P.getBookmark();i.setContent(i.getContent({cleanup:p}),{cleanup:p}),P.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||P.getNode();r!=i.getBody()&&(A(),i.dom.remove(r,p),E())},mceSelectNodeDepth:function(e,t,n){var r=0;M.getParent(P.getNode(),function(e){return 1==e.nodeType&&r++==n?(P.select(e),m):void 0},i.getBody())},mceSelectNode:function(e,t,n){P.select(n)},mceInsertContent:function(t,n,o){function a(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=P.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function l(){var e,t,n;e=P.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(o)||(o+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(o)||(o=" "+o)))}function c(e){if(C)for(w=e.firstChild;w;w=w.walk(!0))T[w.name]&&w.attr("data-mce-new","true")}function u(){if(C){var e=i.getBody(),t=new r(M);s(M.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var i=n.parentNode;i&&i!=e;i=i.parentNode)t.compare(i,n)&&M.remove(n,!0)})}}function d(e){function t(e){for(var t=i.getBody();e&&e!==t;e=e.parentNode)if("false"===i.dom.getContentEditable(e))return e;return null}var n;if(e){if(P.scrollIntoView(e),n=t(e))return M.remove(e),void P.select(n);x=M.createRng(),w=e.previousSibling,w&&3==w.nodeType?(x.setStart(w,w.nodeValue.length),h||(_=e.nextSibling,_&&3==_.nodeType&&(w.appendData(_.data),_.parentNode.removeChild(_)))):(x.setStartBefore(e),x.setEndBefore(e)),M.remove(e),P.setRng(x)}}var f,p,m,g,v,b,y,x,w,_,k,C,S,T=i.schema.getTextInlineElements();"string"!=typeof o&&(C=o.merge,S=o.data,o=o.content),/^ | $/.test(o)&&(o=a(o)),f=i.parser,p=new e({validate:O.validate},i.schema),k='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',b={content:o,format:"html",selection:!0},i.fire("BeforeSetContent",b),o=b.content,-1==o.indexOf("{$caret}")&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,k),x=P.getRng();var D=x.startContainer||(x.parentElement?x.parentElement():null),A=i.getBody();D===A&&P.isCollapsed()&&M.isBlock(A.firstChild)&&M.isEmpty(A.firstChild)&&(x=M.createRng(),x.setStart(A.firstChild,0),x.setEnd(A.firstChild,0),P.setRng(x)),P.isCollapsed()||(i.getDoc().execCommand("Delete",!1,null),l()),m=P.getNode();var E={context:m.nodeName.toLowerCase(),data:S};if(v=f.parse(o,E),c(v),w=v.lastChild,"mce_marker"==w.attr("id"))for(y=w,w=w.prev;w;w=w.walk(!0))if(3==w.type||!M.isBlock(w.name)){i.schema.isValidChild(w.parent.name,"span")&&w.parent.insert(y,w,"br"===w.name);break}if(i._selectionOverrides.showBlockCaretContainer(m),E.invalid){for(P.setContent(k),m=P.getNode(),g=i.getBody(),9==m.nodeType?m=w=g:w=m;w!==g;)m=w,w=w.parentNode;o=m==g?g.innerHTML:M.getOuterHTML(m),o=p.serialize(f.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return p.serialize(v)}))),m==g?M.setHTML(g,o):M.setOuterHTML(m,o)}else o=p.serialize(v),w=m.firstChild,_=m.lastChild,!w||w===_&&"BR"===w.nodeName?M.setHTML(m,o):P.setContent(o);u(),d(M.get("mce_marker")),i.fire("SetContent",b),i.addVisual()},mceInsertRawHTML:function(e,t,n){P.setContent("tiny_mce_marker"),i.setContent(i.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){D(n)},mceSetContent:function(e,t,n){i.setContent(n)},"Indent,Outdent":function(e){var t,n,r;t=O.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),v("InsertUnorderedList")||v("InsertOrderedList")?S(e):(O.forced_root_block||M.getParent(P.getNode(),M.isBlock)||N.apply("div"),s(P.getSelectedBlocks(),function(o){if("false"!==M.getContentEditable(o)&&"LI"!=o.nodeName){var a=i.getParam("indent_use_margin",!1)?"margin":"padding";a+="rtl"==M.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(r=Math.max(0,parseInt(o.style[a]||0,10)-t),M.setStyle(o,a,r?r+n:"")):(r=parseInt(o.style[a]||0,10)+t+n,M.setStyle(o,a,r))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){i.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){i.hasVisual=!i.hasVisual,i.addVisual()},mceReplaceContent:function(e,t,n){i.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,P.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=M.getParent(P.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||N.remove("link"),n.href&&N.apply("link",n,i)},selectAll:function(){var e,t=M.getRoot();P.getRng().setStart?(e=M.createRng(),e.setStart(t,0),e.setEnd(t,t.childNodes.length),P.setRng(e)):(e=P.getRng(),e.item||(e.moveToElementText(t),e.select()))},"delete":function(){S("Delete");var e=i.getBody();M.isEmpty(e)&&(i.setContent(""),e.firstChild&&M.isBlock(e.firstChild)?i.selection.setCursorLocation(e.firstChild,0):i.selection.setCursorLocation(e,0))},mceNewDocument:function(){i.setContent("")},InsertLineBreak:function(e,t,n){function r(){for(var e,t=new a(m,v),n=i.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||e.length>0)return!0}var s,l,c,u=n,d=P.getRng(!0);new o(M).normalize(d);var h=d.startOffset,m=d.startContainer;if(1==m.nodeType&&m.hasChildNodes()){var g=h>m.childNodes.length-1;m=m.childNodes[Math.min(h,m.childNodes.length-1)]||m,h=g&&3==m.nodeType?m.nodeValue.length:0}var v=M.getParent(m,M.isBlock),b=v?v.nodeName.toUpperCase():"",y=v?M.getParent(v.parentNode,M.isBlock):null,x=y?y.nodeName.toUpperCase():"",w=u&&u.ctrlKey;"LI"!=x||w||(v=y,b=x),m&&3==m.nodeType&&h>=m.nodeValue.length&&(f||r()||(s=M.create("br"),d.insertNode(s),d.setStartAfter(s),d.setEndAfter(s),l=!0)),s=M.create("br"),d.insertNode(s);var _=M.doc.documentMode;return f&&"PRE"==b&&(!_||8>_)&&s.parentNode.insertBefore(M.doc.createTextNode("\r"),s),c=M.create("span",{},"&nbsp;"),s.parentNode.insertBefore(c,s),P.scrollIntoView(c),M.remove(c),l?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),P.setRng(d),i.undoManager.add(),p}}),y({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=P.isCollapsed()?[M.getParent(P.getNode(),M.isBlock)]:P.getSelectedBlocks(),i=c(n,function(e){return!!N.matchNode(e,t)});return-1!==u(i,p)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return T(e)},mceBlockQuote:function(){return T("blockquote")},Outdent:function(){var e;if(O.inline_styles){if((e=M.getParent(P.getStart(),M.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p;if((e=M.getParent(P.getEnd(),M.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return p}return v("InsertUnorderedList")||v("InsertOrderedList")||!O.inline_styles&&!!M.getParent(P.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=M.getParent(P.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName);
}},"state"),y({"FontSize,FontName":function(e){var t,n=0;return(t=M.getParent(P.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),y({Undo:function(){i.undoManager.undo()},Redo:function(){i.undoManager.redo()}})}}),i(ee,[p],function(e){function t(e,o){var a,s,l=this;if(e=i(e),o=l.settings=o||{},a=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(l.source=e);var c=0===e.indexOf("//");0!==e.indexOf("/")||c||(e=(a?a.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(s=o.base_uri?o.base_uri.path:new t(location.href).directory,""===o.base_uri.protocol?e="//mce_host"+l.toAbsPath(s,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),n(r,function(t,n){var i=e[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[t]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),c&&(l.protocol="")}var n=e.each,i=e.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return t.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var n,i=this;if("./"===e)return e;if(e=new t(e,{base_uri:i}),"mce_host"!=e.host&&i.host!=e.host&&e.host||i.port!=e.port||i.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var r=i.getURI(),o=e.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return e=new t(e,{base_uri:this}),e.getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=o[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;r>i;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;r>i;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);r>i;i++)a+="../";for(i=o-1,r=n.length;r>i;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var i,r,o,a=0,s=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),n(e,function(e){e&&s.push(e)}),e=s,i=t.length-1,s=[];i>=0;i--)0!==t[i].length&&"."!==t[i]&&(".."!==t[i]?a>0?a--:s.push(t[i]):a++);return i=e.length-a,o=0>=i?s.reverse().join("/"):e.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},t.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},t}),i(te,[p],function(e){function t(){}var n,i,r=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(e,t){return function(){var n,i=this,r=i._super;return i._super=h[e],n=t.apply(i,arguments),i._super=r,n}}var l,c,u,d=this,h=d.prototype;i=!0,l=new d,i=!1,e.Mixins&&(r(e.Mixins,function(t){t=t;for(var n in t)"init"!==n&&(e[n]=t[n])}),h.Mixins&&(e.Mixins=h.Mixins.concat(e.Mixins))),e.Methods&&r(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&r(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t,i=this;return e!==t?(i[n]=e,i):i[n]}}),e.Statics&&r(e.Statics,function(e,n){t[n]=e}),e.Defaults&&h.Defaults&&(e.Defaults=o({},h.Defaults,e.Defaults));for(c in e)u=e[c],"function"==typeof u&&h[c]?l[c]=s(c,u):l[c]=u;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),i(ne,[p],function(e){function t(t){function n(){return!1}function i(){return!0}function r(e,r){var o,s,l,u;if(e=e.toLowerCase(),r=r||{},r.type=e,r.target||(r.target=c),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(r),o=h[e])for(s=0,l=o.length;l>s;s++){if(u=o[s],u.once&&a(e,u.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(u.func.call(c,r)===!1)return r.preventDefault(),r}return r}function o(t,i,r,o){var a,s,l;if(i===!1&&(i=n),i)for(i={func:i},o&&e.extend(i,o),s=t.toLowerCase().split(" "),l=s.length;l--;)t=s[l],a=h[t],a||(a=h[t]=[],u(t,!0)),r?a.unshift(i):a.push(i);return d}function a(e,t){var n,i,r,o,a;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],i=h[e],!e){for(r in h)u(r,!1),delete h[r];return d}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),h[e]=i);else i.length=0;i.length||(u(e,!1),delete h[e])}}else{for(e in h)u(e,!1);h={}}return d}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!h[e]||0===h[e].length)}var c,u,d=this,h={};t=t||{},c=t.scope||d,u=t.toggleEvent||n,d.fire=r,d.on=o,d.off=a,d.once=s,d.has=l}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),i(ie,[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,i){function r(t){e.set(i,t.value)}function o(e){t.set(n,e.value)}var a;return e.on("change:"+i,o),t.on("change:"+n,r),a=e._bindings,a||(a=e._bindings=[],e.on("destroy",function(){for(var e=a.length;e--;)a[e]()})),a.push(function(){t.off("change:"+n,r)}),t.get(n)}})},e}),i(re,[ne],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,i){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,i)}})),t._eventDispatcher}return{fire:function(e,n,i){var r=this;if(r.removed&&"remove"!==e)return n;if(n=t(r).fire(e,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,i){return t(this).on(e,n,i)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),i(oe,[ie,re,te,p],function(e,t,n,i){function r(e){return e.nodeType>0}function o(e,t){var n,a;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(i.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(r(e)||r(t))return e===t;a={};for(n in t){if(!o(e[n],t[n]))return!1;a[n]=!0}for(n in e)if(!a[n]&&!o(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,i;t=t||{};for(n in t)i=t[n],i instanceof e&&(t[n]=i.create(this,n));this.data=t},set:function(t,n){var i,r,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(i in t)this.set(i,t[i]);return this}return o(a,n)||(this.data[t]=n,r={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,r),this.fire("change",r)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),i(ae,[te],function(e){function t(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=e.extend({init:function(e){function t(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):void 0}function n(e){return e?function(t){return t._name===e}:void 0}function a(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}):void 0}function s(e,t,n){return e?function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!=n:"^="===t?0===r.indexOf(n):"$="===t?r.substr(r.length-n.length)===n:!1:!!n}:void 0}function l(e){var t;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=u(e[1],[]),function(e){return!d(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2===0:"odd"===e?n%2===1:t[e]?t[e]():!1})):void 0}function c(e,r,c){function u(e){e&&r.push(e)}var d;return d=i.exec(e.replace(o,"")),u(t(d[1])),u(n(d[2])),u(a(d[3])),u(s(d[4],d[5],d[6])),u(l(d[7])),r.pseudo=!!d[7],r.direct=c,r}function u(e,t){var n,i,o,a=[];do if(r.exec(""),i=r.exec(e),i&&(e=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&u(n,t),e=[],o=0;o<a.length;o++)">"!=a[o]&&e.push(c(a[o],[],">"===a[o-1]));return t.push(e),t}var d=this.match;this._selectors=u(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,u,d,h,f,p;for(t=t||this._selectors,n=0,i=t.length;i>n;n++){for(a=t[n],o=a.length,p=e,f=0,r=o-1;r>=0;r--)for(c=a[r];p;){if(c.pseudo)for(h=p.parent().items(),u=d=h.length;u--&&h[u]!==p;);for(s=0,l=c.length;l>s;s++)if(!c[s](p,u,d)){s=l+1;break}if(s===l){f++;break}if(r===o-1)break;p=p.parent()}if(f===o)return!0}return!1},find:function(e){function i(e,t,n){var r,o,a,l,c,u=t[n];for(r=0,o=e.length;o>r;r++){for(c=e[r],a=0,l=u.length;l>a;a++)if(!u[a](c,r,o)){a=l+1;break}if(a===l)n==t.length-1?s.push(c):c.items&&i(c.items(),t,n+1);else if(u.direct)return;c.items&&i(c.items(),t,n)}}var r,o,s=[],l=this._selectors;if(e.items){for(r=0,o=l.length;o>r;r++)i(e.items(),l[r],0);o>1&&(s=t(s))}return n||(n=a.Collection),new n(s)}});return a}),i(se,[p,ae,te],function(e,t,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?o.apply(n,t):t instanceof i?n.add(t.toArray()):o.call(n,t),n},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;i>t;t++)delete n[t];return n},filter:function(e){var n,r,o,a,s=this,l=[];for("string"==typeof e?(e=new t(e),a=function(t){return e.match(t)}):a=e,n=0,r=s.length;r>n;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].classes.contains(e):!1},prop:function(e,t){var n,i,r=this;return t!==n?(r.each(function(n){n[e]&&n[e](t)}),r):(i=r[0],i&&i[e]?i[e]():void 0)},exec:function(t){var n=this,i=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,i)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){r[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){r[e]=function(t){return this.prop(e,t)}}),i=n.extend(r),t.Collection=i,i}),i(le,[p,w],function(e,t){var n=0;return{id:function(){return"mceu_"+n++},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,i){return t.DOM.toggleClass(e,n,i)},css:function(e,n,i){return t.DOM.setStyle(e,n,i)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,i,r){return t.DOM.bind(e,n,i,r)},off:function(e,n,i){return t.DOM.unbind(e,n,i)},fire:function(e,n,i){return t.DOM.fire(e,n,i)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),i(ce,[],function(){return{parseBox:function(e){var t,n=10;return e?"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0}):void 0},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function i(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}}}}),i(ue,[p],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),i(de,[c],function(e){var t,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),t||(t=!0,e.requestAnimationFrame(function(){var e,i;t=!1;for(e in n)i=n[e],i.state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}}),i(he,[te,p,ne,oe,se,le,m,ce,ue,de],function(e,t,n,i,r,o,a,s,l,c){function u(e){return e._eventDispatcher||(e._eventDispatcher=new n({scope:e,toggleEvent:function(t,i){i&&n.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&d(e))}})),e._eventDispatcher}function d(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=c._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),c._lastHoverCtrl=null)}function i(t){var n,i,r,o=e.getParentCtrl(t.target),a=c._lastHoverCtrl,s=0;if(o!==a){if(c._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),a){for(r=a.parents().toArray().reverse(),r.push(a),s=0;s<r.length&&i[s]===r[s];s++);for(n=r.length-1;n>=s;n--)a=r[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,l,c,u,d;if(u=e._nativeEvents){for(l=e.parents().toArray(),l.unshift(e),o=0,s=l.length;!c&&s>o;o++)c=l[o]._eventsRoot;for(c||(c=l[l.length-1]||e),e._eventsRoot=c,s=o,o=0;s>o;o++)l[o]._eventsRoot=c;var h=c._delegates;h||(h=c._delegates={});for(d in u){if(!u)return!1;"wheel"!==d||p?("mouseenter"===d||"mouseleave"===d?c._hasMouseEnter||(a(c.getEl()).on("mouseleave",n).on("mouseover",i),c._hasMouseEnter=1):h[d]||(a(c.getEl()).on(d,t),h[d]=!0),u[d]=!1):f?a(e.getEl()).on("mousewheel",r):a(e.getEl()).on("DOMMouseScroll",r)}}}var h,f="onmousewheel"in document,p=!1,m="mce-",g=0,v={Statics:{classPrefix:m},isRtl:function(){return h.rtl},classPrefix:m,init:function(e){function n(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)c.classes.add(e[t])}var r,o,c=this;c.settings=e=t.extend({},c.Defaults,e),c._id=e.id||"mceu_"+g++,c._aria={role:e.role},c._elmCache={},c.$=a,c.state=new i({visible:!0,active:!1,disabled:!1,value:""}),c.data=new i(e.data),c.classes=new l(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,r=e.classes,r&&(c.Defaults&&(o=c.Defaults.classes,o&&r!=o&&n(o)),n(r)),t.each("title text name visible disabled active value".split(" "),function(t){t in e&&c[t](e[t])}),c.on("click",function(){return c.disabled()?!1:void 0}),c.settings=e,c.borderBox=s.parseBox(e.border),c.paddingBox=s.parseBox(e.padding),c.marginBox=s.parseBox(e.margin),e.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,a,l,c,u,d,h=this,f=h.settings,p=h.getEl();e=h.borderBox=h.borderBox||s.measureBox(p,"border"),h.paddingBox=h.paddingBox||s.measureBox(p,"padding"),h.marginBox=h.marginBox||s.measureBox(p,"margin"),d=o.getSize(p),c=f.minWidth,u=f.minHeight,r=c||d.width,a=u||d.height,n=f.width,i=f.height,l=f.autoResize,l="undefined"!=typeof l?l:!n&&!i,n=n||r,i=i||a;var m=e.left+e.right,g=e.top+e.bottom,v=f.maxWidth||65535,b=f.maxHeight||65535;return h._layoutRect=t={x:f.x||0,y:f.y||0,w:n,h:i,deltaW:m,deltaH:g,contentW:n-m,contentH:i-g,innerW:n-m,innerH:i-g,startMinWidth:c||0,startMinHeight:u||0,minW:Math.min(r,v),minH:Math.min(a,b),maxW:v,maxH:b,autoResize:l,scrollW:0},h._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(i=l.deltaW,r=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),n=e.w,n!==o&&(n=n<l.minW?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),n=e.h,n!==o&&(n=n<l.minH?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),n=e.innerW,n!==o&&(n=n<l.minW-i?l.minW-i:n,n=n>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),n=e.innerH,n!==o&&(n=n<l.minH-r?l.minH-r:n,n=n>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),t=s._lastLayoutRect,(t.x!==l.x||t.y!==l.y||t.w!==l.w||t.h!==l.h)&&(a=h.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,i,r,o,a,s,l,c,u=this;l=document.createRange?function(e){return e}:Math.round,e=u.getEl().style,i=u._layoutRect,s=u._lastRepaintRect||{},r=u.borderBox,o=r.left+r.right,a=r.top+r.bottom,i.x!==s.x&&(e.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(e.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(c=l(i.w-o),e.width=(c>=0?c:0)+"px",s.w=i.w),i.h!==s.h&&(c=l(i.h-a),e.height=(c>=0?c:0)+"px",s.h=i.h),u._hasBody&&i.innerW!==s.innerW&&(c=l(i.innerW),n=u.getEl("body"),n&&(t=n.style,t.width=(c>=0?c:0)+"px"),s.innerW=i.innerW),u._hasBody&&i.innerH!==s.innerH&&(c=l(i.innerH),n=n||u.getEl("body"),n&&(t=t||n.style,t.height=(c>=0?c:0)+"px"),s.innerH=i.innerH),u._lastRepaintRect=s,u.fire("repaint",{},!1)},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(r){return t||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;return r&&(t=r[e])?(n=i,!1):void 0}),t?t.call(n,r):(r.action=e,void this.fire("execute",r))}}var i=this;return u(i).on(e,n(t)),i},off:function(e,t){return u(this).off(e,t),this},fire:function(e,t,n){var i=this;if(t=t||{},t.control||(t.control=i),t=u(i).fire(e,t),n!==!1&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var t,n=this,i=new r;for(t=n.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},parentsAndSelf:function(e){return new r(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=a("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return h.translate?h.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each(function(t){t!==n&&e.push(t)}),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return a(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return a(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;o.$el=a(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),s.style&&(e=o.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var u in o._aria)o.aria(u,o._aria[u]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),c=l.parentNode,u=t(l,c);return n=u.x,i=u.y,r=l.offsetWidth,o=l.offsetHeight,a=c.clientWidth,s=c.clientHeight,"end"==e?(n-=a-r,i-=s-o):"center"==e&&(n-=a/2-r/2,i-=s/2-o/2),c.scrollLeft=n,c.scrollTop=i,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return t.each("text title visible disabled active value".split(" "),function(e){v[e]=function(t){return 0===arguments.length?this.state.get(e):("undefined"!=typeof t&&this.state.set(e,t),this)}}),h=e.extend(v)}),i(fe,[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,i){var r,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=t[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i(pe,[],function(){return function(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||y,t(e)?e.getAttribute("role"):null}function i(e){for(var t,i=e||y;i=i.parentNode;)if(t=n(i))return t}function r(e){var n=y;return t(n)?n.getAttribute("aria-"+e):void 0}function o(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t}function a(e){return o(e)&&!e.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(n(e))?!0:!1}function s(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display){a(e)&&n.push(e);for(var i=0;i<e.childNodes.length;i++)t(e.childNodes[i])}}var n=[];return t(e||w.getEl()),n}function l(e){var t,n;e=e||x,n=e.parents().toArray(),n.unshift(e);for(var i=0;i<n.length&&(t=n[i],!t.settings.ariaRoot);i++);return t}function c(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?u(t.lastAriaIndex,n):u(0,n)}function u(e,t){return 0>e?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var r=0;r<t.length;r++)t[r]===y&&(n=r);n+=e,i.lastAriaIndex=u(n,t)}function h(){var e=i();"tablist"==e?d(-1,s(y.parentNode)):x.parent().submenu?v():d(-1)}function f(){var e=n(),t=i();"tablist"==t?d(1,s(y.parentNode)):"menuitem"==e&&"menu"==t&&r("haspopup")?b():d(1)}function p(){d(-1)}function m(){var e=n(),t=i();"menuitem"==e&&"menubar"==t?b():"button"==e&&r("haspopup")?b({key:"down"}):d(1)}function g(e){var t=i();if("tablist"==t){var n=s(x.getEl("body"))[0];n&&n.focus()}else d(e.shiftKey?-1:1)}function v(){x.fire("cancel")}function b(e){e=e||{},x.fire("click",{target:y,aria:e})}var y,x,w=e.root;try{y=document.activeElement}catch(_){y=document.body}return x=w.getParentCtrl(y),w.on("keydown",function(e){function t(e,t){o(y)||t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,f);break;case 38:t(e,p);break;case 40:t(e,m);break;case 27:v();break;case 14:case 13:case 32:t(e,b);break;case 9:g(e)!==!1&&e.preventDefault()}}),w.on("focusin",function(e){y=e.target,x=e.control}),{focusFirst:c}}}),i(me,[he,se,ae,fe,pe,p,m,ue,de],function(e,t,n,i,r,o,a,s,l){var c={};return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,e.fixed&&n.state.set("fixed",!0),n._items=new t,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),e.containerCls&&n.classes.add(e.containerCls),n._layout=i.create((e.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(e){return e=c[e]=c[e]||new n(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,a=[];return o.isArray(t)||(t=[t]),o.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=o.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),a.push(t))}),a},renderNew:function(){var e=this;return e.items().each(function(t,n){var i;t.parent(e),t.state.get("rendered")||(i=e.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(t.renderHtml()):a(i).append(t.renderHtml()),t.postRender(),l.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,a=this;return e=a.create(e),i=a.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;return n&&n.w==t.w&&n.h==t.h?void 0:(e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0)},reflow:function(){var t;if(l.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),i(ge,[m],function(e){function t(e){var t,n,i,r,o,a,s,l,c=Math.max;return t=e.documentElement,n=e.body,i=c(t.scrollWidth,n.scrollWidth),r=c(t.clientWidth,n.clientWidth),o=c(t.offsetWidth,n.offsetWidth),a=c(t.scrollHeight,n.scrollHeight),s=c(t.clientHeight,n.clientHeight),l=c(t.offsetHeight,n.offsetHeight),{width:o>i?r:i,height:l>a?s:a}}function n(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(i,r){function o(){return f.getElementById(r.handle||i)}var a,s,l,c,u,d,h,f=r.document||document;r=r||{},l=function(i){var l,p,m=t(f);n(i),i.preventDefault(),s=i.button,l=o(),d=i.screenX,h=i.screenY,p=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,a=e("<div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:p}).appendTo(f.body),
e(f).on("mousemove touchmove",u).on("mouseup touchend",c),r.start(i)},u=function(e){return n(e),e.button!==s?c(e):(e.deltaX=e.screenX-d,e.deltaY=e.screenY-h,e.preventDefault(),void r.drag(e))},c=function(t){n(t),e(f).off("mousemove touchmove",u).off("mouseup touchend",c),a.remove(),r.stop&&r.stop(t)},this.destroy=function(){e(o()).off()},e(o()).on("mousedown touchstart",l)}}),i(ve,[m,ge],function(e,t){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function t(t,a,s,l,c,u){var d,h,f,p,m,g,v,b,y;if(h=r.getEl("scroll"+t)){if(b=a.toLowerCase(),y=s.toLowerCase(),e(r.getEl("absend")).css(b,r.layoutRect()[l]-1),!c)return void e(h).css("display","none");e(h).css("display","block"),d=r.getEl("body"),f=r.getEl("scroll"+t+"t"),p=d["client"+s]-2*o,p-=n&&i?h["client"+u]:0,m=d["scroll"+s],g=p/m,v={},v[b]=d["offset"+a]+o,v[y]=p,e(h).css(v),v={},v[b]=d["scroll"+a]*g,v[y]=p*g,e(f).css(v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,t("h","Left","Width","contentW",n,"Height"),t("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var c,u=r._id+"-scroll"+n,d=r.classPrefix;e(r.getEl()).append('<div id="'+u+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+u+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new t(u+"t",{start:function(){c=r.getEl("body")["scroll"+i],e("#"+u).addClass(d+"active")},drag:function(e){var t,u,d,h,f=r.layoutRect();u=f.contentW>f.innerW,d=f.contentH>f.innerH,h=r.getEl("body")["client"+a]-2*o,h-=u&&d?r.getEl("scroll"+n)["client"+l]:0,t=h/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=c+e["delta"+s]/t},stop:function(){e("#"+u).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(e){var t=r.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),e(r.getEl("body")).on("scroll",n)),n())}}}),i(be,[me,ve],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),i(ye,[le],function(e){function t(t,n,i){var r,o,a,s,l,c,u,d,h,f;return h=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=h.x,s-=h.y),r=t.getEl(),f=e.getSize(r),l=f.width,c=f.height,f=e.getSize(n),u=f.width,d=f.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=u),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(u/2)),"b"===i[3]&&(s-=c),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(c/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:c}}return{testMoveRel:function(n,i){for(var r=e.getViewPort(),o=0;o<i.length;o++){var a=t(this,n,i[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(t,n){function i(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var r=this;if(r.settings.constrainToViewport){var o=e.getViewPort(window),a=r.layoutRect();t=i(t,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r.state.get("rendered")?r.layoutRect({x:t,y:n}).repaint():(r.settings.x=t,r.settings.y=n),r.fire("move",{x:t,y:n}),r}}}),i(xe,[le],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var i=e.getWindowSize();t=1>=t?t*i.w:t,n=1>=n?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}}}),i(we,[be,ye,xe,le,m,c],function(e,t,n,i,r,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=b.length;t--;){var n=b[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function l(){p||(p=function(e){2!=e.button&&s(e)},r(document).on("click touchstart",p))}function c(){m||(m=function(){var e;for(e=b.length;e--;)d(b[e])},r(window).on("scroll",m))}function u(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,x.hideAll())},r(window).on("resize",g)}}function d(e){function t(t,n){for(var i,r=0;r<b.length;r++)if(b[r]!=e)for(i=b[r].parent();i&&(i=i.parent());)i==e&&b[r].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function h(e,t){var n,i,o=x.zIndex||65535;if(e)y.push(t);else for(n=y.length;n--;)y[n]===t&&y.splice(n,1);if(y.length)for(n=0;n<y.length;n++)y[n].modal&&(o++,i=y[n]),y[n].getEl().style.zIndex=o,y[n].zIndex=o,o++;var a=document.getElementById(t.classPrefix+"modal-block");i?r(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),x.currentZIndex=o}function f(e){var t;for(t=b.length;t--;)b[t]===e&&b.splice(t,1);for(t=y.length;t--;)y[t]===e&&y.splice(t,1)}var p,m,g,v,b=[],y=[],x=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(l(),u(),b.push(t)),e.autofix&&(c(),t.on("move",function(){d(this)})),t.on("postrender show",function(e){if(e.control==t){var n,i=t.classPrefix;t.modal&&!v&&(n=r("#"+i+"modal-block"),n[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),o.setTimeout(function(){n.addClass(i+"in"),r(t.getEl()).addClass(i+"in")}),v=!0),h(!0,t)}}),t.on("show",function(){t.parents().each(function(e){return e.state.get("fixed")?(t.fixed(!0),!1):void 0})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=b.length;e--&&b[e]!==t;);return-1===e&&b.push(t),n},hide:function(){return f(this),h(!1,this),this._super()},hideAll:function(){x.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),h(!1,e)),e},remove:function(){f(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return x.hideAll=function(){for(var e=b.length;e--;){var t=b[e];t&&t.settings.autohide&&(t.hide(),b.splice(e,1))}},x}),i(_e,[we,be,le,m,ge,ce,h,c],function(e,t,n,i,r,o,a,s){function l(e){var t,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=i("meta[name=viewport]")[0];a.overrideViewPort!==!1&&(r||(r=document.createElement("meta"),r.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(r)),t=r.getAttribute("content"),t&&"undefined"!=typeof h&&(h=t),r.setAttribute("content",e?n:h))}function c(e){for(var t=0;t<d.length;t++)if(d[t]._fullscreen)return;i([document.documentElement,document.body]).removeClass(e+"fullscreen")}function u(){function e(){var e,t,i=n.getWindowSize();for(e=0;e<d.length;e++)t=d[e].layoutRect(),d[e].moveTo(d[e].settings.x||Math.max(0,i.w/2-t.w/2),d[e].settings.y||Math.max(0,i.h/2-t.h/2))}var t={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;(t.w!=e||t.h!=n)&&(t={w:e,h:n},i(window).trigger("resize"))},100),i(window).on("resize",e)}var d=[],h="",f=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){-1!=e.target.className.indexOf(n.classPrefix+"close")&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW,t>e.w&&(i=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:i}),r=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),t=a.layoutRect().minW+e.deltaW,t>e.w&&(i=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var e,t=this,i=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=n.getSize(e);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=t.settings.x||Math.max(0,a.w/2-i.w/2),i.y=t.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><button type="button" class="'+i+'close" aria-hidden="true">\xd7</button><div id="'+n+'-dragh" class="'+i+'dragh"></div></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var t,r,a=this,l=document.documentElement,c=a.classPrefix;if(e!=a._fullscreen)if(i(window).on("resize",function(){var e;if(a._fullscreen)if(t)a._timer||(a._timer=s.setTimeout(function(){var e=n.getWindowSize();a.moveTo(0,0).resizeTo(e.w,e.h),a._timer=0},50));else{e=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-e>50&&(t=!0)}}),r=a.layoutRect(),a._fullscreen=e,e){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(c+"fullscreen"),a.classes.add("fullscreen");var u=n.getWindowSize();a.moveTo(0,0).resizeTo(u.w,u.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(c+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new r(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),d.push(t),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),e=d.length;e--;)d[e]===t&&d.splice(e,1);l(d.length>0),c(t.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return a.desktop||u(),f}),i(ke,[_e],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var r,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[i("Ok",!0,!0),i("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:r=[i("Yes",1,!0),i("No",0)],n.buttons==t.YES_NO_CANCEL&&r.push(i("Cancel",-1));break;default:r=[i("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),i(Ce,[_e,ke],function(e,t){return function(n){function i(){return o.length?o[o.length-1]:void 0}var r=this,o=[];r.windows=o,n.on("remove",function(){for(var e=o.length;e--;)o[e].close()}),r.open=function(t,i){var r;return n.editorManager.setActive(n),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new e(t),o.push(r),r.on("close",function(){for(var e=o.length;e--;)o[e]===r&&o.splice(e,1);o.length||n.focus()}),t.data&&r.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),r.features=t||{},r.params=i||{},1===o.length&&n.nodeChanged(),r.renderTo().reflow()},r.alert=function(e,i,r){t.alert(e,function(){i?i.call(r||this):n.focus()})},r.confirm=function(e,n,i){t.confirm(e,function(e){n.call(i||this,e)})},r.close=function(){i()&&i().close()},r.getParams=function(){return i()?i().params:null},r.setParams=function(e){i()&&(i().params=e)},r.getWindows=function(){return o}}}),i(Se,[he,ye],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),i(Te,[he,Se],function(e,t){var n,i=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&i.tooltips!==!1&&(t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control==t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i(De,[Te],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}})}),i(Ae,[he,ye,De],function(e,t,n){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",r="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+r+i+"</div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().childNodes[1].innerHTML=t.value}),e.progressBar&&e.progressBar.bindStates(),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),i(Ee,[Ae,c],function(e,t){return function(n){function i(){return l.length?l[l.length-1]:void 0}function r(){t.requestAnimationFrame(function(){o(),a()})}function o(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)}function a(){if(l.length>0){var e=l.slice(0,1)[0],t=n.inline?n.getElement():n.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),l.length>1)for(var i=1;i<l.length;i++)l[i].moveRel(l[i-1].getEl(),"bc-tc")}}var s=this,l=[];s.notifications=l,n.on("remove",function(){for(var e=l.length;e--;)l[e].close()}),n.on("ResizeEditor",a),n.on("ResizeWindow",r),s.open=function(t){var i;return n.editorManager.setActive(n),i=new e(t),l.push(i),t.timeout>0&&(i.timer=setTimeout(function(){i.close()},t.timeout)),i.on("close",function(){var e=l.length;for(i.timer&&n.getWin().clearTimeout(i.timer);e--;)l[e]===i&&l.splice(e,1);a()}),i.renderTo(),a(),i},s.close=function(){i()&&i().close()},s.getNotifications=function(){return l}}}),i(Me,[w],function(e){function t(t,n,i){for(var r=[];n&&n!=t;n=n.parentNode)r.push(e.nodeIndex(n,i));return r}function n(e,t){var n,i,r;for(i=e,n=t.length-1;n>=0;n--){if(r=i.childNodes,t[n]>r.length-1)return null;i=r[t[n]]}return i}return{create:t,resolve:n}}),i(Pe,[j,D,v,Me,E,y,h,p,c,T],function(e,t,n,i,r,o,a,s,l,c){return function(u){function d(e,t){try{u.getDoc().execCommand(e,!1,t)}catch(n){}}function h(){var e=u.getDoc().documentMode;return e?e:6}function f(e){return e.isDefaultPrevented()}function p(e){var t,n;e.dataTransfer&&(u.selection.isCollapsed()&&"IMG"==e.target.tagName&&Q.select(e.target),t=u.selection.getContent(),t.length>0&&(n=oe+escape(u.id)+","+escape(t),e.dataTransfer.setData(ae,n)))}function m(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(ae),t&&t.indexOf(oe)>=0)?(t=t.substr(oe.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function g(e){u.queryCommandSupported("mceInsertClipboardContent")?u.execCommand("mceInsertClipboardContent",!1,{content:e}):u.execCommand("mceInsertContent",!1,e)}function v(){function r(e){var t=_.schema.getBlockElements(),n=u.getBody();if("BR"!=e.nodeName)return!1;for(e=e;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==X.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,i){var o,a,s;for(s=_.schema.getNonEmptyElements(),o=new n(i||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!r(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function c(e){var n,i,r,o,s;return!e.collapsed&&(n=_.getParent(t.getNode(e.startContainer,e.startOffset),_.isBlock),i=_.getParent(t.getNode(e.endContainer,e.endOffset),_.isBlock),s=u.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&"false"!==_.getContentEditable(n)&&"false"!==_.getContentEditable(i))?(e.deleteContents(),r=a(n,!1),o=a(i,!0),_.isEmpty(i)||X(n).append(i.childNodes),X(i).remove(),r?1==r.nodeType?"BR"==r.nodeName?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStartAfter(r),e.setEndAfter(r)):(e.setStart(r,r.data.length),e.setEnd(r,r.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),k.setRng(e),!0):void 0}function d(e,n){var i,r,s,l,c,d;if(!e.collapsed)return e;if(c=e.startContainer,d=e.startOffset,3==c.nodeType)if(n){if(d<c.data.length)return e}else if(d>0)return e;if(i=t.getNode(e.startContainer,e.startOffset),s=_.getParent(i,_.isBlock),r=a(u.getBody(),n,i),l=_.getParent(r,_.isBlock),!i||!r)return e;if(l&&s!=l)if(n){if(!o(s,l))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}else{if(!o(l,s))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}return e}function h(e){var t=k.getRng();return t=d(t,e),c(t)?!0:void 0}function v(e,t){function n(e,n){return m=X(n).parents().filter(function(e,t){return!!u.schema.getTextInlineElements()[t.nodeName]}),l=e.cloneNode(!1),m=s.map(m,function(e){return e=e.cloneNode(!1),l.hasChildNodes()?(e.appendChild(l.firstChild),l.appendChild(e)):l.appendChild(e),l.appendChild(e),e}),m.length?(p=_.create("br"),m[0].appendChild(p),_.replace(l,e),t.setStartBefore(p),t.setEndBefore(p),u.selection.setRng(t),p):null}function r(e){return e&&u.schema.getTextBlockElements()[e.tagName]}var o,a,l,c,d,h,f,p,m;if(t.collapsed&&(h=t.startContainer,f=t.startOffset,a=_.getParent(h,_.isBlock),r(a)))if(1==h.nodeType){if(h=h.childNodes[f],h&&"BR"!=h.tagName)return;if(d=e?a.nextSibling:a.previousSibling,_.isEmpty(a)&&r(d)&&_.isEmpty(d)&&n(a,h))return _.remove(d),!0}else if(3==h.nodeType){if(o=i.create(a,h),c=a.cloneNode(!0),h=i.resolve(c,o),e){if(f>=h.data.length)return;h.deleteData(f,1)}else{if(0>=f)return;h.deleteData(f-1,1)}if(_.isEmpty(c))return n(a,h)}}function b(e){var t,n,i;h(e)||(s.each(u.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&u.dom.setAttrib(e,"style",u.dom.getAttrib(e,"style"))}),t=new C(function(){}),t.observe(u.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),u.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=u.selection.getRng(),i=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if(_.isChildOf(e.target,u.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,r;e==i&&(t=n.startOffset,r=e.firstChild),_.remove(e,!0),r&&(n.setStart(r,t),n.setEnd(r,t),u.selection.setRng(n))}})}}),t.disconnect(),s.each(u.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var y,x,w=u.getDoc(),_=u.dom,k=u.selection,C=window.MutationObserver;C||(y=!0,C=function(){function e(e){var t=e.relatedNode||e.target;i.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;i.push({target:t,attributeName:e.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return i}}),u.on("keydown",function(e){var t=e.keyCode==Z,n=e.ctrlKey||e.metaKey;if(!f(e)&&(t||e.keyCode==G)){var i=u.selection.getRng(),r=i.startContainer,o=i.startOffset;if(t&&e.shiftKey)return;if(v(t,i))return void e.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:o>0))return;e.preventDefault(),n&&u.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),b(t)}}),u.on("keypress",function(t){if(!f(t)&&!k.isCollapsed()&&t.charCode>31&&!e.metaKeyPressed(t)){var n,i,r,o,a,s;n=u.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),i=X(n.startContainer).parents().filter(function(e,t){return!!u.schema.getTextInlineElements()[t.nodeName]}),b(!0),i=i.filter(function(e,t){return!X.contains(u.getBody(),t)}),i.length?(r=_.createFragment(),i.each(function(e,t){t=t.cloneNode(!1),r.hasChildNodes()?(t.appendChild(r.firstChild),r.appendChild(t)):(a=t,r.appendChild(t)),r.appendChild(t)}),a.appendChild(u.getDoc().createTextNode(s)),o=_.getParent(n.startContainer,_.isBlock),_.isEmpty(o)?X(o).empty().append(r):n.insertNode(r),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),u.selection.setRng(n)):u.selection.setContent(s)}}),u.addCommand("Delete",function(){b()}),u.addCommand("ForwardDelete",function(){b(!0)}),y||(u.on("dragstart",function(e){x=k.getRng(),p(e)}),u.on("drop",function(e){if(!f(e)){var n=m(e);n&&(e.preventDefault(),l.setEditorTimeout(u,function(){var i=t.getCaretRangeFromPoint(e.x,e.y,w);x&&(k.setRng(x),x=null),b(),k.setRng(i),g(n.html)}))}}),u.on("cut",function(e){f(e)||!e.clipboardData||u.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",u.selection.getContent()),e.clipboardData.setData("text/plain",u.selection.getContent({format:"text"})),l.setEditorTimeout(u,function(){b(!0)}))}))}function b(){function e(e){var t=K.create("body"),n=e.cloneContents();return t.appendChild(n),Q.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(u.getBody()),t.compareRanges(n,i)}var r=e(n),o=K.createRng();o.selectNode(u.getBody());var a=e(o);return r===a}u.on("keydown",function(e){var t,i,r=e.keyCode;if(!f(e)&&(r==Z||r==G)){if(t=u.selection.isCollapsed(),i=u.getBody(),t&&!K.isEmpty(i))return;if(!t&&!n(u.selection.getRng()))return;e.preventDefault(),u.setContent(""),i.firstChild&&K.isBlock(i.firstChild)?u.selection.setCursorLocation(i.firstChild,0):u.selection.setCursorLocation(i,0),u.nodeChanged()}})}function y(){u.shortcuts.add("meta+a",null,"SelectAll")}function x(){u.settings.content_editable||K.bind(u.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==u.getDoc().documentElement)if(t=Q.getRng(),u.getBody().focus(),"mousedown"==e.type){if(c.isCaretContainer(t.startContainer))return;Q.placeCaretAt(e.clientX,e.clientY)}else Q.setRng(t)})}function w(){u.on("keydown",function(e){if(!f(e)&&e.keyCode===G){if(!u.getBody().getElementsByTagName("hr").length)return;if(Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var t=Q.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return K.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(K.remove(n),e.preventDefault())}}})}function _(){window.Range.prototype.getClientRects||u.on("mousedown",function(e){if(!f(e)&&"HTML"===e.target.nodeName){var t=u.getBody();t.blur(),l.setEditorTimeout(u,function(){t.focus()})}})}function k(){u.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==K.getContentEditableParent(t)&&(e.preventDefault(),Q.getSel().setBaseAndExtent(t,0,t,1),u.nodeChanged()),"A"==t.nodeName&&K.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),Q.select(t))})}function C(){function e(){var e=K.getAttribs(Q.getStart().cloneNode(!1));return function(){var t=Q.getStart();t!==u.getBody()&&(K.setAttrib(t,"style",null),$(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function t(){return!Q.isCollapsed()&&K.getParent(Q.getStart(),K.isBlock)!=K.getParent(Q.getEnd(),K.isBlock)}u.on("keypress",function(n){var i;return f(n)||8!=n.keyCode&&46!=n.keyCode||!t()?void 0:(i=e(),u.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1)}),K.bind(u.getDoc(),"cut",function(n){var i;!f(n)&&t()&&(i=e(),l.setEditorTimeout(u,function(){i()}))})}function S(){document.body.setAttribute("role","application")}function T(){u.on("keydown",function(e){if(!f(e)&&e.keyCode===G&&Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var t=Q.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function D(){h()>7||(d("RespectVisibilityInDesign",!0),u.contentStyles.push(".mceHideBrInPre pre br {display: none}"),K.addClass(u.getBody(),"mceHideBrInPre"),ee.addNodeFilter("pre",function(e){for(var t,n,i,o,a=e.length;a--;)for(t=e[a].getAll("br"),n=t.length;n--;)i=t[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"}),te.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)i=t[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function A(){K.bind(u.getBody(),"mouseup",function(){var e,t=Q.getNode();"IMG"==t.nodeName&&((e=K.getStyle(t,"width"))&&(K.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),K.setStyle(t,"width","")),(e=K.getStyle(t,"height"))&&(K.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),K.setStyle(t,"height","")))})}function E(){u.on("keydown",function(t){var n,i,r,o,a;if(!f(t)&&t.keyCode==e.BACKSPACE&&(n=Q.getRng(),i=n.startContainer,r=n.startOffset,o=K.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(u.formatter.toggle("blockquote",null,a),n=K.createRng(),n.setStart(i,0),n.setEnd(i,0),Q.setRng(n))}})}function M(){function e(){u._refreshContentEditable(),d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),J.object_resizing||d("enableObjectResizing",!1)}J.readonly||u.on("BeforeExecCommand MouseDown",e)}function P(){function e(){$(K.select("a"),function(e){var t=e.parentNode,n=K.getRoot();if(t.lastChild===e){for(;t&&!K.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}K.add(t,"br",{"data-mce-bogus":1})}})}u.on("SetContent ExecCommand",function(t){("setcontent"==t.type||"mceInsertLink"===t.command)&&e();
})}function N(){J.forced_root_block&&u.on("init",function(){d("DefaultParagraphSeparator",J.forced_root_block)})}function R(){u.on("keydown",function(e){var t;f(e)||e.keyCode!=G||(t=u.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),u.undoManager.beforeChange(),K.remove(t.item(0)),u.undoManager.add()))})}function I(){var e;h()>=10&&(e="",$("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),u.contentStyles.push(e+"{padding-right: 1px !important}"))}function O(){h()<9&&(ee.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),te.addNodeFilter("noscript",function(e){for(var t,n,i,a=e.length;a--;)t=e[a],n=e[a].firstChild,n?n.value=o.decode(n.value):(i=t.attributes.map["data-mce-innertext"],i&&(t.attr("data-mce-innertext",null),n=new r("#text",3),n.value=i,n.raw=!0,t.append(n)))}))}function L(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(i){n=null}return n}function t(t){var i;t.button?(i=e(t.x,t.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var e=a.selection.createRange();r&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&r.select(),K.unbind(a,"mouseup",n),K.unbind(a,"mousemove",t),r=i=0}var i,r,o,a=K.doc,s=a.body;a.documentElement.unselectable=!0,K.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=e(s.x,s.y),r&&(K.bind(a,"mouseup",n),K.bind(a,"mousemove",t),K.getRoot().focus(),r.select())}})}function j(){u.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||Q.normalize()},!0)}function z(){u.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function B(){u.inline||u.on("keydown",function(){document.activeElement==document.body&&u.getWin().focus()})}function F(){u.inline||(u.contentStyles.push("body {min-height: 150px}"),u.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(a.ie>11)return void u.getBody().focus();t=u.selection.getRng(),u.getBody().focus(),u.selection.setRng(t),u.selection.normalize(),u.nodeChanged()}}))}function H(){a.mac&&u.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),u.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})}function q(){d("AutoUrlDetect",!1)}function W(){u.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),u.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function V(){u.on("init",function(){u.dom.bind(u.getBody(),"submit",function(e){e.preventDefault()})})}function U(){ee.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function Y(){u.on("dragstart",function(e){p(e)}),u.on("drop",function(e){if(!f(e)){var n=m(e);if(n&&n.id!=u.id){e.preventDefault();var i=t.getCaretRangeFromPoint(e.x,e.y,u.getDoc());Q.setRng(i),g(n.html)}}})}var $=s.each,X=u.$,G=e.BACKSPACE,Z=e.DELETE,K=u.dom,Q=u.selection,J=u.settings,ee=u.parser,te=u.serializer,ne=a.gecko,ie=a.ie,re=a.webkit,oe="data:text/mce-internal,",ae=ie?"Text":"URL";E(),b(),j(),re&&(v(),x(),k(),N(),V(),T(),U(),a.iOS?(B(),F(),W()):y()),ie&&a.ie<11&&(w(),S(),D(),A(),R(),I(),O(),L()),a.ie>=11&&(F(),T()),a.ie&&(y(),q(),Y()),ne&&(w(),_(),C(),M(),P(),z(),H(),T())}}),i(Ne,[re,w,p],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(e,t){function n(e){return!e.hidden&&!e.readonly}var r,s=i(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(i(e,t));o=null}})),o[t])return;r=function(i){for(var r=i.target,o=e.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===r||a.isChildOf(r,l))&&n(o[s])&&o[s].fire(t,i)}},o[t]=r,a.bind(s,t,r)}else r=function(i){n(e)&&e.fire(t,i)},a.bind(s,t,r),e.delegates[t]=r}var o,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){r(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return s=n.extend({},e,s)}),i(Re,[],function(){function e(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}}function t(t,n){var i=t.readonly?"readonly":"design";n!=i&&("readonly"==n?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable=!1):(t.readonly=!1,t.getBody().contentEditable=!0,e(t,"StyleWithCSS",!1),e(t,"enableInlineTableEditing",!1),e(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged()),t.fire("SwitchMode",{mode:n}))}return{setMode:t}}),i(Ie,[p,h],function(e,t){var n=e.each,i=e.explode,r={f9:120,f10:121,f11:122},o=e.makeMap("alt,ctrl,shift,meta,access");return function(a){function s(e,s,l,c){var u,d,h;h={func:l,scope:c||a,desc:a.translate(s)},n(i(e,"+"),function(e){e in o?h[e]=!0:/^[0-9]{2,}$/.test(e)?h.keyCode=parseInt(e,10):(h.charCode=e.charCodeAt(0),h.keyCode=r[e]||e.toUpperCase().charCodeAt(0))}),u=[h.keyCode];for(d in o)h[d]?u.push(d):h[d]=!1;return h.id=u.join(","),h.access&&(h.alt=!0,t.mac?h.ctrl=!0:h.shift=!0),h.meta&&(t.mac?h.meta=!0:(h.ctrl=!0,h.meta=!1)),h}var l=this,c={};a.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&!e.isDefaultPrevented()&&n(c,function(t){return t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&t.alt==e.altKey&&t.shift==e.shiftKey&&(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)?(e.preventDefault(),"keydown"==e.type&&t.func.call(t.scope),!0):void 0})}),l.add=function(t,r,o,l){var u;return u=o,"string"==typeof o?o=function(){a.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(i(t.toLowerCase()),function(e){var t=s(e,r,o,l);c[t.id]=t}),!0},l.remove=function(e){var t=s(e);return c[t.id]?(delete c[t.id],!0):!1}}}),i(Oe,[l,p,B],function(e,t,n){return function(i){function r(e){var t,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},t=n[e.blob().type.toLowerCase()]||"dat",e.id()+"."+t}function o(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function a(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(r(e))}}function s(e,t,n,a){var s,l,c;s=new XMLHttpRequest,s.open("POST",i.url),s.withCredentials=i.credentials,c=a(),s.upload.onprogress=function(e){var t=Math.round(e.loaded/e.total*100);c.progressBar.value(t)},s.onload=function(){var e;return c.close(),200!=s.status?void n("HTTP Error: "+s.status):(e=JSON.parse(s.responseText),e&&"string"==typeof e.location?void t(o(i.basePath,e.location)):void n("Invalid JSON: "+s.responseText))},l=new FormData,l.append("file",e.blob(),r(e)),s.send(l)}function l(){return new e(function(e){e([])})}function c(e){return e.then(function(e){return e})["catch"](function(e){return e})}function u(e,t,n){var i=e(n),r=c(i);return delete p[t],p[t]=r,r}function d(e,n){return t.map(e,function(e){var t=e.id();return p[t]?p[t]:u(n,t,e)})}function h(t,n){function r(t){return new e(function(e){var r=i.handler;r(a(t),function(n){e({url:n,blobInfo:t,status:!0})},function(n){e({url:"",blobInfo:t,status:!1,error:n})},n)})}var o=d(t,r);return e.all(o)}function f(e,t){return i.url||i.handler!==s?h(e,t):l()}var p={};return i=t.extend({credentials:!1,handler:s},i),{upload:f}}}),i(Le,[l],function(e){function t(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function n(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function i(t){return new e(function(e){var i,r,o;t=n(t);try{i=atob(t.data)}catch(a){return void e(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);e(new Blob([r],{type:t.type}))})}function r(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?i(e):null}function o(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:r,blobToDataUri:o,parseDataUri:n}}),i(je,[l,f,B,Le,h],function(e,t,n,i,r){var o=0;return function(a){function s(s,c){function u(e,t){var n,r;return 0===e.src.indexOf("blob:")?(r=a.getByUri(e.src),void(r&&t({image:e,blobInfo:r}))):(n=i.parseDataUri(e.src).data,r=a.findFirst(function(e){return e.base64()===n}),void(r?t({image:e,blobInfo:r}):i.uriToBlob(e.src).then(function(i){var r="blobid"+o++,s=a.create(r,i,n);a.add(s),t({image:e,blobInfo:s})})))}var d,h;return c||(c=n.constant(!0)),d=t.filter(s.getElementsByTagName("img"),function(e){var t=e.src;return r.fileApi?e.hasAttribute("data-mce-bogus")?!1:e.hasAttribute("data-mce-placeholder")?!1:t&&t!=r.transparentSrc?0===t.indexOf("blob:")?!0:0===t.indexOf("data:")?c(e):!1:!1:!1}),h=t.map(d,function(t){var n;return l[t.src]?new e(function(e){l[t.src].then(function(n){e({image:t,blobInfo:n.blobInfo})})}):(n=new e(function(e){u(t,e)}).then(function(e){return delete l[e.image.src],e})["catch"](function(e){return delete l[t.src],e}),l[t.src]=n,n)}),e.all(h)}var l={};return{findAll:s}}}),i(ze,[f,B],function(e,t){return function(){function n(e,t,n){return{id:c(e),blob:c(t),base64:c(n),blobUri:c(URL.createObjectURL(t))}}function i(e){r(e.id())||l.push(e)}function r(e){return o(function(t){return t.id()===e})}function o(t){return e.filter(l,t)[0]}function a(e){return o(function(t){return t.blobUri()==e})}function s(){e.each(l,function(e){URL.revokeObjectURL(e.blobUri())}),l=[]}var l=[],c=t.constant;return{create:n,add:i,get:r,getByUri:a,findFirst:o,destroy:s}}}),i(Be,[f,Oe,je,ze],function(e,t,n,i){return function(r){function o(e){return function(t){return r.selection?e(t):[]}}function a(e,t,n){var i=0;do i=e.indexOf(t,i),-1!==i&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1);while(-1!==i);return e}function s(e,t,n){return e=a(e,'src="'+t+'"','src="'+n+'"'),e=a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function l(t,n){e.each(r.undoManager.data,function(e){e.content=s(e.content,t,n)})}function c(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function u(n){return m||(m=new t({url:b.images_upload_url,basePath:b.images_upload_base_path,credentials:b.images_upload_credentials,handler:b.images_upload_handler})),h().then(o(function(t){var i;return i=e.map(t,function(e){return e.blobInfo}),m.upload(i,c).then(o(function(i){return i=e.map(i,function(e,n){var i=t[n].image;return l(i.src,e.url),r.$(i).attr({src:e.url,"data-mce-src":r.convertURL(e.url,"src")}),{element:i,status:e.status}}),n&&n(i),i}))}))}function d(e){return b.automatic_uploads!==!1?u(e):void 0}function h(){return g||(g=new n(v)),g.findAll(r.getBody(),b.images_dataimg_filter).then(o(function(t){return e.each(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri()}),t}))}function f(){v.destroy(),g=m=null}function p(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=v.getByUri(n);return i||(i=e.reduce(r.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t})}var m,g,v=new i,b=r.settings;return r.on("setContent",function(){r.settings.automatic_uploads!==!1?d():h()}),r.on("RawSaveContent",function(e){e.content=p(e.content)}),r.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=p(e.content))}),{blobCache:v,uploadImages:u,uploadImagesAuto:d,scanForImages:h,destroy:f}}}),i(Fe,[B,v,C,W,T,F],function(e,t,n,i,r,o){function a(e){return e>0}function s(e){return 0>e}function l(e,n,i,r,o){var l=new t(e,r);if(s(n)){if(x(e)&&(e=l.prev(!0),i(e)))return e;for(;e=l.prev(o);)if(i(e))return e}if(a(n)){if(x(e)&&(e=l.next(!0),i(e)))return e;for(;e=l.next(o);)if(i(e))return e}return null}function c(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(y(e))return e;return t}function u(e,t){for(;e&&e!=t;){if(w(e))return e;e=e.parentNode}return null}function d(e,t,n){return u(e.container(),n)==u(t.container(),n)}function h(e,t,n){return c(e.container(),n)==c(t.container(),n)}function f(e,t){var n,i;return t?(n=t.container(),i=t.offset(),C(n)?n.childNodes[i+e]:null):null}function p(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function m(e,t,n){return u(t,e)==u(n,e)}function g(e,t,n){var i,r;for(r=e?"previousSibling":"nextSibling";n&&n!=t;){if(i=n[r],_(i)&&(i=i[r]),x(i)){if(m(t,i,n))return i;break}if(S(i))break;n=n.parentNode}return null}function v(e,t,i){var o,a,s,l,c=k(g,!0,t),u=k(g,!1,t);if(a=i.startContainer,s=i.startOffset,r.isCaretContainerBlock(a)){if(C(a)||(a=a.parentNode),l=a.getAttribute("data-mce-caret"),"before"==l&&(o=a.nextSibling,x(o)))return T(o);if("after"==l&&(o=a.previousSibling,x(o)))return D(o)}if(!i.collapsed)return i;if(n.isText(a)){if(_(a)){if(1===e){if(o=u(a))return T(o);if(o=c(a))return D(o)}if(-1===e){if(o=c(a))return D(o);if(o=u(a))return T(o)}return i}if(r.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===e&&(o=u(a))?T(o):i;if(r.startsWithCaretContainer(a)&&1>=s)return-1===e&&(o=c(a))?D(o):i;if(s===a.data.length)return o=u(a),o?T(o):i;if(0===s)return o=c(a),o?D(o):i}return i}function b(e,t){return x(f(e,t))}var y=n.isContentEditableTrue,x=n.isContentEditableFalse,w=n.matchStyleValues("display","block table table-cell table-caption"),_=r.isCaretContainer,k=e.curry,C=n.isElement,S=o.isCaretCandidate,T=k(p,!0),D=k(p,!1);return{isForwards:a,isBackwards:s,findNode:l,getEditingHost:c,getParentBlock:u,isInSameBlock:d,isInSameEditingHost:h,isBeforeContentEditableFalse:k(b,0),isAfterContentEditableFalse:k(b,-1),normalizeRange:v}}),i(He,[C,F,W,Fe,f,B],function(e,t,n,i,r,o){function a(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function s(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function l(e,t){if(f(e)){if(m(t.previousSibling)&&!d(t.previousSibling))return n.before(t);if(d(t))return n(t,0)}if(p(e)){if(m(t.nextSibling)&&!d(t.nextSibling))return n.after(t);if(d(t))return n(t,t.data.length)}return p(e)?n.after(t):n.before(t)}function c(e,t,c){var b,y,x,w,_,k,C;if(!h(c)||!t)return null;if(C=t,b=C.container(),y=C.offset(),d(b)){if(p(e)&&y>0)return n(b,--y);if(f(e)&&y<b.length)return n(b,++y);x=b}else{if(p(e)&&y>0&&(w=s(b,y-1),m(w)))return!g(w)&&(_=i.findNode(w,e,v,w))?d(_)?n(_,_.data.length):n.after(_):d(w)?n(w,w.data.length):n.before(w);if(f(e)&&y<b.childNodes.length&&(w=s(b,y),m(w)))return!g(w)&&(_=i.findNode(w,e,v,w))?d(_)?n(_,0):n.before(_):d(w)?n(w,0):n.after(w);x=C.getNode()}return(f(e)&&C.isAtEnd()||p(e)&&C.isAtStart())&&(x=i.findNode(x,e,o.constant(!0),c,!0),v(x))?l(e,x):(w=i.findNode(x,e,v,c),k=r.last(r.filter(a(b,c),u)),!k||w&&k.contains(w)?w?l(e,w):null:C=f(e)?n.after(k):n.before(k))}var u=e.isContentEditableFalse,d=e.isText,h=e.isElement,f=i.isForwards,p=i.isBackwards,m=t.isCaretCandidate,g=t.isAtomic,v=t.isEditableCaretCandidate;return function(e){return{next:function(t){return c(1,t,e)},prev:function(t){return c(-1,t,e)}}}}),i(qe,[T,W,C,D,m,H,c],function(e,t,n,i,r,o,a){var s=n.isContentEditableFalse;return function(t,n){function i(e,n){var i,r,a,s,l,c=o.collapse(e.getBoundingClientRect(),n);return"BODY"==t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,a=t.scrollTop||i.scrollTop):(l=t.getBoundingClientRect(),r=t.scrollLeft-l.left,a=t.scrollTop-l.top),c.left+=r,c.right+=r,c.top+=a,c.bottom+=a,c.width=1,s=e.offsetWidth-e.clientWidth,s>0&&(n&&(s*=-1),c.left+=s,c.right+=s),c}function l(){var n,i,o,a,s;for(n=r("*[contentEditable=false]",t),a=0;a<n.length;a++)i=n[a],o=i.previousSibling,e.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=i.nextSibling,e.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function c(o,a){var l,c,h;return u(),n(a)?(g=e.insertBlock("p",a,o),l=i(a,o),r(g).css("top",l.top),m=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t),o&&m.addClass("mce-visual-caret-before"),d(),c=a.ownerDocument.createRange(),h=g.firstChild,c.setStart(h,0),c.setEnd(h,1),c):(g=e.insertInline(a,o),c=a.ownerDocument.createRange(),s(g.nextSibling)?(c.setStart(g,0),c.setEnd(g,0)):(c.setStart(g,1),c.setEnd(g,1)),c)}function u(){l(),g&&(e.remove(g),g=null),m&&(m.remove(),m=null),clearInterval(p)}function d(){p=a.setInterval(function(){r("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden")},500)}function h(){a.clearInterval(p)}function f(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var p,m,g;return{show:c,hide:u,getCss:f,destroy:h}}}),i(We,[f,C,H],function(e,t,n){function i(r){function o(t){return e.map(t,function(e){return e=n.clone(e),e.node=r,e})}if(e.isArray(r))return e.reduce(r,function(e,t){return e.concat(i(t))},[]);if(t.isElement(r))return o(r.getClientRects());if(t.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}return{getClientRects:i}}),i(Ve,[B,f,We,F,Fe,He,W,H],function(e,t,n,i,r,o,a,s){function l(e,t,n,o){for(;o=r.findNode(o,e,i.isEditableCaretCandidate,t);)if(n(o))return}function c(e,i,r,o,a,s){function c(o){var s,l,c;for(c=n.getClientRects(o),-1==e&&(c=c.reverse()),s=0;s<c.length;s++)if(l=c[s],!r(l,d)){if(f.length>0&&i(l,t.last(f))&&h++,l.line=h,a(l))return!0;f.push(l)}}var u,d,h=0,f=[];return(d=t.last(s.getClientRects()))?(u=s.getNode(),c(u),l(e,o,c,u),f):f}function u(e,t){return t.line>e}function d(e,t){return t.line===e}function h(e,n,i,r){function l(n){return 1==e?t.last(n.getClientRects()):t.last(n.getClientRects())}var c,u,d,h,f,p,m=new o(n),g=[],v=0;1==e?(c=m.next,u=s.isBelow,d=s.isAbove,h=a.after(r)):(c=m.prev,u=s.isAbove,d=s.isBelow,h=a.before(r)),p=l(h);do if(h.isVisible()&&(f=l(h),!d(f,p))){if(g.length>0&&u(f,t.last(g))&&v++,f=s.clone(f),f.position=h,f.line=v,i(f))return g;g.push(f)}while(h=c(h));return g}var f=e.curry,p=f(c,-1,s.isAbove,s.isBelow),m=f(c,1,s.isBelow,s.isAbove);return{upUntil:p,downUntil:m,positionsUntil:h,isAboveLine:f(u),isLine:f(d)}}),i(Ue,[B,f,C,We,H,Fe,F],function(e,t,n,i,r,o,a){function s(e,t){return Math.abs(e.left-t)}function l(e,t){return Math.abs(e.right-t)}function c(e,n){function i(e,t){return e>=t.left&&e<=t.right}return t.reduce(e,function(e,t){var r,o;return r=Math.min(s(e,n),l(e,n)),o=Math.min(s(t,n),l(t,n)),i(n,t)?t:i(n,e)?e:o==r&&m(t.node)?t:r>o?t:e})}function u(e,t,n,i){for(;i=g(i,e,a.isEditableCaretCandidate,t);)if(n(i))return}function d(e,n){function o(e,r){var o;return o=t.filter(i.getClientRects(r),function(t){return!e(t,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),u(-1,e,v(o,r.isAbove),n.node),u(1,e,v(o,r.isBelow),n.node),a}function h(e){return t.filter(t.toArray(e.getElementsByTagName("*")),m)}function f(e,t){return{node:e.node,before:s(e,t)<l(e,t)}}function p(e,n,r){var o,a;return o=i.getClientRects(h(e)),o=t.filter(o,function(e){return r>=e.top&&r<=e.bottom}),a=c(o,n),a&&(a=c(d(e,a),n),a&&m(a.node))?f(a,n):null}var m=n.isContentEditableFalse,g=o.findNode,v=e.curry;return{findClosestClientRect:c,findLineNodeRects:d,closestCaret:p}}),i(Ye,[C],function(e){function t(e){function t(e){return n(e)}function i(t){c(e.getBody()).css("cursor",t)}function r(t){return t==f.element||e.dom.isChildOf(t,f.element)?!1:n(t)?!1:!0}function o(t){var n,r,o,a,s,l,u,d,p=0,m=0;0===t.button&&(n=t.screenX-f.screenX,r=t.screenY-f.screenY,s=Math.max(Math.abs(n),Math.abs(r)),!f.dragging&&s>10&&(f.dragging=!0,i("default"),f.clone=f.element.cloneNode(!0),o=h.getPos(f.element),f.relX=f.clientX-o.x,f.relY=f.clientY-o.y,f.width=f.element.offsetWidth,f.height=f.element.offsetHeight,c(f.clone).css({width:f.width,height:f.height}).removeAttr("data-mce-selected"),f.ghost=c("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:f.width,height:f.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(f.clone).appendTo(e.getBody())[0],a=e.dom.getViewPort(e.getWin()),f.maxX=a.w,f.maxY=a.h),f.dragging&&(e.selection.placeCaretAt(t.clientX,t.clientY),l=f.clientX+n-f.relX,u=f.clientY+r+5,l+f.width>f.maxX&&(p=l+f.width-f.maxX),u+f.height>f.maxY&&(m=u+f.height-f.maxY),d="BODY"!=e.getBody().nodeName?e.getBody().getBoundingClientRect():{left:0,top:0},c(f.ghost).css({left:l-d.left,top:u-d.top,width:f.width-p,height:f.height-m})))}function a(){f.dragging&&(e.selection.setRng(e.selection.getSel().getRangeAt(0)),r(e.selection.getNode())&&e.undoManager.transact(function(){e.insertContent(h.getOuterHTML(f.element)),c(f.element).remove()})),l()}function s(n){if(l(),t(n.target)){if(e.fire("dragstart",{target:n.target}).isDefaultPrevented())return;e.on("mousemove",o),e.on("mouseup",a),u!=d&&(h.bind(u,"mousemove",o),h.bind(u,"mouseup",a)),f={screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,element:n.target}}}function l(){c(f.ghost).remove(),i(null),e.off("mousemove",o),e.off("mouseup",l),u!=d&&(h.unbind(u,"mousemove",o),h.unbind(u,"mouseup",l)),f={}}var c=e.$,u=document,d=e.getDoc(),h=e.dom,f={};e.on("mousedown",s),e.on("drop",function(t){var i=e.getDoc().elementFromPoint(t.clientX,t.clientY);(n(i)||n(e.dom.getContentEditableParent(i)))&&t.preventDefault()})}var n=e.isContentEditableFalse;return{init:t}}),i($e,[h,He,W,T,Fe,qe,Ve,Ue,C,D,j,B,f,c,Ye],function(e,t,n,i,r,o,a,s,l,c,u,d,h,f,p){function m(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function g(c){function d(e){return c.dom.isBlock(e)}function g(e){e&&c.selection.setRng(e)}function C(){return c.selection.getRng()}function S(e,t){c.selection.scrollIntoView(e,t)}function T(e,t,n){var i;return i=c.fire("ShowCaret",{target:t,direction:e,before:n}),i.isDefaultPrevented()?null:(S(t,-1===e),ee.show(n,t))}function D(e){var t;return t=c.fire("ObjectSelected",{target:e}),t.isDefaultPrevented()?null:(ee.hide(),A(e))}function A(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function E(e,t){var n=r.isInSameBlock(e,t);return!n&&l.isBr(e.getNode())?!0:n}function M(e,t){return t=r.normalizeRange(e,Z,t),-1==e?n.fromRangeStart(t):n.fromRangeEnd(t)}function P(e){return i.isCaretContainerBlock(e.startContainer)}function N(e,t,n,i){var r,o,a,s;return!i.collapsed&&(r=k(i),y(r))?T(e,r,-1==e):(s=P(i),o=M(e,i),n(o)?D(o.getNode(-1==e)):(o=t(o))?n(o)?T(e,o.getNode(-1==e),1==e):(a=t(o),n(a)&&E(o,a)?T(e,a.getNode(-1==e),1==e):s?F(o.toRange()):null):s?i:null)}function R(e,t,n){var i,r,o,l,c,u,d,f,p;if(p=k(n),i=M(e,n),r=t(Z,a.isAboveLine(1),i),o=h.filter(r,a.isLine(1)),c=h.last(i.getClientRects()),_(i)&&(p=i.getNode()),w(i)&&(p=i.getNode(!0)),!c)return null;if(u=c.left,l=s.findClosestClientRect(o,u),l&&y(l.node))return d=Math.abs(u-l.left),f=Math.abs(u-l.right),T(e,l.node,f>d);if(p){var m=a.positionsUntil(e,Z,a.isAboveLine(1),p);if(l=s.findClosestClientRect(h.filter(m,a.isLine(1)),u))return F(l.position.toRange());if(l=h.last(h.filter(m,a.isLine(0))))return F(l.position.toRange())}}function I(t,i){function r(){var t=c.dom.create(c.settings.forced_root_block);return(!e.ie||e.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t}var o,a,s;if(i.collapsed&&c.settings.forced_root_block){if(o=c.dom.getParent(i.startContainer,"PRE"),!o)return;a=1==t?Q(n.fromRangeStart(i)):J(n.fromRangeStart(i)),a||(s=r(),1==t?c.$(o).after(s):c.$(o).before(s),c.selection.select(s,!0),c.selection.collapse())}}function O(e,t,n,i){var r;return(r=N(e,t,n,i))?r:(r=I(e,i),r?r:null)}function L(e,t,n){var i;return(i=R(e,t,n))?i:(i=I(e,n),i?i:null)}function j(){return ne("*[data-mce-caret]")[0]}function z(e){e=ne(e),e.attr("data-mce-caret")&&(ee.hide(),e.removeAttr("data-mce-caret"),e.removeAttr("data-mce-bogus"),e.removeAttr("style"),g(C()),S(e[0]))}function B(e){var t;return e=r.normalizeRange(1,Z,e),t=n.fromRangeStart(e),y(t.getNode())?T(1,t.getNode(),!t.isAtEnd()):y(t.getNode(!0))?T(1,t.getNode(!0),!1):(ee.hide(),null)}function F(e){var t;return e&&e.collapsed?(t=B(e),t?t:e):e}function H(e){var t,r,o,a;return y(e)?(y(e.previousSibling)&&(o=e.previousSibling),r=J(n.before(e)),r||(t=Q(n.after(e))),t&&x(t.getNode())&&(a=t.getNode()),i.remove(e.previousSibling),i.remove(e.nextSibling),c.dom.remove(e),$(),c.dom.isEmpty(c.getBody())?(c.setContent(""),void c.focus()):o?n.after(o).toRange():a?n.before(a).toRange():r?r.toRange():t?t.toRange():null):null}function q(e,t,n){var i,r;return!n.collapsed&&(i=k(n),y(i))?F(H(i)):(r=M(e,n),t(r)?F(H(r.getNode(-1==e))):void 0)}function W(){function e(e){var t=e(C());return t?(g(t),!0):!1}function t(e){for(var t=c.getBody();e&&e!=t;){if(b(e)||y(e))return e;e=e.parentNode}return null}function i(){var e,i=t(c.selection.getNode());b(i)&&d(i)&&c.dom.isEmpty(i)&&(e=c.dom.create("br",{"data-mce-bogus":"1"}),c.$(i).empty().append(e),c.selection.setRng(n.before(e).toRange()))}function r(e){var t=j();return t?"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void z(t)):void("&nbsp;"!=t.innerHTML&&z(t)):void 0}function o(e){var t;switch(e.keyCode){case u.DELETE:t=i();break;case u.BACKSPACE:t=i()}t&&e.preventDefault()}var l=v(O,1,Q,_),h=v(O,-1,J,w),m=v(q,1,_),x=v(q,-1,w),k=v(L,-1,a.upUntil),S=v(L,1,a.downUntil);c.on("mouseup",function(){var e=C();e.collapsed&&g(B(e))}),c.on("mousedown",function(e){var n;if(n=t(e.target))y(n)?(e.preventDefault(),Y(D(n),!1)):c.selection.placeCaretAt(e.clientX,e.clientY);else{$(),ee.hide();var i=s.closestCaret(Z,e.clientX,e.clientY);i&&(e.preventDefault(),c.getBody().focus(),g(T(1,i.node,i.before)))}}),c.on("keydown",function(t){var n;if(!u.modifierPressed(t)){switch(t.keyCode){case u.RIGHT:n=e(l);break;case u.DOWN:n=e(S);break;case u.LEFT:n=e(h);break;case u.UP:n=e(k);break;case u.DELETE:n=e(m);break;case u.BACKSPACE:n=e(x);break;default:n=y(c.selection.getNode())}n&&t.preventDefault()}}),c.on("keyup compositionstart",function(e){r(e),o(e)},!0),c.on("cut",function(){var e=c.selection.getNode();y(e)&&f.setEditorTimeout(c,function(){g(F(H(e)))})}),c.on("getSelectionRange",function(e){var t=e.range;if(G){if(!G.parentNode)return void(G=null);t=t.cloneRange(),t.selectNode(G),e.range=t}}),c.on("setSelectionRange",function(e){var t;t=Y(e.range),t&&(e.range=t)}),c.on("focus",function(){f.setEditorTimeout(c,function(){c.selection.setRng(F(c.selection.getRng()))})}),p.init(c)}function V(){var e=c.contentStyles,t=".mce-content-body";e.push(ee.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100pxheight: 100px}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}function U(e){return i.isCaretContainer(e.startContainer)||i.isCaretContainer(e.endContainer)}function Y(e,t){var n,i,r,o,a,s,l,u,d=c.$,h=c.dom;if(!e)return $(),null;if(e.collapsed){if($(),!U(e)){if(u=M(1,e),y(u.getNode()))return T(1,u.getNode(),!u.isAtEnd());if(y(u.getNode(!0)))return T(1,u.getNode(!0),!1)}return null}return o=e.startContainer,a=e.startOffset,s=e.endOffset,3==o.nodeType&&0==a&&y(o.parentNode)&&(o=o.parentNode,a=h.nodeIndex(o),o=o.parentNode),1!=o.nodeType?($(),null):(s==a+1&&(n=o.childNodes[a]),y(n)?t!==!1&&(l=c.fire("ObjectSelected",{target:n}),l.isDefaultPrevented())?($(),null):(i=d("#"+te),0===i.length&&(i=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",te),i.appendTo(c.getBody())),i.empty().append("\xa0").append(n.cloneNode(!0)).append("\xa0").css({top:h.getPos(n,c.getBody()).y}),e=c.dom.createRng(),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0),c.getBody().focus(),i[0].focus(),r=c.selection.getSel(),r.removeAllRanges(),r.addRange(e),c.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),G=n,e):($(),null))}function $(){G&&(G.removeAttribute("data-mce-selected"),c.$("#"+te).remove(),G=null)}function X(){ee.destroy(),G=null}var G,Z=c.getBody(),K=new t(Z),Q=v(m,K.next),J=v(m,K.prev),ee=new o(c.getBody(),d),te="sel-"+c.dom.uniqueId(),ne=c.$;return e.ceFalse&&(W(),V()),{showBlockCaretContainer:z,destroy:X}}var v=d.curry,b=l.isContentEditableTrue,y=l.isContentEditableFalse,x=l.isElement,w=r.isAfterContentEditableFalse,_=r.isBeforeContentEditableFalse,k=c.getSelectedNode;return g}),i(Xe,[w,m,k,A,E,O,I,Y,G,Z,K,Q,J,ee,_,u,Ce,Ee,M,N,Pe,h,p,c,Ne,Re,Ie,Be,$e],function(e,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A,E){function M(e,t,r){var o,a,s=this;o=s.documentBaseUrl=r.documentBaseURL,a=r.baseURI,s.settings=t=I({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s,ie7_compat:!0},t),i.language=t.language||"en",i.languageLoad=t.language_load,i.baseURL=r.baseURL,s.id=t.id=e,s.setDirty(!1),s.plugins={},s.documentBaseURI=new p(t.document_base_url||o,{base_uri:a}),s.baseURI=a,s.contentCSS=[],s.contentStyles=[],s.shortcuts=new D(s),s.loadedCSS={},s.editorCommands=new f(s),t.target&&(s.targetElm=t.target),s.suffix=r.suffix,s.editorManager=r,s.inline=t.inline,t.cache_suffix&&(_.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(_.overrideViewPort=!1),r.fire("SetupEditor",s),s.execCallback("setup",s),s.$=n.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}var P=e.DOM,N=i.ThemeManager,R=i.PluginManager,I=k.extend,O=k.each,L=k.explode,j=k.inArray,z=k.trim,B=k.resolve,F=g.Event,H=_.gecko,q=_.ie;return M.prototype={render:function(){function e(){P.unbind(window,"ready",e),n.render()}function t(){var e=m.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!N.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+o+".js",N.load(i.theme,t)}k.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),O(i.external_plugins,function(e,t){R.load(t,e),i.plugins+=" "+t}),O(i.plugins.split(/[ ,]/),function(e){if(e=z(e),e&&!R.urls[e])if("-"==e.charAt(0)){
e=e.substr(1,e.length);var t=R.dependencies(e);O(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=R.createUrl(t,e),R.load(e.resource,e)})}else R.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!F.domLoaded)return void P.bind(window,"ready",e);if(n.getElement()&&_.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||P.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(P.insertAfter(P.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},P.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new b(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=P.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),t()}},init:function(){function e(t){var n,i,r=R.get(t);if(n=R.urls[t]||h.documentBaseUrl.replace(/\/$/,""),t=z(t),r&&-1===j(m,t)){if(O(R.dependencies(t),function(t){e(t)}),h.plugins[t])return;i=new r(h,n,h.$),h.plugins[t]=i,i.init&&(i.init(h,n),m.push(t))}}var t,n,i,r,o,a,s,l,c,u,d,h=this,f=h.settings,p=h.getElement(),m=[];if(this.editorManager.i18n.setCode(f.language),h.rtl=f.rtl_ui||this.editorManager.i18n.rtl,h.editorManager.add(h),f.aria_label=f.aria_label||P.getAttrib(p,"aria-label",h.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),a=N.get(f.theme),h.theme=new a(h,N.urls[f.theme]),h.theme.init&&h.theme.init(h,N.urls[f.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=f.theme),O(f.plugins.replace(/\-/g,"").split(/[ ,]/),e),f.render_ui&&h.theme&&(h.orgDisplay=p.style.display,"function"!=typeof f.theme?(t=f.width||p.style.width||p.offsetWidth,n=f.height||p.style.height||p.offsetHeight,i=f.min_height||100,u=/^[0-9\.]+(|px)$/i,u.test(""+t)&&(t=Math.max(parseInt(t,10),100)),u.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=h.theme.renderUI({targetNode:p,width:t,height:n,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),i>n&&(n=i))):(o=f.theme(h,p),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||h.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||h.id+"_iframecontainer"),n=o.iframeHeight||p.offsetHeight),h.editorContainer=o.editorContainer),f.content_css&&O(L(f.content_css),function(e){h.contentCSS.push(h.documentBaseURI.toAbsolute(e))}),f.content_style&&h.contentStyles.push(f.content_style),f.content_editable)return p=r=o=null,h.initContentBody();for(h.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!_.caretAfter&&f.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;d<h.contentCSS.length;d++){var g=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(g)+'" />',h.loadedCSS[g]=!0}l=f.body_id||"tinymce",-1!=l.indexOf("=")&&(l=h.getParam("body_id","","hash"),l=l[h.id]||l),c=f.body_class||"",-1!=c.indexOf("=")&&(c=h.getParam("body_class","","hash"),c=c[h.id]||""),f.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&_.ie&&_.ie<12&&(s=v);var b=P.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(b.onload=function(){b.onload=null,h.fire("load")},P.setAttrib(b,"src",s||'javascript:""'),h.contentAreaContainer=o.iframeContainer,h.iframeElement=b,r=P.add(o.iframeContainer,b),q)try{h.getDoc()}catch(y){r.src=s=v}o.editorContainer&&(P.get(o.editorContainer).style.display=h.orgDisplay,h.hidden=P.isHidden(o.editorContainer)),h.getElement().style.display="none",P.setAttrib(h.id,"aria-hidden",!0),s||h.initContentBody(),p=r=o=null},initContentBody:function(t){var n,i,s=this,f=s.settings,p=s.getElement(),m=s.getDoc();f.inline||(s.getElement().style.visibility=s.orgVisibility),t||f.content_editable||(m.open(),m.write(s.iframeHTML),m.close()),f.content_editable&&(s.on("remove",function(){var e=this.getBody();P.removeClass(e,"mce-content-body"),P.removeClass(e,"mce-edit-focus"),P.setAttrib(e,"contentEditable",null)}),P.addClass(p,"mce-content-body"),s.contentDocument=m=f.content_document||document,s.contentWindow=f.content_window||window,s.bodyElement=p,f.content_document=f.content_window=null,f.root_name=p.nodeName.toLowerCase()),n=s.getBody(),n.disabled=!0,s.readonly=f.readonly,s.readonly||(s.inline&&"static"==P.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new A(s),s.schema=new y(f),s.dom=new e(m,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:f.force_hex_style_colors,class_filter:f.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:f.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new x(f,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)if(n=e[o],i=n.attr(t),r="data-mce-"+t,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?(i=a.serializeStyle(a.parseStyle(i),n.name),i.length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(i)&&(t.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(f,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new c(s),s.undoManager=new u(s),s.forceBlocks=new h(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new r(s),s._selectionOverrides=new E(s),s.fire("PreInit"),f.browser_spellcheck||f.gecko_spellcheck||(m.body.spellcheck=!1,P.setAttrib(n,"spellcheck","false")),s.fire("PostRender"),s.quirks=new w(s),f.directionality&&(n.dir=f.directionality),f.nowrap&&(n.style.whiteSpace="nowrap"),f.protect&&s.on("BeforeSetContent",function(e){O(f.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),f.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.contentStyles.length>0&&(i="",O(s.contentStyles,function(e){i+=e+"\r\n"}),s.dom.addStyle(i)),O(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),f.auto_focus&&C.setEditorTimeout(s,function(){var e;e=f.auto_focus===!0?s:s.editorManager.get(f.auto_focus),e.destroyed||e.focus()},100),p=m=n=null},focus:function(e){function t(e){return o.dom.getParent(e,function(e){return"true"===o.dom.getContentEditable(e)})}var n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc(),c=o.getBody();if(!e){if(n=a.getRng(),n.item&&(i=n.item(0)),o._refreshContentEditable(),r=t(a.getNode()),o.$.contains(c,r))return r.focus(),a.normalize(),void o.editorManager.setActive(o);if(s||(_.opera||o.getBody().focus(),o.getWin().focus()),H||s){if(c.setActive)try{c.setActive()}catch(u){c.focus()}else c.focus();s&&a.normalize()}i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())}o.editorManager.setActive(o)},execCallback:function(e){var t,n=this,i=n.settings[e];return i?(n.callbackLookup&&(t=n.callbackLookup[e])&&(i=t.func,t=t.scope),"string"==typeof i&&(t=i.replace(/\.\w+$/,""),t=t?B(t):0,i=B(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:i,scope:t}),i.apply(t||n,Array.prototype.slice.call(arguments,1))):void 0},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,i){return n.data[t+"."+i]||"{#"+i+"}"}):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?O(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("="),e.length>1?i[z(e[0])]=z(e[1]):i[z(e[0])]=z(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return i.dom.is(e,n)}),i.contextToolbars.push({predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(P.show(e.getContainer()),P.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(q&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(P.hide(e.getContainer()),P.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,i=this,r=i.getElement();return r?(e=e||{},e.load=!0,n=i.setContent(r.value!==t?r.value:r.innerHTML,e),e.element=r,e.no_events||i.fire("LoadContent",e),e.element=r=null,n):void 0},save:function(e){var t,n,i=this,r=i.getElement();return r&&i.initialized?(e=e||{},e.save=!0,e.element=r,t=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=P.getParent(i.id,"form"))&&O(n.elements,function(e){return e.name==i.id?(e.value=t,!1):void 0})),e.element=r=null,e.set_dirty!==!1&&i.setDirty(!1),t):void 0},setContent:function(e,t){var n,i,r=this,o=r.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(i=q&&11>q?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=i,e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):q||e||(e='<br data-mce-bogus="1">'),r.dom.setHTML(o,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new s({validate:r.validate},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=z(e),r.dom.setHTML(o,t.content),t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,i=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?n.serializer.getTrimmedContent():"text"==e.format?i.innerText||i.textContent:n.serializer.serialize(i,e),"text"!=e.format?e.content=z(t):e.content=t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=I({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){T.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=P.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=P.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",e,n,!0,t):!r.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:r.relative_urls?i.documentBaseURI.toRelative(e):e=i.documentBaseURI.toAbsolute(e,r.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===t&&(i.hasVisual=r.visual),O(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",t=o.getAttrib(e,"border"),void(t&&"0"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&P.remove(e.getElement().nextSibling),e.inline||(q&&10>q&&e.getDoc().execCommand("SelectAll",!1,null),P.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),P.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),t=n.formElement,t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),P.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return H?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},I(M.prototype,S),M}),i(Ge,[],function(){var e={},t="en";return{setCode:function(e){e&&(t=e,this.rtl=this.data[e]?"rtl"===this.data[e]._dir:!1)},getCode:function(){return t},rtl:!1,add:function(t,n){var i=e[t];i||(e[t]=i={});for(var r in n)i[r]=n[r];this.setCode(t)},translate:function(n){var i;if(i=e[t],i||(i={}),"undefined"==typeof n)return n;if("string"!=typeof n&&n.raw)return n.raw;if(n.push){var r=n.slice(1);n=(i[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(e,t){return r[t]})}return(i[n]||n).replace(/{context:\w+}$/,"")},data:e}}),i(Ze,[w,c,h],function(e,t,n){function i(e){function l(){try{return document.activeElement}catch(e){return document.body}}function c(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function u(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function d(e){return!!s.getParent(e,i.isEditorUIElement)}function h(i){var h=i.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(e){if(e.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(t){}}):h.on("nodechange mouseup keyup",function(e){var t=l();"nodechange"==e.type&&e.selectionChange||(t&&t.id==h.id+"_ifr"&&(t=h.getBody()),h.dom.isChildOf(t,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!r&&(r=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},s.bind(document,"selectionchange",r)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var t,n=e.focusedEditor;h.selection.lastFocusBookmark&&(t=u(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(t)),n!=h&&(n&&n.fire("blur",{focusedEditor:h}),e.setActive(h),e.focusedEditor=h,h.fire("focus",{blurredEditor:n}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){t.setEditorTimeout(h,function(){var t=e.focusedEditor;d(l())||t!=h||(h.fire("blur",{focusedEditor:null}),e.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),o||(o=function(t){var n=e.activeEditor;n&&t.target.ownerDocument==document&&(n.selection&&t.target!=n.getBody()&&(n.selection.lastFocusBookmark=c(n.dom,n.lastRng)),t.target==document.body||d(t.target)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},s.bind(document,"focusin",o)),h.inline&&!a&&(a=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(s.unbind(document,"selectionchange",r),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),r=o=a=null)}e.on("AddEditor",h),e.on("RemoveEditor",f)}var r,o,a,s=e.DOM;return i.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},i}),i(Ke,[Xe,m,w,ee,h,p,re,Ge,Ze],function(e,t,n,i,r,o,a,s,l){function c(e){v(p.editors,function(t){t.fire("ResizeWindow",e)})}function u(e,n){n!==x&&(n?t(window).on("resize",c):t(window).off("resize",c),x=n)}function d(e){var t,n=p.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return p.activeEditor==e&&(p.activeEditor=n[0]),p.focusedEditor==e&&(p.focusedEditor=null),t}function h(e){return e&&!(e.getContainer()||e.getBody()).parentNode&&(d(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null),e}var f,p,m=n.DOM,g=o.explode,v=o.each,b=o.extend,y=0,x=!1;return p={$:t,majorVersion:"4",minorVersion:"3.2",releaseDate:"2015-12-14",editors:[],i18n:s,activeEditor:null,setup:function(){var e,t,n,r,o=this,a="";if(t=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){r=s[c].src;var u=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=u.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new l(o)},init:function(t){function n(e){var t=e.id;return t||(t=e.name,t=t&&!m.get(t)?e.name:m.uniqueId(),e.setAttribute("id",t)),t}function i(t,n,i){if(!h(s.get(t))){var r=new e(t,n,s);r.targetElm=r.targetElm||i,l.push(r),r.render()}}function r(e){var n=t[e];return n?n.apply(s,Array.prototype.slice.call(arguments,2)):void 0}function o(e,t){return t.constructor===RegExp?t.test(e.className):m.hasClass(e,t)}function a(){var e,s;if(m.unbind(window,"ready",a),r("onpageload"),t.types)return void v(t.types,function(e){v(m.select(e.selector),function(r){i(n(r),b({},t,e),r)})});if(t.selector)return void v(m.select(t.selector),function(e){i(n(e),t,e)});switch(t.target&&i(n(t.target),t),t.mode){case"exact":e=t.elements||"",e.length>0&&v(g(e),function(e){var n;(n=m.get(e))?i(e,t,n):v(document.forms,function(n){v(n.elements,function(n){n.name===e&&(e="mce_editor_"+y++,m.setAttrib(n,"id",e),i(e,t,n))})})});break;case"textareas":case"specific_textareas":v(m.select("textarea"),function(e){t.editor_deselector&&o(e,t.editor_deselector)||(!t.editor_selector||o(e,t.editor_selector))&&i(n(e),t,e)})}t.oninit&&(e=s=0,v(l,function(t){s++,t.initialized?e++:t.on("init",function(){e++,e==s&&r("oninit")}),e==s&&r("oninit")}))}var s=this,l=[];s.settings=t,m.bind(window,"ready",a)},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),u(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),f||(f=function(){t.fire("BeforeUnload")},m.bind(window,"beforeunload",f)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void v(m.select(e),function(e){n=r[e.id],n&&i.remove(n)})):(n=e,r[n.id]?(d(n)&&i.fire("RemoveEditor",{editor:n}),r.length||m.unbind(window,"beforeunload",f),n.remove(),u(r,r.length>0),n):null);for(t=r.length-1;t>=0;t--)i.remove(r[t])},execCommand:function(t,n,i){var r=this,o=r.get(i);switch(t){case"mceAddEditor":return r.get(i)||new e(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return r.activeEditor?r.activeEditor.execCommand(t,n,i):!1},triggerSave:function(){v(this.editors,function(e){e.save()})},addI18n:function(e,t){s.add(e,t)},translate:function(e){return s.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},b(p,a),p.setup(),window.tinymce=window.tinyMCE=p,p}),i(Qe,[Ke,p],function(e,t){var n=t.each,i=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function r(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===t.settings.schema&&e(i,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",r))})})}),i(Je,[re,p],function(e,t){var n={send:function(e){function i(){!e.async||4==r.readyState||o++>1e4?(e.success&&1e4>o&&200==r.status?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):setTimeout(i,10)}var r,o=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&t.each(e.requestheaders,function(e){r.setRequestHeader(e.key,e.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return i();setTimeout(i,10)}}};return t.extend(n,e),n}),i(et,[],function(){function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return r="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t),i+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(i>0?",":"")+e(t[i],n);return r+"]"}r="{";for(a in t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(r.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),i(tt,[et,Je,p],function(e,t,n){function i(e){this.settings=r({},e),this.count=0}var r=n.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(t,r){t=e.parse(t),"undefined"==typeof t&&(t={error:"JSON Parse error."}),t.error?i.call(n.error_scope||n.scope,t.error,r):o.call(n.success_scope||n.scope,t.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",t.send(n)}},i}),i(nt,[w],function(e){return{callbacks:{},count:0,send:function(n){var i=this,r=e.DOM,o=n.count!==t?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(e){r.remove(a),delete i.callbacks[o],n.callback(e)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),i(it,[],function(){function e(){s=[];for(var e in a)s.push(e);r.length=s.length}function n(){function n(e){var n,i;return i=e!==t?u+e:r.indexOf(",",u),-1===i||i>r.length?null:(n=r.substring(u,i),u=i+1,n)}var i,r,s,u=0;if(a={},c){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);e()}}function i(){var t,n="";if(c){for(var i in a)t=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(r){}e()}}var r,o,a,s,l,c;try{if(window.localStorage)return localStorage}catch(u){}return l="tinymce",o=document.documentElement,c=!!o.addBehavior,c&&o.addBehavior("#default#userData"),r={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,i()},removeItem:function(e){delete a[e],i()},clear:function(){a={},i()}},n(),r}),i(rt,[w,u,_,k,p,h],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),i(ot,[te,p],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this,a=o.settings;t=a.firstControlClass,n=a.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(a.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),i(at,[ot],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),i(st,[Te],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var r=n("span."+i,t.getEl());e?(r[0]||(n("button:first",t.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,t.getEl())),r.html(t.encode(e))):r.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,i=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var i=n.value,r=t.classPrefix;t.settings.icon=i,i=i?r+"ico "+r+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];i?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=i):a&&o.removeChild(a),e(t.state.get("text"))}),t._super()}})}),i(lt,[me],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>";
}})}),i(ct,[Te],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,i=t.classPrefix;if("undefined"==typeof n)return t.settings.icon;t.settings.icon=n,n=n?i+"ico "+i+"i-"+t.settings.icon:"";var r=t.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),t.state.get("checked")&&e(!0),t._super()}})}),i(ut,[Te,fe,le,m],function(e,t,n,i){return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var r=n.target,o=t.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),r=r.parentNode}),t.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&t.parents().reverse().each(function(n){var i=t.state.get("value"),r=t.getEl("inp").value;return e.preventDefault(),t.state.set("value",r),i!=r&&t.fire("change"),n.hasEventListeners("submit")&&n.toJSON?(n.fire("submit",{data:n.toJSON()}),!1):void 0})}),t.on("keyup",function(e){"INPUT"==e.target.nodeName&&t.state.set("value",e.target.value)})},showMenu:function(){var e,n=this,i=n.settings;n.menu||(e=i.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",n.menu=t.create(e).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control===n.menu&&n.focus()}),n.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==n.value())})}).fire("show"),n.menu.on("select",function(e){n.value(e.control.value())}),n.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,r=this,o=r.getEl(),a=r.getEl("open"),s=r.layoutRect();e=a?s.w-n.getSize(a).width-10:s.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(t=r.layoutRect().h-2+"px"),i(o.firstChild).css({width:e,lineHeight:t}),r._super(),r},postRender:function(){var e=this;return i(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),e=r.icon,e&&"caret"!=e&&(e=o+"ico "+o+"i-"+r.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e._super()},remove:function(){i(this.getEl("inp")).off(),this._super()}})}),i(dt,[ut],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e._rendered&&e.repaintColor(t.value)}),e._super()}})}),i(ht,[st,we],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,e.panel=new t(i).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),i(ft,[ht,w],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return i&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=e||n.getParent(i.target,"."+e.classPrefix+"open")||(i.stopImmediatePropagation(),t.call(e,i))}),delete e.settings.onclick,e._super()}})}),i(pt,[],function(){function e(e){function r(e,r,o){var a,s,l,c,u,d;return a=0,s=0,l=0,e/=255,r/=255,o/=255,u=t(e,t(r,o)),d=n(e,n(r,o)),u==d?(l=u,{h:0,s:0,v:100*l}):(c=e==u?r-o:o==u?e-r:o-e,a=e==u?3:o==u?1:5,a=60*(a-c/(d-u)),s=(d-u)/d,l=d,{h:i(a),s:i(100*s),v:i(100*l)})}function o(e,r,o){var a,s,l,c;if(e=(parseInt(e,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=n(0,t(r,1)),o=n(0,t(o,1)),0===r)return void(d=h=f=i(255*o));switch(a=e/60,s=o*r,l=s*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:d=s,h=l,f=0;break;case 1:d=l,h=s,f=0;break;case 2:d=0,h=s,f=l;break;case 3:d=0,h=l,f=s;break;case 4:d=l,h=0,f=s;break;case 5:d=s,h=0,f=l;break;default:d=h=f=0}d=i(255*(d+c)),h=i(255*(h+c)),f=i(255*(f+c))}function a(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+e(d)+e(h)+e(f)}function s(){return{r:d,g:h,b:f}}function l(){return r(d,h,f)}function c(e){var t;return"object"==typeof e?"r"in e?(d=e.r,h=e.g,f=e.b):"v"in e&&o(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(d=parseInt(t[1],10),h=parseInt(t[2],10),f=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(d=parseInt(t[1],16),h=parseInt(t[2],16),f=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(d=parseInt(t[1]+t[1],16),h=parseInt(t[2]+t[2],16),f=parseInt(t[3]+t[3],16)),d=0>d?0:d>255?255:d,h=0>h?0:h>255?255:h,f=0>f?0:f>255?255:f,u}var u=this,d=0,h=0,f=0;e&&c(e),u.toRgb=s,u.toHsv=l,u.toHex=a,u.parse=c}var t=Math.min,n=Math.max,i=Math.round;return e}),i(mt,[Te,ge,le,pt],function(e,t,n,i){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var i,r,o=n.getPos(e);return i=t.pageX-o.x,r=t.pageY-o.y,i=Math.max(0,Math.min(i/e.clientWidth,1)),r=Math.max(0,Math.min(r/e.clientHeight,1)),{x:i,y:r}}function r(e,t){var r=(360-e.h)/360;n.css(c,{top:100*r+"%"}),t||n.css(d,{left:e.s+"%",top:100-e.v+"%"}),u.style.background=new i({s:100,v:100,h:e.h}).toHex(),h.color().parse({s:e.s,v:e.v,h:e.h})}function o(t){var n;n=e(u,t),s.s=100*n.x,s.v=100*(1-n.y),r(s),h.fire("change")}function a(t){var n;n=e(l,t),s=f.toHsv(),s.h=360*(1-n.y),r(s,!0),h.fire("change")}var s,l,c,u,d,h=this,f=h.color();l=h.getEl("h"),c=h.getEl("hp"),u=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){s=f.toHsv(),r(s)},h._super(),h._svdraghelper=new t(h._id+"-sv",{start:o,drag:o}),h._hdraghelper=new t(h._id+"-h",{start:a,drag:a}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function e(){var e,t,n,i,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),e=0,t=i.length-1;t>e;e++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return a}var t,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return t='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+a+'">'+e()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}})}),i(gt,[Te],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="\xbb"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",a=i.classPrefix;for(t=0,n=r.length;n>t;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+t+'">'+r[t].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),i(vt,[gt,Ke],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var n=this,i=t.activeEditor;return i.settings.elementpath!==!1&&(n.on("select",function(e){i.focus(),i.selection.select(this.row()[e.index].element),i.nodeChanged()}),i.on("nodeChange",function(t){for(var r=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}n.row(r)})),n._super()}})}),i(bt,[me],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),i(yt,[me,bt,p],function(e,t,n){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&(r=new t(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults)),r.type="formitem",i.aria("labelledby",i._id+"-l"),"undefined"==typeof i.settings.flex&&(i.settings.flex=1),e.replace(i,r),r.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,i,r=0,o=[];if(t.settings.labelGapCalc!==!1)for(i="children"==t.settings.labelGapCalc?t.find("formitem"):t.items(),i.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}})}),i(xt,[yt],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),i(wt,[ut,p],function(e,t){return e.extend({init:function(e){var n,i,r,o=this,a=tinymce.activeEditor,s=a.settings;e.spellcheck=!1,r=s.file_picker_types||s.file_browser_callback_types,r&&(r=t.makeMap(r,/[, ]/)),(!r||r[e.filetype])&&(i=s.file_picker_callback,!i||r&&!r[e.filetype]?(i=s.file_browser_callback,!i||r&&!r[e.filetype]||(n=function(){i(o.getEl("inp").id,o.value(),e.filetype,window)})):n=function(){var n=o.fire("beforecall").meta;n=t.extend({filetype:e.filetype},n),i.call(a,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),n)}),n&&(e.icon="browse",e.onaction=n),o._super(e)}})}),i(_t,[at],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),i(kt,[at],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A,E,M,P,N,R,I,O,L,j,z,B=[],F=Math.max,H=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,a=e.settings,h=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,("row-reversed"==h||"column-reverse"==h)&&(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?(S="y",k="h",C="minH",T="maxH",A="innerH",D="top",E="deltaH",M="contentH",O="left",R="w",P="x",N="innerW",I="minW",L="right",j="deltaW",z="contentW"):(S="x",k="w",C="minW",T="maxW",A="innerW",D="left",E="deltaW",M="contentW",O="top",R="h",P="y",N="innerH",I="minH",L="bottom",j="deltaH",z="contentH"),d=r[A]-o[D]-o[D],_=u=0,t=0,n=i.length;n>t;t++)f=i[t],p=f.layoutRect(),m=f.settings,g=m.flex,d-=n-1>t?c:0,g>0&&(u+=g,p[T]&&B.push(f),p.flex=g),d-=p[C],v=o[O]+p[I]+o[L],v>_&&(_=v);if(x={},0>d?x[C]=r[C]-d+r[E]:x[C]=r[A]-d+r[E],x[I]=_+r[j],x[M]=r[A]-d,x[z]=_,x.minW=H(x.minW,r.maxW),x.minH=H(x.minH,r.maxH),x.minW=F(x.minW,r.startMinWidth),x.minH=F(x.minH,r.startMinHeight),!r.autoResize||x.minW==r.minW&&x.minH==r.minH){for(y=d/u,t=0,n=B.length;n>t;t++)f=B[t],p=f.layoutRect(),b=p[T],v=p[C]+p.flex*y,v>b?(d-=p[T]-p[C],u-=p.flex,p.flex=0,p.maxFlexSize=b):p.maxFlexSize=0;for(y=d/u,w=o[D],x={},0===u&&("end"==l?w=d+o[D]:"center"==l?(w=Math.round(r[A]/2-(r[A]-d)/2)+o[D],0>w&&(w=o[D])):"justify"==l&&(w=o[D],c=Math.floor(d/(i.length-1)))),x[P]=o[O],t=0,n=i.length;n>t;t++)f=i[t],p=f.layoutRect(),v=p.maxFlexSize||p[C],"center"===s?x[P]=Math.round(r[N]/2-p[R]/2):"stretch"===s?(x[R]=F(p[I]||0,r[N]-o[O]-o[L]),x[P]=o[O]):"end"===s&&(x[P]=r[N]-p[R]-o.top),p.flex>0&&(v+=p.flex*y),x[k]=v,x[S]=w,f.layoutRect(x),f.recalc&&f.recalc(),w+=v+c}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var q=e.parent();q&&(q._lastRect=null,q.recalc())}}})}),i(Ct,[ot],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),i(St,[he,Te,we,p,Ke,h],function(e,t,n,i,r,o){function a(e){function t(t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,a=null;s(r.parents,function(e){return s(t,function(t){return n?o.matchNode(e,n,{value:t.value})&&(a=t.value):o.matchNode(e,t.value)&&(a=t.value),a?!1:void 0}),a?!1:void 0}),i.value(a)})}}function i(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function r(){function t(e){var n=[];return e?(s(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=t(e.items);else{var a=e.format||"custom"+i++;e.format||(e.name=a,r.push(e)),o.format=a,o.cmd=e.cmd}n.push(o)}),n):void 0}function n(){var n;return n=t(e.settings.style_formats_merge?e.settings.style_formats?o.concat(e.settings.style_formats):o:e.settings.style_formats||o)}var i=0,r=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){s(r,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:n(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?e.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,i;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),i=t.settings.cmd,i&&t.active(e.queryCommandState(i))})},onclick:function(){this.settings.format&&c(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function o(t){return function(){var n=this;e.formatter?e.formatter.formatChanged(t,function(e){n.active(e)}):e.on("init",function(){e.formatter.formatChanged(t,function(e){n.active(e)})})}}function a(t){return function(){function n(){return e.undoManager?e.undoManager[t]():!1}var i=this;t="redo"==t?"hasRedo":"hasUndo",i.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(e.readonly||!n())})}}function l(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function c(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var u;u=r(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:o(n),onclick:function(){c(n)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),s({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:o(n)})}),e.addButton("undo",{tooltip:"Undo",onPostRender:a("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:a("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:a("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:a("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:l,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),s({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){n.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:u}),e.addButton("formatselect",function(){var n=[],r=i(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return s(r,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:c,onPostRender:t(n)}}),e.addButton("fontselect",function(){var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=i(e.settings.font_formats||n);return s(o,function(e){r.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:t(r,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var n=[],i="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=e.settings.fontsize_formats||i;return s(r.split(" "),function(e){var t=e,i=e,r=e.split("=");r.length>1&&(t=r[0],i=r[1]),n.push({text:t,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:t(n,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:u})}var s=i.each;r.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),a(t.editor)}),e.translate=function(e){return r.translate(e)},t.tooltips=!o.iOS}),i(Tt,[at],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A,E,M=[],P=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,g=e.paddingBox,A="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(d=0;i>d;d++)M.push(0);for(h=0;n>h;h++)P.push(0);for(h=0;n>h;h++)for(d=0;i>d&&(u=r[h*i+d]);d++)c=u.layoutRect(),C=c.minW,S=c.minH,M[d]=C>M[d]?C:M[d],P[h]=S>P[h]?S:P[h];for(T=o.innerW-g.left-g.right,_=0,d=0;i>d;d++)_+=M[d]+(d>0?b:0),T-=(d>0?b:0)+M[d];for(D=o.innerH-g.top-g.bottom,k=0,h=0;n>h;h++)k+=P[h]+(h>0?y:0),D-=(h>0?y:0)+P[h];if(_+=g.left+g.right,k+=g.top+g.bottom,l={},l.minW=_+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var N;N="start"==t.packV?0:D>0?Math.floor(D/n):0;var R=0,I=t.flexWidths;if(I)for(d=0;d<I.length;d++)R+=I[d];else R=i;var O=T/R;for(d=0;i>d;d++)M[d]+=I?I[d]*O:O;for(p=g.top,h=0;n>h;h++){for(f=g.left,s=P[h]+N,d=0;i>d&&(E=A?h*i+i-1-d:h*i+d,u=r[E]);d++)m=u.settings,c=u.layoutRect(),a=Math.max(M[d],c.startMinWidth),c.x=f,c.y=p,v=m.alignH||(x?x[d]||x[0]:null),"center"==v?c.x=f+a/2-c.w/2:"right"==v?c.x=f+a-c.w:"stretch"==v&&(c.w=a),v=m.alignV||(w?w[d]||w[0]:null),"center"==v?c.y=p+s/2-c.h/2:"bottom"==v?c.y=p+s-c.h:"stretch"==v&&(c.h=s),u.layoutRect(c),f+=a+b,u.recalc&&u.recalc();p+=s+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}})}),i(Dt,[Te,c],function(e,t){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,n&&n()):t.setTimeout(function(){i.html(e)}),this}})}),i(At,[Te,le],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var i=t.getSize(e.getEl());i.width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e.state.get("text"))+"</label>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value))}),e._super()}})}),i(Et,[me],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),i(Mt,[Et],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),i(Pt,[st,fe,Mt],function(e,t,n){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var r=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(){var e,n=this;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(e=n.state.get("menu")||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",e.renderTo?n.menu=e.parent(n).show().renderTo():n.menu=t.create(e).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),void n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,i=t._id,r=t.classPrefix,o=t.settings.icon,a=t.state.get("text"),s="";return e=t.settings.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",a&&(t.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+t.encode(a)+"</span>"),o=t.settings.icon?r+"ico "+r+"i-"+o:"",t.aria("role",t.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.aria&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,o=e.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i(Nt,[Te,fe,h],function(e,t,n){
return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),("-"===t||"|"===t)&&(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,n=this,i=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),i.menu){e=n.menu,e?e.show():(e=i.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.settings.itemDefaults&&(e.itemDefaults=r.settings.itemDefaults),e=n.menu=t.create(e).parent(n).renderTo(),e.reflow(),e.on("cancel",function(t){t.stopPropagation(),n.focus(),e.hide()}),e.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(t){t.control===e&&n.classes.remove("selected")}),e.submenu=!0),e._parentMenu=r,e.classes.add("menu-sub");var o=e.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(n.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,i,r={};for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)i=r[e[t].toLowerCase()],i&&(e[t]=i);return e.join("+")}var t=this,i=t._id,r=t.settings,o=t.classPrefix,a=t.encode(t.state.get("text")),s=t.settings.icon,l="",c=r.shortcut;return s&&t.parent().classes.add("menu-has-icons"),r.image&&(l=" style=\"background-image: url('"+r.image+"')\""),c&&(c=e(c)),s=o+"ico "+o+"i-"+(t.settings.icon||"none"),'<div id="'+i+'" class="'+t.classes+'" tabindex="-1">'+("-"!==a?'<i class="'+s+'"'+l+"></i>\xa0":"")+("-"!==a?'<span id="'+i+'-text" class="'+o+'text">'+a+"</span>":"")+(c?'<div id="'+i+'-shortcut" class="'+o+'menu-shortcut">'+c+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&i.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),e.parent().hideAll()))}),e._super(),e},active:function(e){return"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i(Rt,[we,Nt,p],function(e,t,n){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var i=e.items,r=i.length;r--;)i[r]=n.extend({},e.itemDefaults,i[r]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;return n.icon||n.image||n.selectable?(e._hasIcons=!0,!1):void 0}),e._super()}})}),i(It,[Pt,Rt],function(e,t){return e.extend({init:function(e){function t(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||e.value===n[o].value)return r=r||n[o].text,a.state.set("value",n[o].value),!0;if(n[o].menu&&t(n[o].menu))return!0}}var n,i,r,o,a=this;a._super(e),e=a.settings,a._values=n=e.values,n&&("undefined"!=typeof e.value&&t(n),!i&&n.length>0&&(r=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",e.text||r),a.classes.add("listbox"),a.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):a.value(t.control.value()),o=n})},bindStates:function(){function e(e,n){e instanceof t&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===n)})}function n(e,t){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(i=n(e[r].menu,t)))return i}}var i=this;return i.on("show",function(t){e(t.control,i.value())}),i.state.on("change:value",function(e){var t=n(i.state.get("menu"),e.value);t?i.text(t.text):i.text(i.settings.text)}),i._super()}})}),i(Ot,[ct],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),i(Lt,[Te,ge],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),i(jt,[Te],function(e){function t(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options)},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,n=this,i="";return e=t(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(n){e.getEl().innerHTML=t(n.value)}),e._super()}})}),i(zt,[Te,ge,le],function(e,t,n){function i(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}function r(e,t){var i,r,o,a,s;"v"==e.settings.orientation?(a="top",o="height",r="h"):(a="left",o="width",r="w"),i=(e.layoutRect()[r]||100)-n.getSize(e.getEl("handle"))[o],s=i*((t-e._minValue)/(e._maxValue-e._minValue))+"px",e.getEl("handle").style[a]=s,e.getEl("handle").style.height=e.layoutRect().h+"px"}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,r,o,a,s,l,c,u,d,h,f=this,p=0;a=f._minValue,s=f._maxValue,o=f.value(),"v"==f.settings.orientation?(c="screenY",u="top",d="height",h="h"):(c="screenX",u="left",d="width",h="w"),f._super(),f._dragHelper=new t(f._id,{handle:f._id+"-handle",start:function(t){e=t[c],r=parseInt(f.getEl("handle").style[u],10),l=(f.layoutRect()[h]||100)-n.getSize(f.getEl("handle"))[d],f.fire("dragstart",{value:o})},drag:function(t){var n=t[c]-e,d=f.getEl("handle");p=i(r+n,0,l),d.style[u]=p+"px",o=a+p/l*(s-a),f.value(o),f.tooltip().text(""+f.settings.previewFilter(o)).show().moveRel(d,"bc tc"),f.fire("drag",{value:o})},stop:function(){f.tooltip().hide(),f.fire("dragend",{value:o})}})},repaint:function(){this._super(),r(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){r(e,t.value)}),e._super()}})}),i(Bt,[Te],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),i(Ft,[Pt,le,m],function(e,t,n){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),e=o.firstChild,i=o.lastChild,n(e).css({width:a.w-t.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),r},activeMenu:function(e){var t=this;n(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.state.get("icon"),o=t.state.get("text"),a="";return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?"\xa0":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control==this)for(;n;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==n.nodeName&&-1==n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}})}),i(Ht,[Ct],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),i(qt,[be,m,le],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,t,i,r=this;t=n.getSize(r.getEl("head")).width,t=0>t?0:t,i=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),i=Math.max(i,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=i,e.layoutRect({x:0,y:0,w:t,h:i})});var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=i+o,e=r._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),i(Wt,[Te],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13==e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){return e.toJSON?(n=e,!1):void 0}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=this,a=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),n=o.borderBox,i=n.left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e=this,t=e._id,n=e.settings,i=e.encode(e.state.get("value"),!1),r="";return"spellcheck"in n&&(r+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(r+=' maxlength="'+n.maxLength+'"'),n.size&&(r+=' size="'+n.size+'"'),n.subtype&&(r+=' type="'+n.subtype+'"'),e.disabled()&&(r+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+r+">"+i+"</textarea>":'<input id="'+t+'" class="'+e.classes+'" value="'+i+'" hidefocus="1"'+r+" />"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),i(Vt,[m,he,c],function(e,t,n){return function(i,r){var o,a=this,s=t.classPrefix;a.show=function(t,l){return a.hide(),o=!0,n.setTimeout(function(){o&&(e(i).append('<div class="'+s+"throbber"+(r?" "+s+"throbber-inline":"")+'"></div>'),l&&l())},t),a},a.hide=function(){var e=i.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,a}}}),o([s,l,c,u,d,h,p,m,g,v,y,w,_,k,D,E,M,P,N,R,I,O,j,z,U,Y,G,Z,J,ee,te,ne,re,ae,se,de,he,fe,pe,me,ge,ve,be,ye,xe,we,_e,ke,Ce,Se,Te,De,Ae,Ee,Ne,Ie,Xe,Ge,Ze,Ke,Je,et,tt,nt,it,rt,ot,at,st,lt,ct,ut,dt,ht,ft,pt,mt,gt,vt,bt,yt,xt,wt,_t,kt,Ct,St,Tt,Dt,At,Et,Mt,Pt,Nt,Rt,It,Ot,Lt,jt,zt,Bt,Ft,Ht,qt,Wt,Vt])}(this),tinymce.PluginManager.add("advlist",function(e){function t(e,t){var n=[];return tinymce.each(t.split(/[ ,]/),function(e){n.push({text:e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()}),data:"default"==e?"":e})}),n}function n(t,n){e.undoManager.transact(function(){var i,r=e.dom,o=e.selection;i=r.getParent(o.getNode(),"ol,ul"),i&&i.nodeName==t&&n!==!1||e.execCommand("UL"==t?"InsertUnorderedList":"InsertOrderedList"),n=n===!1?a[t]:n,a[t]=n,i=r.getParent(o.getNode(),"ol,ul"),i&&(r.setStyle(i,"listStyleType",n?n:null),i.removeAttribute("data-mce-style")),e.focus()})}function i(t){var n=e.dom.getStyle(e.dom.getParent(e.selection.getNode(),"ol,ul"),"listStyleType")||"";t.control.items().each(function(e){e.active(e.settings.data===n)})}var r,o,a={};r=t("OL",e.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman")),o=t("UL",e.getParam("advlist_bullet_styles","default,circle,disc,square")),e.addButton("numlist",{type:"splitbutton",tooltip:"Numbered list",menu:r,onshow:i,onselect:function(e){n("OL",e.control.settings.data)},onclick:function(){n("OL",!1)}}),e.addButton("bullist",{type:"splitbutton",tooltip:"Bullet list",menu:o,onshow:i,onselect:function(e){n("UL",e.control.settings.data)},onclick:function(){n("UL",!1)}})}),tinymce.PluginManager.add("anchor",function(e){function t(){var t=e.selection.getNode(),n="",i="A"==t.tagName&&""===e.dom.getAttrib(t,"href");i&&(n=t.name||t.id||""),e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:n},onsubmit:function(n){var r=n.data.name;i?t.id=r:(e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:r})))}})}e.addCommand("mceAnchor",t),e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:t,stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:t})}),tinymce.PluginManager.add("autolink",function(e){function t(e){r(e,-1,"(",!0)}function n(e){r(e,0,"",!0)}function i(e){r(e,-1,"",!1)}function r(e,t,n){function i(e,t){if(0>t&&(t=0),3==e.nodeType){var n=e.data.length;t>n&&(t=n)}return t}function r(e,t){1!=e.nodeType||e.hasChildNodes()?a.setStart(e,i(e,t)):a.setStartBefore(e)}function o(e,t){1!=e.nodeType||e.hasChildNodes()?a.setEnd(e,i(e,t)):a.setEndAfter(e)}var a,s,l,c,u,d,h,f,p,m;if("A"!=e.selection.getNode().tagName){if(a=e.selection.getRng(!0).cloneRange(),a.startOffset<5){if(f=a.endContainer.previousSibling,!f){if(!a.endContainer.firstChild||!a.endContainer.firstChild.nextSibling)return;f=a.endContainer.firstChild.nextSibling}if(p=f.length,r(f,p),o(f,p),a.endOffset<5)return;s=a.endOffset,c=f}else{if(c=a.endContainer,3!=c.nodeType&&c.firstChild){for(;3!=c.nodeType&&c.firstChild;)c=c.firstChild;3==c.nodeType&&(r(c,0),o(c,c.nodeValue.length))}s=1==a.endOffset?2:a.endOffset-1-t}l=s;do r(c,s>=2?s-2:0),o(c,s>=1?s-1:0),s-=1,m=a.toString();while(" "!=m&&""!==m&&160!=m.charCodeAt(0)&&s-2>=0&&m!=n);a.toString()==n||160==a.toString().charCodeAt(0)?(r(c,s),o(c,l),s+=1):0===a.startOffset?(r(c,0),o(c,l)):(r(c,s),o(c,l)),d=a.toString(),"."==d.charAt(d.length-1)&&o(c,l-1),d=a.toString(),h=d.match(/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i),h&&("www."==h[1]?h[1]="http://www.":/@$/.test(h[1])&&!/^mailto:/.test(h[1])&&(h[1]="mailto:"+h[1]),u=e.selection.getBookmark(),e.selection.setRng(a),e.execCommand("createlink",!1,h[1]+h[2]),e.selection.moveToBookmark(u),e.nodeChanged())}}var o;return e.on("keydown",function(t){return 13==t.keyCode?i(e):void 0}),tinymce.Env.ie?void e.on("focus",function(){if(!o){o=!0;try{e.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}}):(e.on("keypress",function(n){return 41==n.keyCode?t(e):void 0}),void e.on("keyup",function(t){return 32==t.keyCode?n(e):void 0}))}),tinymce.PluginManager.add("autoresize",function(e){function t(){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}function n(i){var a,s,l,c,u,d,h,f,p,m,g,v,b=tinymce.DOM;if(s=e.getDoc()){if(l=s.body,c=s.documentElement,u=r.autoresize_min_height,!l||i&&"setcontent"===i.type&&i.initial||t())return void(l&&c&&(l.style.overflowY="auto",c.style.overflowY="auto"));h=e.dom.getStyle(l,"margin-top",!0),f=e.dom.getStyle(l,"margin-bottom",!0),p=e.dom.getStyle(l,"padding-top",!0),m=e.dom.getStyle(l,"padding-bottom",!0),g=e.dom.getStyle(l,"border-top-width",!0),v=e.dom.getStyle(l,"border-bottom-width",!0),d=l.offsetHeight+parseInt(h,10)+parseInt(f,10)+parseInt(p,10)+parseInt(m,10)+parseInt(g,10)+parseInt(v,10),(isNaN(d)||0>=d)&&(d=tinymce.Env.ie?l.scrollHeight:tinymce.Env.webkit&&0===l.clientHeight?0:l.offsetHeight),d>r.autoresize_min_height&&(u=d),r.autoresize_max_height&&d>r.autoresize_max_height?(u=r.autoresize_max_height,l.style.overflowY="auto",c.style.overflowY="auto"):(l.style.overflowY="hidden",c.style.overflowY="hidden",l.scrollTop=0),u!==o&&(a=u-o,b.setStyle(e.iframeElement,"height",u+"px"),o=u,tinymce.isWebKit&&0>a&&n(i))}}function i(t,r,o){tinymce.util.Delay.setEditorTimeout(e,function(){n({}),t--?i(t,r,o):o&&o()},r)}var r=e.settings,o=0;e.settings.inline||(r.autoresize_min_height=parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10),r.autoresize_max_height=parseInt(e.getParam("autoresize_max_height",0),10),e.on("init",function(){var t,n;t=e.getParam("autoresize_overflow_padding",1),n=e.getParam("autoresize_bottom_margin",50),t!==!1&&e.dom.setStyles(e.getBody(),{paddingLeft:t,paddingRight:t}),n!==!1&&e.dom.setStyles(e.getBody(),{paddingBottom:n})}),e.on("nodechange setcontent keyup FullscreenStateChanged",n),e.getParam("autoresize_on_init",!0)&&e.on("init",function(){i(20,100,function(){i(5,1e3)})}),e.addCommand("mceAutoResize",n))}),tinymce._beforeUnloadHandler=function(){var e;return tinymce.each(tinymce.editors,function(t){t.plugins.autosave&&t.plugins.autosave.storeDraft(),!e&&t.isDirty()&&t.getParam("autosave_ask_before_unload",!0)&&(e=t.translate("You have unsaved changes are you sure you want to navigate away?"))}),e},tinymce.PluginManager.add("autosave",function(e){function t(e,t){var n={s:1e3,m:6e4};return e=/^(\d+)([ms]?)$/.exec(""+(e||t)),(e[2]?n[e[2]]:1)*parseInt(e,10)}function n(){var e=parseInt(f.getItem(u+"time"),10)||0;return(new Date).getTime()-e>h.autosave_retention?(i(!1),!1):!0}function i(t){f.removeItem(u+"draft"),f.removeItem(u+"time"),t!==!1&&e.fire("RemoveDraft")}function r(){!c()&&e.isDirty()&&(f.setItem(u+"draft",e.getContent({format:"raw",no_events:!0})),f.setItem(u+"time",(new Date).getTime()),e.fire("StoreDraft"))}function o(){n()&&(e.setContent(f.getItem(u+"draft"),{format:"raw"}),e.fire("RestoreDraft"))}function a(){d||(setInterval(function(){e.removed||r()},h.autosave_interval),d=!0)}function s(){var t=this;t.disabled(!n()),e.on("StoreDraft RestoreDraft RemoveDraft",function(){t.disabled(!n())}),a()}function l(){e.undoManager.beforeChange(),o(),i(),e.undoManager.add()}function c(t){var n=e.settings.forced_root_block;return t=tinymce.trim("undefined"==typeof t?e.getBody().innerHTML:t),""===t||new RegExp("^<"+n+"[^>]*>((\xa0|&nbsp;|[ 	]|<br[^>]*>)+?|)</"+n+">|<br>$","i").test(t)}var u,d,h=e.settings,f=tinymce.util.LocalStorage;u=h.autosave_prefix||"tinymce-autosave-{path}{query}-{id}-",u=u.replace(/\{path\}/g,document.location.pathname),u=u.replace(/\{query\}/g,document.location.search),u=u.replace(/\{id\}/g,e.id),h.autosave_interval=t(h.autosave_interval,"30s"),h.autosave_retention=t(h.autosave_retention,"20m"),e.addButton("restoredraft",{title:"Restore last draft",onclick:l,onPostRender:s}),e.addMenuItem("restoredraft",{text:"Restore last draft",onclick:l,onPostRender:s,context:"file"}),e.settings.autosave_restore_when_empty!==!1&&(e.on("init",function(){n()&&c()&&o()}),e.on("saveContent",function(){i()})),window.onbeforeunload=tinymce._beforeUnloadHandler,this.hasDraft=n,this.storeDraft=r,this.restoreDraft=o,this.removeDraft=i,this.isEmpty=c}),!function(){tinymce.create("tinymce.plugins.BBCodePlugin",{init:function(e){var t=this,n=e.getParam("bbcode_dialect","punbb").toLowerCase();e.on("beforeSetContent",function(e){e.content=t["_"+n+"_bbcode2html"](e.content)}),e.on("postProcess",function(e){e.set&&(e.content=t["_"+n+"_bbcode2html"](e.content)),e.get&&(e.content=t["_"+n+"_html2bbcode"](e.content))})},getInfo:function(){return{longname:"BBCode Plugin",author:"Ephox Corp",authorurl:"http://www.tinymce.com",infourl:"http://www.tinymce.com/wiki.php/Plugin:bbcode"}},_punbb_html2bbcode:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),t(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),t(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),t(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),t(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),t(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),t(/<font>(.*?)<\/font>/gi,"$1"),t(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),t(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),t(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),t(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),t(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),t(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),t(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),t(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),t(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),t(/<\/(strong|b)>/gi,"[/b]"),t(/<(strong|b)>/gi,"[b]"),t(/<\/(em|i)>/gi,"[/i]"),t(/<(em|i)>/gi,"[i]"),t(/<\/u>/gi,"[/u]"),t(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),t(/<u>/gi,"[u]"),t(/<blockquote[^>]*>/gi,"[quote]"),t(/<\/blockquote>/gi,"[/quote]"),t(/<br \/>/gi,"\n"),t(/<br\/>/gi,"\n"),t(/<br>/gi,"\n"),t(/<p>/gi,""),t(/<\/p>/gi,"\n"),t(/&nbsp;|\u00a0/gi," "),t(/&quot;/gi,'"'),t(/&lt;/gi,"<"),t(/&gt;/gi,">"),t(/&amp;/gi,"&"),e},_punbb_bbcode2html:function(e){function t(t,n){e=e.replace(t,n)}return e=tinymce.trim(e),t(/\n/gi,"<br />"),t(/\[b\]/gi,"<strong>"),t(/\[\/b\]/gi,"</strong>"),t(/\[i\]/gi,"<em>"),t(/\[\/i\]/gi,"</em>"),t(/\[u\]/gi,"<u>"),t(/\[\/u\]/gi,"</u>"),t(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),t(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),t(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),t(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),t(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),t(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),e}}),tinymce.PluginManager.add("bbcode",tinymce.plugins.BBCodePlugin)}(),tinymce.PluginManager.add("charmap",function(e){function t(){function t(e){for(;e;){if("TD"==e.nodeName)return e;e=e.parentNode}}var i,r,o,a;i='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>';var s=25,l=Math.ceil(n.length/s);for(o=0;l>o;o++){for(i+="<tr>",r=0;s>r;r++){var c=o*s+r;if(c<n.length){var u=n[c];i+='<td title="'+u[1]+'"><div tabindex="-1" title="'+u[1]+'" role="button">'+(u?String.fromCharCode(parseInt(u[0],10)):"&nbsp;")+"</div></td>"}else i+="<td />"}i+="</tr>"}i+="</tbody></table>";var d={type:"container",html:i,onclick:function(n){var i=n.target;/^(TD|DIV)$/.test(i.nodeName)&&t(i).firstChild&&(e.execCommand("mceInsertContent",!1,tinymce.trim(i.innerText||i.textContent)),n.ctrlKey||a.close())},onmouseover:function(e){var n=t(e.target);n&&n.firstChild?(a.find("#preview").text(n.firstChild.firstChild.data),a.find("#previewTitle").text(n.title)):(a.find("#preview").text(" "),a.find("#previewTitle").text(" "))}};a=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[d,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"label",name:"previewTitle",text:" ",style:"text-align: center",border:1,minWidth:140,minHeight:80}]}],buttons:[{text:"Close",onclick:function(){a.close()}}]})}var n=[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["221","Y - acute"],["376","Y - diaeresis"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]];
e.addCommand("mceShowCharmap",t),e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})}),tinymce.PluginManager.add("code",function(e){function t(){var t=e.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e.getParam("code_dialog_width",600),minHeight:e.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(t){e.focus(),e.undoManager.transact(function(){e.setContent(t.data.code)}),e.selection.setCursorLocation(),e.nodeChanged()}});t.find("#code").value(e.getContent({source_view:!0}))}e.addCommand("mceCodeEditor",t),e.addButton("code",{icon:"code",tooltip:"Source code",onclick:t}),e.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:t})}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=e,o=n[i],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}var a={};i("tinymce/codesampleplugin/Prism",[],function(){var e={},t="undefined"!=typeof e?e:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},n=function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,n=t.Prism={util:{encode:function(e){return e instanceof i?new i(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=n.util.clone(e[r]));return i;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var i=n.util.clone(n.languages[e]);for(var r in t)i[r]=t[r];return i},insertBefore:function(e,t,i,r){r=r||n.languages;var o=r[e];if(2==arguments.length){i=arguments[1];for(var a in i)i.hasOwnProperty(a)&&(o[a]=i[a]);return o}var s={};for(var l in o)if(o.hasOwnProperty(l)){if(l==t)for(var a in i)i.hasOwnProperty(a)&&(s[a]=i[a]);s[l]=o[l]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=s)}),r[e]=s},DFS:function(e,t,i){for(var r in e)e.hasOwnProperty(r)&&(t.call(e,r,e[r],i||r),"Object"===n.util.type(e[r])?n.languages.DFS(e[r],t):"Array"===n.util.type(e[r])&&n.languages.DFS(e[r],t,r))}},plugins:{},highlightAll:function(e,t){for(var i,r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),o=0;i=r[o++];)n.highlightElement(i,e===!0,t)},highlightElement:function(i,r,o){for(var a,s,l=i;l&&!e.test(l.className);)l=l.parentNode;l&&(a=(l.className.match(e)||[,""])[1],s=n.languages[a]),i.className=i.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,l=i.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(e,"").replace(/\s+/g," ")+" language-"+a);var c=i.textContent,u={element:i,language:a,grammar:s,code:c};if(!c||!s)return void n.hooks.run("complete",u);if(n.hooks.run("before-highlight",u),r&&t.Worker){var d=new Worker(n.filename);d.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},d.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o&&o.call(i),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var o=n.tokenize(e,t);return i.stringify(n.util.encode(o),r)},tokenize:function(e,t,i){var r=n.Token,o=[e],a=t.rest;if(a){for(var s in a)t[s]=a[s];delete t.rest}e:for(var s in t)if(t.hasOwnProperty(s)&&t[s]){var l=t[s];l="Array"===n.util.type(l)?l:[l];for(var c=0;c<l.length;++c){var u=l[c],d=u.inside,h=!!u.lookbehind,f=0,p=u.alias;u=u.pattern||u;for(var m=0;m<o.length;m++){var g=o[m];if(o.length>e.length)break e;if(!(g instanceof r)){u.lastIndex=0;var v=u.exec(g);if(v){h&&(f=v[1].length);var b=v.index-1+f,v=v[0].slice(f),y=v.length,x=b+y,w=g.slice(0,b+1),_=g.slice(x+1),k=[m,1];w&&k.push(w);var C=new r(s,d?n.tokenize(v,d):v,p);k.push(C),_&&k.push(_),Array.prototype.splice.apply(o,k)}}}}}return o},hooks:{all:{},add:function(e,t){var i=n.hooks.all;i[e]=i[e]||[],i[e].push(t)},run:function(e,t){var i=n.hooks.all[e];if(i&&i.length)for(var r,o=0;r=i[o++];)r(t)}}},i=n.Token=function(e,t,n){this.type=e,this.content=t,this.alias=n};return i.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return i.stringify(n,t,e)}).join("");var o={type:e.type,content:i.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==o.type&&(o.attributes.spellcheck="true"),e.alias){var a="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(o.classes,a)}n.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=(s?" ":"")+l+'="'+(o.attributes[l]||"")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'" '+s+">"+o.content+"</"+o.tag+">"},t.document?void 0:t.addEventListener?(t.addEventListener("message",function(e){var i=JSON.parse(e.data),r=i.language,o=i.code,a=i.immediateClose;t.postMessage(n.highlight(o,n.languages[r],r)),a&&t.close()},!1),t.Prism):t.Prism}();return"undefined"!=typeof module&&module.exports&&(module.exports=n),"undefined"!=typeof global&&(global.Prism=n),n.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),n.languages.xml=n.languages.markup,n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,"function":/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},n.languages.css.atrule.inside.rest=n.util.clone(n.languages.css),n.languages.markup&&(n.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:n.languages.markup.tag.inside},rest:n.languages.css},alias:"language-css"}}),n.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:n.languages.css}},alias:"language-css"}},n.languages.markup.tag)),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,"boolean":/\b(true|false)\b/,"function":/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,"function":/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),n.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),n.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:n.languages.markup.tag.inside},rest:n.languages.javascript},alias:"language-javascript"}}),n.languages.js=n.languages.javascript,n.languages.c=n.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),n.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete n.languages.c["class-name"],delete n.languages.c["boolean"],n.languages.csharp=n.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),n.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),n.languages.cpp=n.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,"boolean":/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),n.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),n.languages.java=n.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),n.languages.php=n.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),n.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),n.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,"package":{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),n.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),n.languages.markup&&(n.hooks.add("before-highlight",function(e){"php"===e.language&&(e.tokenStack=[],e.backupCode=e.code,e.code=e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(t){return e.tokenStack.push(t),"{{{PHP"+e.tokenStack.length+"}}}"}))}),n.hooks.add("before-insert",function(e){"php"===e.language&&(e.code=e.backupCode,delete e.backupCode)}),n.hooks.add("after-highlight",function(e){if("php"===e.language){for(var t,i=0;t=e.tokenStack[i];i++)e.highlightedCode=e.highlightedCode.replace("{{{PHP"+(i+1)+"}}}",n.highlight(t,e.grammar,"php").replace(/\$/g,"$$$$"));e.element.innerHTML=e.highlightedCode}}),n.hooks.add("wrap",function(e){"php"===e.language&&"markup"===e.type&&(e.content=e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),n.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:n.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),n.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,"function":{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,"boolean":/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function(e){e.languages.ruby=e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var t={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:e.util.clone(e.languages.ruby)}};e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:t}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:t}},{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:t}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:t}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:t}}]}(n),n}),i("tinymce/codesampleplugin/Utils",[],function(){function e(e){return e&&"PRE"==e.nodeName&&-1!==e.className.indexOf("language-")}function t(e){return function(t,n){return e(n)}}return{isCodeSample:e,trimArg:t}}),i("tinymce/codesampleplugin/Dialog",["tinymce/dom/DOMUtils","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Prism"],function(e,t,n){function i(e,t,i){e.undoManager.transact(function(){var o=r(e);i=s.encode(i),o?(e.dom.setAttrib(o,"class","language-"+t),o.innerHTML=i,n.highlightElement(o),e.selection.select(o)):(e.insertContent('<pre id="__new" class="language-'+t+'">'+i+"</pre>"),e.selection.select(e.$("#__new").removeAttr("id")[0]))})}function r(e){var n=e.selection.getNode();return t.isCodeSample(n)?n:null}function o(e){var t=r(e);return t?t.textContent:""}function a(e){var t,n=r(e);return n?(t=n.className.match(/language-(\w+)/),t?t[1]:""):""}var s=e.DOM,l=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}];return{open:function(e){e.windowManager.open({title:"Insert/Edit code sample",minWidth:Math.min(s.getViewPort().w,800),minHeight:Math.min(s.getViewPort().h,650),layout:"fit",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:a(e),values:l},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:o(e)}],onSubmit:function(t){i(e,t.data.language,t.data.code)}})}}}),i("tinymce/codesampleplugin/Plugin",["tinymce/Env","tinymce/PluginManager","tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Utils"],function(e,t,n,i,r){var o,a=r.trimArg;t.add("codesample",function(t,s){function l(){var e;o||(o=!0,e=t.dom.create("link",{rel:"stylesheet",href:s+"/css/prism.css"}),t.getDoc().getElementsByTagName("head")[0].appendChild(e))}var c=t.$;e.ceFalse&&(t.on("PreProcess",function(e){c("pre[contenteditable=false]",e.node).filter(a(r.isCodeSample)).each(function(e,t){var n=c(t),i=t.textContent;n.attr("class",c.trim(n.attr("class"))),n.removeAttr("contentEditable"),n.empty().append(c("<code></code>").each(function(){this.textContent=i}))})}),t.on("SetContent",function(){var e=c("pre").filter(a(r.isCodeSample)).filter(function(e,t){return"false"!==t.contentEditable});e.length&&t.undoManager.transact(function(){e.each(function(e,i){c(i).find("br").each(function(e,n){n.parentNode.replaceChild(t.getDoc().createTextNode("\n"),n)}),i.contentEditable=!1,i.innerHTML=t.dom.encode(i.textContent),n.highlightElement(i),i.className=c.trim(i.className)})})}),t.addCommand("codesample",function(){i.open(t)}),t.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),t.on("init",l))})}),o(["tinymce/codesampleplugin/Prism","tinymce/codesampleplugin/Utils","tinymce/codesampleplugin/Dialog","tinymce/codesampleplugin/Plugin"])}(this),tinymce.PluginManager.add("colorpicker",function(e){function t(t,n){function i(e){var t=new tinymce.util.Color(e),n=t.toRgb();o.fromJSON({r:n.r,g:n.g,b:n.b,hex:t.toHex().substr(1)}),r(t.toHex())}function r(e){o.find("#preview")[0].getEl().style.background=e}var o=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:n,onchange:function(){var e=this.rgb();o&&(o.find("#r").value(e.r),o.find("#g").value(e.g),o.find("#b").value(e.b),o.find("#hex").value(this.value().substr(1)),r(this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,t,n=o.find("colorpicker")[0];return e=this.name(),t=this.value(),"hex"==e?(t="#"+t,i(t),void n.value(t)):(t={r:o.find("#r").value(),g:o.find("#g").value(),b:o.find("#b").value()},n.value(t),void i(t))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){t("#"+this.toJSON().hex)}});i(n)}e.settings.color_picker_callback||(e.settings.color_picker_callback=t)}),tinymce.PluginManager.add("contextmenu",function(e){var t,n=e.settings.contextmenu_never_use_native;e.on("contextmenu",function(i){var r,o=e.getDoc();if(!i.ctrlKey||n){if(i.preventDefault(),tinymce.Env.mac&&tinymce.Env.webkit&&2==i.button&&o.caretRangeFromPoint&&e.selection.setRng(o.caretRangeFromPoint(i.x,i.y)),r=e.settings.contextmenu||"link image inserttable | cell row column deletetable",t)t.show();else{var a=[];tinymce.each(r.split(/[ ,]/),function(t){var n=e.menuItems[t];"|"==t&&(n={text:t}),n&&(n.shortcut="",a.push(n))});for(var s=0;s<a.length;s++)"|"==a[s].text&&(0===s||s==a.length-1)&&a.splice(s,1);t=new tinymce.ui.Menu({items:a,context:"contextmenu",classes:"contextmenu"}).renderTo(),e.on("remove",function(){t.remove(),t=null})}var l={x:i.pageX,y:i.pageY};e.inline||(l=tinymce.DOM.getPos(e.getContentAreaContainer()),l.x+=i.clientX,l.y+=i.clientY),t.moveTo(l.x,l.y)}})}),tinymce.PluginManager.add("directionality",function(e){function t(t){var n,i=e.dom,r=e.selection.getSelectedBlocks();r.length&&(n=i.getAttrib(r[0],"dir"),tinymce.each(r,function(e){i.getParent(e.parentNode,"*[dir='"+t+"']",i.getRoot())||(n!=t?i.setAttrib(e,"dir",t):i.setAttrib(e,"dir",null))}),e.nodeChanged())}function n(e){var t=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(n){t.push(n+"[dir="+e+"]")}),t.join(",")}e.addCommand("mceDirectionLTR",function(){t("ltr")}),e.addCommand("mceDirectionRTL",function(){t("rtl")}),e.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:n("ltr")}),e.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:n("rtl")})}),tinymce.PluginManager.add("emoticons",function(e,t){function n(){var e;return e='<table role="list" class="mce-grid">',tinymce.each(i,function(n){e+="<tr>",tinymce.each(n,function(n){var i=t+"/img/smiley-"+n+".gif";e+='<td><a href="#" data-mce-url="'+i+'" data-mce-alt="'+n+'" tabindex="-1" role="option" aria-label="'+n+'"><img src="'+i+'" style="width: 18px; height: 18px" role="presentation" /></a></td>'}),e+="</tr>"}),e+="</table>"}var i=[["cool","cry","embarassed","foot-in-mouth"],["frown","innocent","kiss","laughing"],["money-mouth","sealed","smile","surprised"],["tongue-out","undecided","wink","yell"]];e.addButton("emoticons",{type:"panelbutton",panel:{role:"application",autohide:!0,html:n,onclick:function(t){var n=e.dom.getParent(t.target,"a");n&&(e.insertContent('<img src="'+n.getAttribute("data-mce-url")+'" alt="'+n.getAttribute("data-mce-alt")+'" />'),this.hide())}},tooltip:"Emoticons"})}),tinymce.PluginManager.add("fullpage",function(e){function t(){var t=n();e.windowManager.open({title:"Document properties",data:t,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(e){i(tinymce.extend(t,e.data))}})}function n(){function t(e,t){var n=e.attr(t);return n||""}var n,i,o=r(),a={};return a.fontface=e.getParam("fullpage_default_fontface",""),a.fontsize=e.getParam("fullpage_default_fontsize",""),n=o.firstChild,7==n.type&&(a.xml_pi=!0,i=/encoding="([^"]+)"/.exec(n.value),i&&(a.docencoding=i[1])),n=o.getAll("#doctype")[0],n&&(a.doctype="<!DOCTYPE"+n.value+">"),n=o.getAll("title")[0],n&&n.firstChild&&(a.title=n.firstChild.value),u(o.getAll("meta"),function(e){var t,n=e.attr("name"),i=e.attr("http-equiv");n?a[n.toLowerCase()]=e.attr("content"):"Content-Type"==i&&(t=/charset\s*=\s*(.*)\s*/gi.exec(e.attr("content")),t&&(a.docencoding=t[1]))}),n=o.getAll("html")[0],n&&(a.langcode=t(n,"lang")||t(n,"xml:lang")),a.stylesheets=[],tinymce.each(o.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&a.stylesheets.push(e.attr("href"))}),n=o.getAll("body")[0],n&&(a.langdir=t(n,"dir"),a.style=t(n,"style"),a.visited_color=t(n,"vlink"),a.link_color=t(n,"link"),a.active_color=t(n,"alink")),a}function i(t){function n(e,t,n){e.attr(t,n?n:void 0)}function i(e){a.firstChild?a.insert(e,a.firstChild):a.append(e)}var o,a,s,c,h,f=e.dom;o=r(),a=o.getAll("head")[0],a||(c=o.getAll("html")[0],a=new d("head",1),c.firstChild?c.insert(a,c.firstChild,!0):c.append(a)),c=o.firstChild,t.xml_pi?(h='version="1.0"',t.docencoding&&(h+=' encoding="'+t.docencoding+'"'),7!=c.type&&(c=new d("xml",7),o.insert(c,o.firstChild,!0)),c.value=h):c&&7==c.type&&c.remove(),c=o.getAll("#doctype")[0],t.doctype?(c||(c=new d("#doctype",10),t.xml_pi?o.insert(c,o.firstChild):i(c)),c.value=t.doctype.substring(9,t.doctype.length-1)):c&&c.remove(),c=null,u(o.getAll("meta"),function(e){"Content-Type"==e.attr("http-equiv")&&(c=e)}),t.docencoding?(c||(c=new d("meta",1),c.attr("http-equiv","Content-Type"),c.shortEnded=!0,i(c)),c.attr("content","text/html; charset="+t.docencoding)):c&&c.remove(),c=o.getAll("title")[0],t.title?(c?c.empty():(c=new d("title",1),i(c)),c.append(new d("#text",3)).value=t.title):c&&c.remove(),u("keywords,description,author,copyright,robots".split(","),function(e){var n,r,a=o.getAll("meta"),s=t[e];for(n=0;n<a.length;n++)if(r=a[n],r.attr("name")==e)return void(s?r.attr("content",s):r.remove());s&&(c=new d("meta",1),c.attr("name",e),c.attr("content",s),c.shortEnded=!0,i(c))});var p={};tinymce.each(o.getAll("link"),function(e){"stylesheet"==e.attr("rel")&&(p[e.attr("href")]=e)}),tinymce.each(t.stylesheets,function(e){p[e]||(c=new d("link",1),c.attr({rel:"stylesheet",text:"text/css",href:e}),c.shortEnded=!0,i(c)),delete p[e]}),tinymce.each(p,function(e){e.remove()}),c=o.getAll("body")[0],c&&(n(c,"dir",t.langdir),n(c,"style",t.style),n(c,"vlink",t.visited_color),n(c,"link",t.link_color),n(c,"alink",t.active_color),f.setAttribs(e.getBody(),{style:t.style,dir:t.dir,vLink:t.visited_color,link:t.link_color,aLink:t.active_color})),c=o.getAll("html")[0],c&&(n(c,"lang",t.langcode),n(c,"xml:lang",t.langcode)),a.firstChild||a.remove(),s=new tinymce.html.Serializer({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(o),l=s.substring(0,s.indexOf("</body>"))}function r(){return new tinymce.html.DomParser({validate:!1,root_name:"#document"}).parse(l)}function o(t){function n(e){return e.replace(/<\/?[A-Z]+/g,function(e){return e.toLowerCase()})}var i,o,s,d,h=t.content,f="",p=e.dom;if(!t.selection&&!("raw"==t.format&&l||t.source_view&&e.getParam("fullpage_hide_in_source_view"))){0!==h.length||t.source_view||(h=tinymce.trim(l)+"\n"+tinymce.trim(h)+"\n"+tinymce.trim(c)),h=h.replace(/<(\/?)BODY/gi,"<$1body"),i=h.indexOf("<body"),-1!=i?(i=h.indexOf(">",i),l=n(h.substring(0,i+1)),o=h.indexOf("</body",i),-1==o&&(o=h.length),t.content=h.substring(i+1,o),c=n(h.substring(o))):(l=a(),c="\n</body>\n</html>"),s=r(),u(s.getAll("style"),function(e){e.firstChild&&(f+=e.firstChild.value)}),d=s.getAll("body")[0],d&&p.setAttribs(e.getBody(),{style:d.attr("style")||"",dir:d.attr("dir")||"",vLink:d.attr("vlink")||"",link:d.attr("link")||"",aLink:d.attr("alink")||""}),p.remove("fullpage_styles");var m=e.getDoc().getElementsByTagName("head")[0];f&&(p.add(m,"style",{id:"fullpage_styles"},f),d=p.get("fullpage_styles"),d.styleSheet&&(d.styleSheet.cssText=f));var g={};tinymce.each(m.getElementsByTagName("link"),function(e){"stylesheet"==e.rel&&e.getAttribute("data-mce-fullpage")&&(g[e.href]=e)}),tinymce.each(s.getAll("link"),function(e){var t=e.attr("href");g[t]||"stylesheet"!=e.attr("rel")||p.add(m,"link",{rel:"stylesheet",text:"text/css",href:t,"data-mce-fullpage":"1"}),delete g[t]}),tinymce.each(g,function(e){e.parentNode.removeChild(e)})}}function a(){var t,n="",i="";return e.getParam("fullpage_default_xml_pi")&&(n+='<?xml version="1.0" encoding="'+e.getParam("fullpage_default_encoding","ISO-8859-1")+'" ?>\n'),n+=e.getParam("fullpage_default_doctype","<!DOCTYPE html>"),n+="\n<html>\n<head>\n",(t=e.getParam("fullpage_default_title"))&&(n+="<title>"+t+"</title>\n"),(t=e.getParam("fullpage_default_encoding"))&&(n+='<meta http-equiv="Content-Type" content="text/html; charset='+t+'" />\n'),(t=e.getParam("fullpage_default_font_family"))&&(i+="font-family: "+t+";"),(t=e.getParam("fullpage_default_font_size"))&&(i+="font-size: "+t+";"),(t=e.getParam("fullpage_default_text_color"))&&(i+="color: "+t+";"),n+="</head>\n<body"+(i?' style="'+i+'"':"")+">\n"}function s(t){t.selection||t.source_view&&e.getParam("fullpage_hide_in_source_view")||(t.content=tinymce.trim(l)+"\n"+tinymce.trim(t.content)+"\n"+tinymce.trim(c))}var l,c,u=tinymce.each,d=tinymce.html.Node;e.addCommand("mceFullPageProperties",t),e.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),e.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"}),e.on("BeforeSetContent",o),e.on("GetContent",s)}),tinymce.PluginManager.add("fullscreen",function(e){function t(){var e,t,n=window,i=document,r=i.body;return r.offsetWidth&&(e=r.offsetWidth,t=r.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}}function n(){function n(){c.setStyle(h,"height",t().h-(d.clientHeight-h.clientHeight))}var u,d,h,f,p=document.body,m=document.documentElement;l=!l,d=e.getContainer(),u=d.style,h=e.getContentAreaContainer().firstChild,f=h.style,l?(i=f.width,r=f.height,f.width=f.height="100%",a=u.width,s=u.height,u.width=u.height="",c.addClass(p,"mce-fullscreen"),c.addClass(m,"mce-fullscreen"),c.addClass(d,"mce-fullscreen"),c.bind(window,"resize",n),n(),o=n):(f.width=i,f.height=r,a&&(u.width=a),s&&(u.height=s),c.removeClass(p,"mce-fullscreen"),c.removeClass(m,"mce-fullscreen"),c.removeClass(d,"mce-fullscreen"),c.unbind(window,"resize",o)),e.fire("FullscreenStateChanged",{state:l})}var i,r,o,a,s,l=!1,c=tinymce.DOM;return e.settings.inline?void 0:(e.on("init",function(){e.addShortcut("Meta+Alt+F","",n)}),e.on("remove",function(){o&&c.unbind(window,"resize",o);
}),e.addCommand("mceFullScreen",n),e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),e.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:n,onPostRender:function(){var t=this;e.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return l}})}),tinymce.PluginManager.add("hr",function(e){e.addCommand("InsertHorizontalRule",function(){e.execCommand("mceInsertContent",!1,"<hr />")}),e.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),e.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})}),tinymce.PluginManager.add("image",function(e){function t(e,t){function n(e,n){i.parentNode&&i.parentNode.removeChild(i),t({width:e,height:n})}var i=document.createElement("img");i.onload=function(){n(Math.max(i.width,i.clientWidth),Math.max(i.height,i.clientHeight))},i.onerror=function(){n()};var r=i.style;r.visibility="hidden",r.position="fixed",r.bottom=r.left=0,r.width=r.height="auto",document.body.appendChild(i),i.src=e}function n(e,t,n){function i(e,n){return n=n||[],tinymce.each(e,function(e){var r={text:e.text||e.title};e.menu?r.menu=i(e.menu):(r.value=e.value,t(r)),n.push(r)}),n}return i(e,n||[])}function i(t){return function(){var n=e.settings.image_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function r(i){function r(){var e,t,n,i;e=d.find("#width")[0],t=d.find("#height")[0],e&&t&&(n=e.value(),i=t.value(),d.find("#constrain")[0].checked()&&p&&m&&n&&i&&(p!=n?(i=Math.round(n/p*i),isNaN(i)||t.value(i)):(n=Math.round(i/m*n),isNaN(n)||e.value(n))),p=n,m=i)}function o(){function t(t){function n(){t.onload=t.onerror=null,e.selection&&(e.selection.select(t),e.nodeChanged())}t.onload=function(){b.width||b.height||!x||y.setAttribs(t,{width:t.clientWidth,height:t.clientHeight}),n()},t.onerror=n}var n,i;c(),r(),b=tinymce.extend(b,d.toJSON()),b.alt||(b.alt=""),b.title||(b.title=""),""===b.width&&(b.width=null),""===b.height&&(b.height=null),b.style||(b.style=null),b={src:b.src,alt:b.alt,title:b.title,width:b.width,height:b.height,style:b.style,caption:b.caption,"class":b["class"]},e.undoManager.transact(function(){function r(t){return e.schema.getTextBlockElements()[t.nodeName]}if(!b.src)return void(h&&(y.remove(h),e.focus(),e.nodeChanged()));if(""===b.title&&(b.title=null),h?y.setAttribs(h,b):(b.id="__mcenew",e.focus(),e.selection.setContent(y.createHTML("img",b)),h=y.get("__mcenew"),y.setAttrib(h,"id",null)),e.editorUpload.uploadImagesAuto(),b.caption===!1&&y.is(h.parentNode,"figure.image")&&(n=h.parentNode,y.insertAfter(h,n),y.remove(n)),b.caption!==!0)t(h);else if(!y.is(h.parentNode,"figure.image")){i=h,h=h.cloneNode(!0),n=y.create("figure",{"class":"image"}),n.appendChild(h),n.appendChild(y.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable=!1;var o=y.getParent(i,r);o?y.split(o,i,n):y.replace(n,i),e.selection.select(n)}})}function a(e){return e&&(e=e.replace(/px$/,"")),e}function s(n){var i,r,o,a=n.meta||{};g&&g.value(e.convertURL(this.value(),"src")),tinymce.each(a,function(e,t){d.find("#"+t).value(e)}),a.width||a.height||(i=e.convertURL(this.value(),"src"),r=e.settings.image_prepend_url,o=new RegExp("^(?:[a-z]+:)?//","i"),r&&!o.test(i)&&i.substring(0,r.length)!==r&&(i=r+i),this.value(i),t(e.documentBaseURI.toAbsolute(this.value()),function(e){e.width&&e.height&&x&&(p=e.width,m=e.height,d.find("#width").value(p),d.find("#height").value(m))}))}function l(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e}function c(){function t(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e}if(e.settings.image_advtab){var n=d.toJSON(),i=y.parseStyle(n.style);i=l(i),n.vspace&&(i["margin-top"]=i["margin-bottom"]=t(n.vspace)),n.hspace&&(i["margin-left"]=i["margin-right"]=t(n.hspace)),n.border&&(i["border-width"]=t(n.border)),d.find("#style").value(y.serializeStyle(y.parseStyle(y.serializeStyle(i))))}}function u(){if(e.settings.image_advtab){var t=d.toJSON(),n=y.parseStyle(t.style);d.find("#vspace").value(""),d.find("#hspace").value(""),n=l(n),(n["margin-top"]&&n["margin-bottom"]||n["margin-right"]&&n["margin-left"])&&(n["margin-top"]===n["margin-bottom"]?d.find("#vspace").value(a(n["margin-top"])):d.find("#vspace").value(""),n["margin-right"]===n["margin-left"]?d.find("#hspace").value(a(n["margin-right"])):d.find("#hspace").value("")),n["border-width"]&&d.find("#border").value(a(n["border-width"])),d.find("#style").value(y.serializeStyle(y.parseStyle(y.serializeStyle(n))))}}var d,h,f,p,m,g,v,b={},y=e.dom,x=e.settings.image_dimensions!==!1;h=e.selection.getNode(),f=y.getParent(h,"figure.image"),f&&(h=y.select("img",f)[0]),h&&("IMG"!=h.nodeName||h.getAttribute("data-mce-object")||h.getAttribute("data-mce-placeholder"))&&(h=null),h&&(p=y.getAttrib(h,"width"),m=y.getAttrib(h,"height"),b={src:y.getAttrib(h,"src"),alt:y.getAttrib(h,"alt"),title:y.getAttrib(h,"title"),"class":y.getAttrib(h,"class"),width:p,height:m,caption:!!f}),i&&(g={type:"listbox",label:"Image list",values:n(i,function(t){t.value=e.convertURL(t.value||t.url,"src")},[{text:"None",value:""}]),value:b.src&&e.convertURL(b.src,"src"),onselect:function(e){var t=d.find("#alt");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){g=this}}),e.settings.image_class_list&&(v={name:"class",type:"listbox",label:"Class",values:n(e.settings.image_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})})});var w=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:s},g];e.settings.image_description!==!1&&w.push({name:"alt",type:"textbox",label:"Image description"}),e.settings.image_title&&w.push({name:"title",type:"textbox",label:"Image Title"}),x&&w.push({type:"container",label:"Dimensions",layout:"flex",direction:"row",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:r,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:r,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),w.push(v),e.settings.image_caption&&tinymce.Env.ceFalse&&w.push({name:"caption",type:"checkbox",label:"Caption"}),e.settings.image_advtab?(h&&(h.style.marginLeft&&h.style.marginRight&&h.style.marginLeft===h.style.marginRight&&(b.hspace=a(h.style.marginLeft)),h.style.marginTop&&h.style.marginBottom&&h.style.marginTop===h.style.marginBottom&&(b.vspace=a(h.style.marginTop)),h.style.borderWidth&&(b.border=a(h.style.borderWidth)),b.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(h,"style")))),d=e.windowManager.open({title:"Insert/edit image",data:b,bodyType:"tabpanel",body:[{title:"General",type:"form",items:w},{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:u},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,alignH:["left","right"],defaults:{type:"textbox",maxWidth:50,onchange:c},items:[{label:"Vertical space",name:"vspace"},{label:"Horizontal space",name:"hspace"},{label:"Border",name:"border"}]}]}],onSubmit:o})):d=e.windowManager.open({title:"Insert/edit image",data:b,body:w,onSubmit:o})}e.on("preInit",function(){function t(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)}function n(e){return function(n){function i(t){t.attr("contenteditable",e?"true":null)}for(var r,o=n.length;o--;)r=n[o],t(r)&&(r.attr("contenteditable",e?"false":null),tinymce.each(r.getAll("figcaption"),i))}}e.parser.addNodeFilter("figure",n(!0)),e.serializer.addNodeFilter("figure",n(!1))}),e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:i(r),stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Insert/edit image",onclick:i(r),context:"insert",prependToContext:!0}),e.addCommand("mceImage",i(r))}),tinymce.PluginManager.add("importcss",function(e){function t(t){var n=e.settings,i=n.skin!==!1?n.skin||"lightgray":!1;if(i){var r=n.skin_url;return r=r?e.documentBaseURI.toAbsolute(r):tinymce.baseURL+"/skins/"+i,t===r+"/content"+(e.inline?".inline":"")+".min.css"}return!1}function n(e){return"string"==typeof e?function(t){return-1!==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:e}function i(n,i){function r(e,n){var s,l=e.href;if(l&&i(l,n)&&!t(l)){a(e.imports,function(e){r(e,!0)});try{s=e.cssRules||e.rules}catch(c){}a(s,function(e){e.styleSheet?r(e.styleSheet,!0):e.selectorText&&a(e.selectorText.split(","),function(e){o.push(tinymce.trim(e))})})}}var o=[],s={};a(e.contentCSS,function(e){s[e]=!0}),i||(i=function(e,t){return t||s[e]});try{a(n.styleSheets,function(e){r(e)})}catch(l){}return o}function r(t){var n,i=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(i){var r=i[1],o=i[2].substr(1).split(".").join(" "),a=tinymce.makeMap("a,img");return i[1]?(n={title:t},e.schema.getTextBlockElements()[r]?n.block=r:e.schema.getBlockElements()[r]||a[r.toLowerCase()]?n.selector=r:n.inline=r):i[2]&&(n={inline:"span",title:t.substr(1),classes:o}),e.settings.importcss_merge_classes!==!1?n.classes=o:n.attributes={"class":o},n}}var o=this,a=tinymce.each;e.on("renderFormatsMenu",function(t){var s=e.settings,l={},c=s.importcss_selector_converter||r,u=n(s.importcss_selector_filter),d=t.control;e.settings.importcss_append||d.items().remove();var h=[];tinymce.each(s.importcss_groups,function(e){e=tinymce.extend({},e),e.filter=n(e.filter),h.push(e)}),a(i(t.doc||e.getDoc(),n(s.importcss_file_filter)),function(t){if(-1===t.indexOf(".mce-")&&!l[t]&&(!u||u(t))){var n,i=c.call(o,t);if(i){var r=i.name||tinymce.DOM.uniqueId();if(h)for(var a=0;a<h.length;a++)if(!h[a].filter||h[a].filter(t)){h[a].item||(h[a].item={text:h[a].title,menu:[]}),n=h[a].item.menu;break}e.formatter.register(r,i);var s=tinymce.extend({},d.settings.itemDefaults,{text:i.title,format:r});n?n.push(s):d.add(s)}l[t]=!0}}),a(h,function(e){d.add(e.item)}),t.control.renderNew()}),o.convertSelectorToFormat=r}),tinymce.PluginManager.add("insertdatetime",function(e){function t(t,n){function i(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",i(n.getMonth()+1,2)),t=t.replace("%d",i(n.getDate(),2)),t=t.replace("%H",""+i(n.getHours(),2)),t=t.replace("%M",""+i(n.getMinutes(),2)),t=t.replace("%S",""+i(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",""+(n.getHours()<12?"AM":"PM")),t=t.replace("%B",""+e.translate(l[n.getMonth()])),t=t.replace("%b",""+e.translate(s[n.getMonth()])),t=t.replace("%A",""+e.translate(a[n.getDay()])),t=t.replace("%a",""+e.translate(o[n.getDay()])),t=t.replace("%%","%")}function n(n){var i=t(n);if(e.settings.insertdatetime_element){var r;r=t(/%[HMSIp]/.test(n)?"%Y-%m-%dT%H:%M":"%Y-%m-%d"),i='<time datetime="'+r+'">'+i+"</time>";var o=e.dom.getParent(e.selection.getStart(),"time");if(o)return void e.dom.setOuterHTML(o,i)}e.insertContent(i)}var i,r,o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),a="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),s="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),l="January February March April May June July August September October November December".split(" "),c=[];e.addCommand("mceInsertDate",function(){n(e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d")))}),e.addCommand("mceInsertTime",function(){n(e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S")))}),e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){n(i||r)},menu:c}),tinymce.each(e.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(e){r||(r=e),c.push({text:t(e),onclick:function(){i=e,n(e)}})}),e.addMenuItem("insertdatetime",{icon:"date",text:"Insert date/time",menu:c,context:"insert"})}),!function(e){e.on("AddEditor",function(e){e.editor.settings.inline_styles=!1}),e.PluginManager.add("legacyoutput",function(t,n,i){t.on("init",function(){var n="p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table,img",i=e.explode(t.settings.font_size_style_values),r=t.schema;t.formatter.register({alignleft:{selector:n,attributes:{align:"left"}},aligncenter:{selector:n,attributes:{align:"center"}},alignright:{selector:n,attributes:{align:"right"}},alignjustify:{selector:n,attributes:{align:"justify"}},bold:[{inline:"b",remove:"all"},{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}}],italic:[{inline:"i",remove:"all"},{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}}],underline:[{inline:"u",remove:"all"},{inline:"span",styles:{textDecoration:"underline"},exact:!0}],strikethrough:[{inline:"strike",remove:"all"},{inline:"span",styles:{textDecoration:"line-through"},exact:!0}],fontname:{inline:"font",attributes:{face:"%value"}},fontsize:{inline:"font",attributes:{size:function(t){return e.inArray(i,t.value)+1}}},forecolor:{inline:"font",attributes:{color:"%value"}},hilitecolor:{inline:"font",styles:{backgroundColor:"%value"}}}),e.each("b,i,u,strike".split(","),function(e){r.addValidElements(e+"[*]")}),r.getElementRule("font")||r.addValidElements("font[face|size|color|style]"),e.each(n.split(","),function(e){var t=r.getElementRule(e);t&&(t.attributes.align||(t.attributes.align={},t.attributesOrder.push("align")))})}),t.addButton("fontsizeselect",function(){var e=[],n="8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7",i=t.settings.fontsize_formats||n;return t.$.each(i.split(" "),function(t,n){var i=n,r=n,o=n.split("=");o.length>1&&(i=o[0],r=o[1]),e.push({text:i,value:r})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:function(){var e=this;t.on("NodeChange",function(){var n;n=t.dom.getParent(t.selection.getNode(),"font"),n?e.value(n.size):e.value("")})},onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addButton("fontselect",function(){function e(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=e(t.settings.font_formats||n);return i.each(o,function(e,t){r.push({text:{raw:t[0]},value:t[1],textStyle:-1==t[1].indexOf("dings")?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:function(){var e=this;t.on("NodeChange",function(){var n;n=t.dom.getParent(t.selection.getNode(),"font"),n?e.value(n.face):e.value("")})},onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}})})}(tinymce),tinymce.PluginManager.add("link",function(e){function t(t){return function(){var n=e.settings.link_list;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):"function"==typeof n?n(t):t(n)}}function n(e,t,n){function i(e,n){return n=n||[],tinymce.each(e,function(e){var r={text:e.text||e.title};e.menu?r.menu=i(e.menu):(r.value=e.value,t&&t(r)),n.push(r)}),n}return i(e,n||[])}function i(t){function i(e){var t=d.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text()),d.find("#href").value(e.control.value())}function r(t){var n=[];return tinymce.each(e.dom.select("a:not([href])"),function(e){var i=e.name||e.id;i&&n.push({text:i,value:"#"+i,selected:-1!=t.indexOf("#"+i)})}),n.length?(n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:i}):void 0}function o(){!u&&0===x.text.length&&h&&this.parent().parent().find("#text")[0].value(this.value())}function a(t){var n=t.meta||{};p&&p.value(e.convertURL(this.value(),"href")),tinymce.each(t.meta,function(e,t){d.find("#"+t).value(e)}),n.text||o.call(this)}function s(e){var t=w.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1==t.indexOf("href=")))return!1;if(e){var n,i=e.childNodes;if(0===i.length)return!1;for(n=i.length-1;n>=0;n--)if(3!=i[n].nodeType)return!1}return!0}var l,c,u,d,h,f,p,m,g,v,b,y,x={},w=e.selection,_=e.dom;l=w.getNode(),c=_.getParent(l,"a[href]"),h=s(),x.text=u=c?c.innerText||c.textContent:w.getContent({format:"text"}),x.href=c?_.getAttrib(c,"href"):"",c?x.target=_.getAttrib(c,"target"):e.settings.default_link_target&&(x.target=e.settings.default_link_target),(y=_.getAttrib(c,"rel"))&&(x.rel=y),(y=_.getAttrib(c,"class"))&&(x["class"]=y),(y=_.getAttrib(c,"title"))&&(x.title=y),h&&(f={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){x.text=this.value()}}),t&&(p={type:"listbox",label:"Link list",values:n(t,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:i,value:e.convertURL(x.href,"href"),onPostRender:function(){p=this}}),e.settings.target_list!==!1&&(e.settings.target_list||(e.settings.target_list=[{text:"None",value:""},{text:"New window",value:"_blank"}]),g={name:"target",type:"listbox",label:"Target",values:n(e.settings.target_list)}),e.settings.rel_list&&(m={name:"rel",type:"listbox",label:"Rel",values:n(e.settings.rel_list)}),e.settings.link_class_list&&(v={name:"class",type:"listbox",label:"Class",values:n(e.settings.link_class_list,function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),e.settings.link_title!==!1&&(b={name:"title",type:"textbox",label:"Title",value:x.title}),d=e.windowManager.open({title:"Insert link",data:x,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:a,onkeyup:o},f,b,r(x.href),p,m,g,v],onSubmit:function(t){function n(t,n){var i=e.selection.getRng();tinymce.util.Delay.setEditorTimeout(e,function(){e.windowManager.confirm(t,function(t){e.selection.setRng(i),n(t)})})}function i(){var t={href:r,target:x.target?x.target:null,rel:x.rel?x.rel:null,"class":x["class"]?x["class"]:null,title:x.title?x.title:null};c?(e.focus(),h&&x.text!=u&&("innerText"in c?c.innerText=x.text:c.textContent=x.text),_.setAttribs(c,t),w.select(c),e.undoManager.add()):h?e.insertContent(_.createHTML("a",t,_.encode(x.text))):e.execCommand("mceInsertLink",!1,t)}var r;return x=tinymce.extend(x,t.data),(r=x.href)?r.indexOf("@")>0&&-1==r.indexOf("//")&&-1==r.indexOf("mailto:")?void n("The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(r="mailto:"+r),i()}):e.settings.link_assume_external_targets&&!/^\w+:/i.test(r)||!e.settings.link_assume_external_targets&&/^\s*www[\.|\d\.]/i.test(r)?void n("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(r="http://"+r),i()}):void i():void e.execCommand("unlink")}})}e.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:t(i),stateSelector:"a[href]"}),e.addButton("unlink",{icon:"unlink",tooltip:"Remove link",cmd:"unlink",stateSelector:"a[href]"}),e.addShortcut("Meta+K","",t(i)),e.addCommand("mceLink",t(i)),this.showDialog=i,e.addMenuItem("link",{icon:"link",text:"Insert/edit link",shortcut:"Meta+K",onclick:t(i),stateSelector:"a[href]",context:"insert",prependToContext:!0})}),tinymce.PluginManager.add("lists",function(e){function t(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)}function n(e){return e.parentNode.firstChild==e}function i(e){return e.parentNode.lastChild==e}function r(t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]}function o(t){return t===e.getBody()}var a=this;e.on("init",function(){function s(e,t){var n=k.isEmpty(e);return t&&k.select("span[data-mce-type=bookmark]").length>0?!1:n}function l(e){function t(t){var i,r,o;r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],1==r.nodeType&&(i=k.create("span",{"data-mce-type":"bookmark"}),r.hasChildNodes()?(o=Math.min(o,r.childNodes.length-1),t?r.insertBefore(i,r.childNodes[o]):k.insertAfter(i,r.childNodes[o])):r.appendChild(i),r=i,o=0),n[t?"startContainer":"endContainer"]=r,n[t?"startOffset":"endOffset"]=o}var n={};return t(!0),e.collapsed||t(),n}function c(e){function t(t){function n(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t==e)return n;(1!=t.nodeType||"bookmark"!=t.getAttribute("data-mce-type"))&&n++,t=t.nextSibling}return-1}var i,r,o;i=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],i&&(1==i.nodeType&&(r=n(i),i=i.parentNode,k.remove(o)),e[t?"startContainer":"endContainer"]=i,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=k.createRng();n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),C.setRng(n)}function u(t,n){var i,r,o,a=k.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&(r=k.create(n),r.tagName===e.settings.forced_root_block&&k.setAttribs(r,e.settings.forced_root_block_attrs),a.appendChild(r)),t)for(;i=t.firstChild;){var l=i.nodeName;o||"SPAN"==l&&"bookmark"==i.getAttribute("data-mce-type")||(o=!0),s[l]?(a.appendChild(i),r=null):n?(r||(r=k.create(n),a.appendChild(r)),r.appendChild(i)):a.appendChild(i)}return e.settings.forced_root_block?o||tinymce.Env.ie&&!(tinymce.Env.ie>10)||r.appendChild(k.create("br",{"data-mce-bogus":"1"})):a.appendChild(k.create("br")),a}function d(){return tinymce.grep(C.getSelectedBlocks(),function(e){return/^(LI|DT|DD)$/.test(e.nodeName)})}function h(e,t,n){function i(e){tinymce.each(a,function(n){e.parentNode.insertBefore(n,t.parentNode)}),k.remove(e)}var r,o,a,l;for(a=k.select('span[data-mce-type="bookmark"]',e),n=n||u(t),r=k.createRng(),r.setStartAfter(t),r.setEndAfter(e),o=r.extractContents(),l=o.firstChild;l;l=l.firstChild)if("LI"==l.nodeName&&k.isEmpty(l)){k.remove(l);break}k.isEmpty(o)||k.insertAfter(o,e),k.insertAfter(n,e),s(t.parentNode)&&i(t.parentNode),k.remove(t),s(e)&&k.remove(e)}function f(e){var n,i;if(n=e.nextSibling,n&&t(n)&&n.nodeName==e.nodeName){for(;i=n.firstChild;)e.appendChild(i);k.remove(n)}if(n=e.previousSibling,n&&t(n)&&n.nodeName==e.nodeName){for(;i=n.firstChild;)e.insertBefore(i,e.firstChild);k.remove(n)}}function p(e){tinymce.each(tinymce.grep(k.select("ol,ul",e)),function(e){var n,i=e.parentNode;"LI"==i.nodeName&&i.firstChild==e&&(n=i.previousSibling,n&&"LI"==n.nodeName&&(n.appendChild(e),s(i)&&k.remove(i))),t(i)&&(n=i.previousSibling,n&&"LI"==n.nodeName&&n.appendChild(e))})}function m(e){function r(e){s(e)&&k.remove(e)}var a,l=e.parentNode,c=l.parentNode;return o(l)?!0:"DD"==e.nodeName?(k.rename(e,"DT"),!0):n(e)&&i(e)?("LI"==c.nodeName?(k.insertAfter(e,c),r(c),k.remove(l)):t(c)?k.remove(l,!0):(c.insertBefore(u(e),l),k.remove(l)),!0):n(e)?("LI"==c.nodeName?(k.insertAfter(e,c),e.appendChild(l),r(c)):t(c)?c.insertBefore(e,l):(c.insertBefore(u(e),l),k.remove(e)),!0):i(e)?("LI"==c.nodeName?k.insertAfter(e,c):t(c)?k.insertAfter(e,l):(k.insertAfter(u(e),l),k.remove(e)),!0):("LI"==c.nodeName?(l=c,a=u(e,"LI")):a=t(c)?u(e,"LI"):u(e),h(l,e,a),p(l.parentNode),!0)}function g(e){function n(n,i){var r;if(t(n)){for(;r=e.lastChild.firstChild;)i.appendChild(r);k.remove(n)}}var i,r;return"DT"==e.nodeName?(k.rename(e,"DD"),!0):(i=e.previousSibling,i&&t(i)?(i.appendChild(e),!0):i&&"LI"==i.nodeName&&t(i.lastChild)?(i.lastChild.appendChild(e),n(e.lastChild,i.lastChild),!0):(i=e.nextSibling,i&&t(i)?(i.insertBefore(e,i.firstChild),!0):i&&"LI"==i.nodeName&&t(e.lastChild)?!1:(i=e.previousSibling,i&&"LI"==i.nodeName?(r=k.create(e.parentNode.nodeName),i.appendChild(r),r.appendChild(e),n(e.lastChild,r),!0):!1)))}function v(){var t=d();if(t.length){for(var n=l(C.getRng(!0)),i=0;i<t.length&&(g(t[i])||0!==i);i++);return c(n),e.nodeChanged(),!0}}function b(){var t=d();if(t.length){var n,i,r=l(C.getRng(!0)),o=e.getBody();for(n=t.length;n--;)for(var a=t[n].parentNode;a&&a!=o;){for(i=t.length;i--;)if(t[i]===a){t.splice(n,1);break}a=a.parentNode}for(n=0;n<t.length&&(m(t[n])||0!==n);n++);return c(r),e.nodeChanged(),!0}}function y(n){function i(){function t(e){var t,n;for(t=a[e?"startContainer":"endContainer"],n=a[e?"startOffset":"endOffset"],1==t.nodeType&&(t=t.childNodes[Math.min(n,t.childNodes.length-1)]||t);t.parentNode!=o;){if(r(t))return t;if(/^(TD|TH)$/.test(t.parentNode.nodeName))return t;t=t.parentNode}return t}for(var n,i=[],o=e.getBody(),s=t(!0),l=t(),c=[],u=s;u&&(c.push(u),u!=l);u=u.nextSibling);return tinymce.each(c,function(e){if(r(e))return i.push(e),void(n=null);if(k.isBlock(e)||"BR"==e.nodeName)return"BR"==e.nodeName&&k.remove(e),void(n=null);var t=e.nextSibling;return tinymce.dom.BookmarkManager.isBookmarkNode(e)&&(r(t)||!t&&e.parentNode==o)?void(n=null):(n||(n=k.create("p"),e.parentNode.insertBefore(n,e),i.push(n)),void n.appendChild(e))}),i}var o,a=C.getRng(!0),s="LI";"false"!==k.getContentEditable(C.getNode())&&(n=n.toUpperCase(),"DL"==n&&(s="DT"),o=l(a),tinymce.each(i(),function(e){var i,r;r=e.previousSibling,r&&t(r)&&r.nodeName==n?(i=r,e=k.rename(e,s),r.appendChild(e)):(i=k.create(n),e.parentNode.insertBefore(i,e),i.appendChild(e),e=k.rename(e,s)),f(i)}),c(o))}function x(){var n=l(C.getRng(!0)),i=e.getBody();tinymce.each(d(),function(e){var n,r;if(!o(e.parentNode)){if(s(e))return void m(e);for(n=e;n&&n!=i;n=n.parentNode)t(n)&&(r=n);h(r,e)}}),c(n)}function w(e){var t=k.getParent(C.getStart(),"OL,UL,DL");if(!o(t))if(t)if(t.nodeName==e)x(e);else{var n=l(C.getRng(!0));f(k.rename(t,e)),c(n)}else y(e)}function _(t){return function(){var n=k.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName==t}}var k=e.dom,C=e.selection;a.backspaceDelete=function(n){function i(t,n){var i,r,o=t.startContainer,a=t.startOffset;if(3==o.nodeType&&(n?a<o.data.length:a>0))return o;for(i=e.schema.getNonEmptyElements(),r=new tinymce.dom.TreeWalker(t.startContainer);o=r[n?"next":"prev"]();){if("LI"==o.nodeName&&!o.hasChildNodes())return o;if(i[o.nodeName])return o;if(3==o.nodeType&&o.data.length>0)return o}}function r(e,n){var i,r,a=e.parentNode;if(t(n.lastChild)&&(r=n.lastChild),i=n.lastChild,i&&"BR"==i.nodeName&&e.hasChildNodes()&&k.remove(i),s(n,!0)&&k.$(n).empty(),!s(e,!0))for(;i=e.firstChild;)n.appendChild(i);r&&n.appendChild(r),k.remove(e),s(a)&&!o(a)&&k.remove(a)}if(C.isCollapsed()){var a,u,d,h=k.getParent(C.getStart(),"LI");if(h){if(a=h.parentNode,o(a)&&k.isEmpty(a))return!0;if(u=C.getRng(!0),d=k.getParent(i(u,n),"LI"),d&&d!=h){var f=l(u);return n?r(d,h):r(h,d),c(f),!0}if(!d&&!n&&x(a.nodeName))return!0}}},e.on("BeforeExecCommand",function(t){var n,i=t.command.toLowerCase();return"indent"==i?v()&&(n=!0):"outdent"==i&&b()&&(n=!0),n?(e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0):void 0}),e.addCommand("InsertUnorderedList",function(){w("UL")}),e.addCommand("InsertOrderedList",function(){w("OL")}),e.addCommand("InsertDefinitionList",function(){w("DL")}),e.addQueryStateHandler("InsertUnorderedList",_("UL")),e.addQueryStateHandler("InsertOrderedList",_("OL")),e.addQueryStateHandler("InsertDefinitionList",_("DL")),e.on("keydown",function(t){9!=t.keyCode||tinymce.util.VK.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?b():v())})}),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:function(){var t=this;e.on("nodechange",function(){for(var i=e.selection.getSelectedBlocks(),r=!1,o=0,a=i.length;!r&&a>o;o++){var s=i[o].nodeName;r="LI"==s&&n(i[o])||"UL"==s||"OL"==s||"DD"==s}t.disabled(r)})}}),e.on("keydown",function(e){e.keyCode==tinymce.util.VK.BACKSPACE?a.backspaceDelete()&&e.preventDefault():e.keyCode==tinymce.util.VK.DELETE&&a.backspaceDelete(!0)&&e.preventDefault()})}),tinymce.PluginManager.add("media",function(e,t){function n(e){return e=e.toLowerCase(),-1!=e.indexOf(".mp3")?"audio/mpeg":-1!=e.indexOf(".wav")?"audio/wav":-1!=e.indexOf(".mp4")?"video/mp4":-1!=e.indexOf(".webm")?"video/webm":-1!=e.indexOf(".ogg")?"video/ogg":-1!=e.indexOf(".swf")?"application/x-shockwave-flash":""}function i(t){var n=e.settings.media_scripts;if(n)for(var i=0;i<n.length;i++)if(-1!==t.indexOf(n[i].filter))return n[i]}function r(){function t(e){var t,n,o,a;t=i.find("#width")[0],n=i.find("#height")[0],o=t.value(),a=n.value(),i.find("#constrain")[0].checked()&&r&&c&&o&&a&&(e.control==t?(a=Math.round(o/r*a),isNaN(a)||n.value(a)):(o=Math.round(a/c*o),isNaN(o)||t.value(o))),r=o,c=a}function n(){u=s(this.value()),this.parent().parent().fromJSON(u)}var i,r,c,u,d=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onchange:function(e){tinymce.each(e.meta,function(e,t){i.find("#"+t).value(e)})}}];e.settings.media_alt_source!==!1&&d.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),e.settings.media_poster!==!1&&d.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),e.settings.media_dimensions!==!1&&d.push({type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:3,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:3,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}),u=l(e.selection.getNode()),r=u.width,c=u.height;var h={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:o(),multiline:!0,label:"Source"};h[m]=n,i=e.windowManager.open({title:"Insert/edit video",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",onShowTab:function(){u=s(this.next().find("#embed").value()),this.fromJSON(u)},items:d},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,onShowTab:function(){this.find("#embed").value(a(this.parent().toJSON()))},items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},h]}],onSubmit:function(){var t,n,i,r;for(t=e.dom.select("img[data-mce-object]"),e.insertContent(a(this.toJSON())),n=e.dom.select("img[data-mce-object]"),i=0;i<t.length;i++)for(r=n.length-1;r>=0;r--)t[i]==n[r]&&n.splice(r,1);e.selection.select(n[0]),e.nodeChanged()}})}function o(){var t=e.selection.getNode();return t.getAttribute("data-mce-object")?e.selection.getContent():void 0}function a(r){var o="";if(!r.source1&&(tinymce.extend(r,s(r.embed)),!r.source1))return"";if(r.source2||(r.source2=""),r.poster||(r.poster=""),r.source1=e.convertURL(r.source1,"source"),r.source2=e.convertURL(r.source2,"source"),r.source1mime=n(r.source1),
r.source2mime=n(r.source2),r.poster=e.convertURL(r.poster,"poster"),r.flashPlayerUrl=e.convertURL(t+"/moxieplayer.swf","movie"),tinymce.each(p,function(e){var t,n,i;if(t=e.regex.exec(r.source1)){for(i=e.url,n=0;t[n];n++)i=i.replace("$"+n,function(){return t[n]});r.source1=i,r.type=e.type,r.allowFullscreen=e.allowFullscreen,r.width=r.width||e.w,r.height=r.height||e.h}}),r.embed)o=u(r.embed,r,!0);else{var a=i(r.source1);if(a&&(r.type="script",r.width=a.width,r.height=a.height),r.width=r.width||300,r.height=r.height||150,tinymce.each(r,function(t,n){r[n]=e.dom.encode(t)}),"iframe"==r.type){var l=r.allowFullscreen?' allowFullscreen="1"':"";o+='<iframe src="'+r.source1+'" width="'+r.width+'" height="'+r.height+'"'+l+"></iframe>"}else"application/x-shockwave-flash"==r.source1mime?(o+='<object data="'+r.source1+'" width="'+r.width+'" height="'+r.height+'" type="application/x-shockwave-flash">',r.poster&&(o+='<img src="'+r.poster+'" width="'+r.width+'" height="'+r.height+'" />'),o+="</object>"):-1!=r.source1mime.indexOf("audio")?e.settings.audio_template_callback?o=e.settings.audio_template_callback(r):o+='<audio controls="controls" src="'+r.source1+'">'+(r.source2?'\n<source src="'+r.source2+'"'+(r.source2mime?' type="'+r.source2mime+'"':"")+" />\n":"")+"</audio>":"script"==r.type?o+='<script src="'+r.source1+'"></script>':o=e.settings.video_template_callback?e.settings.video_template_callback(r):'<video width="'+r.width+'" height="'+r.height+'"'+(r.poster?' poster="'+r.poster+'"':"")+' controls="controls">\n<source src="'+r.source1+'"'+(r.source1mime?' type="'+r.source1mime+'"':"")+" />\n"+(r.source2?'<source src="'+r.source2+'"'+(r.source2mime?' type="'+r.source2mime+'"':"")+" />\n":"")+"</video>"}return o}function s(e){var t={};return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(e,n){if(t.source1||"param"!=e||(t.source1=n.map.movie),("iframe"==e||"object"==e||"embed"==e||"video"==e||"audio"==e)&&(t.type||(t.type=e),t=tinymce.extend(n.map,t)),"script"==e){var r=i(n.map.src);if(!r)return;t={type:"script",source1:n.map.src,width:r.width,height:r.height}}"source"==e&&(t.source1?t.source2||(t.source2=n.map.src):t.source1=n.map.src),"img"!=e||t.poster||(t.poster=n.map.src)}}).parse(e),t.source1=t.source1||t.src||t.data,t.source2=t.source2||"",t.poster=t.poster||"",t}function l(t){return t.getAttribute("data-mce-object")?s(e.serializer.serialize(t,{selection:!0})):{}}function c(t){if(e.settings.media_filter_html===!1)return t;var n,i=new tinymce.html.Writer;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(t,r,o){if(n=!0,"script"!=t&&"noscript"!=t){for(var a=0;a<r.length;a++){if(0===r[a].name.indexOf("on"))return;"style"==r[a].name&&(r[a].value=e.dom.serializeStyle(e.dom.parseStyle(r[a].value),t))}i.start(t,r,o),n=!1}},end:function(e){n||i.end(e)}},new tinymce.html.Schema({})).parse(t),i.getContent()}function u(e,t,n){function i(e,t){var n,i,r,o;for(n in t)if(r=""+t[n],e.map[n])for(i=e.length;i--;)o=e[i],o.name==n&&(r?(e.map[n]=r,o.value=r):(delete e.map[n],e.splice(i,1)));else r&&(e.push({name:n,value:r}),e.map[n]=r)}var r,o=new tinymce.html.Writer,a=0;return new tinymce.html.SaxParser({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){o.comment(e)},cdata:function(e){o.cdata(e)},text:function(e,t){o.text(e,t)},start:function(e,s,l){switch(e){case"video":case"object":case"embed":case"img":case"iframe":i(s,{width:t.width,height:t.height})}if(n)switch(e){case"video":i(s,{poster:t.poster,src:""}),t.source2&&i(s,{src:""});break;case"iframe":i(s,{src:t.source1});break;case"source":if(a++,2>=a&&(i(s,{src:t["source"+a],type:t["source"+a+"mime"]}),!t["source"+a]))return;break;case"img":if(!t.poster)return;r=!0}o.start(e,s,l)},end:function(e){if("video"==e&&n)for(var s=1;2>=s;s++)if(t["source"+s]){var l=[];l.map={},s>a&&(i(l,{src:t["source"+s],type:t["source"+s+"mime"]}),o.start("source",l,!0))}if(t.poster&&"object"==e&&n&&!r){var c=[];c.map={},i(c,{src:t.poster,width:t.width,height:t.height}),o.start("img",c,!0)}o.end(e)}},new tinymce.html.Schema({})).parse(e),o.getContent()}function d(t,n){var i,r,o,a,s;for(o=t.attributes,a=o.length;a--;)i=o[a].name,r=o[a].value,"width"!==i&&"height"!==i&&"style"!==i&&(("data"==i||"src"==i)&&(r=e.convertURL(r,i)),n.attr("data-mce-p-"+i,r));s=t.firstChild&&t.firstChild.value,s&&(n.attr("data-mce-html",escape(s)),n.firstChild=null)}function h(e){var t,n=e.name;return t=new tinymce.html.Node("img",1),t.shortEnded=!0,d(e,t),t.attr({width:e.attr("width")||"300",height:e.attr("height")||("audio"==n?"30":"150"),style:e.attr("style"),src:tinymce.Env.transparentSrc,"data-mce-object":n,"class":"mce-object mce-object-"+n}),t}function f(e){var t,n,i,r=e.name;return t=new tinymce.html.Node("span",1),t.attr({contentEditable:"false",style:e.attr("style"),"data-mce-object":r,"class":"mce-preview-object mce-object-"+r}),d(e,t),n=new tinymce.html.Node(r,1),n.attr({src:e.attr("src"),allowfullscreen:e.attr("allowfullscreen"),width:e.attr("width")||"300",height:e.attr("height")||("audio"==r?"30":"150"),frameborder:"0"}),i=new tinymce.html.Node("span",1),i.attr("class","mce-shim"),t.append(n),t.append(i),t}var p=[{regex:/youtu\.be\/([\w\-.]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)/,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\-]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowfullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowfullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1}],m=tinymce.Env.ie&&tinymce.Env.ie<=8?"onChange":"onInput";e.on("ResolveName",function(e){var t;1==e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}),e.on("preInit",function(){var t=e.schema.getSpecialElements();tinymce.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var n=e.schema.getBoolAttrs();tinymce.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){n[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",function(t){for(var n,r,o,a=t.length;a--;)n=t[a],n.parent&&(n.parent.attr("data-mce-object")||("script"!=n.name||(o=i(n.attr("src"))))&&(o&&(o.width&&n.attr("width",o.width.toString()),o.height&&n.attr("height",o.height.toString())),r="iframe"==n.name&&e.settings.media_live_embeds!==!1&&tinymce.Env.ceFalse?f(n):h(n),n.replace(r)))}),e.serializer.addAttributeFilter("data-mce-object",function(e,t){for(var n,i,r,o,a,s,l,u,d=e.length;d--;)if(n=e[d],n.parent){for(l=n.attr(t),i=new tinymce.html.Node(l,1),"audio"!=l&&"script"!=l&&(u=n.attr("class"),u&&-1!==u.indexOf("mce-preview-object")?i.attr({width:n.firstChild.attr("width"),height:n.firstChild.attr("height")}):i.attr({width:n.attr("width"),height:n.attr("height")})),i.attr({style:n.attr("style")}),o=n.attributes,r=o.length;r--;){var h=o[r].name;0===h.indexOf("data-mce-p-")&&i.attr(h.substr(11),o[r].value)}"script"==l&&i.attr("type","text/javascript"),a=n.attr("data-mce-html"),a&&(s=new tinymce.html.Node("#text",3),s.raw=!0,s.value=c(unescape(a)),i.append(s)),n.replace(i)}})}),e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");("audio"==t||"script"==t)&&e.preventDefault()}),e.on("objectResized",function(e){var t,n=e.target;n.getAttribute("data-mce-object")&&(t=n.getAttribute("data-mce-html"),t&&(t=unescape(t),n.setAttribute("data-mce-html",escape(u(t,{width:e.width,height:e.height})))))}),e.addButton("media",{tooltip:"Insert/edit video",onclick:r,stateSelector:["img[data-mce-object]","span[data-mce-object]"]}),e.addMenuItem("media",{icon:"media",text:"Insert/edit video",onclick:r,context:"insert",prependToContext:!0}),e.addCommand("mceMedia",r),this.showDialog=r}),tinymce.PluginManager.add("nonbreaking",function(e){var t=e.getParam("nonbreaking_force_tab");if(e.addCommand("mceNonBreaking",function(){e.insertContent(e.plugins.visualchars&&e.plugins.visualchars.state?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;"),e.dom.setAttrib(e.dom.select("span.mce-nbsp"),"data-mce-bogus","1")}),e.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),e.addMenuItem("nonbreaking",{text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"}),t){var n=+t>1?+t:3;e.on("keydown",function(t){if(9==t.keyCode){if(t.shiftKey)return;t.preventDefault();for(var i=0;n>i;i++)e.execCommand("mceNonBreaking")}})}}),tinymce.PluginManager.add("noneditable",function(e){function t(e){return function(t){return-1!==(" "+t.attr("class")+" ").indexOf(e)}}function n(t){function n(t){var n=arguments,i=n[n.length-2];return i>0&&'"'==a.charAt(i-1)?t:'<span class="'+s+'" data-mce-content="'+e.dom.encode(n[0])+'">'+e.dom.encode("string"==typeof n[1]?n[1]:n[0])+"</span>"}var i=o.length,a=t.content,s=tinymce.trim(r);if("raw"!=t.format){for(;i--;)a=a.replace(o[i],n);t.content=a}}var i,r,o,a="contenteditable";i=" "+tinymce.trim(e.getParam("noneditable_editable_class","mceEditable"))+" ",r=" "+tinymce.trim(e.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var s=t(i),l=t(r);o=e.getParam("noneditable_regexp"),o&&!o.length&&(o=[o]),e.on("PreInit",function(){o&&e.on("BeforeSetContent",n),e.parser.addAttributeFilter("class",function(e){for(var t,n=e.length;n--;)t=e[n],s(t)?t.attr(a,"true"):l(t)&&t.attr(a,"false")}),e.serializer.addAttributeFilter(a,function(e){for(var t,n=e.length;n--;)t=e[n],(s(t)||l(t))&&(o&&t.attr("data-mce-content")?(t.name="#text",t.type=3,t.raw=!0,t.value=t.attr("data-mce-content")):t.attr(a,null))})})}),tinymce.PluginManager.add("pagebreak",function(e){var t="mce-pagebreak",n=e.getParam("pagebreak_separator","<!-- pagebreak -->"),i=new RegExp(n.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(e){return"\\"+e}),"gi"),r='<img src="'+tinymce.Env.transparentSrc+'" class="'+t+'" data-mce-resize="false" data-mce-placeholder />';e.addCommand("mcePageBreak",function(){e.settings.pagebreak_split_block?e.insertContent("<p>"+r+"</p>"):e.insertContent(r)}),e.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),e.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"}),e.on("ResolveName",function(n){"IMG"==n.target.nodeName&&e.dom.hasClass(n.target,t)&&(n.name="pagebreak")}),e.on("click",function(n){n=n.target,"IMG"===n.nodeName&&e.dom.hasClass(n,t)&&e.selection.select(n)}),e.on("BeforeSetContent",function(e){e.content=e.content.replace(i,r)}),e.on("PreInit",function(){e.serializer.addNodeFilter("img",function(t){for(var i,r,o=t.length;o--;)if(i=t[o],r=i.attr("class"),r&&-1!==r.indexOf("mce-pagebreak")){var a=i.parent;if(e.schema.getBlockElements()[a.name]&&e.settings.pagebreak_split_block){a.type=3,a.value=n,a.raw=!0,i.remove();continue}i.type=3,i.value=n,i.raw=!0}})})}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=e,o=n[i],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}var a={};i("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(e,t,n){function i(t,n){return e.each(n,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function r(r){function o(e){var t=e.name,n=e;if("br"===t)return void(l+="\n");if(c[t]&&(l+=" "),u[t])return void(l+=" ");if(3==e.type&&(l+=e.value),!e.shortEnded&&(e=e.firstChild))do o(e);while(e=e.next);d[t]&&n.next&&(l+="\n","p"==t&&(l+="\n"))}var a=new n,s=new t({},a),l="",c=a.getShortEndedElements(),u=e.makeMap("script noscript style textarea video audio iframe object"," "),d=a.getBlockElements();return r=i(r,[/<!\[[^\]]+\]>/g]),o(s.parse(r)),l}function o(e){function t(e,t,n){return t||n?"\xa0":" "}return e=i(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}return{filter:i,innerText:r,trimHtml:o}}),i("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/util/Delay"],function(e,t,n,i,r){return function(o){function a(e){var t,n=o.dom;if(t=o.fire("BeforePastePreProcess",{content:e}),t=o.fire("PastePreProcess",t),e=t.content,!t.isDefaultPrevented()){if(o.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var i=n.add(o.getBody(),"div",{style:"display:none"},e);t=o.fire("PastePostProcess",{node:i}),n.remove(i),e=t.node.innerHTML}t.isDefaultPrevented()||o.insertContent(e,{merge:o.settings.paste_merge_formats!==!1,data:{paste:!0}})}}function s(e){e=o.dom.encode(e).replace(/\r\n/g,"\n");var t,n=o.dom.getParent(o.selection.getStart(),o.dom.isBlock),r=o.settings.forced_root_block;r&&(t=o.dom.createHTML(r,o.settings.forced_root_block_attrs),t=t.substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!r?e=i.filter(e,[[/\n/g,"<br>"]]):(e=i.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]]),-1!=e.indexOf("<p>")&&(e=t+e)),a(e)}function l(){function t(e){var t,n,r,o=e.startContainer;if(t=e.getClientRects(),t.length)return t[0];if(e.collapsed&&1==o.nodeType){for(r=o.childNodes[_.startOffset];r&&3==r.nodeType&&!r.data.length;)r=r.nextSibling;if(r)return"BR"==r.tagName&&(n=i.doc.createTextNode("\ufeff"),r.parentNode.insertBefore(n,r),e=i.createRng(),e.setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),i.remove(n)),t.length?t[0]:void 0}}var n,i=o.dom,r=o.getBody(),a=o.dom.getViewPort(o.getWin()),s=a.y,l=20;if(_=o.selection.getRng(),o.inline&&(n=o.selection.getScrollContainer(),n&&n.scrollTop>0&&(s=n.scrollTop)),_.getClientRects){var c=t(_);if(c)l=s+(c.top-i.getPos(r).y);else{l=s;var u=_.startContainer;u&&(3==u.nodeType&&u.parentNode!=r&&(u=u.parentNode),1==u.nodeType&&(l=i.getPos(u,n||r).y))}}w=i.add(o.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+l+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},D),(e.ie||e.gecko)&&i.setStyle(w,"left","rtl"==i.getStyle(r,"direction",!0)?65535:-65535),i.bind(w,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),w.focus(),o.selection.select(w,!0)}function c(){if(w){for(var e;e=o.dom.get("mcepastebin");)o.dom.remove(e),o.dom.unbind(e);_&&o.selection.setRng(_)}w=_=null}function u(){var e,t,n,i,r="";for(e=o.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)n=e[t],n.firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),i=n.innerHTML,r!=D&&(r+=i);return r}function d(e){var t,n,i,r;for(i=[25942,29554,28521,14958],t=0;t<i.length;t++)if(e.charCodeAt(t)!=i[t])return e;for(n="",t=0;t<e.length;t++)r=e.charCodeAt(t),n+=String.fromCharCode(255&r),n+=String.fromCharCode((65280&r)>>8);return decodeURIComponent(escape(n))}function h(e){var t,n,i;return n="<!--StartFragment-->",t=e.indexOf(n),-1!==t&&(e=e.substr(t+n.length)),i="<!--EndFragment-->",t=e.indexOf(i),-1!==t&&(e=e.substr(0,t)),e}function f(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&n.length>0&&-1==n.indexOf(A)&&(t["text/plain"]=n)}if(e.types)for(var i=0;i<e.types.length;i++){var r=e.types[i],o=e.getData(r);"text/html"==r&&(o=h(d(o))),t[r]=o}}return t}function p(e){return f(e.clipboardData||o.getDoc().dataTransfer)}function m(e,t){function n(n){function i(e){t&&(o.selection.setRng(t),t=null),a('<img src="'+e.result+'">')}var r,s,l,c=!1;if(n)for(r=0;r<n.length;r++)s=n[r],/^image\/(jpeg|png|gif|bmp)$/.test(s.type)&&(l=new FileReader,l.onload=i.bind(null,l),l.readAsDataURL(s.getAsFile?s.getAsFile():s),e.preventDefault(),c=!0);return c}var i=e.clipboardData||e.dataTransfer;return o.settings.paste_data_images&&i?n(i.items)||n(i.files):void 0}function g(e){var t=e.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}function v(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,o.getDoc())}function b(e,t){return t in e&&e[t].length>0}function y(e){return n.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function x(){function t(e,t,n){var r;return b(e,"text/html")?r=e["text/html"]:(r=u(),r==D&&(n=!0)),r=i.trimHtml(r),w&&w.firstChild&&"mcepastebin"===w.firstChild.id&&(n=!0),c(),r.length||(n=!0),n&&(r=b(e,"text/plain")&&-1==r.indexOf("</p>")?e["text/plain"]:i.innerText(r)),r==D?void(t||o.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(n?s(r):a(r))}o.on("keydown",function(t){function n(e){y(e)&&!e.isDefaultPrevented()&&c()}if(y(t)&&!t.isDefaultPrevented()){if(k=t.shiftKey&&86==t.keyCode,k&&e.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(t.stopImmediatePropagation(),S=(new Date).getTime(),e.ie&&k)return t.preventDefault(),void o.fire("paste",{ieFake:!0});c(),l(),o.once("keyup",n),o.once("paste",function(){o.off("keyup",n)})}}),o.on("paste",function(n){var i=(new Date).getTime(),a=p(n),s=(new Date).getTime()-i,d=(new Date).getTime()-S-s<1e3,h="text"==C.pasteFormat||k;return k=!1,n.isDefaultPrevented()||g(n)?void c():m(n)?void c():(d||n.preventDefault(),!e.ie||d&&!n.ieFake||(l(),o.dom.bind(w,"paste",function(e){e.stopPropagation()}),o.getDoc().execCommand("Paste",!1,null),a["text/html"]=u()),void(b(a,"text/html")?(n.preventDefault(),t(a,d,h)):r.setEditorTimeout(o,function(){t(a,d,h)},0)))}),o.on("dragstart dragend",function(e){T="dragstart"==e.type}),o.on("drop",function(e){var t=v(e);if(!e.isDefaultPrevented()&&!T&&!m(e,t)&&t&&o.settings.paste_filter_drop!==!1){var n=f(e.dataTransfer),r=n["mce-internal"]||n["text/html"]||n["text/plain"];r&&(e.preventDefault(),o.undoManager.transact(function(){n["mce-internal"]&&o.execCommand("Delete"),o.selection.setRng(t),r=i.trimHtml(r),n["text/html"]?a(r):s(r)}))}}),o.on("dragover dragend",function(e){o.settings.paste_data_images&&e.preventDefault()})}var w,_,k,C=this,S=0,T=!1,D="%MCEPASTEBIN%",A="data:text/mce-internal,";C.pasteHtml=a,C.pasteText=s,o.on("preInit",function(){x(),o.parser.addNodeFilter("img",function(t,n,i){function r(e){return e.data&&e.data.paste===!0}function a(t){t.attr("data-mce-object")||u===e.transparentSrc||t.remove()}function s(e){return 0===e.indexOf("webkit-fake-url")}function l(e){return 0===e.indexOf("data:")}if(!o.settings.paste_data_images&&r(i))for(var c=t.length;c--;){var u=t[c].attributes.map.src;u&&(s(u)?a(t[c]):!o.settings.allow_html_data_urls&&l(u)&&a(t[c]))}})})}}),i("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(e,t,n,i,r,o){function a(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function s(t){var n,i;return i=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),e.each(i,function(e){return e.test(t)?(n=!0,!1):void 0}),n}function l(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function c(c){var u=c.settings;c.on("BeforePastePreProcess",function(d){function h(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do n+=t(e);while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do if(!n(e,t))return!1;while(e=e.next);return!0}function i(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do i(e);while(e=e.next)}function o(e,t,o){var s=e._listLevel||u;s!=u&&(u>s?a&&(a=a.parent.parent):(c=a,a=null)),a&&a.name==t?a.append(e):(c=c||a,a=new r(t,1),o>1&&a.attr("start",""+o),e.wrap(a)),e.name="li",s>u&&c&&c.lastChild.append(a),u=s,i(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var a,c,u=1,d=[],h=e.firstChild;"undefined"!=typeof h&&null!==h;)if(d.push(h),h=h.walk(),null!==h)for(;"undefined"!=typeof h&&h.parent!==e;)h=h.walk();for(var f=0;f<d.length;f++)if(e=d[f],"p"==e.name&&e.firstChild){var p=t(e);if(l(p)){o(e,"ul");continue}if(s(p)){var m=/([0-9]+)\./.exec(p),g=1;m&&(g=parseInt(m[1],10)),o(e,"ol",g);continue}if(e._listLevel){o(e,"ul",1);continue}a=null}else c=a,a=null}function f(t,n){var i,o={},a=c.dom.parseStyle(n);return e.each(a,function(e,r){switch(r){case"mso-list":i=/\w+ \w+([0-9]+)/i.exec(n),i&&(t._listLevel=parseInt(i[1],10)),/Ignore/i.test(e)&&t.firstChild&&(t._listIgnore=!0,t.firstChild._listIgnore=!0);break;case"horiz-align":r="text-align";break;case"vert-align":r="vertical-align";break;case"font-color":case"mso-foreground":r="color";break;case"mso-background":case"mso-highlight":r="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[r]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void t.remove()}return 0===r.indexOf("mso-comment")?void t.remove():void(0!==r.indexOf("mso-")&&("all"==p||m&&m[r])&&(o[r]=e))}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],t.wrap(new r("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],t.wrap(new r("i",1))),o=c.dom.serializeStyle(o,t.name),o?o:null}var p,m,g=d.content;if(g=g.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,""),g=g.replace(/<br class="?Apple-interchange-newline"?>/gi,""),p=u.paste_retain_style_properties,p&&(m=e.makeMap(p.split(/[, ]/))),u.paste_enable_default_filters!==!1&&a(d.content)){d.wordContent=!0,g=o.filter(g,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var v=u.paste_word_valid_elements;v||(v="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var b=new n({valid_elements:v,valid_children:"-li[p]"});e.each(b.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var y=new t({},b);y.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("style",f(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),y.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)t=e[i],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),y.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),y.addNodeFilter("a",function(e){for(var t,n,i,r=e.length;r--;)if(t=e[r],n=t.attr("href"),i=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){t.unwrap();continue}t.attr({href:n,name:i})}else t.unwrap()});var x=y.parse(g);u.paste_convert_word_fake_lists!==!1&&h(x),d.content=new i({validate:u.validate},b).serialize(x)}})}return c.isWordContent=a,c}),i("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(e,t,n,i){return function(r){function o(e){r.on("BeforePastePreProcess",function(t){t.content=e(t.content)})}function a(e){if(!n.isWordContent(e))return e;var o=[];t.each(r.schema.getBlockElements(),function(e,t){o.push(t)});var a=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+o.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=i.filter(e,[[a,"$1"]]),e=i.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function s(e){if(n.isWordContent(e))return e;var t=r.settings.paste_webkit_styles;if(r.settings.paste_remove_styles_if_webkit===!1||"all"==t)return e;if(t&&(t=t.split(/[, ]/)),t){var i=r.dom,o=r.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,n,r,a){var s=i.parseStyle(r,"span"),l={};if("none"===t)return n+a;for(var c=0;c<t.length;c++){var u=s[t[c]],d=i.getStyle(o,t[c],!0);/color/.test(t[c])&&(u=i.toHex(u),d=i.toHex(d)),d!=u&&(l[t[c]]=u)}return l=i.serializeStyle(l,"span"),l?n+' style="'+l+'"'+a:n+a})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,i){return t+' style="'+n+'"'+i})}e.webkit&&o(s),e.ie&&o(a)}}),i("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(e,t,n,i){var r;e.add("paste",function(e){function o(){if("text"==a.pasteFormat)this.active(!1),a.pasteFormat="html";else if(a.pasteFormat="text",this.active(!0),!r){var t=e.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");e.notificationManager.open({text:t,type:"info"}),r=!0}}var a,s=this,l=e.settings;s.clipboard=a=new t(e),s.quirks=new i(e),s.wordFilter=new n(e),e.settings.paste_as_text&&(s.clipboard.pasteFormat="text"),l.paste_preprocess&&e.on("PastePreProcess",function(e){l.paste_preprocess.call(s,s,e)}),l.paste_postprocess&&e.on("PastePostProcess",function(e){l.paste_postprocess.call(s,s,e)}),e.addCommand("mceInsertClipboardContent",function(e,t){t.content&&s.clipboard.pasteHtml(t.content),t.text&&s.clipboard.pasteText(t.text)}),e.paste_block_drop&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),e.settings.paste_data_images||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:o,active:"text"==s.clipboard.pasteFormat}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:a.pasteFormat,onclick:o})})}),o(["tinymce/pasteplugin/Utils"])}(this),tinymce.PluginManager.add("preview",function(e){var t=e.settings,n=!tinymce.Env.ie;e.addCommand("mcePreview",function(){e.windowManager.open({title:"Preview",width:parseInt(e.getParam("plugin_preview_width","650"),10),height:parseInt(e.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(n?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var i,r="";r+='<base href="'+e.documentBaseURI.getURI()+'">',tinymce.each(e.contentCSS,function(t){r+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'});var o=t.body_id||"tinymce";-1!=o.indexOf("=")&&(o=e.getParam("body_id","","hash"),o=o[e.id]||o);var a=t.body_class||"";-1!=a.indexOf("=")&&(a=e.getParam("body_class","","hash"),a=a[e.id]||"");var s=e.settings.directionality?' dir="'+e.settings.directionality+'"':"";if(i="<!DOCTYPE html><html><head>"+r+'</head><body id="'+o+'" class="mce-content-body '+a+'"'+s+">"+e.getContent()+"</body></html>",n)this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(i);else{var l=this.getEl("body").firstChild.contentWindow.document;l.open(),l.write(i),l.close()}}})}),e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}),tinymce.PluginManager.add("print",function(e){e.addCommand("mcePrint",function(){e.getWin().print()}),e.addButton("print",{title:"Print",cmd:"mcePrint"}),e.addShortcut("Meta+P","","mcePrint"),e.addMenuItem("print",{text:"Print",cmd:"mcePrint",icon:"print",shortcut:"Meta+P",context:"file"})}),tinymce.PluginManager.add("save",function(e){function t(){var t;return t=tinymce.DOM.getParent(e.id,"form"),!e.getParam("save_enablewhendirty",!0)||e.isDirty()?(tinymce.triggerSave(),e.getParam("save_onsavecallback")?(e.execCallback("save_onsavecallback",e),void e.nodeChanged()):void(t?(e.setDirty(!1),(!t.onsubmit||t.onsubmit())&&("function"==typeof t.submit?t.submit():n(e.translate("Error: Form submit field collision."))),e.nodeChanged()):n(e.translate("Error: No form element found.")))):void 0}function n(t){e.notificationManager.open({text:t,type:"error"})}function i(){var t=tinymce.trim(e.startContent);return e.getParam("save_oncancelcallback")?void e.execCallback("save_oncancelcallback",e):(e.setContent(t),e.undoManager.clear(),void e.nodeChanged())}function r(){var t=this;e.on("nodeChange dirty",function(){t.disabled(e.getParam("save_enablewhendirty",!0)&&!e.isDirty())})}e.addCommand("mceSave",t),e.addCommand("mceCancel",i),e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:r}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:r}),e.addShortcut("Meta+S","","mceSave")}),!function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}function t(t,n,i,r,o){function a(e,t){if(t=t||0,!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";var n=e.index;if(t>0){var i=e[t];if(!i)throw"Invalid capture group";n+=e[0].indexOf(i),e[0]=i}return[n,n+e[0].length,[e[0]]]}function s(t){var n;if(3===t.nodeType)return t.data;if(p[t.nodeName]&&!f[t.nodeName])return"";if(n="",e(t))return"\n";if((f[t.nodeName]||m[t.nodeName])&&(n+="\n"),t=t.firstChild)do n+=s(t);while(t=t.nextSibling);return n}function l(t,n,i){var r,o,a,s,l=[],c=0,u=t,d=n.shift(),h=0;e:for(;;){if((f[u.nodeName]||m[u.nodeName]||e(u))&&c++,3===u.nodeType&&(!o&&u.length+c>=d[1]?(o=u,s=d[1]-c):r&&l.push(u),!r&&u.length+c>d[0]&&(r=u,a=d[0]-c),c+=u.length),r&&o){if(u=i({startNode:r,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:l,match:d[2],matchIndex:h}),c-=o.length-s,r=null,o=null,l=[],d=n.shift(),h++,!d)break}else if(p[u.nodeName]&&!f[u.nodeName]||!u.firstChild){if(u.nextSibling){u=u.nextSibling;continue}}else if(!e(u)){u=u.firstChild;continue}for(;;){if(u.nextSibling){u=u.nextSibling;break}if(u.parentNode===t)break e;u=u.parentNode}}}function c(e){var t;if("function"!=typeof e){var n=e.nodeType?e:h.createElement(e);t=function(e,t){var i=n.cloneNode(!1);return i.setAttribute("data-mce-index",t),e&&i.appendChild(h.createTextNode(e)),i}}else t=e;return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex;if(o===a){var l=o;r=l.parentNode,e.startNodeIndex>0&&(n=h.createTextNode(l.data.substring(0,e.startNodeIndex)),r.insertBefore(n,l));var c=t(e.match[0],s);return r.insertBefore(c,l),e.endNodeIndex<l.length&&(i=h.createTextNode(l.data.substring(e.endNodeIndex)),
r.insertBefore(i,l)),l.parentNode.removeChild(l),c}n=h.createTextNode(o.data.substring(0,e.startNodeIndex)),i=h.createTextNode(a.data.substring(e.endNodeIndex));for(var u=t(o.data.substring(e.startNodeIndex),s),d=[],f=0,p=e.innerNodes.length;p>f;++f){var m=e.innerNodes[f],g=t(m.data,s);m.parentNode.replaceChild(g,m),d.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),s);return r=o.parentNode,r.insertBefore(n,o),r.insertBefore(u,o),r.removeChild(o),r=a.parentNode,r.insertBefore(v,a),r.insertBefore(i,a),r.removeChild(a),v}}var u,d,h,f,p,m,g=[],v=0;if(h=n.ownerDocument,f=o.getBlockElements(),p=o.getWhiteSpaceElements(),m=o.getShortEndedElements(),d=s(n)){if(t.global)for(;u=t.exec(d);)g.push(a(u,r));else u=d.match(t),g.push(a(u,r));return g.length&&(v=g.length,l(n,g,c(i))),v}}function n(e){function n(){function t(){o.statusbar.find("#next").disabled(!a(d+1).length),o.statusbar.find("#prev").disabled(!a(d-1).length)}function n(){tinymce.ui.MessageBox.alert("Could not find the specified string.",function(){o.find("#find")[0].focus()})}var i,r={};i=tinymce.trim(e.selection.getContent({format:"text"}));var o=tinymce.ui.Factory.create({type:"window",layout:"flex",pack:"center",align:"center",onClose:function(){e.focus(),u.done()},onSubmit:function(e){var i,s,l,c;return e.preventDefault(),s=o.find("#case").checked(),c=o.find("#words").checked(),l=o.find("#find").value(),l.length?r.text==l&&r.caseState==s&&r.wholeWord==c?0===a(d+1).length?void n():(u.next(),void t()):(i=u.find(l,s,c),i||n(),o.statusbar.items().slice(1).disabled(0===i),t(),void(r={text:l,caseState:s,wholeWord:c})):(u.done(!1),void o.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){o.submit()}},{text:"Replace",disabled:!0,onclick:function(){u.replace(o.find("#replace").value())||(o.statusbar.items().slice(1).disabled(!0),d=-1,r={})}},{text:"Replace all",disabled:!0,onclick:function(){u.replace(o.find("#replace").value(),!0,!0),o.statusbar.items().slice(1).disabled(!0),r={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){u.prev(),t()}},{text:"Next",name:"next",disabled:!0,onclick:function(){u.next(),t()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:i},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}}).renderTo().reflow()}function i(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function r(n){var i,r;return r=e.dom.create("span",{"data-mce-bogus":1}),r.className="mce-match-marker",i=e.getBody(),u.done(!1),t(n,i,r,!1,e.schema)}function o(e){var t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function a(t){var n,r=[];if(n=tinymce.toArray(e.getBody().getElementsByTagName("span")),n.length)for(var o=0;o<n.length;o++){var a=i(n[o]);null!==a&&a.length&&a===t.toString()&&r.push(n[o])}return r}function s(t){var n=d,i=e.dom;t=t!==!1,t?n++:n--,i.removeClass(a(d),"mce-match-marker-selected");var r=a(n);return r.length?(i.addClass(a(n),"mce-match-marker-selected"),e.selection.scrollIntoView(r[0]),n):-1}function l(t){var n=e.dom,i=t.parentNode;n.remove(t),n.isEmpty(i)&&n.remove(i)}function c(e){var t=i(e);return null!==t&&t.length>0}var u=this,d=-1;u.init=function(e){e.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:n,separator:"before",context:"edit"}),e.addButton("searchreplace",{tooltip:"Find and replace",shortcut:"Meta+F",onclick:n}),e.addCommand("SearchReplace",n),e.shortcuts.add("Meta+F","",n)},u.find=function(e,t,n){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),e=n?"\\b"+e+"\\b":e;var i=r(new RegExp(e,t?"g":"gi"));return i&&(d=-1,d=s(!0)),i},u.next=function(){var e=s(!0);-1!==e&&(d=e)},u.prev=function(){var e=s(!1);-1!==e&&(d=e)},u.replace=function(t,n,r){var s,h,f,p,m,g,v=d;for(n=n!==!1,f=e.getBody(),h=tinymce.grep(tinymce.toArray(f.getElementsByTagName("span")),c),s=0;s<h.length;s++){var b=i(h[s]);if(p=m=parseInt(b,10),r||p===d){for(t.length?(h[s].firstChild.nodeValue=t,o(h[s])):l(h[s]);h[++s];){if(p=parseInt(i(h[s]),10),p!==m){s--;break}l(h[s])}n&&v--}else m>d&&h[s].setAttribute("data-mce-index",m-1)}return e.undoManager.add(),d=v,n?(g=a(v+1).length>0,u.next()):(g=a(v-1).length>0,u.prev()),!r&&g},u.done=function(t){var n,r,a,s;for(r=tinymce.toArray(e.getBody().getElementsByTagName("span")),n=0;n<r.length;n++){var l=i(r[n]);null!==l&&l.length&&(l===d.toString()&&(a||(a=r[n].firstChild),s=r[n].firstChild),o(r[n]))}if(a&&s){var c=e.dom.createRng();return c.setStart(a,0),c.setEnd(s,s.data.length),t!==!1&&e.selection.setRng(c),c}}}tinymce.PluginManager.add("searchreplace",n)}(),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=e,o=n[i],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}var a={};i("tinymce/spellcheckerplugin/DomTextMatcher",[],function(){function e(e){return e&&1==e.nodeType&&"false"===e.contentEditable}return function(t,n){function i(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function r(t){var n;if(3===t.nodeType)return t.data;if(C[t.nodeName]&&!k[t.nodeName])return"";if(e(t))return"\n";if(n="",(k[t.nodeName]||S[t.nodeName])&&(n+="\n"),t=t.firstChild)do n+=r(t);while(t=t.nextSibling);return n}function o(t,n,i){var r,o,a,s,l,c=[],u=0,d=t,h=0;n=n.slice(0),n.sort(function(e,t){return e.start-t.start}),l=n.shift();e:for(;;){if((k[d.nodeName]||S[d.nodeName]||e(d))&&u++,3===d.nodeType&&(!o&&d.length+u>=l.end?(o=d,s=l.end-u):r&&c.push(d),!r&&d.length+u>l.start&&(r=d,a=l.start-u),u+=d.length),r&&o){if(d=i({startNode:r,startNodeIndex:a,endNode:o,endNodeIndex:s,innerNodes:c,match:l.text,matchIndex:h}),u-=o.length-s,r=null,o=null,c=[],l=n.shift(),h++,!l)break}else if(C[d.nodeName]&&!k[d.nodeName]||!d.firstChild){if(d.nextSibling){d=d.nextSibling;continue}}else if(!e(d)){d=d.firstChild;continue}for(;;){if(d.nextSibling){d=d.nextSibling;break}if(d.parentNode===t)break e;d=d.parentNode}}}function a(e){function t(t,n){var i=T[n];i.stencil||(i.stencil=e(i));var r=i.stencil.cloneNode(!1);return r.setAttribute("data-mce-index",n),t&&r.appendChild(D.doc.createTextNode(t)),r}return function(e){var n,i,r,o=e.startNode,a=e.endNode,s=e.matchIndex,l=D.doc;if(o===a){var c=o;r=c.parentNode,e.startNodeIndex>0&&(n=l.createTextNode(c.data.substring(0,e.startNodeIndex)),r.insertBefore(n,c));var u=t(e.match,s);return r.insertBefore(u,c),e.endNodeIndex<c.length&&(i=l.createTextNode(c.data.substring(e.endNodeIndex)),r.insertBefore(i,c)),c.parentNode.removeChild(c),u}n=l.createTextNode(o.data.substring(0,e.startNodeIndex)),i=l.createTextNode(a.data.substring(e.endNodeIndex));for(var d=t(o.data.substring(e.startNodeIndex),s),h=[],f=0,p=e.innerNodes.length;p>f;++f){var m=e.innerNodes[f],g=t(m.data,s);m.parentNode.replaceChild(g,m),h.push(g)}var v=t(a.data.substring(0,e.endNodeIndex),s);return r=o.parentNode,r.insertBefore(n,o),r.insertBefore(d,o),r.removeChild(o),r=a.parentNode,r.insertBefore(v,a),r.insertBefore(i,a),r.removeChild(a),v}}function s(e){var t=e.parentNode;t.insertBefore(e.firstChild,e),e.parentNode.removeChild(e)}function l(e){var n=t.getElementsByTagName("*"),i=[];e="number"==typeof e?""+e:null;for(var r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-mce-index");null!==a&&a.length&&(a===e||null===e)&&i.push(o)}return i}function c(e){for(var t=T.length;t--;)if(T[t]===e)return t;return-1}function u(e){var t=[];return d(function(n,i){e(n,i)&&t.push(n)}),T=t,this}function d(e){for(var t=0,n=T.length;n>t&&e(T[t],t)!==!1;t++);return this}function h(e){return T.length&&o(t,T,a(e)),this}function f(e,t){if(_&&e.global)for(;w=e.exec(_);)T.push(i(w,t));return this}function p(e){var t,n=l(e?c(e):null);for(t=n.length;t--;)s(n[t]);return this}function m(e){return T[e.getAttribute("data-mce-index")]}function g(e){return l(c(e))[0]}function v(e,t,n){return T.push({start:e,end:e+t,text:_.substr(e,t),data:n}),this}function b(e){var t=l(c(e)),i=n.dom.createRng();return i.setStartBefore(t[0]),i.setEndAfter(t[t.length-1]),i}function y(e,t){var i=b(e);return i.deleteContents(),t.length>0&&i.insertNode(n.dom.doc.createTextNode(t)),i}function x(){return T.splice(0,T.length),p(),this}var w,_,k,C,S,T=[],D=n.dom;return k=n.schema.getBlockElements(),C=n.schema.getWhiteSpaceElements(),S=n.schema.getShortEndedElements(),_=r(t),{text:_,matches:T,each:d,filter:u,reset:x,matchFromElement:m,elementFromMatch:g,find:f,add:v,wrap:h,unwrap:p,replace:y,rangeFromMatch:b,indexOf:c}}}),i("tinymce/spellcheckerplugin/Plugin",["tinymce/spellcheckerplugin/DomTextMatcher","tinymce/PluginManager","tinymce/util/Tools","tinymce/ui/Menu","tinymce/dom/DOMUtils","tinymce/util/XHR","tinymce/util/URI","tinymce/util/JSON"],function(e,t,n,i,r,o,a,s){t.add("spellchecker",function(t,l){function c(){return M.textMatcher||(M.textMatcher=new e(t.getBody(),t)),M.textMatcher}function u(e,t){var i=[];return n.each(t,function(e){i.push({selectable:!0,text:e.name,data:e.value})}),i}function d(e){for(var t in e)return!1;return!0}function h(e,o){var a=[],s=T[e];n.each(s,function(e){a.push({text:e,onclick:function(){t.insertContent(t.dom.encode(e)),t.dom.remove(o),v()}})}),a.push({text:"-"}),E&&a.push({text:"Add to Dictionary",onclick:function(){b(e,o)}}),a.push.apply(a,[{text:"Ignore",onclick:function(){y(e,o)}},{text:"Ignore all",onclick:function(){y(e,o,!0)}}]),A=new i({items:a,context:"contextmenu",onautohide:function(e){-1!=e.target.className.indexOf("spellchecker")&&e.preventDefault()},onhide:function(){A.remove(),A=null}}),A.renderTo(document.body);var l=r.DOM.getPos(t.getContentAreaContainer()),c=t.dom.getPos(o[0]),u=t.dom.getRoot();"BODY"==u.nodeName?(c.x-=u.ownerDocument.documentElement.scrollLeft||u.scrollLeft,c.y-=u.ownerDocument.documentElement.scrollTop||u.scrollTop):(c.x-=u.scrollLeft,c.y-=u.scrollTop),l.x+=c.x,l.y+=c.y,A.moveTo(l.x,l.y+o[0].offsetHeight)}function f(){return t.getParam("spellchecker_wordchar_pattern")||new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xa7\xa9\xab\xae\xb1\xb6\xb7\xb8\xbb\xbc\xbd\xbe\xbf\xd7\xf7\xa4\u201d\u201c\u201e\xa0\u2002\u2003\u2009]+',"g")}function p(e,i,r,c){var u={method:e},d="";"spellcheck"==e&&(u.text=i,u.lang=P.spellchecker_language),"addToDictionary"==e&&(u.word=i),n.each(u,function(e,t){d&&(d+="&"),d+=t+"="+encodeURIComponent(e)}),o.send({url:new a(l).toAbsolute(P.spellchecker_rpc_url),type:"post",content_type:"application/x-www-form-urlencoded",data:d,success:function(e){if(e=s.parse(e))e.error?c(e.error):r(e);else{var n=t.translate("Server response wasn't proper JSON.");c(n)}},error:function(){var e=t.translate("The spelling service was not found: (")+P.spellchecker_rpc_url+t.translate(")");c(e)}})}function m(e,t,n,i){var r=P.spellchecker_callback||p;r.call(M,e,t,n,i)}function g(){function e(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1),x()}x()||(t.setProgressState(!0),m("spellcheck",c().text,C,e),t.focus())}function v(){t.dom.select("span.mce-spellchecker-word").length||x()}function b(e,n){t.setProgressState(!0),m("addToDictionary",e,function(){t.setProgressState(!1),t.dom.remove(n,!0),v()},function(e){t.notificationManager.open({text:e,type:"error"}),t.setProgressState(!1)})}function y(e,i,r){t.selection.collapse(),r?n.each(t.dom.select("span.mce-spellchecker-word"),function(n){n.getAttribute("data-mce-word")==e&&t.dom.remove(n,!0)}):t.dom.remove(i,!0),v()}function x(){return c().reset(),M.textMatcher=null,D?(D=!1,t.fire("SpellcheckEnd"),!0):void 0}function w(e){var t=e.getAttribute("data-mce-index");return"number"==typeof t?""+t:t}function _(e){var i,r=[];if(i=n.toArray(t.getBody().getElementsByTagName("span")),i.length)for(var o=0;o<i.length;o++){var a=w(i[o]);null!==a&&a.length&&a===e.toString()&&r.push(i[o])}return r}function k(e){var t=P.spellchecker_language;e.control.items().each(function(e){e.active(e.settings.data===t)})}function C(e){var n;if(e.words?(E=!!e.dictionary,n=e.words):n=e,t.setProgressState(!1),d(n)){var i=t.translate("No misspellings found.");return t.notificationManager.open({text:i,type:"info"}),void(D=!1)}T=n,c().find(f()).filter(function(e){return!!n[e.text]}).wrap(function(e){return t.dom.create("span",{"class":"mce-spellchecker-word","data-mce-bogus":1,"data-mce-word":e.text})}),D=!0,t.fire("SpellcheckStart")}var S,T,D,A,E,M=this,P=t.settings,N=P.spellchecker_languages||"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";S=u("Language",n.map(N.split(","),function(e){return e=e.split("="),{name:e[0],value:e[1]}})),t.on("click",function(e){var n=e.target;if("mce-spellchecker-word"==n.className){e.preventDefault();var i=_(w(n));if(i.length>0){var r=t.dom.createRng();r.setStartBefore(i[0]),r.setEndAfter(i[i.length-1]),t.selection.setRng(r),h(n.getAttribute("data-mce-word"),i)}}}),t.addMenuItem("spellchecker",{text:"Spellcheck",context:"tools",onclick:g,selectable:!0,onPostRender:function(){var e=this;e.active(D),t.on("SpellcheckStart SpellcheckEnd",function(){e.active(D)})}});var R={tooltip:"Spellcheck",onclick:g,onPostRender:function(){var e=this;t.on("SpellcheckStart SpellcheckEnd",function(){e.active(D)})}};S.length>1&&(R.type="splitbutton",R.menu=S,R.onshow=k,R.onselect=function(e){P.spellchecker_language=e.control.settings.data}),t.addButton("spellchecker",R),t.addCommand("mceSpellCheck",g),t.on("remove",function(){A&&(A.remove(),A=null)}),t.on("change",v),this.getTextMatcher=c,this.getWordCharPattern=f,this.markErrors=C,this.getLanguage=function(){return P.spellchecker_language},P.spellchecker_language=P.spellchecker_language||P.language||"en"})}),o(["tinymce/spellcheckerplugin/DomTextMatcher"])}(this),tinymce.PluginManager.add("tabfocus",function(e){function t(e){9!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey||e.preventDefault()}function n(t){function n(n){function o(e){return"BODY"===e.nodeName||"hidden"!=e.type&&"none"!=e.style.display&&"hidden"!=e.style.visibility&&o(e.parentNode)}function l(e){return/INPUT|TEXTAREA|BUTTON/.test(e.tagName)&&tinymce.get(t.id)&&-1!=e.tabIndex&&o(e)}if(s=i.select(":input:enabled,*[tabindex]:not(iframe)"),r(s,function(t,n){return t.id==e.id?(a=n,!1):void 0}),n>0){for(c=a+1;c<s.length;c++)if(l(s[c]))return s[c]}else for(c=a-1;c>=0;c--)if(l(s[c]))return s[c];return null}var a,s,l,c;if(!(9!==t.keyCode||t.ctrlKey||t.altKey||t.metaKey||t.isDefaultPrevented())&&(l=o(e.getParam("tab_focus",e.getParam("tabfocus_elements",":prev,:next"))),1==l.length&&(l[1]=l[0],l[0]=":prev"),s=t.shiftKey?":prev"==l[0]?n(-1):i.get(l[0]):":next"==l[1]?n(1):i.get(l[1]))){var u=tinymce.get(s.id||s.name);s.id&&u?u.focus():tinymce.util.Delay.setTimeout(function(){tinymce.Env.webkit||window.focus(),s.focus()},10),t.preventDefault()}}var i=tinymce.DOM,r=tinymce.each,o=tinymce.explode;e.on("init",function(){e.inline&&tinymce.DOM.setAttrib(e.getBody(),"tabIndex",null),e.on("keyup",t),tinymce.Env.gecko?e.on("keypress keydown",n):e.on("keydown",n)})}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],a=0;a<e.length;++a){if(n=o[e[a]]||r(e[a]),!n)throw"module definition dependecy not found: "+e[a];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){o[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}var o={};i("tinymce/tableplugin/Utils",["tinymce/Env"],function(e){function t(e,t){return parseInt(e.getAttribute(t)||1,10)}function n(t){(!e.ie||e.ie>10)&&(t.innerHTML='<br data-mce-bogus="1" />')}return{getSpanVal:t,paddCell:n}}),i("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils"],function(e,n,i){var r=e.each,o=i.getSpanVal;return function(a,s){function l(e){return e===a.getBody()}function c(){var e=0;O=[],L=0,r(["thead","tbody","tfoot"],function(t){var n=H.select("> "+t+" tr",s);r(n,function(n,i){i+=e,r(H.select("> td, > th",n),function(e,n){var r,a,s,l;if(O[i])for(;O[i][n];)n++;for(s=o(e,"rowspan"),l=o(e,"colspan"),a=i;i+s>a;a++)for(O[a]||(O[a]=[]),r=n;n+l>r;r++)O[a][r]={part:t,real:a==i&&r==n,elm:e,rowspan:s,colspan:l};L=Math.max(L,n+1)})}),e+=n.length})}function u(e,t){return e=e.cloneNode(t),e.removeAttribute("id"),e}function d(e,t){var n;return n=O[t],n?n[e]:void 0}function h(e,t,n){e&&(n=parseInt(n,10),1===n?e.removeAttribute(t,1):e.setAttribute(t,n,1))}function f(e){return e&&(H.hasClass(e.elm,"mce-item-selected")||e==B)}function p(){var e=[];return r(s.rows,function(t){r(t.cells,function(n){return H.hasClass(n,"mce-item-selected")||B&&n==B.elm?(e.push(t),!1):void 0})}),e}function m(){var e=H.createRng();l(s)||(e.setStartAfter(s),e.setEndAfter(s),F.setRng(e),H.remove(s))}function g(t){var o,s={};return a.settings.table_clone_elements!==!1&&(s=e.makeMap((a.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var i;return 3==e.nodeType?(r(H.getParents(e.parentNode,null,t).reverse(),function(e){s[e.nodeName]&&(e=u(e,!1),o?i&&i.appendChild(e):o=i=e,i=e)}),i&&(i.innerHTML=n.ie?"&nbsp;":'<br data-mce-bogus="1" />'),!1):void 0},"childNodes"),t=u(t,!1),h(t,"rowSpan",1),h(t,"colSpan",1),o?t.appendChild(o):i.paddCell(t),t}function v(){var e,t=H.createRng();return r(H.select("tr",s),function(e){0===e.cells.length&&H.remove(e)}),0===H.select("tr",s).length?(t.setStartBefore(s),t.setEndBefore(s),F.setRng(t),void H.remove(s)):(r(H.select("thead,tbody,tfoot",s),function(e){0===e.rows.length&&H.remove(e)}),c(),void(j&&(e=O[Math.min(O.length-1,j.y)],e&&(F.select(e[Math.min(e.length-1,j.x)].elm,!0),F.collapse(!0)))))}function b(e,t,n,i){var r,o,a,s,l;for(r=O[t][e].elm.parentNode,a=1;n>=a;a++)if(r=H.getNext(r,"tr")){for(o=e;o>=0;o--)if(l=O[t+a][o].elm,l.parentNode==r){for(s=1;i>=s;s++)H.insertAfter(g(l),l);break}if(-1==o)for(s=1;i>=s;s++)r.insertBefore(g(r.cells[0]),r.cells[0])}}function y(){r(O,function(e,t){r(e,function(e,n){var i,r,a;if(f(e)&&(e=e.elm,i=o(e,"colspan"),r=o(e,"rowspan"),i>1||r>1)){for(h(e,"rowSpan",1),h(e,"colSpan",1),a=0;i-1>a;a++)H.insertAfter(g(e),e);b(n,t,r-1,i)}})})}function x(t,n,i){var o,a,s,l,u,p,m,g,b,x,w;if(t?(o=M(t),a=o.x,s=o.y,l=a+(n-1),u=s+(i-1)):(j=z=null,r(O,function(e,t){r(e,function(e,n){f(e)&&(j||(j={x:n,y:t}),z={x:n,y:t})})}),j&&(a=j.x,s=j.y,l=z.x,u=z.y)),g=d(a,s),b=d(l,u),g&&b&&g.part==b.part){for(y(),c(),g=d(a,s).elm,h(g,"colSpan",l-a+1),h(g,"rowSpan",u-s+1),m=s;u>=m;m++)for(p=a;l>=p;p++)O[m]&&O[m][p]&&(t=O[m][p].elm,t!=g&&(x=e.grep(t.childNodes),r(x,function(e){g.appendChild(e)}),x.length&&(x=e.grep(g.childNodes),w=0,r(x,function(e){"BR"==e.nodeName&&H.getAttrib(e,"data-mce-bogus")&&w++<x.length-1&&g.removeChild(e)})),H.remove(t)));v()}}function w(e){var n,i,a,s,l,c,d,p,m;if(r(O,function(t,i){return r(t,function(t){return f(t)&&(t=t.elm,l=t.parentNode,c=u(l,!1),n=i,e)?!1:void 0}),e?!n:void 0}),n!==t){for(s=0;s<O[0].length;s++)if(O[n][s]&&(i=O[n][s].elm,i!=a)){if(e){if(n>0&&O[n-1][s]&&(p=O[n-1][s].elm,m=o(p,"rowSpan"),m>1)){h(p,"rowSpan",m+1);continue}}else if(m=o(i,"rowspan"),m>1){h(i,"rowSpan",m+1);continue}d=g(i),h(d,"colSpan",i.colSpan),c.appendChild(d),a=i}c.hasChildNodes()&&(e?l.parentNode.insertBefore(c,l):H.insertAfter(c,l))}}function _(e){var t,n;r(O,function(n){return r(n,function(n,i){return f(n)&&(t=i,e)?!1:void 0}),e?!t:void 0}),r(O,function(i,r){var a,s,l;i[t]&&(a=i[t].elm,a!=n&&(l=o(a,"colspan"),s=o(a,"rowspan"),1==l?e?(a.parentNode.insertBefore(g(a),a),b(t,r,s-1,l)):(H.insertAfter(g(a),a),b(t,r,s-1,l)):h(a,"colSpan",a.colSpan+1),n=a))})}function k(t){return e.grep(C(t),f)}function C(e){var t=[];return r(e,function(e){r(e,function(e){t.push(e)})}),t}function S(){var t=[];if(l(s)){if(1==O[0].length)return;if(k(O).length==C(O).length)return}r(O,function(n){r(n,function(n,i){f(n)&&-1===e.inArray(t,i)&&(r(O,function(e){var t,n=e[i].elm;t=o(n,"colSpan"),t>1?h(n,"colSpan",t-1):H.remove(n)}),t.push(i))})}),v()}function T(){function e(e){var t,n;r(e.cells,function(e){var n=o(e,"rowSpan");n>1&&(h(e,"rowSpan",n-1),t=M(e),b(t.x,t.y,1,1))}),t=M(e.cells[0]),r(O[t.y],function(e){var t;e=e.elm,e!=n&&(t=o(e,"rowSpan"),1>=t?H.remove(e):h(e,"rowSpan",t-1),n=e)})}var t;t=p(),l(s)&&t.length==s.rows.length||(r(t.reverse(),function(t){e(t)}),v())}function D(){var e=p();return l(s)&&e.length==s.rows.length?void 0:(H.remove(e),v(),e)}function A(){var e=p();return r(e,function(t,n){e[n]=u(t,!0)}),e}function E(e,t){var n=p(),i=n[t?0:n.length-1],o=i.cells.length;e&&(r(O,function(e){var t;return o=0,r(e,function(e){e.real&&(o+=e.colspan),e.elm.parentNode==i&&(t=1)}),t?!1:void 0}),t||e.reverse(),r(e,function(e){var n,r,a=e.cells.length;for(n=0;a>n;n++)r=e.cells[n],h(r,"colSpan",1),h(r,"rowSpan",1);for(n=a;o>n;n++)e.appendChild(g(e.cells[a-1]));for(n=o;a>n;n++)H.remove(e.cells[n]);t?i.parentNode.insertBefore(e,i):H.insertAfter(e,i)}),H.removeClass(H.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"))}function M(e){var t;return r(O,function(n,i){return r(n,function(n,r){return n.elm==e?(t={x:r,y:i},!1):void 0}),!t}),t}function P(e){j=M(e)}function N(){var e,t;return e=t=0,r(O,function(n,i){r(n,function(n,r){var o,a;f(n)&&(n=O[i][r],r>e&&(e=r),i>t&&(t=i),n.real&&(o=n.colspan-1,a=n.rowspan-1,o&&r+o>e&&(e=r+o),a&&i+a>t&&(t=i+a)))})}),{x:e,y:t}}function R(e){var t,n,i,r,o,a,s,l,c,u;if(z=M(e),j&&z){for(t=Math.min(j.x,z.x),n=Math.min(j.y,z.y),i=Math.max(j.x,z.x),r=Math.max(j.y,z.y),o=i,a=r,u=n;a>=u;u++)e=O[u][t],e.real||t-(e.colspan-1)<t&&(t-=e.colspan-1);for(c=t;o>=c;c++)e=O[n][c],e.real||n-(e.rowspan-1)<n&&(n-=e.rowspan-1);for(u=n;r>=u;u++)for(c=t;i>=c;c++)e=O[u][c],e.real&&(s=e.colspan-1,l=e.rowspan-1,s&&c+s>o&&(o=c+s),l&&u+l>a&&(a=u+l));for(H.removeClass(H.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),u=n;a>=u;u++)for(c=t;o>=c;c++)O[u][c]&&H.addClass(O[u][c].elm,"mce-item-selected")}}function I(e,t){var n,i,r;n=M(e),i=n.y*L+n.x;do{if(i+=t,r=d(i%L,Math.floor(i/L)),!r)break;if(r.elm!=e)return F.select(r.elm,!0),H.isEmpty(r.elm)&&F.collapse(!0),!0}while(r.elm==e);return!1}var O,L,j,z,B,F=a.selection,H=F.dom;s=s||H.getParent(F.getStart(!0),"table"),c(),B=H.getParent(F.getStart(!0),"th,td"),B&&(j=M(B),z=N(),B=d(j.x,j.y)),e.extend(this,{deleteTable:m,split:y,merge:x,insertRow:w,insertCol:_,deleteCols:S,deleteRows:T,cutRows:D,copyRows:A,pasteRows:E,getPos:M,setStartCell:P,setEndCell:R,moveRelIdx:I,refresh:c})}}),i("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t,n,i,r){var o=i.each,a=r.getSpanVal;return function(s){function l(){function n(n){function i(e,t){var i=e?"previousSibling":"nextSibling",o=s.dom.getParent(t,"tr"),a=o[i];if(a)return v(s,t,a,e),n.preventDefault(),!0;var l=s.dom.getParent(o,"table"),d=o.parentNode,h=d.nodeName.toLowerCase();if("tbody"===h||h===(e?"tfoot":"thead")){var f=r(e,l,d,"tbody");if(null!==f)return c(e,f,t)}return u(e,o,i,l)}function r(e,t,n,i){var r=s.dom.select(">"+i,t),o=r.indexOf(n);if(e&&0===o||!e&&o===r.length-1)return l(e,t);if(-1===o){var a="thead"===n.tagName.toLowerCase()?0:r.length-1;return r[a]}return r[o+(e?-1:1)]}function l(e,t){var n=e?"thead":"tfoot",i=s.dom.select(">"+n,t);return 0!==i.length?i[0]:null}function c(e,t,i){var r=d(t,e);return r&&v(s,i,r,e),n.preventDefault(),!0}function u(e,t,r,o){var a=o[r];if(a)return h(a),!0;var l=s.dom.getParent(o,"td,th");if(l)return i(e,l,n);var c=d(t,!e);return h(c),n.preventDefault(),!1}function d(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?s.dom.getParent(n,"td,th"):n}function h(e){s.selection.setCursorLocation(e,0)}function f(){return x==e.UP||x==e.DOWN}function p(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"tr");return null!==n}function m(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,"colspan");return t}function g(e,t){var n=0,i=0;return o(e.children,function(e,r){return n+=a(e,"colspan"),i=r,n>t?!1:void 0}),i}function v(e,t,n,i){var r=m(s.dom.getParent(t,"td,th")),o=g(n,r),a=n.childNodes[o],l=d(a,i);h(l||a)}function b(e){var t=s.selection.getNode(),n=s.dom.getParent(t,"td,th"),i=s.dom.getParent(e,"td,th");return n&&n!==i&&y(n,i)}function y(e,t){return s.dom.getParent(e,"TABLE")===s.dom.getParent(t,"TABLE")}var x=n.keyCode;if(f()&&p(s)){var w=s.selection.getNode();t.setEditorTimeout(s,function(){b(w)&&i(!n.shiftKey&&x===e.UP,w,n)},0)}}s.on("KeyDown",function(e){n(e)})}function c(){function e(e,t){var n,i=t.ownerDocument,r=i.createRange();return r.setStartBefore(t),r.setEnd(e.endContainer,e.endOffset),n=i.createElement("body"),n.appendChild(r.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}s.on("KeyDown",function(t){var n,i,r=s.dom;(37==t.keyCode||38==t.keyCode)&&(n=s.selection.getRng(),i=r.getParent(n.startContainer,"table"),i&&s.getBody().firstChild==i&&e(n,i)&&(n=r.createRng(),n.setStartBefore(i),n.setEndBefore(i),s.selection.setRng(n),t.preventDefault()))})}function u(){s.on("KeyDown SetContent VisualAid",function(){var e;for(e=s.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(s.settings.forced_root_block?s.dom.add(s.getBody(),s.settings.forced_root_block,s.settings.forced_root_block_attrs,n.ie&&n.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):s.dom.add(s.getBody(),"br",{"data-mce-bogus":"1"}))}),s.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||"\xa0"==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&s.dom.remove(t)})}function d(){function e(e,t,n,i){var r,o,a,s=3,l=e.dom.getParent(t.startContainer,"TABLE");return l&&(r=l.parentNode),o=t.startContainer.nodeType==s&&0===t.startOffset&&0===t.endOffset&&i&&("TR"==n.nodeName||n==r),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!i,o||a}function t(){var t=s.selection.getRng(),n=s.selection.getNode(),i=s.dom.getParent(t.startContainer,"TD,TH");if(e(s,t,n,i)){i||(i=n);for(var r=i.lastChild;r.lastChild;)r=r.lastChild;3==r.nodeType&&(t.setEnd(r,r.data.length),s.selection.setRng(t))}}s.on("KeyDown",function(){t()}),s.on("MouseDown",function(e){2!=e.button&&t()})}function h(){function t(e){s.selection.select(e,!0),s.selection.collapse(!0)}function n(e){s.$(e).empty(),r.paddCell(e)}s.on("keydown",function(r){if((r.keyCode==e.DELETE||r.keyCode==e.BACKSPACE)&&!r.isDefaultPrevented()){var o,a,l,c;if(o=s.dom.getParent(s.selection.getStart(),"table")){if(a=s.dom.select("td,th",o),l=i.grep(a,function(e){return s.dom.hasClass(e,"mce-item-selected")}),0===l.length)return c=s.dom.getParent(s.selection.getStart(),"td,th"),void(s.selection.isCollapsed()&&c&&s.dom.isEmpty(c)&&(r.preventDefault(),n(c),t(c)));r.preventDefault(),s.undoManager.transact(function(){a.length==l.length?s.execCommand("mceTableDelete"):(i.each(l,n),t(l[0]))})}}})}h(),n.webkit&&(l(),d()),n.gecko&&(c(),u()),n.ie>10&&(c(),u())}}),i("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,t,n){return function(i){function r(e){i.getBody().style.webkitUserSelect="",(e||d)&&(i.dom.removeClass(i.dom.select("td.mce-item-selected,th.mce-item-selected"),"mce-item-selected"),d=!1)}function o(t){var n,r,o=t.target;if(!c&&s&&(a||o!=s)&&("TD"==o.nodeName||"TH"==o.nodeName)){r=u.getParent(o,"table"),r==l&&(a||(a=new e(i,r),a.setStartCell(s),i.getBody().style.webkitUserSelect="none"),a.setEndCell(o),d=!0),n=i.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(h){}t.preventDefault()}}var a,s,l,c,u=i.dom,d=!0;return i.on("MouseDown",function(e){2==e.button||c||(r(),s=u.getParent(e.target,"td,th"),l=u.getParent(s,"table"))}),i.on("mouseover",o),i.on("remove",function(){u.unbind(i.getDoc(),"mouseover",o)}),i.on("MouseUp",function(){function e(e,i){var o=new t(e,e);do{if(3==e.nodeType&&0!==n.trim(e.nodeValue).length)return void(i?r.setStart(e,0):r.setEnd(e,e.nodeValue.length));if("BR"==e.nodeName)return void(i?r.setStartBefore(e):r.setEndBefore(e))}while(e=i?o.next():o.prev())}var r,o,c,d,h,f=i.selection;if(s){if(a&&(i.getBody().style.webkitUserSelect=""),o=u.select("td.mce-item-selected,th.mce-item-selected"),o.length>0){r=u.createRng(),d=o[0],r.setStartBefore(d),r.setEndAfter(d),e(d,1),c=new t(d,u.getParent(o[0],"table"));do if("TD"==d.nodeName||"TH"==d.nodeName){if(!u.hasClass(d,"mce-item-selected"))break;h=d}while(d=c.next());e(h),f.setRng(r)}i.nodeChanged(),s=a=l=null}}),i.on("KeyUp Drop SetContent",function(e){r("setcontent"==e.type),s=a=l=null,c=!1}),i.on("ObjectResizeStart ObjectResized",function(e){c="objectresized"!=e.type}),{clear:r}}}),i("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each;return function(i){function r(){var e=i.settings.color_picker_callback;return e?function(){var t=this;e.call(i,function(e){t.value(e).fire("change")},t.value())}:void 0}function o(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){d(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:r()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:r()}]}]}}function a(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function l(e){n("left center right".split(" "),function(t){i.formatter.remove("align"+t,{},e)})}function c(e){n("top middle bottom".split(" "),function(t){i.formatter.remove("valign"+t,{},e)})}function u(t,n,i){function r(t,i){return i=i||[],e.each(t,function(e){var t={text:e.text||e.title};e.menu?t.menu=r(e.menu):(t.value=e.value,n&&n(t)),i.push(t)}),i}return r(t,i||[])}function d(e,t,n){var i=t.toJSON(),r=e.parseStyle(i.style);n?(t.find("#borderColor").value(r["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(r["background-color"]||"")[0].fire("change")):(r["border-color"]=i.borderColor,r["background-color"]=i.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}function h(e,t,n){var i=e.parseStyle(e.getAttrib(n,"style"));i["border-color"]&&(t.borderColor=i["border-color"]),i["background-color"]&&(t.backgroundColor=i["background-color"]),t.style=e.serializeStyle(i)}function f(e,t,i){var r=e.parseStyle(e.getAttrib(t,"style"));n(i,function(e){r[e.name]=e.value}),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}var p=this;p.tableProps=function(){p.table(!0)},p.table=function(r){function c(){function n(e,t,i){if("TD"===e.tagName||"TH"===e.tagName)w.setStyle(e,t,i);else if(e.children)for(var r=0;r<e.children.length;r++)n(e.children[r],t,i);
}var r;d(w,this),_=e.extend(_,this.toJSON()),_["class"]===!1&&delete _["class"],i.undoManager.transact(function(){if(m||(m=i.plugins.table.insertTable(_.cols||1,_.rows||1)),i.dom.setAttribs(m,{style:_.style,"class":_["class"]}),i.settings.table_style_by_css){if(x=[],x.push({name:"border",value:_.border}),x.push({name:"border-spacing",value:s(_.cellspacing)}),f(w,m,x),w.setAttribs(m,{"data-mce-border-color":_.borderColor,"data-mce-cell-padding":_.cellpadding,"data-mce-border":_.border}),m.children)for(var e=0;e<m.children.length;e++)n(m.children[e],"border",_.border),n(m.children[e],"padding",s(_.cellpadding))}else i.dom.setAttribs(m,{border:_.border,cellpadding:_.cellpadding,cellspacing:_.cellspacing});w.getAttrib(m,"width")&&!i.settings.table_style_by_css?w.setAttrib(m,"width",a(_.width)):w.setStyle(m,"width",s(_.width)),w.setStyle(m,"height",s(_.height)),r=w.select("caption",m)[0],r&&!_.caption&&w.remove(r),!r&&_.caption&&(r=w.create("caption"),r.innerHTML=t.ie?"\xa0":'<br data-mce-bogus="1"/>',m.insertBefore(r,m.firstChild)),l(m),_.align&&i.formatter.apply("align"+_.align,{},m),i.focus(),i.addVisual()})}function p(e,t){function n(e,n){for(var i=0;i<n.length;i++){var r=w.getStyle(n[i],t);if("undefined"==typeof e&&(e=r),e!=r)return""}return e}var r,o=i.dom.select("td,th",e);return r=n(r,o)}var m,g,v,b,y,x,w=i.dom,_={};r===!0?(m=w.getParent(i.selection.getStart(),"table"),m&&(_={width:a(w.getStyle(m,"width")||w.getAttrib(m,"width")),height:a(w.getStyle(m,"height")||w.getAttrib(m,"height")),cellspacing:a(w.getStyle(m,"border-spacing")||w.getAttrib(m,"cellspacing")),cellpadding:w.getAttrib(m,"data-mce-cell-padding")||w.getAttrib(m,"cellpadding")||p(m,"padding"),border:w.getAttrib(m,"data-mce-border")||w.getAttrib(m,"border")||p(m,"border"),borderColor:w.getAttrib(m,"data-mce-border-color"),caption:!!w.select("caption",m)[0],"class":w.getAttrib(m,"class")},n("left center right".split(" "),function(e){i.formatter.matchNode(m,"align"+e)&&(_.align=e)}))):(g={label:"Cols",name:"cols"},v={label:"Rows",name:"rows"}),i.settings.table_class_list&&(_["class"]&&(_["class"]=_["class"].replace(/\s*mce\-item\-table\s*/g,"")),b={name:"class",type:"listbox",label:"Class",values:u(i.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"table",classes:[e.value]})})})}),y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:i.settings.table_appearance_options!==!1?[g,v,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[g,v,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},b]},i.settings.table_advtab!==!1?(h(w,_,m),i.windowManager.open({title:"Table properties",data:_,bodyType:"tabpanel",body:[{title:"General",type:"form",items:y},o(w)],onsubmit:c})):i.windowManager.open({title:"Table properties",data:_,body:y,onsubmit:c})},p.merge=function(e,t){i.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();i.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},p.cell=function(){function t(){d(m,this),f=e.extend(f,this.toJSON()),i.undoManager.transact(function(){n(g,function(e){i.dom.setAttribs(e,{scope:f.scope,style:f.style,"class":f["class"]}),i.dom.setStyles(e,{width:s(f.width),height:s(f.height)}),f.type&&e.nodeName.toLowerCase()!=f.type&&(e=m.rename(e,f.type)),l(e),f.align&&i.formatter.apply("align"+f.align,{},e),c(e),f.valign&&i.formatter.apply("valign"+f.valign,{},e)}),i.focus()})}var r,f,p,m=i.dom,g=[];if(g=i.dom.select("td.mce-item-selected,th.mce-item-selected"),r=i.dom.getParent(i.selection.getStart(),"td,th"),!g.length&&r&&g.push(r),r=r||g[0]){f={width:a(m.getStyle(r,"width")||m.getAttrib(r,"width")),height:a(m.getStyle(r,"height")||m.getAttrib(r,"height")),scope:m.getAttrib(r,"scope"),"class":m.getAttrib(r,"class")},f.type=r.nodeName.toLowerCase(),n("left center right".split(" "),function(e){i.formatter.matchNode(r,"align"+e)&&(f.align=e)}),n("top middle bottom".split(" "),function(e){i.formatter.matchNode(r,"valign"+e)&&(f.valign=e)}),i.settings.table_cell_class_list&&(p={name:"class",type:"listbox",label:"Class",values:u(i.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"td",classes:[e.value]})})})});var v={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},p]};i.settings.table_cell_advtab!==!1?(h(m,f,r),i.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:f,body:[{title:"General",type:"form",items:v},o(m)],onsubmit:t})):i.windowManager.open({title:"Cell properties",data:f,body:v,onsubmit:t})}},p.row=function(){function t(){var t,r,o;d(v,this),m=e.extend(m,this.toJSON()),i.undoManager.transact(function(){var e=m.type;n(b,function(n){i.dom.setAttribs(n,{scope:m.scope,style:m.style,"class":m["class"]}),i.dom.setStyles(n,{height:s(m.height)}),e!=n.parentNode.nodeName.toLowerCase()&&(t=v.getParent(n,"table"),r=n.parentNode,o=v.select(e,t)[0],o||(o=v.create(e),t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)),o.appendChild(n),r.hasChildNodes()||v.remove(r)),l(n),m.align&&i.formatter.apply("align"+m.align,{},n)}),i.focus()})}var r,c,f,p,m,g,v=i.dom,b=[];r=i.dom.getParent(i.selection.getStart(),"table"),c=i.dom.getParent(i.selection.getStart(),"td,th"),n(r.rows,function(e){n(e.cells,function(t){return v.hasClass(t,"mce-item-selected")||t==c?(b.push(e),!1):void 0})}),f=b[0],f&&(m={height:a(v.getStyle(f,"height")||v.getAttrib(f,"height")),scope:v.getAttrib(f,"scope"),"class":v.getAttrib(f,"class")},m.type=f.parentNode.nodeName.toLowerCase(),n("left center right".split(" "),function(e){i.formatter.matchNode(f,"align"+e)&&(m.align=e)}),i.settings.table_row_class_list&&(p={name:"class",type:"listbox",label:"Class",values:u(i.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return i.formatter.getCssText({block:"tr",classes:[e.value]})})})}),g={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"None",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},p]},i.settings.table_row_advtab!==!1?(h(v,m,f),i.windowManager.open({title:"Row properties",data:m,bodyType:"tabpanel",body:[{title:"General",type:"form",items:g},o(v)],onsubmit:t})):i.windowManager.open({title:"Row properties",data:m,body:g,onsubmit:t}))}}}),i("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(e,n){return function(i){function r(e,t){return{index:e,y:i.dom.getPos(t).y}}function o(e,t){return{index:e,y:i.dom.getPos(t).y+t.offsetHeight}}function a(e,t){return{index:e,x:i.dom.getPos(t).x}}function s(e,t){return{index:e,x:i.dom.getPos(t).x+t.offsetWidth}}function l(){var e=i.getBody().dir;return"rtl"===e}function c(){return i.inline}function u(){return c?i.getBody().ownerDocument.body:i.getBody()}function d(e,t){return l()?s(e,t):a(e,t)}function h(e,t){return l()?a(e,t):s(e,t)}function f(e,t){return p(e,"width")/p(t,"width")*100}function p(e,t){var n=i.dom.getStyle(e,t,!0),r=parseInt(n,10);return r}function m(e){var t=p(e,"width"),n=p(e.parentElement,"width");return t/n*100}function g(e,t){var n=p(e,"width");return t/n*100}function v(e,t){var n=p(e.parentElement,"width");return t/n*100}function b(e,t,n){for(var i=[],r=1;r<n.length;r++){var o=n[r].element;i.push(e(r-1,o))}var a=n[n.length-1];return i.push(t(n.length-1,a.element)),i}function y(){var t=i.dom.select("."+de,u());e.each(t,function(e){i.dom.remove(e)})}function x(e){y(),M(e)}function w(e,t,n,i,r,o,a,s){var l={"data-mce-bogus":"all","class":de+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+i+"px; height: "+r+"px; width: "+o+"px; "};return l[a]=s,l}function _(t,n,r){e.each(t,function(e){var t=r.x,o=e.y-xe/2,a=xe,s=n;i.dom.add(u(),"div",w(he,fe,t,o,a,s,pe,e.index))})}function k(t,n,r){e.each(t,function(e){var t=e.x-xe/2,o=r.y,a=n,s=xe;i.dom.add(u(),"div",w(ge,ve,t,o,a,s,be,e.index))})}function C(t){return e.map(t.rows,function(t){var n=e.map(t.cells,function(e){var t=e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,n=e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1;return{element:e,rowspan:t,colspan:n}});return{element:t,cells:n}})}function S(n){function i(e,t){return e+","+t}function r(e,t){return s[i(e,t)]}function o(){var t=[];return e.each(l,function(e){t=t.concat(e.cells)}),t}function a(){return l}var s={},l=[],c=0,u=0;return e.each(n,function(n,r){var o=[];e.each(n.cells,function(e){for(var n=0;s[i(r,n)]!==t;)n++;for(var a={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:r,colIndex:n},l=0;l<e.colspan;l++)for(var d=0;d<e.rowspan;d++){var h=r+d,f=n+l;s[i(h,f)]=a,c=Math.max(c,h+1),u=Math.max(u,f+1)}o.push(a)}),l.push({element:n.element,cells:o})}),{grid:{maxRows:c,maxCols:u},getAt:r,getAllCells:o,getAllRows:a}}function T(e,t){for(var n=[],i=e;t>i;i++)n.push(i);return n}function D(e,t,n){for(var i,r=e(),o=0;o<r.length;o++)t(r[o])&&(i=r[o]);return i?i:n()}function A(t){var n=T(0,t.grid.maxCols),i=T(0,t.grid.maxRows);return e.map(n,function(e){function n(){for(var n=[],r=0;r<i.length;r++){var o=t.getAt(r,e);o.colIndex===e&&n.push(o)}return n}function r(e){return 1===e.colspan}function o(){return t.getAt(0,e)}return D(n,r,o)})}function E(t){var n=T(0,t.grid.maxCols),i=T(0,t.grid.maxRows);return e.map(i,function(e){function i(){for(var i=[],r=0;r<n.length;r++){var o=t.getAt(e,r);o.rowIndex===e&&i.push(o)}return i}function r(e){return 1===e.rowspan}function o(){t.getAt(e,0)}return D(i,r,o)})}function M(e){var t=C(e),n=S(t),a=E(n),s=A(n),l=i.dom.getPos(e),c=a.length>0?b(r,o,a):[],u=s.length>0?b(d,h,s):[];_(c,e.offsetWidth,l),k(u,e.offsetHeight,l)}function P(e,t,n,i){if(0>t||t>=e.length-1)return"";var r=e[t];if(r)r={value:r,delta:0};else for(var o=e.slice(0,t).reverse(),a=0;a<o.length;a++)o[a]&&(r={value:o[a],delta:a+1});var s=e[t+1];if(s)s={value:s,delta:1};else for(var l=e.slice(t+1),c=0;c<l.length;c++)l[c]&&(s={value:l[c],delta:c+1});var u=s.delta-r.delta,d=Math.abs(s.value-r.value)/u;return n?d/p(i,"width")*100:d}function N(e,t){var n=i.dom.getStyle(e,t);return n||(n=i.dom.getAttrib(e,t)),n||(n=i.dom.getStyle(e,t,!0)),n}function R(e,t,n){var i=N(e,"width"),r=parseInt(i,10),o=t?f(e,n):p(e,"width");return(t&&!q(i)||!t&&!W(i))&&(r=0),!isNaN(r)&&r>0?r:o}function I(t,n,i){for(var r=A(t),o=e.map(r,function(e){return d(e.colIndex,e.element).x}),a=[],s=0;s<r.length;s++){var l=r[s].element.hasAttribute("colspan")?parseInt(r[s].element.getAttribute("colspan"),10):1,c=l>1?P(o,s):R(r[s].element,n,i);c=c?c:we,a.push(c)}return a}function O(e){var t=N(e,"height"),n=parseInt(t,10);return q(t)&&(n=0),!isNaN(n)&&n>0?n:p(e,"height")}function L(t){for(var n=E(t),i=e.map(n,function(e){return r(e.rowIndex,e.element).y}),o=[],a=0;a<n.length;a++){var s=n[a].element.hasAttribute("rowspan")?parseInt(n[a].element.getAttribute("rowspan"),10):1,l=s>1?P(i,a):O(n[a].element);l=l?l:_e,o.push(l)}return o}function j(t,n,i,r,o){function a(t){return e.map(t,function(){return 0})}function s(){var e;if(o)e=[100-d[0]];else{var t=Math.max(r,d[0]+i);e=[t-d[0]]}return e}function l(e,t){var n,o=a(d.slice(0,e)),s=a(d.slice(t+1));if(i>=0){var l=Math.max(r,d[t]-i);n=o.concat([i,l-d[t]]).concat(s)}else{var c=Math.max(r,d[e]+i),u=d[e]-c;n=o.concat([c-d[e],u]).concat(s)}return n}function c(e,t){var n,o=a(d.slice(0,t));if(i>=0)n=o.concat([i]);else{var s=Math.max(r,d[t]+i);n=o.concat([s-d[t]])}return n}var u,d=t.slice(0);return u=0===t.length?[]:1===t.length?s():0===n?l(0,1):n>0&&n<t.length-1?l(n,n+1):n===t.length-1?c(n-1,n):[]}function z(e,t,n){for(var i=0,r=e;t>r;r++)i+=n[r];return i}function B(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=z(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function F(t,n){var i=t.getAllCells();return e.map(i,function(e){var t=z(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function H(t,n){var i=t.getAllRows();return e.map(i,function(e,t){return{element:e.element,height:n[t]}})}function q(e){return Ce.test(e)}function W(e){return Se.test(e)}function V(t,n,r){function o(t,n){e.each(t,function(e){i.dom.setStyle(e.element,"width",e.width+n),i.dom.setAttrib(e.element,"width",null)})}function a(){return r<u.grid.maxCols-1?m(t):m(t)+v(t,n)}function s(){return r<u.grid.maxCols-1?p(t,"width"):p(t,"width")+n}function l(e,n,o){r!=u.grid.maxCols-1&&o||(i.dom.setStyle(t,"width",e+n),i.dom.setAttrib(t,"width",null))}for(var c=C(t),u=S(c),d=q(t.width)||q(t.style.width),h=I(u,d,t),f=d?g(t,n):n,b=j(h,r,f,we,d,t),y=[],x=0;x<b.length;x++)y.push(b[x]+h[x]);var w=B(u,y),_=d?"%":"px",k=d?a():s();i.undoManager.transact(function(){o(w,_),l(k,_,d)})}function U(t,n,r){for(var o=C(t),a=S(o),s=L(a),l=[],c=0,u=0;u<s.length;u++)l.push(u===r?n+s[u]:s[u]),c+=c[u];var d=F(a,l),h=H(a,l);i.undoManager.transact(function(){e.each(h,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),e.each(d,function(e){i.dom.setStyle(e.element,"height",e.height+"px"),i.dom.setAttrib(e.element,"height",null)}),i.dom.setStyle(t,"height",c+"px"),i.dom.setAttrib(t,"height",null)})}function Y(){re=setTimeout(function(){Z()},200)}function $(){clearTimeout(re)}function X(){var e=document.createElement("div");return e.setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),e.setAttribute("data-mce-bogus","all"),e}function G(e,t){i.dom.bind(e,"mouseup",function(){Z()}),i.dom.bind(e,"mousemove",function(e){$(),oe&&t(e)}),i.dom.bind(e,"mouseout",function(){Y()})}function Z(){if(i.dom.remove(ae),oe){i.dom.removeClass(se,ke),oe=!1;var e,t;if(Q(se)){var n=parseInt(i.dom.getAttrib(se,ye),10),r=i.dom.getPos(se).x;e=parseInt(i.dom.getAttrib(se,be),10),t=l()?n-r:r-n,V(ue,t,e)}else if(J(se)){var o=parseInt(i.dom.getAttrib(se,me),10),a=i.dom.getPos(se).y;e=parseInt(i.dom.getAttrib(se,pe),10),t=a-o,U(ue,t,e)}x(ue),i.nodeChanged()}}function K(e,t){ae=ae?ae:X(),oe=!0,i.dom.addClass(e,ke),se=e,G(ae,t),i.dom.add(u(),ae)}function Q(e){return i.dom.hasClass(e,ge)}function J(e){return i.dom.hasClass(e,he)}function ee(e){le=le!==t?le:e.clientX;var n=e.clientX-le;le=e.clientX;var r=i.dom.getPos(se).x;i.dom.setStyle(se,"left",r+n+"px")}function te(e){ce=ce!==t?ce:e.clientY;var n=e.clientY-ce;ce=e.clientY;var r=i.dom.getPos(se).y;i.dom.setStyle(se,"top",r+n+"px")}function ne(e){le=t,K(e,ee)}function ie(e){ce=t,K(e,te)}var re,oe,ae,se,le,ce,ue,de="mce-resize-bar",he="mce-resize-bar-row",fe="row-resize",pe="data-row",me="data-initial-top",ge="mce-resize-bar-col",ve="col-resize",be="data-col",ye="data-initial-left",xe=4,we=10,_e=10,ke="mce-resize-bar-dragging",Ce=new RegExp(/(\d+(\.\d+)?%)/),Se=new RegExp(/px|em/);return i.on("init",function(){i.dom.bind(u(),"mousedown",function(e){var t=e.target;if(Q(t)){e.preventDefault();var n=i.dom.getPos(t).x;i.dom.setAttrib(t,ye,n),ne(t)}else if(J(t)){e.preventDefault();var r=i.dom.getPos(t).y;i.dom.setAttrib(t,me,r),ie(t)}})}),i.on("ObjectResized",function(t){var n=t.target;if("TABLE"===n.nodeName){var r=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=i.dom.getStyle(e,"width",!0);r.push({cell:e,width:t})})}),e.each(r,function(e){i.dom.setStyle(e.cell,"width",e.width),i.dom.setAttrib(e.cell,"width",null)})}}),i.on("mouseover",function(e){if(!oe){var t=i.dom.getParent(e.target,"table");("table"===e.target.nodeName||t)&&(ue=t,x(t))}}),i.on("keydown",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:y()}}),{adjustWidth:V,adjustHeight:U,clearBars:y,drawBars:M,determineDeltas:j,getTableGrid:S,getTableDetails:C,getWidths:I,getPixelHeights:L,isPercentageBasedSize:q,isPixelBasedSize:W,recalculateWidths:B,recalculateCellHeights:F,recalculateRowHeights:H}}}),i("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(e,t,n,i,r,o,a,s,l){function c(o){function a(e){return function(){o.execCommand(e)}}function l(e,t){var n,i,r,a;for(r='<table id="__mce"><tbody>',n=0;t>n;n++){for(r+="<tr>",i=0;e>i;i++)r+="<td>"+(s.ie?" ":"<br>")+"</td>";r+="</tr>"}return r+="</tbody></table>",o.undoManager.transact(function(){o.insertContent(r),a=o.dom.get("__mce"),o.dom.setAttrib(a,"id",null),o.dom.setAttribs(a,o.settings.table_default_attributes||{}),o.dom.setStyles(a,o.settings.table_default_styles||{})}),a}function c(e,t){function n(){e.disabled(!o.dom.getParent(o.selection.getStart(),t)),o.selection.selectorChanged(t,function(t){e.disabled(!t)})}o.initialized?n():o.on("init",n)}function d(){c(this,"table")}function h(){c(this,"td,th")}function f(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;10>t;t++){e+="<tr>";for(var n=0;10>n;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}function p(e,t,n){var i,r,a,s,l,c=n.getEl().getElementsByTagName("table")[0],u=n.isRtl()||"tl-tr"==n.parent().rel;for(c.nextSibling.innerHTML=e+1+" x "+(t+1),u&&(e=9-e),r=0;10>r;r++)for(i=0;10>i;i++)s=c.rows[r].childNodes[i].firstChild,l=(u?i>=e:e>=i)&&t>=r,o.dom.toggleClass(s,"mce-active",l),l&&(a=s);return a.parentNode}function m(){o.addButton("tableprops",{title:"Table properties",onclick:w.tableProps,icon:"table"}),o.addButton("tabledelete",{title:"Delete table",onclick:a("mceTableDelete")}),o.addButton("tablecellprops",{title:"Cell properties",onclick:a("mceTableCellProps")}),o.addButton("tablemergecells",{title:"Merge cells",onclick:a("mceTableMergeCells")}),o.addButton("tablesplitcells",{title:"Split cell",onclick:a("mceTableSplitCells")}),o.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:a("mceTableInsertRowBefore")}),o.addButton("tableinsertrowafter",{title:"Insert row after",onclick:a("mceTableInsertRowAfter")}),o.addButton("tabledeleterow",{title:"Delete row",onclick:a("mceTableDeleteRow")}),o.addButton("tablerowprops",{title:"Row properties",onclick:a("mceTableRowProps")}),o.addButton("tablecutrow",{title:"Cut row",onclick:a("mceTableCutRow")}),o.addButton("tablecopyrow",{title:"Copy row",onclick:a("mceTableCopyRow")}),o.addButton("tablepasterowbefore",{title:"Paste row before",onclick:a("mceTablePasteRowBefore")}),o.addButton("tablepasterowafter",{title:"Paste row after",onclick:a("mceTablePasteRowAfter")}),o.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:a("mceTableInsertColBefore")}),o.addButton("tableinsertcolafter",{title:"Insert column after",onclick:a("mceTableInsertColAfter")}),o.addButton("tabledeletecol",{title:"Delete column",onclick:a("mceTableDeleteCol")})}function g(e){var t=o.dom.is(e,"table")&&o.getBody().contains(e);return t}function v(){var e=o.settings.table_toolbar;""!==e&&e!==!1&&(e||(e="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),o.addContextToolbar(g,e))}var b,y,x=this,w=new i(o);!o.settings.object_resizing||o.settings.object_resizing!==!0&&"table"!==o.settings.object_resizing||(y=r(o)),o.settings.table_grid===!1?o.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",onclick:w.table}):o.addMenuItem("inserttable",{text:"Insert table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),w.table())},onshow:function(){p(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");o.dom.removeClass(e,"mce-active"),o.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:f(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,i=e.target;"A"==i.tagName.toUpperCase()&&(t=parseInt(i.getAttribute("data-mce-x"),10),n=parseInt(i.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),(t!==this.lastX||n!==this.lastY)&&(p(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),o.undoManager.transact(function(){l(t.lastX+1,t.lastY+1)}),o.addVisual())}}]}),o.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:d,onclick:w.tableProps}),o.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:d,cmd:"mceTableDelete"}),o.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:a("mceTableCellProps"),onPostRender:h},{text:"Merge cells",onclick:a("mceTableMergeCells"),onPostRender:h},{text:"Split cell",onclick:a("mceTableSplitCells"),onPostRender:h}]}),o.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:a("mceTableInsertRowBefore"),onPostRender:h},{text:"Insert row after",onclick:a("mceTableInsertRowAfter"),onPostRender:h},{text:"Delete row",onclick:a("mceTableDeleteRow"),onPostRender:h},{text:"Row properties",onclick:a("mceTableRowProps"),onPostRender:h},{text:"-"},{text:"Cut row",onclick:a("mceTableCutRow"),onPostRender:h},{text:"Copy row",onclick:a("mceTableCopyRow"),onPostRender:h},{text:"Paste row before",onclick:a("mceTablePasteRowBefore"),onPostRender:h},{text:"Paste row after",onclick:a("mceTablePasteRowAfter"),onPostRender:h}]}),o.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:a("mceTableInsertColBefore"),onPostRender:h},{text:"Insert column after",onclick:a("mceTableInsertColAfter"),onPostRender:h},{text:"Delete column",onclick:a("mceTableDeleteCol"),onPostRender:h}]});var _=[];u("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?_.push({text:"-"}):_.push(o.menuItems[e])}),o.addButton("table",{type:"menubutton",title:"Table",menu:_}),s.isIE||o.on("click",function(e){e=e.target,"TABLE"===e.nodeName&&(o.selection.select(e),o.nodeChanged())}),x.quirks=new t(o),o.on("Init",function(){x.cellSelection=new n(o),x.resizeBars=y}),o.on("PreInit",function(){o.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),u({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=o.dom.getParent(o.selection.getStart(),"th,td"),o.dom.select("td.mce-item-selected,th.mce-item-selected").length?e.merge():w.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRow(!0)},mceTableInsertRowAfter:function(e){e.insertRow()},mceTableInsertColBefore:function(e){e.insertCol(!0)},mceTableInsertColAfter:function(e){e.insertCol()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){b=e.cutRows()},mceTableCopyRow:function(e){b=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(b,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(b)},mceTableDelete:function(e){y&&y.clearBars(),e.deleteTable()}},function(t,n){o.addCommand(n,function(){var n=new e(o);n&&(t(n),o.execCommand("mceRepaint"),x.cellSelection.clear())})}),u({mceInsertTable:w.table,mceTableProps:function(){w.table(!0)},mceTableRowProps:w.row,mceTableCellProps:w.cell},function(e,t){o.addCommand(t,function(t,n){e(n)})}),m(),v(),o.settings.table_tab_navigation!==!1&&o.on("keydown",function(t){var n,i,r;9==t.keyCode&&(n=o.dom.getParent(o.selection.getStart(),"th,td"),n&&(t.preventDefault(),i=new e(o),r=t.shiftKey?-1:1,o.undoManager.transact(function(){!i.moveRelIdx(n,r)&&r>0&&(i.insertRow(),i.refresh(),i.moveRelIdx(n,r))})))}),x.insertTable=l}var u=o.each;l.add("table",c)})}(this),tinymce.PluginManager.add("template",function(e){function t(t){return function(){var n=e.settings.templates;"string"==typeof n?tinymce.util.XHR.send({url:n,success:function(e){t(tinymce.util.JSON.parse(e))}}):t(n)}}function n(t){function n(t){function n(t){if(-1==t.indexOf("<html>")){var n="";tinymce.each(e.contentCSS,function(t){n+='<link type="text/css" rel="stylesheet" href="'+e.documentBaseURI.toAbsolute(t)+'">'}),t="<!DOCTYPE html><html><head>"+n+"</head><body>"+t+"</body></html>"}t=o(t,"template_preview_replace_values");var r=i.find("iframe")[0].getEl().contentWindow.document;r.open(),r.write(t),r.close()}var a=t.control.value();a.url?tinymce.util.XHR.send({url:a.url,success:function(e){r=e,n(r)}}):(r=a.content,n(r)),i.find("#description")[0].text(t.control.value().description)}var i,r,s=[];if(!t||0===t.length){var l=e.translate("No templates defined.");return void e.notificationManager.open({text:l,type:"info"})}tinymce.each(t,function(e){s.push({selected:!s.length,text:e.title,value:{url:e.url,content:e.content,description:e.description}})}),i=e.windowManager.open({title:"Insert template",layout:"flex",direction:"column",align:"stretch",padding:15,spacing:10,items:[{type:"form",flex:0,padding:0,items:[{type:"container",label:"Templates",items:{type:"listbox",label:"Templates",name:"template",values:s,onselect:n}}]},{type:"label",name:"description",label:"Description",text:"\xa0"},{type:"iframe",flex:1,border:1}],onsubmit:function(){a(!1,r)},width:e.getParam("template_popup_width",600),height:e.getParam("template_popup_height",500)}),i.find("listbox")[0].fire("select")}function i(t,n){function i(e,t){if(e=""+e,e.length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}var r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),a="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),s="January February March April May June July August September October November December".split(" ");return n=n||new Date,t=t.replace("%D","%m/%d/%Y"),t=t.replace("%r","%I:%M:%S %p"),t=t.replace("%Y",""+n.getFullYear()),t=t.replace("%y",""+n.getYear()),t=t.replace("%m",i(n.getMonth()+1,2)),t=t.replace("%d",i(n.getDate(),2)),t=t.replace("%H",""+i(n.getHours(),2)),t=t.replace("%M",""+i(n.getMinutes(),2)),t=t.replace("%S",""+i(n.getSeconds(),2)),t=t.replace("%I",""+((n.getHours()+11)%12+1)),t=t.replace("%p",""+(n.getHours()<12?"AM":"PM")),t=t.replace("%B",""+e.translate(s[n.getMonth()])),t=t.replace("%b",""+e.translate(a[n.getMonth()])),t=t.replace("%A",""+e.translate(o[n.getDay()])),t=t.replace("%a",""+e.translate(r[n.getDay()])),t=t.replace("%%","%")}function r(t){var n=e.dom,i=e.getParam("template_replace_values");s(n.select("*",t),function(e){s(i,function(t,r){n.hasClass(e,r)&&"function"==typeof i[r]&&i[r](e)})})}function o(t,n){return s(e.getParam(n),function(e,n){"function"==typeof e&&(e=e(n)),t=t.replace(new RegExp("\\{\\$"+n+"\\}","g"),e)}),t}function a(t,n){function a(e,t){return new RegExp("\\b"+t+"\\b","g").test(e.className)}var l,c,u=e.dom,d=e.selection.getContent();n=o(n,"template_replace_values"),l=u.create("div",null,n),c=u.select(".mceTmpl",l),c&&c.length>0&&(l=u.create("div",null),l.appendChild(c[0].cloneNode(!0))),s(u.select("*",l),function(t){a(t,e.getParam("template_cdate_classes","cdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_cdate_format",e.getLang("template.cdate_format")))),a(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_mdate_format",e.getLang("template.mdate_format")))),a(t,e.getParam("template_selected_content_classes","selcontent").replace(/\s+/g,"|"))&&(t.innerHTML=d)}),r(l),e.execCommand("mceInsertContent",!1,l.innerHTML),e.addVisual()}var s=tinymce.each;e.addCommand("mceInsertTemplate",a),e.addButton("template",{title:"Insert template",onclick:t(n)}),e.addMenuItem("template",{text:"Insert template",onclick:t(n),context:"insert"}),e.on("PreProcess",function(t){var n=e.dom;s(n.select("div",t.node),function(t){n.hasClass(t,"mceTmpl")&&(s(n.select("*",t),function(t){n.hasClass(t,e.getParam("template_mdate_classes","mdate").replace(/\s+/g,"|"))&&(t.innerHTML=i(e.getParam("template_mdate_format",e.getLang("template.mdate_format"))))}),r(t))})})}),tinymce.PluginManager.add("textcolor",function(e){function t(t){var n;return e.dom.getParents(e.selection.getStart(),function(e){var i;(i=e.style["forecolor"==t?"color":"background-color"])&&(n=i)}),n}function n(){var t,n,i=[];for(n=e.settings.textcolor_map||["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],t=0;t<n.length;t+=2)i.push({text:n[t+1],color:"#"+n[t]});return i}function i(){function t(e,t){var n="transparent"==e;return'<td class="mce-grid-cell'+(n?" mce-colorbtn-trans":"")+'"><div id="'+f+"-"+p++ +'" data-mce-color="'+(e?e:"")+'" role="option" tabIndex="-1" style="'+(e?"background-color: "+e:"")+'" title="'+tinymce.translate(t)+'">'+(n?"&#215;":"")+"</div></td>"}var i,r,o,a,s,u,d,h=this,f=h._id,p=0;for(i=n(),i.push({text:tinymce.translate("No color"),color:"transparent"}),o='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',a=i.length-1,u=0;c>u;u++){for(o+="<tr>",s=0;l>s;s++)d=u*l+s,d>a?o+="<td></td>":(r=i[d],o+=t(r.color,r.text));o+="</tr>"}if(e.settings.color_picker_callback){for(o+='<tr><td colspan="'+l+'" class="mce-custom-color-btn"><div id="'+f+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+f+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+tinymce.translate("Custom...")+"</button></div></td></tr>",
o+="<tr>",s=0;l>s;s++)o+=t("","Custom color");o+="</tr>"}return o+="</tbody></table>"}function r(t,n){e.undoManager.transact(function(){e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})}function o(t){e.undoManager.transact(function(){e.focus(),e.formatter.remove(t,{value:null},null,!0),e.nodeChanged()})}function a(n){function i(e){u.hidePanel(),u.color(e),r(u.settings.format,e)}function a(){u.hidePanel(),u.resetColor(),o(u.settings.format)}function s(e,t){e.style.background=t,e.setAttribute("data-mce-color",t)}var c,u=this.parent();tinymce.DOM.getParent(n.target,".mce-custom-color-btn")&&(u.hidePanel(),e.settings.color_picker_callback.call(e,function(e){var t,n,r,o=u.panel.getEl().getElementsByTagName("table")[0];for(t=tinymce.map(o.rows[o.rows.length-1].childNodes,function(e){return e.firstChild}),r=0;r<t.length&&(n=t[r],n.getAttribute("data-mce-color"));r++);if(r==l)for(r=0;l-1>r;r++)s(t[r],t[r+1].getAttribute("data-mce-color"));s(n,e),i(e)},t(u.settings.format))),c=n.target.getAttribute("data-mce-color"),c?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),n.target.setAttribute("aria-selected",!0),this.lastId=n.target.id,"transparent"==c?a():i(c)):null!==c&&u.hidePanel()}function s(){var e=this;e._color?r(e.settings.format,e._color):o(e.settings.format)}var l,c;c=e.settings.textcolor_rows||5,l=e.settings.textcolor_cols||8,e.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:i,onclick:a},onclick:s}),e.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:i,onclick:a},onclick:s})}),tinymce.PluginManager.add("textpattern",function(e){function t(){return c&&(l.sort(function(e,t){return e.start.length>t.start.length?-1:e.start.length<t.start.length?1:0}),c=!1),l}function n(e){for(var n=t(),i=0;i<n.length;i++)if(0===e.indexOf(n[i].start)&&(!n[i].end||e.lastIndexOf(n[i].end)==e.length-n[i].end.length))return n[i]}function i(e,n,i){var r,o,a;for(r=t(),a=0;a<r.length;a++)if(o=r[a],o.end&&e.substr(n-o.end.length-i,o.end.length)==o.end)return o}function r(t){function r(){l=l.splitText(u),l.splitText(c-u-p),l.deleteData(0,f.start.length),l.deleteData(l.data.length-f.end.length,f.end.length)}var o,a,s,l,c,u,d,h,f,p,m;return o=e.selection,a=e.dom,o.isCollapsed()&&(s=o.getRng(!0),l=s.startContainer,c=s.startOffset,d=l.data,p=t?1:0,3==l.nodeType&&(f=i(d,c,p),f&&(u=Math.max(0,c-p),u=d.lastIndexOf(f.start,u-f.end.length-1),-1!==u&&(h=a.createRng(),h.setStart(l,u),h.setEnd(l,c-p),f=n(h.toString()),f&&f.end&&!(l.data.length<=f.start.length+f.end.length)))))?(m=e.formatter.get(f.format),m&&m[0].inline?(r(),e.formatter.apply(f.format,{},l),l):void 0):void 0}function o(){var t,i,r,o,a,s,l,c,u,d,h;if(t=e.selection,i=e.dom,t.isCollapsed()&&(l=i.getParent(t.getStart(),"p"))){for(u=new tinymce.dom.TreeWalker(l,l);a=u.next();)if(3==a.nodeType){o=a;break}if(o){if(c=n(o.data),!c)return;if(d=t.getRng(!0),r=d.startContainer,h=d.startOffset,o==r&&(h=Math.max(0,h-c.start.length)),tinymce.trim(o.data).length==c.start.length)return;c.format&&(s=e.formatter.get(c.format),s&&s[0].block&&(o.deleteData(0,c.start.length),e.formatter.apply(c.format,{},o),d.setStart(r,h),d.collapse(!0),t.setRng(d))),c.cmd&&e.undoManager.transact(function(){o.deleteData(0,c.start.length),e.execCommand(c.cmd)})}}}function a(){var t,n;n=r(),n&&(t=e.dom.createRng(),t.setStart(n,n.data.length),t.setEnd(n,n.data.length),e.selection.setRng(t)),o()}function s(){var t,n,i,o,a;t=r(!0),t&&(a=e.dom,n=t.data.slice(-1),/[\u00a0 ]/.test(n)&&(t.deleteData(t.data.length-1,1),i=a.doc.createTextNode(n),t.nextSibling?a.insertAfter(i,t.nextSibling):t.parentNode.appendChild(i),o=a.createRng(),o.setStart(i,1),o.setEnd(i,1),e.selection.setRng(o)))}var l,c=!0;l=e.settings.textpattern_patterns||[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],e.on("keydown",function(e){13!=e.keyCode||tinymce.util.VK.modifierPressed(e)||a()},!0),e.on("keyup",function(e){32!=e.keyCode||tinymce.util.VK.modifierPressed(e)||s()}),this.getPatterns=t,this.setPatterns=function(e){l=e,c=!0}}),tinymce.PluginManager.add("visualblocks",function(e,t){function n(){var t=this;t.active(o),e.on("VisualBlocks",function(){t.active(e.dom.hasClass(e.getBody(),"mce-visualblocks"))})}var i,r,o;window.NodeList&&(e.addCommand("mceVisualBlocks",function(){var n,a=e.dom;i||(i=a.uniqueId(),n=a.create("link",{id:i,rel:"stylesheet",href:t+"/css/visualblocks.css"}),e.getDoc().getElementsByTagName("head")[0].appendChild(n)),e.on("PreviewFormats AfterPreviewFormats",function(t){o&&a.toggleClass(e.getBody(),"mce-visualblocks","afterpreviewformats"==t.type)}),a.toggleClass(e.getBody(),"mce-visualblocks"),o=e.dom.hasClass(e.getBody(),"mce-visualblocks"),r&&r.active(a.hasClass(e.getBody(),"mce-visualblocks")),e.fire("VisualBlocks")}),e.addButton("visualblocks",{title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n}),e.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("init",function(){e.settings.visualblocks_default_state&&e.execCommand("mceVisualBlocks",!1,null,{skip_focus:!0})}),e.on("remove",function(){e.dom.removeClass(e.getBody(),"mce-visualblocks")}))}),tinymce.PluginManager.add("visualchars",function(e){function t(t){function n(e){return'<span data-mce-bogus="1" class="mce-'+f[e]+'">'+e+"</span>"}function o(){var e,t="";for(e in f)t+=e;return new RegExp("["+t+"]","g")}function a(){var e,t="";for(e in f)t&&(t+=","),t+="span.mce-"+f[e];return t}var s,l,c,u,d,h,f,p,m=e.getBody(),g=e.selection;if(f={"\xa0":"nbsp","\xad":"shy"},i=!i,r.state=i,e.fire("VisualChars",{state:i}),p=o(),t&&(h=g.getBookmark()),i)for(l=[],tinymce.walk(m,function(e){3==e.nodeType&&e.nodeValue&&p.test(e.nodeValue)&&l.push(e)},"childNodes"),c=0;c<l.length;c++){for(u=l[c].nodeValue,u=u.replace(p,n),d=e.dom.create("div",null,u);s=d.lastChild;)e.dom.insertAfter(s,l[c]);e.dom.remove(l[c])}else for(l=e.dom.select(a(),m),c=l.length-1;c>=0;c--)e.dom.remove(l[c],1);g.moveToBookmark(h)}function n(){var t=this;e.on("VisualChars",function(e){t.active(e.state)})}var i,r=this;e.addCommand("mceVisualChars",t),e.addButton("visualchars",{title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n}),e.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:n,selectable:!0,context:"view",prependToContext:!0}),e.on("beforegetcontent",function(e){i&&"raw"!=e.format&&!e.draft&&(i=!0,t(!1))})}),tinymce.PluginManager.add("wordcount",function(e){function t(){e.theme.panel.find("#wordcount").text(["Words: {0}",r.getCount()])}var n,i,r=this;n=e.getParam("wordcount_countregex",/[\w\u2019\x27\-\u00C0-\u1FFF]+/g),i=e.getParam("wordcount_cleanregex",/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g),e.on("init",function(){var n=e.theme.panel&&e.theme.panel.find("#statusbar")[0];n&&tinymce.util.Delay.setEditorTimeout(e,function(){n.insert({type:"label",name:"wordcount",text:["Words: {0}",r.getCount()],classes:"wordcount",disabled:e.settings.readonly},0),e.on("setcontent beforeaddundo",t),e.on("keyup",function(e){32==e.keyCode&&t()})},0)}),r.getCount=function(){var t=e.getContent({format:"raw"}),r=0;if(t){t=t.replace(/\.\.\./g," "),t=t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," "),t=t.replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," "),t=t.replace(i,"");var o=t.match(n);o&&(r=o.length)}return r}}),!function(e,t){"use strict";function n(e,t){for(var n,i=[],o=0;o<e.length;++o){if(n=a[e[o]]||r(e[o]),!n)throw"module definition dependecy not found: "+e[o];i.push(n)}t.apply(null,i)}function i(e,i,r){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(i===t)throw"invalid module definition, dependencies must be specified";if(r===t)throw"invalid module definition, definition function must be specified";n(i,function(){a[e]=r.apply(null,arguments)})}function r(t){for(var n=e,i=t.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=e,o=n[i],s=o.split(/[.\/]/);for(var c=0;c<s.length-1;++c)r[s[c]]===t&&(r[s[c]]={}),r=r[s[c]];r[s[s.length-1]]=a[o]}if(e.AMDLC_TESTS){l=e.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];e.privateModules=l}}var a={};i("tinymce/imagetoolsplugin/Canvas",[],function(){function e(e,t){return n(document.createElement("canvas"),e,t)}function t(e){return e.getContext("2d")}function n(e,t,n){return e.width=t,e.height=n,e}return{create:e,resize:n,get2dContext:t}}),i("tinymce/imagetoolsplugin/Mime",[],function(){function e(e){var t=document.createElement("a");return t.href=e,t.pathname}function t(t){var n=e(t).split("."),i=n[n.length-1],r={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"};return i&&(i=i.toLowerCase()),r[i]}return{guessMimeType:t}}),i("tinymce/imagetoolsplugin/ImageSize",[],function(){function e(e){return e.naturalWidth||e.width}function t(e){return e.naturalHeight||e.height}return{getWidth:e,getHeight:t}}),i("tinymce/imagetoolsplugin/Conversions",["tinymce/util/Promise","tinymce/imagetoolsplugin/Canvas","tinymce/imagetoolsplugin/Mime","tinymce/imagetoolsplugin/ImageSize"],function(e,t,n,i){function r(t){return new e(function(e){function n(){t.removeEventListener("load",n),e(t)}t.complete?e(t):t.addEventListener("load",n)})}function o(e){return r(e).then(function(e){var n,r;return r=t.create(i.getWidth(e),i.getHeight(e)),n=t.get2dContext(r),n.drawImage(e,0,0),r})}function a(e){return r(e).then(function(e){var t=e.src;return 0===t.indexOf("blob:")?l(t):0===t.indexOf("data:")?c(t):o(e).then(function(e){return c(e.toDataURL(n.guessMimeType(t)))})})}function s(t){return new e(function(e){function n(){i.removeEventListener("load",n),e(i)}var i=new Image;i.addEventListener("load",n),i.src=URL.createObjectURL(t),i.complete&&n()})}function l(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function c(t){return new e(function(e){var n,i,r,o,a,s;if(t=t.split(","),o=/data:([^;]+)/.exec(t[0]),o&&(a=o[1]),n=atob(t[1]),window.WebKitBlobBuilder){for(s=new WebKitBlobBuilder,i=new ArrayBuffer(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);return s.append(i),void e(s.getBlob(a))}for(i=new Uint8Array(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);e(new Blob([i],{type:a}))})}function u(e){return 0===e.indexOf("blob:")?l(e):0===e.indexOf("data:")?c(e):null}function d(e,t){return c(e.toDataURL(t))}function h(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}function f(e){return h(e).then(function(e){return e.split(",")[1]})}function p(e){URL.revokeObjectURL(e.src)}return{blobToImage:s,imageToBlob:a,uriToBlob:u,blobToDataUri:h,blobToBase64:f,imageToCanvas:o,canvasToBlob:d,revokeImageUrl:p}}),i("tinymce/imagetoolsplugin/ImageTools",["tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/Canvas","tinymce/imagetoolsplugin/ImageSize"],function(e,t,n){function i(i,r){return e.blobToImage(i).then(function(o){var a=t.create(n.getWidth(o),n.getHeight(o)),l=t.get2dContext(a),c=0,u=0;return r=0>r?360+r:r,(90==r||270==r)&&t.resize(a,a.height,a.width),(90==r||180==r)&&(c=a.width),(270==r||180==r)&&(u=a.height),l.translate(c,u),l.rotate(r*Math.PI/180),l.drawImage(o,0,0),s(o),e.canvasToBlob(a,i.type)})}function r(i,r){return e.blobToImage(i).then(function(i){var o=t.create(n.getWidth(i),n.getHeight(i)),a=t.get2dContext(o);return"v"==r?(a.scale(1,-1),a.drawImage(i,0,-o.height)):(a.scale(-1,1),a.drawImage(i,-o.width,0)),s(i),e.canvasToBlob(o)})}function o(n,i,r,o,a){return e.blobToImage(n).then(function(n){var l=t.create(o,a),c=t.get2dContext(l);return c.drawImage(n,-i,-r),s(n),e.canvasToBlob(l)})}function a(n,i,r){return e.blobToImage(n).then(function(o){var a=t.create(i,r),l=t.get2dContext(a);return l.drawImage(o,0,0,i,r),s(o),e.canvasToBlob(a,n.type)})}var s=e.revokeImageUrl;return{rotate:i,flip:r,crop:o,resize:a}}),i("tinymce/imagetoolsplugin/CropRect",["tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/geom/Rect","tinymce/util/Tools","tinymce/util/Observable"],function(e,t,n,i,r){var o=0;return function(a,s,l,c){function u(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}}function d(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}}function h(){return d(l,a)}function f(){function r(e){var i;return new t(T,{document:c.ownerDocument,handle:T+"-"+e.name,start:function(){i=a},drag:function(t){var r,o,s,c,u;r=i.x,o=i.y,s=i.w,c=i.h,r+=t.deltaX*e.deltaX,o+=t.deltaY*e.deltaY,s+=t.deltaX*e.deltaW,c+=t.deltaY*e.deltaH,20>s&&(s=20),20>c&&(c=20),u=a=n.clamp({x:r,y:o,w:s,h:c},l,"move"==e.name),u=d(l,u),w.fire("updateRect",{rect:u}),b(u)}})}e('<div id="'+T+'" class="'+S+'croprect-container" data-mce-bogus="all">').appendTo(c),i.each(C,function(t){e("#"+T,c).append('<div id="'+T+"-"+t+'"class="'+S+'croprect-block" style="display: none" data-mce-bogus="all">')}),i.each(_,function(t){e("#"+T,c).append('<div id="'+T+"-"+t.name+'" class="'+S+"croprect-handle "+S+"croprect-handle-"+t.name+'" style="display: none" data-mce-bogus="all">')}),k=i.map(_,r),m(a)}function p(t){var n;n=i.map(_,function(e){return"#"+T+"-"+e.name}).concat(i.map(C,function(e){return"#"+T+"-"+e})).join(","),t?e(n,c).show():e(n,c).hide()}function m(t){function n(t,n){n.h<0&&(n.h=0),n.w<0&&(n.w=0),e("#"+T+"-"+t,c).css({left:n.x,top:n.y,width:n.w,height:n.h})}i.each(_,function(n){e("#"+T+"-"+n.name,c).css({left:t.w*n.xMul+t.x,top:t.h*n.yMul+t.y})}),n("top",{x:s.x,y:s.y,w:s.w,h:t.y-s.y}),n("right",{x:t.x+t.w,y:t.y,w:s.w-t.x-t.w+s.x,h:t.h}),n("bottom",{x:s.x,y:t.y+t.h,w:s.w,h:s.h-t.y-t.h+s.y}),n("left",{x:s.x,y:t.y,w:t.x-s.x,h:t.h}),n("move",t)}function g(e){a=e,m(a)}function v(e){s=e,m(a)}function b(e){g(u(l,e))}function y(e){l=e,m(a)}function x(){i.each(k,function(e){e.destroy()}),k=[]}var w,_,k,C,S="mce-",T=S+"crid-"+o++;return _=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1}],C=["top","right","bottom","left"],f(c),w=i.extend({toggleVisibility:p,setClampRect:y,setRect:g,getInnerRect:h,setInnerRect:b,setViewPortRect:v,destroy:x},r)}}),i("tinymce/imagetoolsplugin/ImagePanel",["tinymce/ui/Control","tinymce/ui/DragHelper","tinymce/geom/Rect","tinymce/util/Tools","tinymce/util/Promise","tinymce/imagetoolsplugin/CropRect"],function(e,t,n,i,r,o){function a(e){return new r(function(t){function n(){e.removeEventListener("load",n),t(e)}e.complete?t(e):e.addEventListener("load",n)})}return e.extend({Defaults:{classes:"imagepanel"},selection:function(e){return arguments.length?(this.state.set("rect",e),this):this.state.get("rect")},imageSize:function(){var e=this.state.get("viewRect");return{w:e.w,h:e.h}},toggleCropRect:function(e){this.state.set("cropEnabled",e)},imageSrc:function(e){var t=this,i=new Image;i.src=e,a(i).then(function(){var e,r,o=t.state.get("viewRect");r=t.$el.find("img"),r[0]?r.replaceWith(i):t.getEl().appendChild(i),e={x:0,y:0,w:i.naturalWidth,h:i.naturalHeight},t.state.set("viewRect",e),t.state.set("rect",n.inflate(e,-20,-20)),o&&o.w==e.w&&o.h==e.h||t.zoomFit(),t.repaintImage(),t.fire("load")})},zoom:function(e){return arguments.length?(this.state.set("zoom",e),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var e,t,n,i,r,o,a,s=this;a=10,e=s.$el.find("img"),t=s.getEl().clientWidth,n=s.getEl().clientHeight,i=e[0].naturalWidth,r=e[0].naturalHeight,o=Math.min((t-a)/i,(n-a)/r),o>=1&&(o=1),s.zoom(o)},repaintImage:function(){var e,t,n,i,r,o,a,s,l,c;c=this.getEl(),s=this.zoom(),l=this.state.get("rect"),a=this.$el.find("img"),r=c.offsetWidth,o=c.offsetHeight,n=a[0].naturalWidth*s,i=a[0].naturalHeight*s,e=Math.max(0,r/2-n/2),t=Math.max(0,o/2-i/2),a.css({left:e,top:t,width:n,height:i}),this.cropRect&&(this.cropRect.setRect({x:l.x*s+e,y:l.y*s+t,w:l.w*s,h:l.h*s}),this.cropRect.setClampRect({x:e,y:t,w:n,h:i}),this.cropRect.setViewPortRect({x:0,y:0,w:r,h:o}))},bindStates:function(){function e(e){t.cropRect=new o(e,t.state.get("viewRect"),t.state.get("viewRect"),t.getEl()),t.cropRect.on("updateRect",function(e){var n=e.rect,i=t.zoom();n={x:Math.round(n.x/i),y:Math.round(n.y/i),w:Math.round(n.w/i),h:Math.round(n.h/i)},t.state.set("rect",n)}),t.on("remove",t.cropRect.destroy)}var t=this;t.state.on("change:cropEnabled",function(e){t.cropRect.toggleVisibility(e.value),t.repaintImage()}),t.state.on("change:zoom",function(){t.repaintImage()}),t.state.on("change:rect",function(n){var i=n.value;t.cropRect||e(i),t.cropRect.setRect(i)})}})}),i("tinymce/imagetoolsplugin/ColorMatrix",[],function(){function e(e,t,n){return e=parseFloat(e),e>n?e=n:t>e&&(e=t),e}function t(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function n(e,t){var n,i,r,o,a=[],s=new Array(10);for(n=0;5>n;n++){for(i=0;5>i;i++)a[i]=t[i+5*n];for(i=0;5>i;i++){for(o=0,r=0;5>r;r++)o+=e[i+5*r]*a[r];s[i+5*n]=o}}return s}function i(t,n){return n=e(n,0,1),t.map(function(t,i){return i%6===0?t=1-(1-t)*n:t*=n,e(t,0,1)})}function r(t,i){var r;return i=e(i,-1,1),i*=100,0>i?r=127+i/100*127:(r=i%1,r=0===r?d[i]:d[Math.floor(i)]*(1-r)+d[Math.floor(i)+1]*r,r=127*r+127),n(t,[r/127,0,0,0,.5*(127-r),0,r/127,0,0,.5*(127-r),0,0,r/127,0,.5*(127-r),0,0,0,1,0,0,0,0,0,1])}function o(t,i){var r,o,a,s;return i=e(i,-1,1),r=1+(i>0?3*i:i),o=.3086,a=.6094,s=.082,n(t,[o*(1-r)+r,a*(1-r),s*(1-r),0,0,o*(1-r),a*(1-r)+r,s*(1-r),0,0,o*(1-r),a*(1-r),s*(1-r)+r,0,0,0,0,0,1,0,0,0,0,0,1])}function a(t,i){var r,o,a,s,l;return i=e(i,-180,180)/180*Math.PI,r=Math.cos(i),o=Math.sin(i),a=.213,s=.715,l=.072,n(t,[a+r*(1-a)+o*-a,s+r*-s+o*-s,l+r*-l+o*(1-l),0,0,a+r*-a+.143*o,s+r*(1-s)+.14*o,l+r*-l+o*-.283,0,0,a+r*-a+o*-(1-a),s+r*-s+o*s,l+r*(1-l)+o*l,0,0,0,0,0,1,0,0,0,0,0,1])}function s(t,i){return i=e(255*i,-255,255),n(t,[1,0,0,0,i,0,1,0,0,i,0,0,1,0,i,0,0,0,1,0,0,0,0,0,1])}function l(t,i,r,o){return i=e(i,0,2),r=e(r,0,2),o=e(o,0,2),n(t,[i,0,0,0,0,0,r,0,0,0,0,0,o,0,0,0,0,0,1,0,0,0,0,0,1])}function c(t,r){return r=e(r,0,1),n(t,i([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],r))}function u(t,r){return r=e(r,0,1),n(t,i([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],r))}var d=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];return{identity:t,adjust:i,multiply:n,adjustContrast:r,adjustBrightness:s,adjustSaturation:o,adjustHue:a,adjustColors:l,adjustSepia:c,adjustGrayscale:u}}),i("tinymce/imagetoolsplugin/Filters",["tinymce/imagetoolsplugin/Canvas","tinymce/imagetoolsplugin/ImageSize","tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/ColorMatrix"],function(e,t,n,i){function r(i,r){return n.blobToImage(i).then(function(i){function o(e,t){var n,i,r,o,a,s=e.data,l=t[0],c=t[1],u=t[2],d=t[3],h=t[4],f=t[5],p=t[6],m=t[7],g=t[8],v=t[9],b=t[10],y=t[11],x=t[12],w=t[13],_=t[14],k=t[15],C=t[16],S=t[17],T=t[18],D=t[19];for(a=0;a<s.length;a+=4)n=s[a],i=s[a+1],r=s[a+2],o=s[a+3],s[a]=n*l+i*c+r*u+o*d+h,s[a+1]=n*f+i*p+r*m+o*g+v,s[a+2]=n*b+i*y+r*x+o*w+_,s[a+3]=n*k+i*C+r*S+o*T+D;return e}var a,s=e.create(t.getWidth(i),t.getHeight(i)),l=e.get2dContext(s);return l.drawImage(i,0,0),u(i),a=o(l.getImageData(0,0,s.width,s.height),r),l.putImageData(a,0,0),n.canvasToBlob(s)})}function o(i,r){return n.blobToImage(i).then(function(i){function o(e,t,n){function i(e,t,n){return e>n?e=n:t>e&&(e=t),e}var r,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x;for(a=Math.round(Math.sqrt(n.length)),s=Math.floor(a/2),r=e.data,o=t.data,y=e.width,x=e.height,c=0;x>c;c++)for(l=0;y>l;l++){for(u=d=h=0,p=0;a>p;p++)for(f=0;a>f;f++)m=i(l+f-s,0,y-1),g=i(c+p-s,0,x-1),v=4*(g*y+m),b=n[p*a+f],u+=r[v]*b,d+=r[v+1]*b,h+=r[v+2]*b;v=4*(c*y+l),o[v]=i(u,0,255),o[v+1]=i(d,0,255),o[v+2]=i(h,0,255)}return t}var a,s,l=e.create(t.getWidth(i),t.getHeight(i)),c=e.get2dContext(l);return c.drawImage(i,0,0),u(i),a=c.getImageData(0,0,l.width,l.height),s=c.getImageData(0,0,l.width,l.height),s=o(a,s,r),c.putImageData(s,0,0),n.canvasToBlob(l)})}function a(i){return function(r,o){return n.blobToImage(r).then(function(r){function a(e,t){var n,i=e.data;for(n=0;n<i.length;n+=4)i[n]=t[i[n]],i[n+1]=t[i[n+1]],i[n+2]=t[i[n+2]];return e}var s,l,c=e.create(t.getWidth(r),t.getHeight(r)),d=e.get2dContext(c),h=new Array(256);for(l=0;l<h.length;l++)h[l]=i(l,o);return d.drawImage(r,0,0),u(r),s=a(d.getImageData(0,0,c.width,c.height),h),d.putImageData(s,0,0),n.canvasToBlob(c)})}}function s(e){return function(t,n){return r(t,e(i.identity(),n))}}function l(e){return function(t){return r(t,e)}}function c(e){return function(t){return o(t,e)}}var u=n.revokeImageUrl;return{invert:l([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:s(i.adjustBrightness),hue:s(i.adjustHue),saturate:s(i.adjustSaturation),contrast:s(i.adjustContrast),grayscale:s(i.adjustGrayscale),sepia:s(i.adjustSepia),colorize:function(e,t,n,o){return r(e,i.adjustColors(i.identity(),t,n,o))},sharpen:c([0,-1,0,-1,5,-1,0,-1,0]),emboss:c([-2,-1,0,-1,1,1,0,1,2]),gamma:a(function(e,t){return 255*Math.pow(e/255,1-t)}),exposure:a(function(e,t){return 255*(1-Math.exp(-(e/255)*t))}),colorFilter:r,convoluteFilter:o}}),i("tinymce/imagetoolsplugin/UndoStack",[],function(){return function(){function e(e){var t;return t=o.splice(++a),o.push(e),{state:e,removed:t}}function t(){return i()?o[--a]:void 0}function n(){return r()?o[++a]:void 0}function i(){return a>0}function r(){return-1!=a&&a<o.length-1}var o=[],a=-1;return{data:o,add:e,undo:t,redo:n,canUndo:i,canRedo:r}}}),i("tinymce/imagetoolsplugin/Dialog",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/util/Promise","tinymce/ui/Factory","tinymce/ui/Form","tinymce/ui/Container","tinymce/imagetoolsplugin/ImagePanel","tinymce/imagetoolsplugin/ImageTools","tinymce/imagetoolsplugin/Filters","tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/UndoStack"],function(e,t,n,i,r,o,a,s,l,c,u){function d(e){return{blob:e,url:URL.createObjectURL(e)}}function h(e){e&&URL.revokeObjectURL(e.url)}function f(e){t.each(e,h)}function p(n,c,p){function m(e){var t,n,i,r;t=z.find("#w")[0],n=z.find("#h")[0],i=parseInt(t.value(),10),r=parseInt(n.value(),10),z.find("#constrain")[0].checked()&&se&&le&&i&&r&&("w"==e.control.settings.name?(r=Math.round(i*ce),n.value(r)):(i=Math.round(r*ue),t.value(i))),se=i,le=r}function g(e){return Math.round(100*e)+"%"}function v(){z.find("#undo").disabled(!de.canUndo()),z.find("#redo").disabled(!de.canRedo()),z.statusbar.find("#save").disabled(!de.canUndo())}function b(){z.find("#undo").disabled(!0),z.find("#redo").disabled(!0)}function y(e){e&&U.imageSrc(e.url)}function x(e){return function(){var n=t.grep(ae,function(t){return t.settings.name!=e});t.each(n,function(e){e.hide()}),e.show()}}function w(e){H=d(e),y(H)}function _(e){n=d(e),y(n),f(de.add(n).removed),v()}function k(){var e=U.selection();s.crop(n.blob,e.x,e.y,e.w,e.h).then(function(e){_(e),T()})}function C(e){var t=[].slice.call(arguments,1);return function(){var i=H||n;e.apply(this,[i.blob].concat(t)).then(w)}}function S(e){var t=[].slice.call(arguments,1);return function(){e.apply(this,[n.blob].concat(t)).then(_)}}function T(){y(n),h(H),x(B)(),v()}function D(){H&&(_(H.blob),T())}function A(){var e=U.zoom();2>e&&(e+=.1),U.zoom(e)}function E(){var e=U.zoom();e>.1&&(e-=.1),U.zoom(e)}function M(){n=de.undo(),y(n),v()}function P(){n=de.redo(),y(n),v()}function N(){c(n.blob),z.close()}function R(e){return new r({layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:e})}function I(e,t){return R([{text:"Back",onclick:T},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:D}]).hide().on("show",function(){b(),t(n.blob).then(function(e){var t=d(e);y(t),h(H),H=t})})}function O(e,t,i,r,o){function a(e){t(n.blob,e).then(function(e){var t=d(e);y(t),h(H),H=t})}return R([{text:"Back",onclick:T},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(e){a(e.value)},minValue:r,maxValue:o,value:i,previewFilter:g},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:D}]).hide().on("show",function(){this.find("slider").value(i),b()})}function L(e,t){function i(){var e,i,r;e=z.find("#r")[0].value(),i=z.find("#g")[0].value(),r=z.find("#b")[0].value(),t(n.blob,e,i,r).then(function(e){var t=d(e);y(t),h(H),H=t})}return R([{text:"Back",onclick:T},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:0,value:1,maxValue:2,ondragend:i,previewFilter:g},{type:"slider",label:"G",name:"g",minValue:0,value:1,maxValue:2,ondragend:i,previewFilter:g},{type:"slider",label:"B",name:"b",minValue:0,value:1,maxValue:2,ondragend:i,previewFilter:g},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:D}]).hide().on("show",function(){z.find("#r,#g,#b").value(1),b()})}function j(e){e.control.value()===!0&&(ce=le/se,ue=se/le)}var z,B,F,H,q,W,V,U,Y,$,X,G,Z,K,Q,J,ee,te,ne,ie,re,oe,ae,se,le,ce,ue,de=new u;q=R([{text:"Back",onclick:T},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:k}]).hide().on("show hide",function(e){U.toggleCropRect("show"==e.type)}).on("show",b),W=R([{text:"Back",onclick:T},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:m},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:m},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:j},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}]).hide().on("submit",function(e){var t=parseInt(z.find("#w").value(),10),n=parseInt(z.find("#h").value(),10);e.preventDefault(),S(s.resize,t,n)(),T()}).on("show",b),V=R([{text:"Back",onclick:T},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:C(s.flip,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:C(s.flip,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:C(s.rotate,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:C(s.rotate,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:D}]).hide().on("show",b),X=I("Invert",l.invert),ne=I("Sharpen",l.sharpen),ie=I("Emboss",l.emboss),G=O("Brightness",l.brightness,0,-1,1),Z=O("Hue",l.hue,180,0,360),K=O("Saturate",l.saturate,0,-1,1),Q=O("Contrast",l.contrast,0,-1,1),J=O("Grayscale",l.grayscale,0,0,1),ee=O("Sepia",l.sepia,0,0,1),te=L("Colorize",l.colorize),re=O("Gamma",l.gamma,0,-1,1),oe=O("Exposure",l.exposure,1,0,2),F=R([{text:"Back",onclick:T},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:x(Z)},{text:"saturate",icon:"saturate",onclick:x(K)},{text:"sepia",icon:"sepia",onclick:x(ee)},{text:"emboss",icon:"emboss",onclick:x(ie)},{text:"exposure",icon:"exposure",onclick:x(oe)},{type:"spacer",flex:1}]).hide(),B=R([{tooltip:"Crop",icon:"crop",onclick:x(q)},{tooltip:"Resize",icon:"resize2",onclick:x(W)},{tooltip:"Orientation",icon:"orientation",onclick:x(V)},{tooltip:"Brightness",icon:"sun",onclick:x(G)},{tooltip:"Sharpen",icon:"sharpen",onclick:x(ne)},{tooltip:"Contrast",icon:"contrast",onclick:x(Q)},{tooltip:"Color levels",icon:"drop",onclick:x(te)},{tooltip:"Gamma",icon:"gamma",onclick:x(re)},{tooltip:"Invert",icon:"invert",onclick:x(X)}]),U=new a({flex:1,imageSrc:n.url}),Y=new o({layout:"flex",direction:"column",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:M},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:P},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:A},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:E}]}),$=new o({type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:[Y,U]}),ae=[B,q,W,V,F,X,G,Z,K,Q,J,ee,te,ne,ie,re,oe],z=i.create("window",{layout:"flex",direction:"column",align:"stretch",minWidth:Math.min(e.DOM.getViewPort().w,800),minHeight:Math.min(e.DOM.getViewPort().h,650),title:"Edit image",items:ae.concat([$]),buttons:[{text:"Save",name:"save",subtype:"primary",onclick:N},{text:"Cancel",onclick:"close"}]}),z.renderTo(document.body).reflow(),z.on("close",function(){p(),f(de.data),de=null,H=null}),de.add(n),v(),U.on("load",function(){se=U.imageSize().w,le=U.imageSize().h,ce=le/se,ue=se/le,z.find("#w").value(se),z.find("#h").value(le)})}function m(e){return new n(function(t,n){p(d(e),t,n)})}return{edit:m}}),i("tinymce/imagetoolsplugin/Plugin",["tinymce/PluginManager","tinymce/Env","tinymce/util/Promise","tinymce/util/URI","tinymce/util/Tools","tinymce/util/Delay","tinymce/imagetoolsplugin/ImageTools","tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/Dialog"],function(e,n,i,r,o,a,s,l,c){e.add("imagetools",function(e){function u(t){function n(e){return e.indexOf("px")==e.length-2}var i,r;return i=t.style.width,r=t.style.height,i||r?n(i)&&n(r)?{w:parseInt(i,10),h:parseInt(r,10)}:null:(i=e.$(t).attr("width"),r=e.$(t).attr("height"),i&&r?{w:parseInt(i,10),h:parseInt(r,10)}:null)}function d(t,n){var i,r;n&&(i=t.style.width,r=t.style.height,(i||r)&&e.$(t).css({width:n.w,height:n.h}).removeAttr("data-mce-style"),i=t.width,r=t.height,(i||r)&&e.$(t).attr({width:n.w,height:n.h}))}function h(e){return{w:e.naturalWidth,h:e.naturalHeight}}function f(){return e.selection.getNode()}function p(){return"imagetools"+R++}function m(t){var n=t.src;return 0===n.indexOf("data:")||0===n.indexOf("blob:")||new r(n).host===e.documentBaseURI.host}function g(t){return-1!==o.inArray(e.settings.imagetools_cors_hosts,new r(t.src).host)}function v(e){return new i(function(t){var n=new XMLHttpRequest;n.onload=function(){t(this.response)},n.open("GET",e,!0),n.responseType="blob",n.send()})}function b(t){var n=t.src;return g(t)?v(t.src):(m(t)||(n=e.settings.imagetools_proxy,n+=(-1===n.indexOf("?")?"?":"&")+"url="+encodeURIComponent(t.src),t=new Image,t.src=n),l.imageToBlob(t))}function y(){var t;return t=e.editorUpload.blobCache.getByUri(f().src),t?t:b(f()).then(function(t){return l.blobToBase64(t).then(function(n){var i=e.editorUpload.blobCache,r=i.create(p(),t,n);return i.add(r),r})})}function x(){P=a.setEditorTimeout(e,function(){e.editorUpload.uploadImagesAuto()},3e4)}function w(){clearTimeout(P)}function _(t,n){return l.blobToDataUri(t).then(function(i){var o,a,s,l,c;return c=f(),o=p(),s=e.editorUpload.blobCache,a=r.parseDataUri(i).data,l=s.create(o,t,a),s.add(l),e.undoManager.transact(function(){function t(){e.$(c).off("load",t),e.nodeChanged(),n?e.editorUpload.uploadImagesAuto():(w(),x())}e.$(c).on("load",t),e.$(c).attr({src:l.blobUri()}).removeAttr("data-mce-src")}),l})}function k(t){return function(){return e._scanForImages().then(y).then(t).then(_)}}function C(e){return function(){return k(function(t){var n=u(f());return n&&d(f(),{w:n.h,h:n.w}),s.rotate(t.blob(),e)})()}}function S(e){return function(){return k(function(t){return s.flip(t.blob(),e)})()}}function T(){var e=f(),t=h(e);e&&b(e).then(c.edit).then(function(n){return new i(function(i){l.blobToImage(n).then(function(r){var o=h(r);(t.w!=o.w||t.h!=o.h)&&u(e)&&d(e,o),URL.revokeObjectURL(r.src),i(n)})})}).then(function(e){_(e,!0)},function(){})}function D(){e.addButton("rotateleft",{title:"Rotate counterclockwise",
onclick:C(-90)}),e.addButton("rotateright",{title:"Rotate clockwise",onclick:C(90)}),e.addButton("flipv",{title:"Flip vertically",onclick:S("v")}),e.addButton("fliph",{title:"Flip horizontally",onclick:S("h")}),e.addButton("editimage",{title:"Edit image",onclick:T}),e.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"})}function A(){e.on("NodeChange",function(n){N&&N.src!=n.element.src&&(w(),e.editorUpload.uploadImagesAuto(),N=t),E(n.element)&&(N=n.element)})}function E(t){var n=e.dom.is(t,"img:not([data-mce-object],[data-mce-placeholder])");return n&&(m(t)||g(t)||e.settings.imagetools_proxy)}function M(){var t=e.settings.imagetools_toolbar;t||(t="rotateleft rotateright | flipv fliph | crop editimage imageoptions"),e.addContextToolbar(E,t)}var P,N,R=0;n.fileApi&&(D(),M(),A(),e.addCommand("mceEditImage",T))})}),o(["tinymce/imagetoolsplugin/Canvas","tinymce/imagetoolsplugin/Mime","tinymce/imagetoolsplugin/ImageSize","tinymce/imagetoolsplugin/Conversions","tinymce/imagetoolsplugin/ImageTools","tinymce/imagetoolsplugin/CropRect","tinymce/imagetoolsplugin/ImagePanel","tinymce/imagetoolsplugin/ColorMatrix","tinymce/imagetoolsplugin/Filters","tinymce/imagetoolsplugin/UndoStack","tinymce/imagetoolsplugin/Dialog","tinymce/imagetoolsplugin/Plugin"])}(this),tinymce.ThemeManager.add("modern",function(e){function t(t,n){var i,r=[];return t?(f(t.split(/[ ,]/),function(t){function o(){function n(e){return function(n,i){for(var r,o=i.parents.length;o--&&(r=i.parents[o].nodeName,"OL"!=r&&"UL"!=r););t.active(n&&r==e)}}var i=e.selection;"bullist"==a&&i.selectorChanged("ul > li",n("UL")),"numlist"==a&&i.selectorChanged("ol > li",n("OL")),t.settings.stateSelector&&i.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&i.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})}var a;"|"==t?i=null:h.has(t)?(t={type:t,size:n},r.push(t),i=null):(i||(i={type:"buttongroup",items:[]},r.push(i)),e.buttons[t]&&(a=t,t=e.buttons[a],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=h.create(t),i.items.push(t),e.initialized?o():e.on("init",o)))}),{type:"toolbar",layout:"flow",items:r}):void 0}function n(e){function n(n){return n?(i.push(t(n,e)),!0):void 0}var i=[];if(tinymce.isArray(d.toolbar)){if(0===d.toolbar.length)return;tinymce.each(d.toolbar,function(e,t){d["toolbar"+(t+1)]=e}),delete d.toolbar}for(var r=1;10>r&&n(d["toolbar"+r]);r++);return i.length||d.toolbar===!1||n(d.toolbar||b),i.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:i}:void 0}function i(){function t(t){var n;return"|"==t?{text:"|"}:n=e.menuItems[t]}function n(n){var i,r,o,a,s;if(s=tinymce.makeMap((d.removed_menuitems||"").split(/[ ,]/)),d.menu?(r=d.menu[n],a=!0):r=v[n],r){i={text:r.title},o=[],f((r.items||"").split(/[ ,]/),function(e){var n=t(e);n&&!s[e]&&o.push(t(e))}),a||f(e.menuItems,function(e){e.context==n&&("before"==e.separator&&o.push({text:"|"}),e.prependToContext?o.unshift(e):o.push(e),"after"==e.separator&&o.push({text:"|"}))});for(var l=0;l<o.length;l++)"|"==o[l].text&&(0===l||l==o.length-1)&&o.splice(l,1);if(i.menu=o,!i.menu.length)return null}return i}var i,r=[],o=[];if(d.menu)for(i in d.menu)o.push(i);else for(i in v)o.push(i);for(var a="string"==typeof d.menubar?d.menubar.split(/[ ,]/):o,s=0;s<a.length;s++){var l=a[s];l=n(l),l&&r.push(l)}return r}function r(t){function n(e){var n=t.find(e)[0];n&&n.focus(!0)}e.shortcuts.add("Alt+F9","",function(){n("menubar")}),e.shortcuts.add("Alt+F10","",function(){n("toolbar")}),e.shortcuts.add("Alt+F11","",function(){n("elementpath")}),t.on("cancel",function(){e.focus()})}function o(t,n){function i(e){return{width:e.clientWidth,height:e.clientHeight}}var r,o,a,s;r=e.getContainer(),o=e.getContentAreaContainer().firstChild,a=i(r),s=i(o),null!==t&&(t=Math.max(d.min_width||100,t),t=Math.min(d.max_width||65535,t),p.setStyle(r,"width",t+(a.width-s.width)),p.setStyle(o,"width",t)),n=Math.max(d.min_height||100,n),n=Math.min(d.max_height||65535,n),p.setStyle(o,"height",n),e.fire("ResizeEditor")}function a(t,n){var i=e.getContentAreaContainer();u.resizeTo(i.clientWidth+t,i.clientHeight+n)}function s(){function n(){return e.contextToolbars||[]}function i(t){var n,i,r;return n=tinymce.DOM.getPos(e.getContentAreaContainer()),i=e.dom.getRect(t),r=e.dom.getRoot(),"BODY"==r.nodeName&&(i.x-=r.ownerDocument.documentElement.scrollLeft||r.scrollLeft,i.y-=r.ownerDocument.documentElement.scrollTop||r.scrollTop),i.x+=n.x,i.y+=n.y,i}function r(){f(e.contextToolbars,function(e){e.panel&&e.panel.hide()})}function o(t){var n,o,a,s,l,c,u;if(!e.removed){if(!t||!t.toolbar.panel)return void r();u=["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],l=t.toolbar.panel,l.show(),a=i(t.element),o=tinymce.DOM.getRect(l.getEl()),s=tinymce.DOM.getRect(e.getContentAreaContainer()||e.getBody()),a.w=t.element.clientWidth,a.h=t.element.clientHeight,e.inline||(s.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&(a=m.inflate(a,0,8)),n=m.findBestRelativePosition(o,a,s,u),n?(f(u.concat("inside"),function(e){l.classes.toggle("tinymce-inline-"+e,e==n)}),c=m.relativePosition(o,a,n),l.moveTo(c.x,c.y)):(f(u,function(e){l.classes.toggle("tinymce-inline-"+e,!1)}),l.classes.toggle("tinymce-inline-inside",!0),a=m.intersect(s,a),a?(n=m.findBestRelativePosition(o,a,s,["tc-tc","tl-tl","tr-tr"]),n?(c=m.relativePosition(o,a,n),l.moveTo(c.x,c.y)):l.moveTo(a.x,a.y)):l.hide())}}function a(){function t(){e.selection&&o(u(e.selection.getNode()))}tinymce.util.Delay.requestAnimationFrame(t)}function s(){d||(d=e.selection.getScrollContainer()||e.getWin(),tinymce.$(d).on("scroll",a),e.on("remove",function(){tinymce.$(d).off("scroll")}))}function l(e){var n;return e.toolbar.panel?(e.toolbar.panel.show(),void o(e)):(s(),n=h.create({type:"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:t(e.toolbar.items)}),e.toolbar.panel=n,n.renderTo(document.body).reflow(),void o(e))}function c(){tinymce.each(n(),function(e){e.panel&&e.panel.hide()})}function u(t){var i,r,o,a=n();for(o=e.$(t).parents().add(t),i=o.length-1;i>=0;i--)for(r=a.length-1;r>=0;r--)if(a[r].predicate(o[i]))return{toolbar:a[r],element:o[i]};return null}var d;e.on("click keyup setContent",function(t){("setcontent"!=t.type||t.selection)&&tinymce.util.Delay.setEditorTimeout(e,function(){var t;t=u(e.selection.getNode()),t?(c(),l(t)):c()})}),e.on("blur hide",c),e.on("ObjectResizeStart",function(){var t=u(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("nodeChange ResizeEditor ResizeWindow",a),e.on("remove",function(){tinymce.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}})}function l(t){function o(){if(f&&f.moveRel&&f.visible()&&!f._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),i=0,r=0;if(t){var o=p.getPos(n),a=p.getPos(t);i=Math.max(0,a.x-o.x),r=Math.max(0,a.y-o.y)}f.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,r)}}function a(){f&&(f.show(),o(),p.addClass(e.getBody(),"mce-edit-focus"))}function l(){f&&(f.hide(),g.hideAll(),p.removeClass(e.getBody(),"mce-edit-focus"))}function c(){return f?void(f.visible()||a()):(f=u.panel=h.create({type:m?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!m,border:1,items:[d.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:i()},n(d.toolbar_items_size)]}),e.fire("BeforeRenderUI"),f.renderTo(m||document.body).reflow(),r(f),a(),s(),e.on("nodeChange",o),e.on("activate",a),e.on("deactivate",l),void e.nodeChanged())}var f,m;return d.fixed_toolbar_container&&(m=p.select(d.fixed_toolbar_container)[0]),d.content_editable=!0,e.on("focus",function(){t.skinUiCss?tinymce.DOM.styleSheetLoader.load(t.skinUiCss,c,c):c()}),e.on("blur hide",l),e.on("remove",function(){f&&(f.remove(),f=null)}),t.skinUiCss&&tinymce.DOM.styleSheetLoader.load(t.skinUiCss),{}}function c(t){function a(){return function(e){"readonly"==e.mode?l.find("*").disabled(!0):l.find("*").disabled(!1)}}var l,c,f;return t.skinUiCss&&tinymce.DOM.loadCSS(t.skinUiCss),l=u.panel=h.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[d.menubar===!1?null:{type:"menubar",border:"0 0 1 0",items:i()},n(d.toolbar_items_size),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),d.resize!==!1&&(c={type:"resizehandle",direction:d.resize,onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;f={width:t.clientWidth,height:t.clientHeight}},onResize:function(e){"both"==d.resize?o(f.width+e.deltaX,f.height+e.deltaY):o(null,f.height+e.deltaY)}}),d.statusbar!==!1&&l.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},c]}),d.readonly&&l.find("*").disabled(!0),e.fire("BeforeRenderUI"),e.on("SwitchMode",a()),l.renderBefore(t.targetNode).reflow(),d.width&&tinymce.DOM.setStyle(l.getEl(),"width",d.width),e.on("remove",function(){l.remove(),l=null}),r(l),s(),{iframeContainer:l.find("#iframe")[0].getEl(),editorContainer:l.getEl()}}var u=this,d=e.settings,h=tinymce.ui.Factory,f=tinymce.each,p=tinymce.DOM,m=tinymce.geom.Rect,g=tinymce.ui.FloatPanel,v={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},b="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";u.renderUI=function(t){var n=d.skin!==!1?d.skin||"lightgray":!1;if(n){var i=d.skin_url;i=i?e.documentBaseURI.toAbsolute(i):tinymce.baseURL+"/skins/"+n,tinymce.Env.documentMode<=7?t.skinUiCss=i+"/skin.ie7.min.css":t.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")}return e.on("ProgressState",function(e){u.throbber=u.throbber||new tinymce.ui.Throbber(u.panel.getEl("body")),e.state?u.throbber.show(e.time):u.throbber.hide()}),d.inline?l(t):c(t)},u.resizeTo=o,u.resizeBy=a}),function(e){e.fn.fastClick=function(t){return e(this).each(function(){e.FastButton(e(this)[0],t)})},e.FastButton=function(t,n){var i,r,o=function(){e(t).unbind("touchend"),e("body").unbind("touchmove.fastClick")},a=function(t){t.stopPropagation(),o(),n.call(this,t),"touchend"===t.type&&e.clickbuster.preventGhostClick(i,r)},s=function(e){(Math.abs(e.originalEvent.touches[0].clientX-i)>10||Math.abs(e.originalEvent.touches[0].clientY-r)>10)&&o()},l=function(n){n.stopPropagation(),e(t).bind("touchend",a),e("body").bind("touchmove.fastClick",s),i=n.originalEvent.touches[0].clientX,r=n.originalEvent.touches[0].clientY};e(t).bind({touchstart:l,click:a})},e.clickbuster={coordinates:[],preventGhostClick:function(t,n){e.clickbuster.coordinates.push(t,n),window.setTimeout(e.clickbuster.pop,2500)},pop:function(){e.clickbuster.coordinates.splice(0,2)},onClick:function(t){var n,i,r;for(r=0;r<e.clickbuster.coordinates.length;r+=2)n=e.clickbuster.coordinates[r],i=e.clickbuster.coordinates[r+1],Math.abs(t.clientX-n)<25&&Math.abs(t.clientY-i)<25&&(t.stopPropagation(),t.preventDefault())}},e(function(){document.addEventListener?document.addEventListener("click",e.clickbuster.onClick,!0):document.attachEvent&&document.attachEvent("onclick",e.clickbuster.onClick)})}(jQuery),function(e){e.notification=function(t){function n(e){var t=[[2,"One second","1 second from now"],[60,"seconds",1],[120,"One minute","1 minute from now"],[3600,"minutes",60],[7200,"One hour","1 hour from now"],[86400,"hours",3600],[172800,"One day","tomorrow"],[604800,"days",86400],[1209600,"One week","next week"],[2419200,"weeks",604800],[4838400,"One month","next month"],[29030400,"months",2419200],[58060800,"One year","next year"],[290304e4,"years",29030400],[580608e4,"One century","next century"],[580608e5,"centuries",290304e4]],n=(new Date-e)/1e3,i="ago",r=1;0>n&&(n=Math.abs(n),i="from now",r=1);for(var o,a=0;o=t[a++];)if(n<o[0])return"string"==typeof o[2]?o[r]:Math.floor(n/o[2])+" "+o[1];return e}var i,r,o,a,s,l,c;if(t=e.extend({title:void 0,content:void 0,timeout:0,img:void 0,border:!0,fill:!1,showTime:!1,click:void 0,icon:void 0,color:void 0,duplicate:!1,error:!1},t),i=e("#notifications"),i.length){if(!t.duplicate){var u=!1;if(e("#notifications .notification").each(function(n,i){var r=e(i).find(".inner").html();r==t.content&&(u=!0)}),u)return console.log("Notification duplicated."),!1}}else i=e("<div>",{id:"notifications"}).appendTo(e("body"));if(r=e("<div>"),r.addClass("notification animated fadeInLeftMiddle fast"),1==t.error&&r.addClass("error"),e("#notifications .notification").length>0?r.addClass("more"):i.addClass("animated flipInX").delay(1e3).queue(function(){i.removeClass("animated flipInX"),i.clearQueue()}),o=e("<div>",{click:function(){e(this).parent().is(":last-child")?(e(this).parent().remove(),e("#notifications .notification:last-child").removeClass("more")):e(this).parent().remove()}}),o.addClass("hide"),l=e("<div class='left'>"),s=e("<div class='right'>"),void 0!=t.title){var d="<h2>"+t.title+"</h2>";r.addClass("big")}else var d="";if(void 0!=t.content)var h=t.content;else var h="";if(c=e("<div>",{html:d+h}),c.addClass("inner"),c.appendTo(s),void 0!=t.img)a=e("<div>",{style:"background-image: url('"+t.img+"')"}),a.addClass("img"),a.appendTo(l),0==t.border&&a.addClass("border"),1==t.fill&&a.addClass("fill");else{if(void 0!=t.icon)var f=t.icon;else if(1!=t.error)var f='"';else var f="c";icon=e('<div class="icon">').html(f),void 0!=t.color&&icon.css("color",t.color),icon.appendTo(l)}if(l.appendTo(r),s.appendTo(r),o.appendTo(r),0!=t.showTime){var p=Number(new Date);timeHTML=e("<div>",{html:"<strong>"+n(p)+"</strong> ago"}),timeHTML.addClass("time").attr("title",p),timeHTML.appendTo(s),setInterval(function(){e(".time").each(function(){var t=e(this).attr("title");e(this).html("<strong>"+n(t)+"</strong> ago")})},4e3)}return r.hover(function(){o.show()},function(){o.hide()}),r.prependTo(i),r.show(),t.timeout&&setTimeout(function(){var e=r.prev();e.hasClass("more")&&(e.is(":first-child")||r.is(":last-child"))&&e.removeClass("more"),r.remove()},t.timeout),void 0!=t.click&&(r.addClass("click"),r.bind("click",function(n){var i=e(n.target);i.is(".hide")||t.click.call(this)})),this}}(jQuery),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return De.call(e,t)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(e){we.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function o(e,t){var n=!0;return p(function(){return n&&(r(e),n=!1),t.apply(this,arguments)},t)}function a(e,t){bt[e]||(r(t),bt[e]=!0)}function s(e,t){return function(n){return v(e.call(this,n),t)}}function l(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function c(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function u(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function d(){}function h(e,t){t!==!1&&R(e),m(this,e),this._d=new Date(+e._d),xt===!1&&(xt=!0,we.updateOffset(this),xt=!1)}function f(e){var t=T(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=we.localeData(),this._bubble()}function p(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Le.length>0)for(n in Le)i=Le[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function g(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function b(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function y(e,t){var n;return t=z(t,e),e.isBefore(t)?n=b(e,t):(n=b(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function x(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(a(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=we.duration(n,i),w(this,r,e),this}}function w(e,t,n,i){var r=t._milliseconds,o=t._days,a=t._months;i=null==i?!0:i,r&&e._d.setTime(+e._d+r*n),o&&me(e,"Date",pe(e,"Date")+o*n),a&&fe(e,pe(e,"Month")+a*n),i&&we.updateOffset(e,o||a)}function _(e){return"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function C(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&A(e[i])!==A(t[i]))&&a++;return a+o}function S(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=dt[e]||ht[t]||t}return e}function T(e){var t,i,r={};for(i in e)n(e,i)&&(t=S(i),t&&(r[t]=e[i]));return r}function D(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}we[t]=function(r,o){var a,s,l=we._locale[t],c=[];if("number"==typeof r&&(o=r,r=e),s=function(e){var t=we().utc().set(i,e);return l.call(we._locale,t,r||"")},null!=o)return s(o);for(a=0;n>a;a++)c.push(s(a));return c}}function A(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function E(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function M(e,t,n){return ce(we([e,11,31+t-n]),t,n).week}function P(e){return N(e)?366:365}function N(e){return e%4===0&&e%100!==0||e%400===0}function R(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[Ee]<0||e._a[Ee]>11?Ee:e._a[Me]<1||e._a[Me]>E(e._a[Ae],e._a[Ee])?Me:e._a[Pe]<0||e._a[Pe]>24||24===e._a[Pe]&&(0!==e._a[Ne]||0!==e._a[Re]||0!==e._a[Ie])?Pe:e._a[Ne]<0||e._a[Ne]>59?Ne:e._a[Re]<0||e._a[Re]>59?Re:e._a[Ie]<0||e._a[Ie]>999?Ie:-1,e._pf._overflowDayOfYear&&(Ae>t||t>Me)&&(t=Me),e._pf.overflow=t)}function I(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===e)),t._isValid}function O(e){return e?e.toLowerCase().replace("_","-"):e}function L(e){for(var t,n,i,r,o=0;o<e.length;){for(r=O(e[o]).split("-"),t=r.length,n=O(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=j(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&C(r,n,!0)>=t-1)break;t--}o++}return null}function j(e){var t=null;if(!Oe[e]&&je)try{t=we.locale(),require("./locale/"+e),we.locale(t)}catch(n){}return Oe[e]}function z(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(we.isMoment(e)||k(e)?+e:+we(e))-+n,n._d.setTime(+n._d+i),we.updateOffset(n,!1),n):we(e).local()}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,i=e.match(He);for(t=0,n=i.length;n>t;t++)vt[i[t]]?i[t]=vt[i[t]]:i[t]=B(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function H(e,t){return e.isValid()?(t=q(t,e.localeData()),ft[t]||(ft[t]=F(t)),ft[t](e)):e.localeData().invalidDate()}function q(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(qe.lastIndex=0;i>=0&&qe.test(e);)e=e.replace(qe,n),qe.lastIndex=0,i-=1;return e}function W(e,t){var n,i=t._strict;switch(e){case"Q":return Je;case"DDDD":return tt;case"YYYY":case"GGGG":case"gggg":return i?nt:Ue;case"Y":case"G":case"g":return rt;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?it:Ye;case"S":if(i)return Je;case"SS":if(i)return et;case"SSS":if(i)return tt;case"DDD":return Ve;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Xe;case"a":case"A":return t._locale._meridiemParse;case"x":return Ke;case"X":return Qe;case"Z":case"ZZ":return Ge;case"T":return Ze;case"SSSS":return $e;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?et:We;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return We;case"Do":return i?t._locale._ordinalParse:t._locale._ordinalParseLenient;default:return n=new RegExp(Q(K(e.replace("\\","")),"i"))}}function V(e){e=e||"";var t=e.match(Ge)||[],n=t[t.length-1]||[],i=(n+"").match(ct)||["-",0,0],r=+(60*i[1])+A(i[2]);return"+"===i[0]?r:-r}function U(e,t,n){var i,r=n._a;switch(e){case"Q":null!=t&&(r[Ee]=3*(A(t)-1));break;case"M":case"MM":null!=t&&(r[Ee]=A(t)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(t,e,n._strict),null!=i?r[Ee]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[Me]=A(t));break;case"Do":null!=t&&(r[Me]=A(parseInt(t.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=A(t));break;case"YY":r[Ae]=we.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Ae]=A(t);break;case"a":case"A":n._meridiem=t;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":r[Pe]=A(t);break;case"m":case"mm":r[Ne]=A(t);break;case"s":case"ss":r[Re]=A(t);break;case"S":case"SS":case"SSS":case"SSSS":r[Ie]=A(1e3*("0."+t));break;case"x":n._d=new Date(A(t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(t);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(t),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=A(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=we.parseTwoDigitYear(t)}}function Y(e){var n,i,r,o,a,s,l;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(a=1,s=4,i=t(n.GG,e._a[Ae],ce(we(),1,4).year),r=t(n.W,1),o=t(n.E,1)):(a=e._locale._week.dow,s=e._locale._week.doy,i=t(n.gg,e._a[Ae],ce(we(),a,s).year),r=t(n.w,1),null!=n.d?(o=n.d,a>o&&++r):o=null!=n.e?n.e+a:a),l=ue(i,r,o,s,a),e._a[Ae]=l.year,e._dayOfYear=l.dayOfYear}function $(e){var n,i,r,o,a=[];if(!e._d){for(r=G(e),e._w&&null==e._a[Me]&&null==e._a[Ee]&&Y(e),e._dayOfYear&&(o=t(e._a[Ae],r[Ae]),e._dayOfYear>P(o)&&(e._pf._overflowDayOfYear=!0),i=oe(o,0,e._dayOfYear),e._a[Ee]=i.getUTCMonth(),e._a[Me]=i.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=a[n]=r[n];for(;7>n;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[Pe]&&0===e._a[Ne]&&0===e._a[Re]&&0===e._a[Ie]&&(e._nextDay=!0,e._a[Pe]=0),e._d=(e._useUTC?oe:re).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Pe]=24)}}function X(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],$(e))}function G(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Z(t){if(t._f===we.ISO_8601)return void ee(t);t._a=[],t._pf.empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=q(t._f,t._locale).match(He)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(W(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),vt[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),U(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[Pe]<=12&&(t._pf.bigHour=e),t._a[Pe]=u(t._locale,t._a[Pe],t._meridiem),$(t),R(t)}function K(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e){var t,n,r,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)a=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=i(),t._f=e._f[o],Z(t),I(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==r||r>a)&&(r=a,n=t));p(e,n||t)}function ee(e){var t,n,i=e._i,r=ot.exec(i);if(r){for(e._pf.iso=!0,t=0,n=st.length;n>t;t++)if(st[t][1].exec(i)){e._f=st[t][0]+(r[6]||" ");break}for(t=0,n=lt.length;n>t;t++)if(lt[t][1].exec(i)){e._f+=lt[t][0];break}i.match(Ge)&&(e._f+="Z"),Z(e)}else e._isValid=!1}function te(e){ee(e),e._isValid===!1&&(delete e._isValid,we.createFromInputFallback(e))}function ne(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function ie(t){var n,i=t._i;i===e?t._d=new Date:k(i)?t._d=new Date(+i):null!==(n=ze.exec(i))?t._d=new Date(+n[1]):"string"==typeof i?te(t):_(i)?(t._a=ne(i.slice(0),function(e){return parseInt(e,10)}),$(t)):"object"==typeof i?X(t):"number"==typeof i?t._d=new Date(i):we.createFromInputFallback(t)}function re(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function oe(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function se(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function le(e,t,n){var i=we.duration(e).abs(),r=Te(i.as("s")),o=Te(i.as("m")),a=Te(i.as("h")),s=Te(i.as("d")),l=Te(i.as("M")),c=Te(i.as("y")),u=r<pt.s&&["s",r]||1===o&&["m"]||o<pt.m&&["mm",o]||1===a&&["h"]||a<pt.h&&["hh",a]||1===s&&["d"]||s<pt.d&&["dd",s]||1===l&&["M"]||l<pt.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,se.apply({},u)}function ce(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=we(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ue(e,t,n,i,r){var o,a,s=oe(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(r>s?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:P(e-1)+a}}function de(t){var n,i=t._i,r=t._f;return t._locale=t._locale||we.localeData(t._l),null===i||r===e&&""===i?we.invalid({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),we.isMoment(i)?new h(i,!0):(r?_(r)?J(t):Z(t):ie(t),n=new h(t),n._nextDay&&(n.add(1,"d"),n._nextDay=e),n))}function he(e,t){var n,i;if(1===t.length&&_(t[0])&&(t=t[0]),!t.length)return we();for(n=t[0],i=1;i<t.length;++i)t[i][e](n)&&(n=t[i]);return n}function fe(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),E(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function pe(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function me(e,t,n){return"Month"===t?fe(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function ge(e,t){return function(n){return null!=n?(me(this,e,n),we.updateOffset(this,t),this):pe(this,e)}}function ve(e){return 400*e/146097}function be(e){return 146097*e/400}function ye(e){we.duration.fn[e]=function(){return this._data[e]}}function xe(e){"undefined"==typeof ender&&(_e=Se.moment,e?Se.moment=o("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",we):Se.moment=we)}for(var we,_e,ke,Ce="2.9.0",Se="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Te=Math.round,De=Object.prototype.hasOwnProperty,Ae=0,Ee=1,Me=2,Pe=3,Ne=4,Re=5,Ie=6,Oe={},Le=[],je="undefined"!=typeof module&&module&&module.exports,ze=/^\/?Date\((\-?\d+)/i,Be=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,He=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,qe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,We=/\d\d?/,Ve=/\d{1,3}/,Ue=/\d{1,4}/,Ye=/[+\-]?\d{1,6}/,$e=/\d+/,Xe=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ge=/Z|[\+\-]\d\d:?\d\d/gi,Ze=/T/i,Ke=/[\+\-]?\d+/,Qe=/[\+\-]?\d+(\.\d{1,3})?/,Je=/\d/,et=/\d\d/,tt=/\d{3}/,nt=/\d{4}/,it=/[+-]?\d{6}/,rt=/[+-]?\d+/,ot=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,at="YYYY-MM-DDTHH:mm:ssZ",st=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],lt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ct=/([\+\-]|\d\d)/gi,ut=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),dt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ht={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},ft={},pt={s:45,m:45,h:22,d:26,M:11},mt="DDD w W M D d".split(" "),gt="M D H h m s w W".split(" "),vt={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return A(this.milliseconds()/100)},SS:function(){return v(A(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(A(e/60),2)+":"+v(A(e)%60,2);
},ZZ:function(){var e=this.utcOffset(),t="+";return 0>e&&(e=-e,t="-"),t+v(A(e/60),2)+v(A(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},bt={},yt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],xt=!1;mt.length;)ke=mt.pop(),vt[ke+"o"]=l(vt[ke],ke);for(;gt.length;)ke=gt.pop(),vt[ke+ke]=s(vt[ke],2);vt.DDDD=s(vt.DDD,3),p(d.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=we.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=we([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.apply(t,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ce(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),we=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._i=t,a._f=n,a._l=r,a._strict=o,a._isUTC=!1,a._pf=i(),de(a)},we.suppressDeprecationWarnings=!1,we.createFromInputFallback=o("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),we.min=function(){var e=[].slice.call(arguments,0);return he("isBefore",e)},we.max=function(){var e=[].slice.call(arguments,0);return he("isAfter",e)},we.utc=function(t,n,r,o){var a;return"boolean"==typeof r&&(o=r,r=e),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=r,a._i=t,a._f=n,a._strict=o,a._pf=i(),de(a).utc()},we.unix=function(e){return we(1e3*e)},we.duration=function(e,t){var i,r,o,a,s=e,l=null;return we.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(l=Be.exec(e))?(i="-"===l[1]?-1:1,s={y:0,d:A(l[Me])*i,h:A(l[Pe])*i,m:A(l[Ne])*i,s:A(l[Re])*i,ms:A(l[Ie])*i}):(l=Fe.exec(e))?(i="-"===l[1]?-1:1,o=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*i},s={y:o(l[2]),M:o(l[3]),d:o(l[4]),h:o(l[5]),m:o(l[6]),s:o(l[7]),w:o(l[8])}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=y(we(s.from),we(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),r=new f(s),we.isDuration(e)&&n(e,"_locale")&&(r._locale=e._locale),r},we.version=Ce,we.defaultFormat=at,we.ISO_8601=function(){},we.momentProperties=Le,we.updateOffset=function(){},we.relativeTimeThreshold=function(t,n){return pt[t]===e?!1:n===e?pt[t]:(pt[t]=n,!0)},we.lang=o("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return we.locale(e,t)}),we.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?we.defineLocale(e,t):we.localeData(e),n&&(we.duration._locale=we._locale=n)),we._locale._abbr},we.defineLocale=function(e,t){return null!==t?(t.abbr=e,Oe[e]||(Oe[e]=new d),Oe[e].set(t),we.locale(e),Oe[e]):(delete Oe[e],null)},we.langData=o("moment.langData is deprecated. Use moment.localeData instead.",function(e){return we.localeData(e)}),we.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return we._locale;if(!_(e)){if(t=j(e))return t;e=[e]}return L(e)},we.isMoment=function(e){return e instanceof h||null!=e&&n(e,"_isAMomentObject")},we.isDuration=function(e){return e instanceof f};for(ke=yt.length-1;ke>=0;--ke)D(yt[ke]);we.normalizeUnits=function(e){return S(e)},we.invalid=function(e){var t=we.utc(NaN);return null!=e?p(t._pf,e):t._pf.userInvalidated=!0,t},we.parseZone=function(){return we.apply(null,arguments).parseZone()},we.parseTwoDigitYear=function(e){return A(e)+(A(e)>68?1900:2e3)},we.isDate=k,p(we.fn=h.prototype,{clone:function(){return we(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=we(this).utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&C(this._a,(this._isUTC?we.utc(this._a):we(this._a)).toArray())>0:!1},parsingFlags:function(){return p({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.utcOffset(0,e)},local:function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(e){var t=H(this,e||we.defaultFormat);return this.localeData().postformat(t)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(e,t,n){var i,r,o=z(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=S(t),"year"===t||"month"===t||"quarter"===t?(r=c(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:g(r)},from:function(e,t){return we.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(we(),e)},calendar:function(e){var t=e||we(),n=z(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,we(t)))},isLeapYear:function(){return N(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=ae(e,this.localeData()),this.add(e-t,"d")):t},month:ge("Month",!0),startOf:function(e){switch(e=S(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=S(t),t===e||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this>+e):(n=we.isMoment(e)?+e:+we(e),n<+this.clone().startOf(t))},isBefore:function(e,t){var n;return t=S("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+e>+this):(n=we.isMoment(e)?+e:+we(e),+this.clone().endOf(t)<n)},isBetween:function(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)},isSame:function(e,t){var n;return t=S(t||"millisecond"),"millisecond"===t?(e=we.isMoment(e)?e:we(e),+this===+e):(n=+we(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))},min:o("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),this>e?this:e}),max:o("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=we.apply(null,arguments),e>this?this:e}),zone:o("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),utcOffset:function(e,t){var n,i=this._offset||0;return null!=e?("string"==typeof e&&(e=V(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateUtcOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?w(this,we.duration(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,we.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(V(this._i)),this},hasAlignedHourOffset:function(e){return e=e?we(e).utcOffset():0,(this.utcOffset()-e)%60===0},daysInMonth:function(){return E(this.year(),this.month())},dayOfYear:function(e){var t=Te((we(this).startOf("day")-we(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ce(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ce(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ce(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return M(this.year(),e.dow,e.doy)},get:function(e){return e=S(e),this[e]()},set:function(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else e=S(e),"function"==typeof this[e]&&this[e](t);return this},locale:function(t){var n;return t===e?this._locale._abbr:(n=we.localeData(t),null!=n&&(this._locale=n),this)},lang:o("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),we.fn.millisecond=we.fn.milliseconds=ge("Milliseconds",!1),we.fn.second=we.fn.seconds=ge("Seconds",!1),we.fn.minute=we.fn.minutes=ge("Minutes",!1),we.fn.hour=we.fn.hours=ge("Hours",!0),we.fn.date=ge("Date",!0),we.fn.dates=o("dates accessor is deprecated. Use date instead.",ge("Date",!0)),we.fn.year=ge("FullYear",!0),we.fn.years=o("years accessor is deprecated. Use year instead.",ge("FullYear",!0)),we.fn.days=we.fn.day,we.fn.months=we.fn.month,we.fn.weeks=we.fn.week,we.fn.isoWeeks=we.fn.isoWeek,we.fn.quarters=we.fn.quarter,we.fn.toJSON=we.fn.toISOString,we.fn.isUTC=we.fn.isUtc,p(we.duration.fn=f.prototype,{_bubble:function(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;a.milliseconds=i%1e3,e=g(i/1e3),a.seconds=e%60,t=g(e/60),a.minutes=t%60,n=g(t/60),a.hours=n%24,r+=g(n/24),s=g(ve(r)),r-=g(be(s)),o+=g(r/30),r%=30,s+=g(o/12),o%=12,a.days=r,a.months=o,a.years=s},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*A(this._months/12)},humanize:function(e){var t=le(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=we.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=we.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=S(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=S(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*ve(t),"month"===e?n:n/12;switch(t=this._days+Math.round(be(this._months/12)),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:we.fn.lang,locale:we.fn.locale,toIsoString:o("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),we.duration.fn.toString=we.duration.fn.toISOString;for(ke in ut)n(ut,ke)&&ye(ke.toLowerCase());we.duration.fn.asMilliseconds=function(){return this.as("ms")},we.duration.fn.asSeconds=function(){return this.as("s")},we.duration.fn.asMinutes=function(){return this.as("m")},we.duration.fn.asHours=function(){return this.as("h")},we.duration.fn.asDays=function(){return this.as("d")},we.duration.fn.asWeeks=function(){return this.as("weeks")},we.duration.fn.asMonths=function(){return this.as("M")},we.duration.fn.asYears=function(){return this.as("y")},we.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===A(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),je?module.exports=we:"function"==typeof define&&define.amd?(define(["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Se.moment=_e),we}),xe(!0)):xe()}.call(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t=e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return 12>e?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n r\u1ed3i l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s",s:"v\xe0i gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4},"week-1":"M"});return t}),function(e,t){function n(e){var t="";if(e=parseInt(e,10),!e||1>e)return t;for(;e;)t+="0",e-=1;return t}function i(e,t,i){return null==e&&(e=""),e=""+e,(i?e:"")+n(t-e.length)+(i?"":e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){for(var n=e.length;n-=1;)if(t(e[n]))return e[n]}function s(e,t){var n,i=0,r=e.length;for("function"!=typeof t&&(n=t,t=function(e){return e===n});r>i;){if(t(e[i]))return e[i];i+=1}}function l(e,t){var n=0,i=e.length;if(e&&i)for(;i>n;){if(t(e[n],n)===!1)return;n+=1}}function c(e,t){var n=0,i=e.length,r=[];if(!e||!i)return r;for(;i>n;)r[n]=t(e[n],n),n+=1;return r}function u(e,t){return c(e,function(e){return e[t]})}function d(e){var t=[];return l(e,function(e){e&&t.push(e)}),t}function h(e){var t=[];return l(e,function(e){s(t,e)||t.push(e)}),t}function f(e,t){var n=[];return l(e,function(e){l(t,function(t){e===t&&n.push(e)})}),h(n)}function p(e,t){var n=[];return l(e,function(i,r){return t(i)?void 0:(n=e.slice(r),!1)}),n}function m(e,t){var n=e.slice().reverse();return p(n,t).reverse()}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var v;if("function"==typeof require)try{v=require("moment")}catch(b){}if(!v&&e.moment&&(v=e.moment),!v)throw"Moment Duration Format cannot find Moment.js";v.duration.fn.format=function(){var e,t,a,b,y,x,w=[].slice.call(arguments),_=g({},this.format.defaults),k=v.duration(this);return _.duration=this,l(w,function(e){return"string"==typeof e||"function"==typeof e?void(_.template=e):"number"==typeof e?void(_.precision=e):void(o(e)&&g(_,e))}),a=_.types=r(_.types)?_.types:_.types.split(" "),"function"==typeof _.template&&(_.template=_.template.apply(_)),e=new RegExp(c(a,function(e){return _[e].source}).join("|"),"g"),b=function(e){return s(a,function(t){return _[t].test(e)})},t=c(_.template.match(e),function(e,t){var n=b(e),i=e.length;return{index:t,length:i,token:"escape"===n?e.replace(_.escape,"$1"):e,type:"escape"===n||"general"===n?null:n}},this),y=f(a,h(d(u(t,"type")))),y.length?(l(y,function(e,n){var i,r,o,a,s;i=k.as(e),r=i>0?Math.floor(i):Math.ceil(i),o=i-r,a=n+1===y.length,s=!n,l(t,function(t){t.type===e&&(g(t,{value:i,wholeValue:r,decimalValue:o,isLeast:a,isMost:s}),s&&null==_.forceLength&&t.length>1&&(_.forceLength=!0))}),k.subtract(r,e)}),_.trim&&(t=("left"===_.trim?p:m)(t,function(e){return!(e.isLeast||null!=e.type&&e.wholeValue)})),x=!1,"right"===_.trim&&t.reverse(),t=c(t,function(e){var t,r;if(!e.type)return e.token;if(t=e.isLeast&&_.precision<0?(Math.floor(e.wholeValue*Math.pow(10,_.precision))*Math.pow(10,-_.precision)).toString():e.wholeValue.toString(),t=t.replace(/^\-/,""),e.length>1&&(x||e.isMost||_.forceLength)&&(t=i(t,e.length)),e.isLeast&&_.precision>0)switch(r=e.decimalValue.toString().replace(/^\-/,"").split(/\.|e\-/),r.length){case 1:t+="."+i(r[0],_.precision,!0).slice(0,_.precision);break;case 2:t+="."+i(r[1],_.precision,!0).slice(0,_.precision);break;case 3:t+="."+i(n(+r[2]-1)+(r[0]||"0")+r[1],_.precision,!0).slice(0,_.precision);break;default:throw"Moment Duration Format: unable to parse token decimal value."}return e.isMost&&e.value<0&&(t="-"+t),x=!0,t}),"right"===_.trim&&t.reverse(),t.join("")):u(t,"token").join("")},v.duration.fn.format.defaults={escape:/\[(.+?)\]/,years:/[Yy]+/,months:/M+/,weeks:/[Ww]+/,days:/[Dd]+/,hours:/[Hh]+/,minutes:/m+/,seconds:/s+/,milliseconds:/S+/,general:/.+?/,types:"escape years months weeks days hours minutes seconds milliseconds general",trim:"left",precision:0,forceLength:null,template:function(){var e=this.types,t=this.duration,n=a(e,function(e){return t._data[e]});switch(n){case"seconds":return"h:mm:ss";case"minutes":return"d[d] h:mm";case"hours":return"d[d] h[h]";case"days":return"M[m] d[d]";case"weeks":return"y[y] w[w]";case"months":return"y[y] M[m]";case"years":return"y[y]";default:return"y[y] M[m] d[d] h:mm:ss"}}}}(this),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,r){e.daterangepicker=t(e,r,n,i)});else if("undefined"!=typeof exports){var n,i=require("moment");try{n=require("jquery")}catch(r){if(n=window.jQuery,!n)throw new Error("jQuery dependency not found")}t(e,exports,i,n)}else e.daterangepicker=t(e,{},e.moment,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){var r=function(e,t,n){this.parentEl="body",this.element=i(e),this.isShowing=!1;var r='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';("object"!=typeof t||null===t)&&(t={}),this.parentEl=i("object"==typeof t&&t.parentEl&&i(t.parentEl).length?t.parentEl:this.parentEl),this.container=i(r).appendTo(this.parentEl),this.setOptions(t,n),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",i.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.updateFromControl,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this))};r.prototype={constructor:r,setOptions:function(e,t){if(this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.timeZone=n().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses=["ui","compact","small","button"],this.applyClass="primary",this.cancelClass="secondary",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData()._week.dow},this.cb=function(){},"string"==typeof e.format&&(this.format=e.format),"string"==typeof e.separator&&(this.separator=e.separator),"string"==typeof e.startDate&&(this.startDate=n(e.startDate,this.format)),"string"==typeof e.endDate&&(this.endDate=n(e.endDate,this.format)),"string"==typeof e.minDate&&(this.minDate=n(e.minDate,this.format)),"string"==typeof e.maxDate&&(this.maxDate=n(e.maxDate,this.format)),"object"==typeof e.startDate&&(this.startDate=n(e.startDate)),"object"==typeof e.endDate&&(this.endDate=n(e.endDate)),"object"==typeof e.minDate&&(this.minDate=n(e.minDate)),"object"==typeof e.maxDate&&(this.maxDate=n(e.maxDate)),"string"==typeof e.applyClass&&(this.applyClass=e.applyClass),"string"==typeof e.cancelClass&&(this.cancelClass=e.cancelClass),"object"==typeof e.dateLimit&&(this.dateLimit=e.dateLimit),"object"==typeof e.locale&&("object"==typeof e.locale.daysOfWeek&&(this.locale.daysOfWeek=e.locale.daysOfWeek.slice()),"object"==typeof e.locale.monthNames&&(this.locale.monthNames=e.locale.monthNames.slice()),"number"==typeof e.locale.firstDay&&(this.locale.firstDay=e.locale.firstDay),"string"==typeof e.locale.applyLabel&&(this.locale.applyLabel=e.locale.applyLabel),"string"==typeof e.locale.cancelLabel&&(this.locale.cancelLabel=e.locale.cancelLabel),"string"==typeof e.locale.fromLabel&&(this.locale.fromLabel=e.locale.fromLabel),"string"==typeof e.locale.toLabel&&(this.locale.toLabel=e.locale.toLabel),"string"==typeof e.locale.weekLabel&&(this.locale.weekLabel=e.locale.weekLabel),"string"==typeof e.locale.customRangeLabel&&(this.locale.customRangeLabel=e.locale.customRangeLabel)),"string"==typeof e.opens&&(this.opens=e.opens),"string"==typeof e.drops&&(this.drops=e.drops),"boolean"==typeof e.showWeekNumbers&&(this.showWeekNumbers=e.showWeekNumbers),"string"==typeof e.buttonClasses&&(this.buttonClasses=[e.buttonClasses]),"object"==typeof e.buttonClasses&&(this.buttonClasses=e.buttonClasses),"boolean"==typeof e.showDropdowns&&(this.showDropdowns=e.showDropdowns),"boolean"==typeof e.singleDatePicker&&(this.singleDatePicker=e.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof e.timePicker&&(this.timePicker=e.timePicker),"boolean"==typeof e.timePickerSeconds&&(this.timePickerSeconds=e.timePickerSeconds),"number"==typeof e.timePickerIncrement&&(this.timePickerIncrement=e.timePickerIncrement),"boolean"==typeof e.timePicker12Hour&&(this.timePicker12Hour=e.timePicker12Hour),0!==this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var o,a,s;if("undefined"==typeof e.startDate&&"undefined"==typeof e.endDate&&i(this.element).is("input[type=text]")){var l=i(this.element).val(),c=l.split(this.separator);o=a=null,2==c.length?(o=n(c[0],this.format),a=n(c[1],this.format)):this.singleDatePicker&&""!==l&&(o=n(l,this.format),a=n(l,this.format)),null!==o&&null!==a&&(this.startDate=o,this.endDate=a)}if("string"==typeof e.timeZone||"number"==typeof e.timeZone?("string"==typeof e.timeZone&&"undefined"!=typeof n.tz?this.timeZone=-1*n.tz.zone(e.timeZone).parse(new Date):this.timeZone=e.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=n(this.startDate).utcOffset(),"object"==typeof e.ranges){for(s in e.ranges)o="string"==typeof e.ranges[s][0]?n(e.ranges[s][0],this.format):n(e.ranges[s][0]),a="string"==typeof e.ranges[s][1]?n(e.ranges[s][1],this.format):n(e.ranges[s][1]),this.minDate&&o.isBefore(this.minDate)&&(o=n(this.minDate)),this.maxDate&&a.isAfter(this.maxDate)&&(a=n(this.maxDate)),this.minDate&&a.isBefore(this.minDate)||this.maxDate&&o.isAfter(this.maxDate)||(this.ranges[s]=[o,a]);var u="<ul>";for(s in this.ranges)u+="<li>"+s+"</li>";u+="<li>"+this.locale.customRangeLabel+"</li>",u+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(u)}if("function"==typeof t&&(this.cb=t),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:n([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:n([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]
},"right"==this.opens||"center"==this.opens){var d=this.container.find(".calendar.first"),h=this.container.find(".calendar.second");h.hasClass("single")&&(h.removeClass("single"),d.addClass("single")),d.removeClass("left").addClass("right"),h.removeClass("right").addClass("left"),this.singleDatePicker&&(d.show(),h.hide())}"undefined"!=typeof e.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.updateView(),this.updateCalendars();var f=this.container;i.each(this.buttonClasses,function(e,t){f.find("button").addClass(t)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel)},setStartDate:function(e){"string"==typeof e&&(this.startDate=n(e,this.format).utcOffset(this.timeZone)),"object"==typeof e&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(e){"string"==typeof e&&(this.endDate=n(e,this.format).utcOffset(this.timeZone)),"object"==typeof e&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.separator),t=null,i=null;2===e.length&&(t=n(e[0],this.format).utcOffset(this.timeZone),i=n(e[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===t||null===i)&&(t=n(this.element.val(),this.format).utcOffset(this.timeZone),i=t),i.isBefore(t)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=t,this.endDate=i,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},keydown:function(e){(9===e.keyCode||13===e.keyCode)&&this.hide()},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e,t={top:0,left:0},n=i(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(e){this.element.hasClass("active")?this.hide():this.show()},show:function(e){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=i.proxy(function(e){this.outsideClick(e)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(e){var t=i(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-date").length||this.hide()},hide:function(e){this.isShowing&&(i(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(e){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(e){var t=i(e.target),r=n(t.val(),this.format);if(r.isValid()){var o,a;"daterangepicker_start"===t.attr("name")?(o=!1!==this.minDate&&r.isBefore(this.minDate)?this.minDate:r,a=this.endDate):(o=this.startDate,a=!1!==this.maxDate&&r.isAfter(this.maxDate)?this.maxDate:r),this.setCustomDates(o,a)}},inputsKeydown:function(e){13===e.keyCode&&(this.inputsChanged(e),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.endDate.format(this.format)),this.element.trigger("change"))},clickRange:function(e){var t=e.target.innerHTML;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(e){var t=i(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var t=i(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(e){var t=i(e.target).attr("data-title"),n=t.substr(1,1),r=t.substr(3,1),o=i(e.target).parents(".calendar");o.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][r].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][r].format(this.format))},setCustomDates:function(e,t){if(this.chosenLabel=this.locale.customRangeLabel,e.isAfter(t)){var i=this.endDate.diff(this.startDate);t=n(e).add(i,"ms"),this.maxDate&&t.isAfter(this.maxDate)&&(t=this.maxDate.clone())}this.startDate=e,this.endDate=t,this.updateView(),this.updateCalendars()},clickDate:function(e){var t,r,o=i(e.target).attr("data-title"),a=o.substr(1,1),s=o.substr(3,1),l=i(e.target).parents(".calendar");if(l.hasClass("left")){if(t=this.leftCalendar.calendar[a][s],r=this.endDate,"object"==typeof this.dateLimit){var c=n(t).add(this.dateLimit).startOf("day");r.isAfter(c)&&(r=c)}}else if(t=this.startDate,r=this.rightCalendar.calendar[a][s],"object"==typeof this.dateLimit){var u=n(r).subtract(this.dateLimit).startOf("day");t.isBefore(u)&&(t=u)}this.singleDatePicker&&l.hasClass("left")?r=t.clone():this.singleDatePicker&&l.hasClass("right")&&(t=r.clone()),l.find("td").removeClass("active"),i(e.target).addClass("active"),this.setCustomDates(t,r),this.timePicker||r.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(e){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var t=i(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",r=this.container.find(".calendar."+n),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();t||this.singleDatePicker||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),this[n+"Calendar"].month.month(o).year(a),this.updateCalendars()},updateTime:function(e){var t=i(e.target).closest(".calendar"),n=t.hasClass("left"),r=parseInt(t.find(".hourselect").val(),10),o=parseInt(t.find(".minuteselect").val(),10),a=0;if(this.timePickerSeconds&&(a=parseInt(t.find(".secondselect").val(),10)),this.timePicker12Hour){var s=t.find(".ampmselect").val();"PM"===s&&12>r&&(r+=12),"AM"===s&&12===r&&(r=0)}if(n){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.startDate=l,this.leftCalendar.month.hour(r).minute(o).second(a),this.singleDatePicker&&(this.endDate=l.clone())}else{var c=this.endDate.clone();c.hour(r),c.minute(o),c.second(a),this.endDate=c,this.singleDatePicker&&(this.startDate=c.clone()),this.rightCalendar.month.hour(r).minute(o).second(a)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var e=!0,t=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html()),t++;e&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(e,t,i,r,o,a){var s,l=n([t,e]).daysInMonth(),c=n([t,e,1]),u=n([t,e,l]),d=n(c).subtract(1,"month").month(),h=n(c).subtract(1,"month").year(),f=n([h,d]).daysInMonth(),p=c.day(),m=[];for(m.firstDay=c,m.lastDay=u,s=0;6>s;s++)m[s]=[];var g=f-p+this.locale.firstDay+1;g>f&&(g-=7),p==this.locale.firstDay&&(g=f-6);var v,b,y=n([h,d,g,12,r,o]).utcOffset(this.timeZone);for(s=0,v=0,b=0;42>s;s++,v++,y=n(y).add(24,"hour"))s>0&&v%7===0&&(v=0,b++),m[b][v]=y.clone().hour(i),y.hour(12),this.minDate&&m[b][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[b][v].isBefore(this.minDate)&&"left"==a&&(m[b][v]=this.minDate.clone()),this.maxDate&&m[b][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[b][v].isAfter(this.maxDate)&&"right"==a&&(m[b][v]=this.maxDate.clone());return m},renderDropdowns:function(e,t,n){for(var i=e.month(),r=e.year(),o=n&&n.year()||r+5,a=t&&t.year()||r-50,s='<select class="ui compact selection dropdown monthselect">',l=r==a,c=r==o,u=0;12>u;u++)(!l||u>=t.month())&&(!c||u<=n.month())&&(s+="<option value='"+u+"'"+(u===i?" selected='selected'":"")+">"+this.locale.monthNames[u]+"</option>");s+="</select>";for(var d='<select class="ui compact selection dropdown yearselect">',h=a;o>=h;h++)d+='<option value="'+h+'"'+(h===r?' selected="selected"':"")+">"+h+"</option>";return d+="</select>",s+d},renderCalendar:function(e,t,n,r,o){var a='<div class="calendar-date">';a+='<table class="table-condensed">',a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),a+=!n||n.isBefore(e.firstDay)?'<th class="prev available"><i class="tc-left arrow icon"></i></th>':"<th></th>";var s=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(s=this.renderDropdowns(e[1][1],n,r)),a+='<th colspan="5" class="month">'+s+"</th>",a+=!r||r.isAfter(e.lastDay)?'<th class="next available"><i class="tc-right arrow icon"></i></th>':"<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(e,t){a+="<th>"+t+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var l=0;6>l;l++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+e[l][0].week()+"</td>");for(var c=0;7>c;c++){var u="available ";u+=e[l][c].month()==e[1][1].month()?"":"off",n&&e[l][c].isBefore(n,"day")||r&&e[l][c].isAfter(r,"day")?u=" off disabled ":e[l][c].format("YYYY-MM-DD")==t.format("YYYY-MM-DD")?(u+=" active ",e[l][c].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(u+=" start-date "),e[l][c].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(u+=" end-date ")):e[l][c]>=this.startDate&&e[l][c]<=this.endDate&&(u+=" in-range ",e[l][c].isSame(this.startDate)&&(u+=" start-date "),e[l][c].isSame(this.endDate)&&(u+=" end-date "));var d="r"+l+"c"+c;a+='<td class="'+u.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+d+'">'+e[l][c].date()+"</td>"}a+="</tr>"}a+="</tbody>",a+="</table>",a+="</div>";var h;if(this.timePicker){a+='<div class="calendar-time">',a+='<select class="ui compact upward selection dropdown hourselect">';var f=0,p=23;n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(f=n.hour(),t.hour()<f&&t.hour(f),this.timePicker12Hour&&f>=12&&t.hour()>=12&&(f-=12),this.timePicker12Hour&&12==f&&(f=1)),r&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&(p=r.hour(),t.hour()>p&&t.hour(p),this.timePicker12Hour&&p>=12&&t.hour()>=12&&(p-=12));var m=0,g=23,v=t.hour();for(this.timePicker12Hour&&(m=1,g=12,v>=12&&(v-=12),0===v&&(v=12)),h=m;g>=h;h++)a+=h==v?'<option value="'+h+'" selected="selected">'+h+"</option>":f>h||h>p?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>";a+="</select> : ",a+='<select class="ui compact upward selection dropdown minuteselect">';var b=0,y=59;for(n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(b=n.minute(),t.minute()<b&&t.minute(b)),r&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD h A")==r.format("YYYY-MM-DD h A")&&(y=r.minute(),t.minute()>y&&t.minute(y)),h=0;60>h;h+=this.timePickerIncrement){var x=h;10>x&&(x="0"+x),a+=h==t.minute()?'<option value="'+h+'" selected="selected">'+x+"</option>":b>h||h>y?'<option value="'+h+'" disabled="disabled" class="disabled">'+x+"</option>":'<option value="'+h+'">'+x+"</option>"}if(a+="</select> ",this.timePickerSeconds){for(a+=': <select class="ui compact upward selection dropdown secondselect">',h=0;60>h;h+=this.timePickerIncrement){var w=h;10>w&&(w="0"+w),a+=h==t.second()?'<option value="'+h+'" selected="selected">'+w+"</option>":'<option value="'+h+'">'+w+"</option>"}a+="</select>"}if(this.timePicker12Hour){a+='<select class="ui compact upward selection dropdown ampmselect">';var _="",k="";n&&("left"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()>=12&&(_=' disabled="disabled" class="disabled"'),r&&("right"==o||this.singleDatePicker)&&t.format("YYYY-MM-DD")==r.format("YYYY-MM-DD")&&r.hour()<12&&(k=' disabled="disabled" class="disabled"'),a+=t.hour()>=12?'<option value="AM"'+_+'>AM</option><option value="PM" selected="selected"'+k+">PM</option>":'<option value="AM" selected="selected"'+_+'>AM</option><option value="PM"'+k+">PM</option>",a+="</select>"}a+="</div>"}return a},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},i.fn.daterangepicker=function(e,t){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new r(n,e,t))}),this}}),!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){!function(){var n=e("color-convert"),i=e("color-string"),r=function(e){if(e instanceof r)return e;if(!(this instanceof r))return new r(e);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e){var t=i.getRgba(e);if(t)this.setValues("rgb",t);else if(t=i.getHsla(e))this.setValues("hsl",t);else{if(!(t=i.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}}else if("object"==typeof e){var t=e;if(void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}}};r.prototype={rgb:function(e){return this.setSpace("rgb",arguments)},hsl:function(e){return this.setSpace("hsl",arguments)},hsv:function(e){return this.setSpace("hsv",arguments)},hwb:function(e){return this.setSpace("hwb",arguments)},cmyk:function(e){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values.rgb;return e.concat([this.values.alpha])},hslaArray:function(){var e=this.values.hsl;return e.concat([this.values.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){t=1-(null==t?.5:t);for(var n=2*t-1,i=this.alpha()-e.alpha(),r=((n*i==-1?n:(n+i)/(1+n*i))+1)/2,o=1-r,a=this.rgbArray(),s=e.rgbArray(),l=0;l<a.length;l++)a[l]=a[l]*r+s[l]*o;this.setValues("rgb",a);var c=this.alpha()*t+e.alpha()*(1-t);return this.setValues("alpha",c),this},toJSON:function(){return this.rgb()},clone:function(){return new r(this.rgb())}},r.prototype.getValues=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=this.values[e][n];return 1!=this.values.alpha&&(t.a=this.values.alpha),t},r.prototype.setValues=function(e,t){var i={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o=1;if("alpha"==e)o=t;else if(t.length)this.values[e]=t.slice(0,e.length),o=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var a=0;a<e.length;a++)this.values[e][a]=t[e.charAt(a)];o=t.a}else if(void 0!==t[i[e][0]]){for(var s=i[e],a=0;a<e.length;a++)this.values[e][a]=t[s[a]];o=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==o?o:this.values.alpha)),"alpha"!=e){for(var a=0;a<e.length;a++){var l=Math.max(0,Math.min(r[e][a],this.values[e][a]));this.values[e][a]=Math.round(l)}for(var c in i){c!=e&&(this.values[c]=n[e][c](this.values[e]));for(var a=0;a<c.length;a++){var l=Math.max(0,Math.min(r[c][a],this.values[c][a]));this.values[c][a]=Math.round(l)}}return!0}},r.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},r.prototype.setChannel=function(e,t,n){return void 0===n?this.values[e][t]:(this.values[e][t]=n,this.setValues(e,this.values[e]),this)},window.Color=t.exports=r}()},{"color-convert":3,"color-string":4}],2:[function(e,t,n){function i(e){var t,n,i,r=e[0]/255,o=e[1]/255,a=e[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),c=l-s;return l==s?t=0:r==l?t=(o-a)/c:o==l?t=2+(a-r)/c:a==l&&(t=4+(r-o)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=(s+l)/2,n=l==s?0:.5>=i?c/(l+s):c/(2-l-s),[t,100*n,100*i]}function o(e){var t,n,i,r=e[0],o=e[1],a=e[2],s=Math.min(r,o,a),l=Math.max(r,o,a),c=l-s;return n=0==l?0:c/l*1e3/10,l==s?t=0:r==l?t=(o-a)/c:o==l?t=2+(a-r)/c:a==l&&(t=4+(r-o)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=l/255*1e3/10,[t,n,i]}function a(e){var t=e[0],n=e[1],r=e[2],o=i(e)[0],a=1/255*Math.min(t,Math.min(n,r)),r=1-1/255*Math.max(t,Math.max(n,r));return[o,100*a,100*r]}function s(e){var t,n,i,r,o=e[0]/255,a=e[1]/255,s=e[2]/255;return r=Math.min(1-o,1-a,1-s),t=(1-o-r)/(1-r)||0,n=(1-a-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*t,100*n,100*i,100*r]}function l(e){return K[JSON.stringify(e)]}function c(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var r=.4124*t+.3576*n+.1805*i,o=.2126*t+.7152*n+.0722*i,a=.0193*t+.1192*n+.9505*i;return[100*r,100*o,100*a]}function u(e){var t,n,i,r=c(e),o=r[0],a=r[1],s=r[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*a-16,n=500*(o-a),i=200*(a-s),[t,n,i]}function d(e){return z(u(e))}function h(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return o=255*l,[o,o,o];n=.5>l?l*(1+s):l+s-l*s,t=2*l-n,r=[0,0,0];for(var c=0;3>c;c++)i=a+1/3*-(c-1),0>i&&i++,i>1&&i--,o=1>6*i?t+6*(n-t)*i:1>2*i?n:2>3*i?t+(n-t)*(2/3-i)*6:t,r[c]=255*o;return r}function f(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return o*=2,r*=1>=o?o:2-o,n=(o+r)/2,t=2*r/(o+r),[i,100*t,100*n]}function p(e){return a(h(e))}function m(e){return s(h(e))}function v(e){return l(h(e))}function y(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o)),i=255*i;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function x(e){var t,n,i=e[0],r=e[1]/100,o=e[2]/100;return n=(2-r)*o,t=r*o,t/=1>=n?n:2-n,t=t||0,n/=2,[i,100*t,100*n]}function w(e){return a(y(e))}function _(e){return s(y(e))}function k(e){return l(y(e))}function C(e){var t,n,i,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),t=Math.floor(6*a),n=1-l,i=6*a-t,0!=(1&t)&&(i=1-i),o=s+i*(n-s),t){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function S(e){return i(C(e))}function T(e){return o(C(e))}function D(e){return s(C(e))}function A(e){return l(C(e))}function E(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100,s=e[3]/100;return t=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),[255*t,255*n,255*i]}function M(e){return i(E(e))}function P(e){return o(E(e))}function N(e){return a(E(e))}function R(e){return l(E(e))}function I(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return t=3.2406*r+-1.5372*o+a*-.4986,n=r*-.9689+1.8758*o+.0415*a,i=.0557*r+o*-.204+1.057*a,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]}function O(e){var t,n,i,r=e[0],o=e[1],a=e[2];return r/=95.047,o/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*o-16,n=500*(r-o),i=200*(o-a),[t,n,i]}function L(e){return z(O(e))}function j(e){var t,n,i,r,o=e[0],a=e[1],s=e[2];return 8>=o?(n=100*o/903.3,r=7.787*(n/100)+16/116):(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),t=.008856>=t/95.047?t=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i=.008859>=i/108.883?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[t,n,i]}function z(e){var t,n,i,r=e[0],o=e[1],a=e[2];return t=Math.atan2(a,o),n=360*t/2/Math.PI,0>n&&(n+=360),i=Math.sqrt(o*o+a*a),[r,i,n]}function B(e){return I(j(e))}function F(e){var t,n,i,r=e[0],o=e[1],a=e[2];return i=a/360*2*Math.PI,t=o*Math.cos(i),n=o*Math.sin(i),[r,t,n]}function H(e){return j(F(e))}function q(e){return B(F(e))}function W(e){return Z[e]}function V(e){return i(W(e))}function U(e){return o(W(e))}function Y(e){return a(W(e))}function $(e){return s(W(e))}function X(e){return u(W(e))}function G(e){return c(W(e))}t.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:d,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:x,hsv2hwb:w,hsv2cmyk:_,hsv2keyword:k,hwb2rgb:C,hwb2hsl:S,hwb2hsv:T,hwb2cmyk:D,hwb2keyword:A,cmyk2rgb:E,cmyk2hsl:M,cmyk2hsv:P,cmyk2hwb:N,cmyk2keyword:R,keyword2rgb:W,keyword2hsl:V,keyword2hsv:U,keyword2hwb:Y,keyword2cmyk:$,keyword2lab:X,keyword2xyz:G,xyz2rgb:I,xyz2lab:O,xyz2lch:L,lab2xyz:j,lab2rgb:B,lab2lch:z,lch2lab:F,lch2xyz:H,lch2rgb:q};var Z={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],
lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K={};for(var Q in Z)K[JSON.stringify(Z[Q])]=Q},{}],3:[function(e,t,n){var i=e("./conversions"),r=function(){return new c};for(var o in i){r[o+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];r[s]=r[s]||{},r[s][l]=r[o]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{"./conversions":2}],4:[function(e,t,n){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=e.match(t);if(l){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l[c]+l[c],16)}else if(l=e.match(n)){l=l[1];for(var c=0;c<a.length;c++)a[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=e.match(i)){for(var c=0;c<a.length;c++)a[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=e.match(r)){for(var c=0;c<a.length;c++)a[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=e.match(o)){if("transparent"==l[1])return[0,0,0,0];if(a=x[l[1]],!a)return}for(var c=0;c<a.length;c++)a[c]=b(a[c],0,255);return s=s||0==s?b(s,0,1):1,a[3]=s,a}}function r(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]),r=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),a=b(parseFloat(n[3]),0,100),s=b(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function o(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]),r=b(parseInt(n[1]),0,360),o=b(parseFloat(n[2]),0,100),a=b(parseFloat(n[3]),0,100),s=b(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function a(e){var t=i(e);return t&&t.slice(0,3)}function s(e){var t=r(e);return t&&t.slice(0,3)}function l(e){var t=i(e);return t?t[3]:(t=r(e))?t[3]:(t=o(e))?t[3]:void 0}function c(e){return"#"+y(e[0])+y(e[1])+y(e[2])}function u(e,t){return 1>t||e[3]&&e[3]<1?d(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function d(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function h(e,t){if(1>t||e[3]&&e[3]<1)return f(e,t);var n=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"}function f(e,t){var n=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return"rgba("+n+"%, "+i+"%, "+r+"%, "+(t||e[3]||1)+")"}function p(e,t){return 1>t||e[3]&&e[3]<1?m(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return w[e.slice(0,3)]}function b(e,t,n){return Math.min(Math.max(t,e),n)}function y(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var x=e("color-name");t.exports={getRgba:i,getHsla:r,getRgb:a,getHsl:s,getHwb:o,getAlpha:l,hexString:c,rgbString:u,rgbaString:d,percentString:h,percentaString:f,hslString:p,hslaString:m,hwbString:g,keyword:v};var w={};for(var _ in x)w[x[_]]=_},{"color-name":5}],5:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}]},{},[1]),function(){"use strict";var e=this,t=e.Chart,n=function(e,t){this.config=t,e.length&&e[0].getContext&&(e=e[0]),e.getContext&&(e=e.getContext("2d")),this.ctx=e,this.canvas=e.canvas,this.width=e.canvas.width||parseInt(n.helpers.getStyle(e.canvas,"width"))||n.helpers.getMaximumWidth(e.canvas),this.height=e.canvas.height||parseInt(n.helpers.getStyle(e.canvas,"height"))||n.helpers.getMaximumHeight(e.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||isFinite(this.aspectRatio)===!1)&&(this.aspectRatio=void 0!==t.aspectRatio?t.aspectRatio:2),this.originalCanvasStyleWidth=e.canvas.style.width,this.originalCanvasStyleHeight=e.canvas.style.height,n.helpers.retinaScale(this),t&&(this.controller=new n.Controller(this));var i=this;return n.helpers.addResizeListener(e.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),this.controller?this.controller:this};n.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove","touchend"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'">'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</span></li>");return t.push("</ul>"),t.join("")}}},"undefined"!=typeof amd?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers={},i=n.each=function(e,t,n,i){var r=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var o;if(i)for(o=e.length-1;o>=0;o--)t.apply(n,[e[o],o].concat(r));else for(o=0;o<e.length;o++)t.apply(n,[e[o],o].concat(r))}else for(var a in e)t.apply(n,[e[a],a].concat(r))},r=n.clone=function(e){var t={};return i(e,function(i,o){e.hasOwnProperty(o)&&(n.isArray(i)?t[o]=i.slice(0):"object"==typeof i&&null!==i?t[o]=r(i):t[o]=i)}),t},o=n.extend=function(e){return i(Array.prototype.slice.call(arguments,1),function(t){i(t,function(n,i){t.hasOwnProperty(i)&&(e[i]=n)})}),e},a=(n.configMerge=function(e){var i=r(e);return n.each(Array.prototype.slice.call(arguments,1),function(e){n.each(e,function(r,o){if(e.hasOwnProperty(o))if("scales"===o)i[o]=n.scaleMerge(i.hasOwnProperty(o)?i[o]:{},r);else if("scale"===o)i[o]=n.configMerge(i.hasOwnProperty(o)?i[o]:{},t.scaleService.getScaleDefaults(r.type),r);else if(i.hasOwnProperty(o)&&n.isArray(i[o])&&n.isArray(r)){var a=i[o];n.each(r,function(e,t){t<a.length?"object"==typeof a[t]&&null!==a[t]&&"object"==typeof e&&null!==e?a[t]=n.configMerge(a[t],e):a[t]=e:a.push(e)})}else i.hasOwnProperty(o)&&"object"==typeof i[o]&&null!==i[o]&&"object"==typeof r?i[o]=n.configMerge(i[o],r):i[o]=r})}),i},n.extendDeep=function(e){function t(e){return n.each(arguments,function(i){i!==e&&n.each(i,function(n,i){e[i]&&e[i].constructor&&e[i].constructor===Object?t(e[i],n):e[i]=n})}),e}return t.apply(this,arguments)},n.scaleMerge=function(e,i){var o=r(e);return n.each(i,function(e,r){i.hasOwnProperty(r)&&("xAxes"===r||"yAxes"===r?o.hasOwnProperty(r)?n.each(e,function(e,i){i>=o[r].length||!o[r][i].type?o[r].push(n.configMerge(e.type?t.scaleService.getScaleDefaults(e.type):{},e)):e.type!==o[r][i].type?o[r][i]=n.configMerge(o[r][i],e.type?t.scaleService.getScaleDefaults(e.type):{},e):o[r][i]=n.configMerge(o[r][i],e)}):(o[r]=[],n.each(e,function(e){o[r].push(n.configMerge(e.type?t.scaleService.getScaleDefaults(e.type):{},e))})):o.hasOwnProperty(r)&&"object"==typeof o[r]&&null!==o[r]&&"object"==typeof e?o[r]=n.configMerge(o[r],e):o[r]=e)}),o},n.getValueAtIndexOrDefault=function(e,t,i){return void 0===e||null===e?i:n.isArray(e)?t<e.length?e[t]:i:e},n.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.where=function(e,t){var i=[];return n.each(e,function(e){t(e)&&i.push(e)}),i},n.findNextWhere=function(e,t,n){(void 0===n||null===n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},n.findPreviousWhere=function(e,t,n){(void 0===n||null===n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},n.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=a,e&&o(n.prototype,e),n.__super__=t.prototype,n}),s=n.noop=function(){},l=(n.uid=function(){var e=0;return function(){return"chart-"+e++}}(),n.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},n.amd="function"==typeof define&&define.amd,n.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)}),c=(n.max=function(e){return Math.max.apply(Math,e)},n.min=function(e){return Math.min.apply(Math,e)},n.sign=function(e){return Math.sign?Math.sign(e):(e=+e,0===e||isNaN(e)?e:e>0?1:-1)},n.log10=function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10},n.getDecimalPlaces=function(e){if(e%1!==0&&l(e)){var t=e.toString();if(t.indexOf("e-")<0)return t.split(".")[1].length;if(t.indexOf(".")<0)return parseInt(t.split("e-")[1]);var n=t.split(".")[1].split("e-");return n[0].length+parseInt(n[1])}return 0},n.toRadians=function(e){return e*(Math.PI/180)},n.toDegrees=function(e){return e*(180/Math.PI)},n.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},n.aliasPixel=function(e){return e%2===0?0:.5},n.splineCurve=function(e,t,n,i){var r=e,o=t,a=n;r.skip&&(r=o),a.skip&&(a=o);var s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),c=i*s/(s+l),u=i*l/(s+l);return{previous:{x:o.x-c*(a.x-r.x),y:o.y-c*(a.y-r.y)},next:{x:o.x+u*(a.x-r.x),y:o.y+u*(a.y-r.y)}}},n.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},n.previousItem=function(e,t,n){return n?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},n.niceNum=function(e,t){var i,r=Math.floor(n.log10(e)),o=e/Math.pow(10,r);return i=t?1.5>o?1:3>o?2:7>o?5:10:1>=o?1:2>=o?2:5>=o?5:10,i*Math.pow(10,r)},n.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=1*(.3*1.5)),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)):i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-c.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?1*(7.5625*e*e):2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*c.easeInBounce(2*e):.5*c.easeOutBounce(2*e-1)+.5}}),u=(n.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),n.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),n.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.currentTarget||e.srcElement,a=o.getBoundingClientRect();return r.touches?(n=r.touches[0].clientX,i=r.touches[0].clientY):(n=r.clientX,i=r.clientY),n=Math.round((n-a.left)/(a.right-a.left)*o.width/t.currentDevicePixelRatio),i=Math.round((i-a.top)/(a.bottom-a.top)*o.height/t.currentDevicePixelRatio),{x:n,y:i}},n.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),d=n.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=s},h=(n.bindEvents=function(e,t,n){e.events||(e.events={}),i(t,function(t){e.events[t]=function(){n.apply(e,arguments)},u(e.chart.canvas,t,e.events[t])})},n.unbindEvents=function(e,t){i(t,function(t,n){d(e.chart.canvas,n,t)})},n.getConstraintWidth=function(e){var t,n=document.defaultView.getComputedStyle(e)["max-width"],i=document.defaultView.getComputedStyle(e.parentNode)["max-width"],r=null!==n&&"none"!==n,o=null!==i&&"none"!==i;return(r||o)&&(t=Math.min(r?parseInt(n,10):Number.POSITIVE_INFINITY,o?parseInt(i,10):Number.POSITIVE_INFINITY)),t}),f=n.getConstraintHeight=function(e){var t,n=document.defaultView.getComputedStyle(e)["max-height"],i=document.defaultView.getComputedStyle(e.parentNode)["max-height"],r=null!==n&&"none"!==n,o=null!==i&&"none"!==i;return(n||i)&&(t=Math.min(r?parseInt(n,10):Number.POSITIVE_INFINITY,o?parseInt(i,10):Number.POSITIVE_INFINITY)),t},p=(n.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(p(t,"padding-left"))+parseInt(p(t,"padding-right")),i=t.clientWidth-n,r=h(e);return void 0!==r&&(i=Math.min(i,r)),i},n.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(p(t,"padding-top"))+parseInt(p(t,"padding-bottom")),i=t.clientHeight-n,r=f(e);return void 0!==r&&(i=Math.min(i,r)),i},n.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)});n.getMaximumSize=n.getMaximumWidth,n.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,i=e.canvas.height;e.currentDevicePixelRatio=window.devicePixelRatio||1,1!==window.devicePixelRatio&&(t.canvas.height=i*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio),t.canvas.style.width=n+"px",t.canvas.style.height=i+"px",e.originalDevicePixelRatio=e.originalDevicePixelRatio||window.devicePixelRatio)},n.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},n.fontString=function(e,t,n){return t+" "+e+"px "+n},n.longestText=function(e,t,n){e.font=t;var r=0;return i(n,function(t){var n=e.measureText(t).width;r=n>r?n:r}),r},n.drawRoundedRectangle=function(e,t,n,i,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()},n.color=function(e){return window.Color?window.Color(e):(console.log("Color.js not found!"),e)},n.addResizeListener=function(e,t){var n=document.createElement("iframe"),i="chartjs-hidden-iframe";n.classlist?n.classlist.add(i):n.setAttribute("class",i),n.style.width="100%",n.style.display="block",n.style.border=0,n.style.height=0,n.style.margin=0,n.style.position="absolute",n.style.left=0,n.style.right=0,n.style.top=0,n.style.bottom=0,e.insertBefore(n,e.firstChild);(n.contentWindow||n).onresize=function(){t&&t()}},n.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(arg)},n.isDatasetVisible=function(e){return!e.hidden}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.elements={},t.Element=function(e){n.extend(this,e),this.initialize.apply(this,arguments)},n.extend(t.Element.prototype,{initialize:function(){},pivot:function(){return this._view||(this._view=n.clone(this._model)),this._start=n.clone(this._view),this},transition:function(e){return this._view||(this._view=n.clone(this._model)),this._start||this.pivot(),n.each(this._model,function(t,i){if("_"!==i[0]&&this._model.hasOwnProperty(i))if(this._view[i])if(this._model[i]===this._view[i]);else if("string"==typeof t)try{var r=n.color(this._start[i]).mix(n.color(this._model[i]),e);this._view[i]=r.rgbString()}catch(o){this._view[i]=t}else if("number"==typeof t){var a=void 0!==this._start[i]?this._start[i]:0;this._view[i]=(this._model[i]-a)*e+a}else this._view[i]=t;else"number"==typeof t?this._view[i]=t*e:this._view[i]=t||null;else;},this),1===e&&delete this._start,this},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return n.isNumber(this._model.x)&&n.isNumber(this._model.y)}}),t.Element.extend=n.inherits}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:function(){},onComplete:function(){}},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,addAnimation:function(e,t,i,r){r||(e.animating=!0);for(var o=0;o<this.animations.length;++o)if(this.animations[o].chartInstance===e)return void(this.animations[o].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1==this.animations.length&&n.requestAnimFrame.call(window,this.digestWrapper)},cancelAnimation:function(e){var t=n.findNextWhere(this.animations,function(t){return t.chartInstance===e});t&&(this.animations.splice(t,1),e.animating=!1)},digestWrapper:function(){t.animationService.startDigest.call(t.animationService)},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var i=0;i<this.animations.length;i++)null===this.animations[i].animationObject.currentStep&&(this.animations[i].animationObject.currentStep=0),this.animations[i].animationObject.currentStep+=1+t,this.animations[i].animationObject.currentStep>this.animations[i].animationObject.numSteps&&(this.animations[i].animationObject.currentStep=this.animations[i].animationObject.numSteps),this.animations[i].animationObject.render(this.animations[i].chartInstance,this.animations[i].animationObject),this.animations[i].animationObject.currentStep==this.animations[i].animationObject.numSteps&&(this.animations[i].chartInstance.animating=!1,this.animations.splice(i,1),i--);var r=Date.now(),o=(r-e)/this.frameDuration;this.dropFrames+=o,this.animations.length>0&&n.requestAnimFrame.call(window,this.digestWrapper)}}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.types={},t.instances={},t.controllers={},t.Controller=function(e){return this.chart=e,this.config=e.config,this.data=this.config.data,this.options=this.config.options=n.configMerge(t.defaults.global,t.defaults[this.config.type],this.config.options||{}),this.id=n.uid(),t.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize.call(this),this},n.extend(t.Controller.prototype,{initialize:function(){return this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.resetElements(),this.initToolTip(),this.update(),this},clear:function(){return n.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(e){this.stop();var t=this.chart.canvas,i=n.getMaximumWidth(this.chart.canvas),r=this.options.maintainAspectRatio&&isNaN(this.chart.aspectRatio)===!1&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?i/this.chart.aspectRatio:n.getMaximumHeight(this.chart.canvas);return t.width=this.chart.width=i,t.height=this.chart.height=r,n.retinaScale(this.chart),e||this.update(this.options.responsiveAnimationDuration),this},ensureScalesHaveIDs:function(){var e="x-axis-",t="y-axis-";this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&n.each(this.options.scales.xAxes,function(t,n){t.id=t.id||e+n},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&n.each(this.options.scales.yAxes,function(e,n){e.id=e.id||t+n},this))},buildScales:function(){if(this.scales={},this.options.scales&&(this.options.scales.xAxes&&this.options.scales.xAxes.length&&n.each(this.options.scales.xAxes,function(e,n){var i=t.scaleService.getScaleConstructor(e.type),r=new i({ctx:this.chart.ctx,options:e,data:this.data,id:e.id});this.scales[r.id]=r},this),this.options.scales.yAxes&&this.options.scales.yAxes.length&&n.each(this.options.scales.yAxes,function(e,n){var i=t.scaleService.getScaleConstructor(e.type),r=new i({ctx:this.chart.ctx,options:e,data:this.data,id:e.id});this.scales[r.id]=r},this)),this.options.scale){var e=t.scaleService.getScaleConstructor(this.options.scale.type),i=new e({ctx:this.chart.ctx,options:this.options.scale,data:this.data,chart:this.chart});this.scale=i,this.scales.radialScale=i}t.scaleService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(e){var i=[];if(n.each(this.data.datasets,function(n,r){n.type||(n.type=this.config.type);var o=n.type;return i.push(o),n.controller?void n.controller.updateIndex(r):(n.controller=new t.controllers[o](this,r),void(e&&n.controller.reset()))},this),i.length>1)for(var r=1;r<i.length;r++)if(i[r]!=i[r-1]){this.isCombo=!0;break}},resetElements:function(){n.each(this.data.datasets,function(e,t){e.controller.reset()},this)},update:function(e,i){t.scaleService.update(this,this.chart.width,this.chart.height),this.buildOrUpdateControllers(!0),n.each(this.data.datasets,function(e,t){e.controller.buildOrUpdateElements()},this),n.each(this.data.datasets,function(e,t){e.controller.update()},this),this.render(e,i)},render:function(e,i){if("undefined"!=typeof e&&0!==e||"undefined"==typeof e&&0!==this.options.animation.duration){var r=new t.Animation;r.numSteps=(e||this.options.animation.duration)/16.66,r.easing=this.options.animation.easing,r.render=function(e,t){var i=n.easingEffects[t.easing],r=t.currentStep/t.numSteps,o=i(r);e.draw(o,r,t.currentStep)},r.onAnimationProgress=this.options.onAnimationProgress,r.onAnimationComplete=this.options.onAnimationComplete,t.animationService.addAnimation(this,r,e,i)}else this.draw(),this.options.onAnimationComplete&&this.options.onAnimationComplete.call&&this.options.onAnimationComplete.call(this);return this},draw:function(e){var t=e||1;this.clear(),n.each(this.scales,function(e){e.draw(this.chartArea)},this),this.scale&&this.scale.draw(),n.each(this.data.datasets,function(t,i){n.isDatasetVisible(t)&&t.controller.draw(e)},this),this.tooltip.transition(t).draw()},getElementAtEvent:function(e){var t=n.getRelativePosition(e,this.chart),i=[];return n.each(this.data.datasets,function(e,r){n.isDatasetVisible(e)&&n.each(e.metaData,function(e,n){return e.inRange(t.x,t.y)?(i.push(e),i):void 0},this)},this),i},getElementsAtEvent:function(e){var t=n.getRelativePosition(e,this.chart),i=[];return n.each(this.data.datasets,function(e,r){n.isDatasetVisible(e)&&n.each(e.metaData,function(e,n){e.inLabelRange(t.x,t.y)&&i.push(e)},this)},this),i},getDatasetAtEvent:function(e){var t=n.getRelativePosition(e,this.chart),i=[];return n.each(this.data.datasets,function(e,r){n.isDatasetVisible(e)&&n.each(e.metaData,function(r,o){r.inLabelRange(t.x,t.y)&&n.each(e.metaData,function(e,t){i.push(e)},this)},this)},this),i.length?i:[]},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),n.unbindEvents(this,this.events),n.removeResizeListener(this.chart.canvas.parentNode);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),e.style.width=this.chart.originalCanvasStyleWidth,e.style.height=this.chart.originalCanvasStyleHeight,delete t.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new t.Tooltip({_chart:this.chart,_data:this.data,_options:this.options},this)},bindEvents:function(){n.bindEvents(this,this.options.events,function(e){this.eventHandler(e)})},eventHandler:function(e){this.lastActive=this.lastActive||[],this.lastTooltipActive=this.lastTooltipActive||[],"mouseout"==e.type?this.active=this.tooltipActive=[]:(this.active=function(){switch(this.options.hover.mode){case"single":return this.getElementAtEvent(e);case"label":return this.getElementsAtEvent(e);case"dataset":return this.getDatasetAtEvent(e);default:return e}}.call(this),this.tooltipActive=function(){switch(this.options.tooltips.mode){case"single":return this.getElementAtEvent(e);case"label":return this.getElementsAtEvent(e);
case"dataset":return this.getDatasetAtEvent(e);default:return e}}.call(this)),this.options.hover.onHover&&this.options.hover.onHover.call(this,this.active),("mouseup"==e.type||"click"==e.type)&&this.options.onClick&&this.options.onClick.call(this,e,this.active);if(this.lastActive.length)switch(this.options.hover.mode){case"single":this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0],this.lastActive[0]._datasetIndex,this.lastActive[0]._index);break;case"label":case"dataset":for(var t=0;t<this.lastActive.length;t++)this.data.datasets[this.lastActive[t]._datasetIndex].controller.removeHoverStyle(this.lastActive[t],this.lastActive[t]._datasetIndex,this.lastActive[t]._index)}if(this.active.length&&this.options.hover.mode)switch(this.options.hover.mode){case"single":this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);break;case"label":case"dataset":for(var i=0;i<this.active.length;i++)this.data.datasets[this.active[i]._datasetIndex].controller.setHoverStyle(this.active[i])}if((this.options.tooltips.enabled||this.options.tooltips.custom)&&(this.tooltip.initialize(),this.tooltipActive.length?(this.tooltip._model.opacity=1,n.extend(this.tooltip,{_active:this.tooltipActive}),this.tooltip.update()):this.tooltip._model.opacity=0),this.tooltip.pivot(),!this.animating){var r;n.each(this.active,function(e,t){e!==this.lastActive[t]&&(r=!0)},this),n.each(this.tooltipActive,function(e,t){e!==this.lastTooltipActive[t]&&(r=!0)},this),(!this.lastActive.length&&this.active.length||this.lastActive.length&&!this.active.length||this.lastActive.length&&this.active.length&&r||!this.lastTooltipActive.length&&this.tooltipActive.length||this.lastTooltipActive.length&&!this.tooltipActive.length||this.lastTooltipActive.length&&this.tooltipActive.length&&r)&&(this.stop(),this.render(this.options.hover.animationDuration,!0))}return this.lastActive=this.active,this.lastTooltipActive=this.tooltipActive,this}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.scale={display:!0,gridLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawOnChartArea:!0,drawTicks:!0,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{fontColor:"#666",fontFamily:"Helvetica Neue",fontSize:12,fontStyle:"normal",labelString:"",show:!1},ticks:{beginAtZero:!1,fontSize:12,fontStyle:"normal",fontColor:"#666",fontFamily:"Helvetica Neue",maxRotation:90,minRotation:20,mirror:!1,padding:10,reverse:!1,show:!0,callback:function(e){return""+e}}},t.Scale=t.Element.extend({beforeUpdate:n.noop,update:function(e,t,n){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n.noop,beforeSetDimensions:n.noop,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:n.noop,beforeBuildTicks:n.noop,buildTicks:n.noop,afterBuildTicks:n.noop,beforeTickToLabelConversion:n.noop,convertTicksToLabels:function(){this.ticks=this.ticks.map(function(e,t,n){return this.options.ticks.userCallback?this.options.ticks.userCallback(e,t,n):this.options.ticks.callback(e,t,n)},this)},afterTickToLabelConversion:n.noop,beforeCalculateTickRotation:n.noop,calculateTickRotation:function(){var e=n.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);this.ctx.font=e;var t,i,r=this.ctx.measureText(this.ticks[0]).width,o=this.ctx.measureText(this.ticks[this.ticks.length-1]).width;if(this.paddingRight=o/2+3,this.paddingLeft=r/2+3,this.labelRotation=0,this.options.display&&this.isHorizontal()){var a,s,l=n.longestText(this.ctx,e,this.ticks);this.labelWidth=l;for(var c=this.getPixelForTick(1)-this.getPixelForTick(0)-6;this.labelWidth>c&&this.labelRotation<=this.options.ticks.maxRotation;){if(a=Math.cos(n.toRadians(this.labelRotation)),s=Math.sin(n.toRadians(this.labelRotation)),t=a*r,i=a*o,t+this.options.ticks.fontSize/2>this.yLabelWidth&&(this.paddingLeft=t+this.options.ticks.fontSize/2),this.paddingRight=this.options.ticks.fontSize/2,s*l>this.maxHeight){this.labelRotation--;break}this.labelRotation++,this.labelWidth=a*l}}else this.labelWidth=0,this.paddingRight=0,this.paddingLeft=0;this.margins&&(this.paddingLeft-=this.margins.left,this.paddingRight-=this.margins.right,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingRight=Math.max(this.paddingRight,0))},afterCalculateTickRotation:n.noop,beforeFit:n.noop,fit:function(){if(this.minSize={width:0,height:0},this.isHorizontal()?this.minSize.width=this.maxWidth:this.minSize.width=this.options.gridLines.show&&this.options.display?10:0,this.isHorizontal()?this.minSize.height=this.options.gridLines.show&&this.options.display?10:0:this.minSize.height=this.maxHeight,this.options.scaleLabel.show&&(this.isHorizontal()?this.minSize.height+=1.5*this.options.scaleLabel.fontSize:this.minSize.width+=1.5*this.options.scaleLabel.fontSize),this.options.ticks.show&&this.options.display){var e=n.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){var t=(this.maxHeight-this.minSize.height,n.longestText(this.ctx,e,this.ticks)),i=Math.sin(n.toRadians(this.labelRotation))*t+1.5*this.options.ticks.fontSize;this.minSize.height=Math.min(this.maxHeight,this.minSize.height+i),e=n.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.ctx.font=e;var r=this.ctx.measureText(this.ticks[0]).width,o=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,a=Math.cos(n.toRadians(this.labelRotation)),s=Math.sin(n.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?a*r+3:r/2+3,this.paddingRight=0!==this.labelRotation?s*(this.options.ticks.fontSize/2)+3:o/2+3}else{var l=this.maxWidth-this.minSize.width,c=n.longestText(this.ctx,e,this.ticks);l>c?this.minSize.width+=c:this.minSize.width=this.maxWidth,this.paddingTop=this.options.ticks.fontSize/2,this.paddingBottom=this.options.ticks.fontSize/2}}this.margins&&(this.paddingLeft-=this.margins.left,this.paddingTop-=this.margins.top,this.paddingRight-=this.margins.right,this.paddingBottom-=this.margins.bottom,this.paddingLeft=Math.max(this.paddingLeft,0),this.paddingTop=Math.max(this.paddingTop,0),this.paddingRight=Math.max(this.paddingRight,0),this.paddingBottom=Math.max(this.paddingBottom,0)),this.width=this.minSize.width,this.height=this.minSize.height},afterFit:n.noop,isHorizontal:function(){return"top"==this.options.position||"bottom"==this.options.position},getRightValue:function i(e){return null===e||"undefined"==typeof e?NaN:"number"==typeof e&&isNaN(e)?NaN:"object"==typeof e?i(this.isHorizontal()?e.x:e.y):e},getLabelForIndex:n.noop,getPixelForValue:n.noop,getPixelForTick:function(e,t){if(this.isHorizontal()){var n=this.width-(this.paddingLeft+this.paddingRight),i=n/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),r=i*e+this.paddingLeft;return t&&(r+=i/2),this.left+Math.round(r)}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+e*(o/(this.ticks.length-1))},getPixelForDecimal:function(e,t){if(this.isHorizontal()){var n=this.width-(this.paddingLeft+this.paddingRight),i=n*e+this.paddingLeft;return this.left+Math.round(i)}return this.top+e*this.height},draw:function(e){if(this.options.display){var t,i,r,o,a=0!==this.labelRotation;this.ctx.fillStyle=this.options.ticks.fontColor;var s=n.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily);if(this.isHorizontal()){t=!0;var l="bottom"==this.options.position?this.top:this.bottom-10,c="bottom"==this.options.position?this.top+10:this.bottom;i=!1,(this.options.ticks.fontSize+4)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(i=1+Math.floor((this.options.ticks.fontSize+4)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),n.each(this.ticks,function(r,o){if(!(i>1&&o%i>0||void 0===r||null===r)){var u=this.getPixelForTick(o),d=this.getPixelForTick(o,this.options.gridLines.offsetGridLines);this.options.gridLines.show&&(o===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,t=!0):t&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,t=!1),u+=n.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(u,l),this.ctx.lineTo(u,c)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(u,e.top),this.ctx.lineTo(u,e.bottom)),this.ctx.stroke()),this.options.ticks.show&&(this.ctx.save(),this.ctx.translate(d,a?this.top+12:"top"===this.options.position?this.bottom-10:this.top+10),this.ctx.rotate(-1*n.toRadians(this.labelRotation)),this.ctx.font=s,this.ctx.textAlign=a?"right":"center",this.ctx.textBaseline=a?"middle":"top"===this.options.position?"bottom":"top",this.ctx.fillText(r,0,0),this.ctx.restore())}},this),this.options.scaleLabel.show&&(this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=n.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),r=this.left+(this.right-this.left)/2,o="bottom"==this.options.position?this.bottom-this.options.scaleLabel.fontSize/2:this.top+this.options.scaleLabel.fontSize/2,this.ctx.fillText(this.options.scaleLabel.labelString,r,o))}else{t=!0;var u="right"==this.options.position?this.left:this.right-5,d="right"==this.options.position?this.left+5:this.right;if(n.each(this.ticks,function(i,r){var o=this.getPixelForTick(r);if(this.options.gridLines.show&&(r===("undefined"!=typeof this.zeroLineIndex?this.zeroLineIndex:0)?(this.ctx.lineWidth=this.options.gridLines.zeroLineWidth,this.ctx.strokeStyle=this.options.gridLines.zeroLineColor,t=!0):t&&(this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.strokeStyle=this.options.gridLines.color,t=!1),o+=n.aliasPixel(this.ctx.lineWidth),this.ctx.beginPath(),this.options.gridLines.drawTicks&&(this.ctx.moveTo(u,o),this.ctx.lineTo(d,o)),this.options.gridLines.drawOnChartArea&&(this.ctx.moveTo(e.left,o),this.ctx.lineTo(e.right,o)),this.ctx.stroke()),this.options.ticks.show){var a,l=this.getPixelForTick(r,this.options.gridLines.offsetGridLines);this.ctx.save(),"left"==this.options.position?this.options.ticks.mirror?(a=this.right+this.options.ticks.padding,this.ctx.textAlign="left"):(a=this.right-this.options.ticks.padding,this.ctx.textAlign="right"):this.options.ticks.mirror?(a=this.left-this.options.ticks.padding,this.ctx.textAlign="right"):(a=this.left+this.options.ticks.padding,this.ctx.textAlign="left"),this.ctx.translate(a,l),this.ctx.rotate(-1*n.toRadians(this.labelRotation)),this.ctx.font=s,this.ctx.textBaseline="middle",this.ctx.fillText(i,0,0),this.ctx.restore()}},this),this.options.scaleLabel.show){r="left"==this.options.position?this.left+this.options.scaleLabel.fontSize/2:this.right-this.options.scaleLabel.fontSize/2,o=this.top+(this.bottom-this.top)/2;var h="left"==this.options.position?-.5*Math.PI:.5*Math.PI;this.ctx.save(),this.ctx.translate(r,o),this.ctx.rotate(h),this.ctx.textAlign="center",this.ctx.fillStyle=this.options.scaleLabel.fontColor,this.ctx.font=n.fontString(this.options.scaleLabel.fontSize,this.options.scaleLabel.fontStyle,this.options.scaleLabel.fontFamily),this.ctx.textBaseline="middle",this.ctx.fillText(this.options.scaleLabel.labelString,0,0),this.ctx.restore()}}}}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,i){this.constructors[e]=t,this.defaults[e]=n.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?n.scaleMerge(t.defaults.scale,this.defaults[e]):{}},update:function(e,t,i){var r=t>30?5:2,o=i>30?5:2;if(e){var a=n.where(e.scales,function(e){return"left"==e.options.position}),s=n.where(e.scales,function(e){return"right"==e.options.position}),l=n.where(e.scales,function(e){return"top"==e.options.position}),c=n.where(e.scales,function(e){return"bottom"==e.options.position}),u=n.where(e.scales,function(e){return"chartArea"==e.options.position}),d=t/2,h=i/2;d-=2*r,h-=2*o;var f=(t-d)/(a.length+s.length),p=(i-h)/(l.length+c.length),m=[],g=function(e){var t=e.update(f,h);m.push({horizontal:!1,minSize:t,scale:e})},v=function(e){var t=e.update(d,p);m.push({horizontal:!0,minSize:t,scale:e})};n.each(a,g),n.each(s,g),n.each(l,v),n.each(c,v);var b=i-2*o,y=t-2*r;n.each(m,function(e){e.horizontal?b-=e.minSize.height:y-=e.minSize.width});var x=function(e){var t=n.findNextWhere(m,function(t){return t.scale===e});t&&e.update(t.minSize.width,b)},w=function(e){var t=n.findNextWhere(m,function(t){return t.scale===e}),i={left:_,right:k,top:0,bottom:0};t&&e.update(y,t.minSize.height,i)},_=r,k=r,C=o,S=o;n.each(a,x),n.each(s,x),n.each(a,function(e){_+=e.width}),n.each(s,function(e){k+=e.width}),n.each(l,w),n.each(c,w),n.each(l,function(e){C+=e.height}),n.each(c,function(e){S+=e.height}),n.each(a,function(e){var t=n.findNextWhere(m,function(t){return t.scale===e}),i={left:0,right:0,top:C,bottom:S};t&&e.update(t.minSize.width,b,i)}),n.each(s,function(e){var t=n.findNextWhere(m,function(t){return t.scale===e}),i={left:0,right:0,top:C,bottom:S};t&&e.update(t.minSize.width,b,i)}),_=r,k=r,C=o,S=o,n.each(a,function(e){_+=e.width}),n.each(s,function(e){k+=e.width}),n.each(l,function(e){C+=e.height}),n.each(c,function(e){S+=e.height});var T=i-C-S,D=t-_-k;(D!==y||T!==b)&&(n.each(a,function(e){e.height=T}),n.each(s,function(e){e.height=T}),n.each(l,function(e){e.width=D}),n.each(c,function(e){e.width=D}),b=T,y=D);var A=r,E=o,M=function(e){e.left=A,e.right=A+e.width,e.top=C,e.bottom=C+b,A=e.right},P=function(e){e.left=_,e.right=_+y,e.top=E,e.bottom=E+e.height,E=e.bottom};n.each(a,M),n.each(l,P),A+=y,E+=b,n.each(s,M),n.each(c,P),e.chartArea={left:_,top:C,right:_+y,bottom:C+b},n.each(u,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(y,b)})}}}}.call(this),function(){"use strict";function e(e,t){return t&&(i.isArray(t)?e=e.concat(t):e.push(t)),e}var t=this,n=t.Chart,i=n.helpers;n.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",titleFontSize:12,titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodyFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",bodyFontSize:12,bodyFontStyle:"normal",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",footerFontSize:12,footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,xOffset:10,multiKeyBackground:"#fff",callbacks:{beforeTitle:i.noop,title:function(e,t,n,r,o){return i.isArray(e)?e[0]:e},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(e,t,n,i,r){return this._data.datasets[i].label+": "+t},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}},n.Tooltip=n.Element.extend({initialize:function(){var e=this._options;i.extend(this,{_model:{xPadding:e.tooltips.xPadding,yPadding:e.tooltips.yPadding,xOffset:e.tooltips.xOffset,bodyColor:e.tooltips.bodyColor,_bodyFontFamily:e.tooltips.bodyFontFamily,_bodyFontStyle:e.tooltips.bodyFontStyle,bodyFontSize:e.tooltips.bodyFontSize,bodySpacing:e.tooltips.bodySpacing,_bodposition:e.tooltips.bodposition,titleColor:e.tooltips.titleColor,_titleFontFamily:e.tooltips.titleFontFamily,_titleFontStyle:e.tooltips.titleFontStyle,titleFontSize:e.tooltips.titleFontSize,_titleAlign:e.tooltips.titleAlign,titleSpacing:e.tooltips.titleSpacing,titleMarginBottom:e.tooltips.titleMarginBottom,footerColor:e.tooltips.footerColor,_footerFontFamily:e.tooltips.footerFontFamily,_footerFontStyle:e.tooltips.footerFontStyle,footerFontSize:e.tooltips.footerFontSize,_footerAlign:e.tooltips.footerAlign,footerSpacing:e.tooltips.footerSpacing,footerMarginTop:e.tooltips.footerMarginTop,caretSize:e.tooltips.caretSize,cornerRadius:e.tooltips.cornerRadius,backgroundColor:e.tooltips.backgroundColor,opacity:0,legendColorBackground:e.tooltips.multiKeyBackground}})},getTitle:function(){var t=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),n=this._options.tooltips.callbacks.title.apply(this,arguments),i=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),r=[];return r=e(r,t),r=e(r,n),r=e(r,i)},getBeforeBody:function(e,t,n,r,o){var a=this._options.tooltips.callbacks.beforeBody.call(this,e,t,n,r,o);return i.isArray(a)?a:[a]},getBody:function(e,t,n,r){var o,a,s,l=[];if(i.isArray(e)){for(var c=[],u=0;u<e.length;u++)o=this._options.tooltips.callbacks.beforeLabel.call(this,e[u],t[u],n,r),a=this._options.tooltips.callbacks.afterLabel.call(this,e[u],t[u],n,r),c.push((o?o:"")+this._options.tooltips.callbacks.label.call(this,e[u],t[u],n,r)+(a?a:""));c.length&&(l=l.concat(c))}else o=this._options.tooltips.callbacks.beforeLabel.apply(this,arguments),s=this._options.tooltips.callbacks.label.apply(this,arguments),a=this._options.tooltips.callbacks.afterLabel.apply(this,arguments),(o||s||a)&&l.push((o?a:"")+s+(a?a:""));return l},getAfterBody:function(e,t,n,r,o){var a=this._options.tooltips.callbacks.afterBody.call(this,e,t,n,r,o);return i.isArray(a)?a:[a]},getFooter:function(){var t=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),n=this._options.tooltips.callbacks.footer.apply(this,arguments),i=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),r=[];return r=e(r,t),r=e(r,n),r=e(r,i)},update:function(){var e,t,n,r=(this._chart.ctx,this._active[0]),o=[];return"single"==this._options.tooltips.mode?(e=r._xScale.getLabelForIndex(r._index,r._datasetIndex),t=r._yScale.getLabelForIndex(r._index,r._datasetIndex),n=this._active[0].tooltipPosition()):(e=[],t=[],i.each(this._data.datasets,function(n,o){i.isDatasetVisible(n)&&(e.push(r._xScale.getLabelForIndex(r._index,o)),t.push(r._yScale.getLabelForIndex(r._index,o)))}),i.each(this._active,function(e,t){o.push({borderColor:e._view.borderColor,backgroundColor:e._view.backgroundColor})},this),n=this._active[0].tooltipPosition(),n.y=this._active[0]._yScale.getPixelForDecimal(.5)),i.extend(this._model,{title:this.getTitle(e,t,r._index,r._datasetIndex,this._data),beforeBody:this.getBeforeBody(e,t,r._index,r._datasetIndex,this._data),body:this.getBody(e,t,r._index,r._datasetIndex,this._data),afterBody:this.getAfterBody(e,t,r._index,r._datasetIndex,this._data),footer:this.getFooter(e,t,r._index,r._datasetIndex,this._data)}),i.extend(this._model,{x:Math.round(n.x),y:Math.round(n.y),caretPadding:n.padding,labelColors:o}),this},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==this._view.opacity){t.position="top";var n=t.caretPadding||2,r=t.body.length+t.beforeBody.length+t.afterBody.length,o=2*t.yPadding;o+=t.title.length*t.titleFontSize,o+=(t.title.length-1)*t.titleSpacing,o+=t.title.length?t.titleMarginBottom:0,o+=r*t.bodyFontSize,o+=(r-1)*t.bodySpacing,o+=t.footer.length?t.footerMarginTop:0,o+=t.footer.length*t.footerFontSize,o+=(t.footer.length-1)*t.footerSpacing;var a=0;i.each(t.title,function(n,r){e.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),a=Math.max(a,e.measureText(n).width)}),i.each(t.body,function(n,r){e.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),a=Math.max(a,e.measureText(n).width+("single"!=this._options.tooltips.mode?t.bodyFontSize+2:0))},this),i.each(t.footer,function(n,r){e.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),a=Math.max(a,e.measureText(n).width)}),a+=2*t.xPadding;var s=a+t.caretSize+n;t.yAlign="center",t.y-o/2<0?t.yAlign="top":t.y+o/2>this._chart.height&&(t.yAlign="bottom"),t.xAlign="right",t.x+s>this._chart.width&&(t.xAlign="left");var l=t.x,c=t.y;if(c="top"==t.yAlign?t.y-t.caretSize-t.cornerRadius:"bottom"==t.yAlign?t.y-o+t.caretSize+t.cornerRadius:t.y-o/2,l="left"==t.xAlign?t.x-s:"right"==t.xAlign?t.x+n+t.caretSize:t.x+s/2,this._options.tooltips.enabled&&(e.fillStyle=i.color(t.backgroundColor).alpha(t.opacity).rgbString(),i.drawRoundedRectangle(e,l,c,a,o,t.cornerRadius),e.fill()),this._options.tooltips.enabled&&(e.fillStyle=i.color(t.backgroundColor).alpha(t.opacity).rgbString(),"left"==t.xAlign?(e.beginPath(),e.moveTo(t.x-n,t.y),e.lineTo(t.x-n-t.caretSize,t.y-t.caretSize),e.lineTo(t.x-n-t.caretSize,t.y+t.caretSize),e.closePath(),e.fill()):(e.beginPath(),e.moveTo(t.x+n,t.y),e.lineTo(t.x+n+t.caretSize,t.y-t.caretSize),e.lineTo(t.x+n+t.caretSize,t.y+t.caretSize),e.closePath(),e.fill())),this._options.tooltips.enabled){var u=c+t.yPadding,d=l+t.xPadding;t.title.length&&(e.textAlign=t._titleAlign,e.textBaseline="top",e.fillStyle=i.color(t.titleColor).alpha(t.opacity).rgbString(),e.font=i.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),i.each(t.title,function(n,i){e.fillText(n,d,u),u+=t.titleFontSize+t.titleSpacing,i+1==t.title.length&&(u+=t.titleMarginBottom-t.titleSpacing)},this)),e.textAlign=t._bodyAlign,e.textBaseline="top",e.fillStyle=i.color(t.bodyColor).alpha(t.opacity).rgbString(),e.font=i.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody,function(n,i){e.fillText(t.beforeBody,d,u),u+=t.bodyFontSize+t.bodySpacing}),i.each(t.body,function(n,r){"single"!=this._options.tooltips.mode&&(e.fillStyle=i.color(t.labelColors[r].borderColor).alpha(t.opacity).rgbString(),e.fillRect(d,u,t.bodyFontSize,t.bodyFontSize),e.fillStyle=i.color(t.labelColors[r].backgroundColor).alpha(t.opacity).rgbString(),e.fillRect(d+1,u+1,t.bodyFontSize-2,t.bodyFontSize-2),e.fillStyle=i.color(t.bodyColor).alpha(t.opacity).rgbString()),e.fillText(n,d+("single"!=this._options.tooltips.mode?t.bodyFontSize+2:0),u),u+=t.bodyFontSize+t.bodySpacing},this),i.each(t.afterBody,function(n,i){e.fillText(t.afterBody,d,u),u+=t.bodyFontSize}),u-=t.bodySpacing,t.footer.length&&(u+=t.footerMarginTop,e.textAlign=t._footerAlign,e.textBaseline="top",e.fillStyle=i.color(t.footerColor).alpha(t.opacity).rgbString(),e.font=i.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,function(n,i){e.fillText(n,d,u),u+=t.footerFontSize+t.footerSpacing},this))}}}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.bar.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForID:function(e){return this.chart.scales[e]},getBarCount:function(){var e=0;return n.each(this.chart.data.datasets,function(t){n.isDatasetVisible(t)&&("bar"===t.type?++e:void 0===t.type&&"bar"===this.chart.config.type&&++e)},this),e},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:n})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Rectangle({_chart:this.chart.chart,_datasetIndex:this.index,_index:e}),i=this.getBarCount();this.updateElement(n,e,!0,i),this.getDataset().metaData.splice(e,0,n)},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},update:function(e){var t=this.getBarCount();n.each(this.getDataset().metaData,function(n,i){this.updateElement(n,i,e,t)},this)},updateElement:function(e,t,i,r){var o,a=this.getScaleForID(this.getDataset().xAxisID),s=this.getScaleForID(this.getDataset().yAxisID);o=s.min<0&&s.max<0?s.getPixelForValue(s.max):s.min>0&&s.max>0?s.getPixelForValue(s.min):s.getPixelForValue(0),n.extend(e,{_chart:this.chart.chart,_xScale:a,_yScale:s,_datasetIndex:this.index,_index:t,_model:{x:this.calculateBarX(t,this.index),y:i?o:this.calculateBarY(t,this.index),label:this.chart.data.labels[t],datasetLabel:this.getDataset().label,base:this.calculateBarBase(this.index,t),width:this.calculateBarWidth(r),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.rectangle.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.rectangle.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.rectangle.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var i=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),r=0;if(i.options.stacked){var o=this.chart.data.datasets[e].data[t];if(0>o)for(var a=0;e>a;a++){var s=this.chart.data.datasets[a];n.isDatasetVisible(s)&&s.yAxisID===i.id&&(r+=s.data[t]<0?s.data[t]:0)}else for(var l=0;e>l;l++){var c=this.chart.data.datasets[l];n.isDatasetVisible(c)&&c.yAxisID===i.id&&(r+=c.data[t]>0?c.data[t]:0)}return i.getPixelForValue(r)}return r=i.getPixelForValue(i.min),i.beginAtZero||i.min<=0&&i.max>=0||i.min>=0&&i.max<=0?r=i.getPixelForValue(0,0):i.min<0&&i.max<0&&(r=i.getPixelForValue(i.max)),r},getRuler:function(){var e=this.getScaleForID(this.getDataset().xAxisID),t=(this.getScaleForID(this.getDataset().yAxisID),this.getBarCount()),n=function(){for(var t=e.getPixelForValue(null,1)-e.getPixelForValue(null,0),n=2;n<this.getDataset().data.length;n++)t=Math.min(e.getPixelForValue(null,n)-e.getPixelForValue(null,n-1),t);return t}.call(this),i=n*e.options.categoryPercentage,r=(n-n*e.options.categoryPercentage)/2,o=i/t,a=o*e.options.barPercentage,s=o-o*e.options.barPercentage;return{datasetCount:t,tickWidth:n,categoryWidth:i,categorySpacing:r,fullBarWidth:o,barWidth:a,barSpacing:s}},calculateBarWidth:function(){var e=this.getScaleForID(this.getDataset().xAxisID),t=this.getRuler();return e.options.stacked?t.categoryWidth:t.barWidth},getBarIndex:function(e){for(var t=0,i=0;e>i;++i)n.isDatasetVisible(this.chart.data.datasets[i])&&("bar"===this.chart.data.datasets[i].type||void 0===this.chart.data.datasets[i].type&&"bar"===this.chart.config.type)&&++t;return t},calculateBarX:function(e,t){var n=this.getScaleForID(this.getDataset().yAxisID),i=this.getScaleForID(this.getDataset().xAxisID),r=this.getBarIndex(t),o=this.getRuler(),a=i.getPixelForValue(null,e,r,this.chart.isCombo);return a-=this.chart.isCombo?o.tickWidth/2:0,n.options.stacked?a+o.categoryWidth/2+o.categorySpacing:a+o.barWidth/2+o.categorySpacing+o.barWidth*r+o.barSpacing/2+o.barSpacing*r},calculateBarY:function(e,t){var i=(this.getScaleForID(this.getDataset().xAxisID),this.getScaleForID(this.getDataset().yAxisID)),r=this.getDataset().data[e];if(i.options.stacked){for(var o=0,a=0,s=0;t>s;s++){var l=this.chart.data.datasets[s];n.isDatasetVisible(l)&&(l.data[e]<0?a+=l.data[e]||0:o+=l.data[e]||0)}return 0>r?i.getPixelForValue(a+r):i.getPixelForValue(o+r)}return i.getPixelForValue(r)},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t).draw()},this)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.hoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.hoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.hoverBorderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.rectangle.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.rectangle.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.rectangle.borderWidth)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>, <%= value.r %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>, <%= value.r %>)"}},t.controllers.bubble=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.bubble.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(e){return this.chart.scales[e]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:n})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(n,e,!0),this.getDataset().metaData.splice(e,0,n)},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},update:function(e){var t,i=this.getDataset().metaData,r=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);
t=r.min<0&&r.max<0?r.getPixelForValue(r.max):r.min>0&&r.max>0?r.getPixelForValue(r.min):r.getPixelForValue(0),n.each(i,function(t,n){this.updateElement(t,n,e)},this)},updateElement:function(e,t,i){var r,o=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);r=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),n.extend(e,{_chart:this.chart.chart,_xScale:a,_yScale:o,_datasetIndex:this.index,_index:t,_model:{x:i?a.getPixelForDecimal(.5):a.getPixelForValue(this.getDataset().data[t],t,this.index,this.chart.isCombo),y:i?r:o.getPixelForValue(this.getDataset().data[t],t,this.index),radius:i?0:e.custom&&e.custom.radius?e.custom.radius:this.getRadius(this.getDataset().data[t]),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.point.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.point.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.point.borderWidth),hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:n.getValueAtIndexOrDefault(this.getDataset().hitRadius,t,this.chart.options.elements.point.hitRadius)}}),e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y),e.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t),e.draw()},this)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.radius=e.custom&&e.custom.hoverRadius?e.custom.hoverRadius:n.getValueAtIndexOrDefault(t.hoverRadius,i,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[e._index]),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.hoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.hoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.hoverBorderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.radius=e.custom&&e.custom.radius?e.custom.radius:this.getRadius(this.getDataset().data[e._index]),e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.point.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.point.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.doughnut={animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},cutoutPercentage:50},t.defaults.pie=n.clone(t.defaults.doughnut),n.extend(t.defaults.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.doughnut.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:n})},this)},addElementAndReset:function(e,i){this.getDataset().metaData=this.getDataset().metaData||[];var r=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});i&&n.isArray(this.getDataset().backgroundColor)&&this.getDataset().backgroundColor.splice(e,0,i),this.updateElement(r,e,!0),this.getDataset().metaData.splice(e,0,r)},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},getVisibleDatasetCount:function(){return n.where(this.chart.data.datasets,function(e){return n.isDatasetVisible(e)}).length},getRingIndex:function(e){for(var t=0,i=0;e>i;++i)n.isDatasetVisible(this.chart.data.datasets[i])&&++t;return t},update:function(e){this.chart.outerRadius=Math.max(n.min([this.chart.chart.width,this.chart.chart.height])/2-this.chart.options.elements.arc.borderWidth/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,n.each(this.getDataset().data,function(e){this.getDataset().total+=Math.abs(e)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.getRingIndex(this.index),this.innerRadius=this.outerRadius-this.chart.radiusLength,n.each(this.getDataset().metaData,function(t,n){this.updateElement(t,n,e)},this)},updateElement:function(e,t,i){var r={x:this.chart.chart.width/2,y:this.chart.chart.height/2,startAngle:Math.PI*-.5,circumference:this.chart.options.animation.animateRotate?0:this.calculateCircumference(this.getDataset().data[t]),outerRadius:this.chart.options.animation.animateScale?0:this.outerRadius,innerRadius:this.chart.options.animation.animateScale?0:this.innerRadius};n.extend(e,{_chart:this.chart.chart,_datasetIndex:this.index,_index:t,_model:i?r:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,circumference:this.calculateCircumference(this.getDataset().data[t]),outerRadius:this.outerRadius,innerRadius:this.innerRadius,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,t,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.arc.borderColor),label:n.getValueAtIndexOrDefault(this.getDataset().label,t,this.chart.data.labels[t])}}),i||(0===t?e._model.startAngle=Math.PI*-.5:e._model.startAngle=this.getDataset().metaData[t-1]._model.endAngle,e._model.endAngle=e._model.startAngle+e._model.circumference,t<this.getDataset().data.length-1&&(this.getDataset().metaData[t+1]._model.startAngle=e._model.endAngle)),e.pivot()},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t).draw()},this)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.hoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.hoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.hoverBorderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.arc.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.arc.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(e){return this.getDataset().total>0?1.999999*Math.PI*(e/this.getDataset().total):0}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.line={hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.line.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){this.getDataset().xAxisID||(this.getDataset().xAxisID=this.chart.options.scales.xAxes[0].id),this.getDataset().yAxisID||(this.getDataset().yAxisID=this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(e){return this.chart.scales[e]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData}),n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:n})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(n,e,!0),this.getDataset().metaData.splice(e,0,n),this.updateBezierControlPoints()},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},update:function(e){var t,i=this.getDataset().metaDataset,r=this.getDataset().metaData,o=this.getScaleForId(this.getDataset().yAxisID);this.getScaleForId(this.getDataset().xAxisID);t=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),n.extend(i,{_scale:o,_datasetIndex:this.index,_children:r,_model:{tension:i.custom&&i.custom.tension?i.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:i.custom&&i.custom.backgroundColor?i.custom.backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:i.custom&&i.custom.borderWidth?i.custom.borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:i.custom&&i.custom.borderColor?i.custom.borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,borderCapStyle:i.custom&&i.custom.borderCapStyle?i.custom.borderCapStyle:this.getDataset().borderCapStyle||this.chart.options.elements.line.borderCapStyle,borderDash:i.custom&&i.custom.borderDash?i.custom.borderDash:this.getDataset().borderDash||this.chart.options.elements.line.borderDash,borderDashOffset:i.custom&&i.custom.borderDashOffset?i.custom.borderDashOffset:this.getDataset().borderDashOffset||this.chart.options.elements.line.borderDashOffset,borderJoinStyle:i.custom&&i.custom.borderJoinStyle?i.custom.borderJoinStyle:this.getDataset().borderJoinStyle||this.chart.options.elements.line.borderJoinStyle,fill:i.custom&&i.custom.fill?i.custom.fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:o.top,scaleBottom:o.bottom,scaleZero:t}}),i.pivot(),n.each(r,function(t,n){this.updateElement(t,n,e)},this),this.updateBezierControlPoints()},updateElement:function(e,t,i){var r,o=this.getScaleForId(this.getDataset().yAxisID),a=this.getScaleForId(this.getDataset().xAxisID);r=o.min<0&&o.max<0?o.getPixelForValue(o.max):o.min>0&&o.max>0?o.getPixelForValue(o.min):o.getPixelForValue(0),n.extend(e,{_chart:this.chart.chart,_xScale:a,_yScale:o,_datasetIndex:this.index,_index:t,_model:{x:a.getPixelForValue(this.getDataset().data[t],t,this.index,this.chart.isCombo),y:i?r:o.getPixelForValue(this.getDataset().data[t],t,this.index),tension:e.custom&&e.custom.tension?e.custom.tension:this.getDataset().tension||this.chart.options.elements.line.tension,radius:e.custom&&e.custom.radius?e.custom.radius:n.getValueAtIndexOrDefault(this.getDataset().radius,t,this.chart.options.elements.point.radius),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,t,this.chart.options.elements.point.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,t,this.chart.options.elements.point.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,t,this.chart.options.elements.point.borderWidth),hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:n.getValueAtIndexOrDefault(this.getDataset().hitRadius,t,this.chart.options.elements.point.hitRadius)}}),e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){n.each(this.getDataset().metaData,function(e,t){var i=n.splineCurve(n.previousItem(this.getDataset().metaData,t)._model,e._model,n.nextItem(this.getDataset().metaData,t)._model,e._model.tension);e._model.controlPointPreviousX=i.previous.x,e._model.controlPointNextX=i.next.x,i.next.y>this.chart.chartArea.bottom?e._model.controlPointNextY=this.chart.chartArea.bottom:i.next.y<this.chart.chartArea.top?e._model.controlPointNextY=this.chart.chartArea.top:e._model.controlPointNextY=i.next.y,i.previous.y>this.chart.chartArea.bottom?e._model.controlPointPreviousY=this.chart.chartArea.bottom:i.previous.y<this.chart.chartArea.top?e._model.controlPointPreviousY=this.chart.chartArea.top:e._model.controlPointPreviousY=i.previous.y,e.pivot()},this)},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t)},this),this.getDataset().metaDataset.transition(t).draw(),n.each(this.getDataset().metaData,function(e){e.draw()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.radius=e.custom&&e.custom.hoverRadius?e.custom.hoverRadius:n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.radius=e.custom&&e.custom.radius?e.custom.radius:n.getValueAtIndexOrDefault(this.getDataset().radius,t,this.chart.options.elements.point.radius),e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,t,this.chart.options.elements.point.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,t,this.chart.options.elements.point.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,t,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animateRotate:!0,animateScale:!0},t.controllers.polarArea=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.polarArea.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(e){return this.chart.scales[e]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:n})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Arc({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(n,e,!0),this.getDataset().metaData.splice(e,0,n)},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},getVisibleDatasetCount:function(){return n.where(this.chart.data.datasets,function(e){return n.isDatasetVisible(e)}).length},update:function(e){this.chart.outerRadius=Math.max((n.min([this.chart.chart.width,this.chart.chart.height])-this.chart.options.elements.arc.borderWidth/2)/2,0),this.chart.innerRadius=Math.max(this.chart.options.cutoutPercentage?this.chart.outerRadius/100*this.chart.options.cutoutPercentage:1,0),this.chart.radiusLength=(this.chart.outerRadius-this.chart.innerRadius)/this.getVisibleDatasetCount(),this.getDataset().total=0,n.each(this.getDataset().data,function(e){this.getDataset().total+=Math.abs(e)},this),this.outerRadius=this.chart.outerRadius-this.chart.radiusLength*this.index,this.innerRadius=this.outerRadius-this.chart.radiusLength,n.each(this.getDataset().metaData,function(t,n){this.updateElement(t,n,e)},this)},updateElement:function(e,t,i){var r=1/this.getDataset().data.length*2,o=-.5*Math.PI+Math.PI*r*t,a=o+r*Math.PI,s={x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.options.animateScale?0:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[t]),startAngle:this.chart.options.animateRotate?Math.PI*-.5:o,endAngle:this.chart.options.animateRotate?Math.PI*-.5:a,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,t,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.arc.borderColor),label:n.getValueAtIndexOrDefault(this.chart.data.labels,t,this.chart.data.labels[t])};n.extend(e,{_chart:this.chart.chart,_datasetIndex:this.index,_index:t,_model:i?s:{x:this.chart.chart.width/2,y:this.chart.chart.height/2,innerRadius:0,outerRadius:this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[t]),startAngle:o,endAngle:a,backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.arc.backgroundColor),hoverBackgroundColor:e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor,t,this.chart.options.elements.arc.hoverBackgroundColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.arc.borderWidth),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.arc.borderColor),label:n.getValueAtIndexOrDefault(this.chart.data.labels,t,this.chart.data.labels[t])}}),e.pivot()},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t).draw()},this)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.hoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.hoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.borderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().backgroundColor,t,this.chart.options.elements.arc.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().borderColor,t,this.chart.options.elements.arc.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().borderWidth,t,this.chart.options.elements.arc.borderWidth)},calculateCircumference:function(e){return this.getDataset().total>0?2*Math.PI*(e/this.getDataset().total):0},updateScaleRange:function(){n.extend(this.chart.scale,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=function(e,t){this.initialize.call(this,e,t)},n.extend(t.controllers.radar.prototype,{initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){},getDataset:function(){return this.chart.data.datasets[this.index]},getScaleForId:function(e){return this.chart.scales[e]},addElements:function(){this.getDataset().metaData=this.getDataset().metaData||[],this.getDataset().metaDataset=this.getDataset().metaDataset||new t.elements.Line({_chart:this.chart.chart,_datasetIndex:this.index,_points:this.getDataset().metaData,_loop:!0}),n.each(this.getDataset().data,function(e,n){this.getDataset().metaData[n]=this.getDataset().metaData[n]||new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:n,_model:{x:0,y:0}})},this)},addElementAndReset:function(e){this.getDataset().metaData=this.getDataset().metaData||[];var n=new t.elements.Point({_chart:this.chart.chart,_datasetIndex:this.index,_index:e});this.updateElement(n,e,!0),this.getDataset().metaData.splice(e,0,n),this.updateBezierControlPoints()},removeElement:function(e){this.getDataset().metaData.splice(e,1)},reset:function(){this.update(!0)},buildOrUpdateElements:function(){var e=this.getDataset().data.length,t=this.getDataset().metaData.length;if(t>e)this.getDataset().metaData.splice(e,t-e);else if(e>t)for(var n=t;e>n;++n)this.addElementAndReset(n)},update:function(e){var t,i=(this.getDataset().metaDataset,this.getDataset().metaData),r=this.chart.scale;t=r.min<0&&r.max<0?r.getPointPositionForValue(0,r.max):r.min>0&&r.max>0?r.getPointPositionForValue(0,r.min):r.getPointPositionForValue(0,0),n.extend(this.getDataset().metaDataset,{_datasetIndex:this.index,_children:this.getDataset().metaData,_model:{tension:this.getDataset().tension||this.chart.options.elements.line.tension,backgroundColor:this.getDataset().backgroundColor||this.chart.options.elements.line.backgroundColor,borderWidth:this.getDataset().borderWidth||this.chart.options.elements.line.borderWidth,borderColor:this.getDataset().borderColor||this.chart.options.elements.line.borderColor,fill:void 0!==this.getDataset().fill?this.getDataset().fill:this.chart.options.elements.line.fill,scaleTop:r.top,scaleBottom:r.bottom,scaleZero:t}}),this.getDataset().metaDataset.pivot(),n.each(i,function(t,n){this.updateElement(t,n,e)},this),this.updateBezierControlPoints()},updateElement:function(e,t,i){var r=this.chart.scale.getPointPositionForValue(t,this.getDataset().data[t]);n.extend(e,{_datasetIndex:this.index,_index:t,_model:{x:i?this.chart.scale.xCenter:r.x,y:i?this.chart.scale.yCenter:r.y,tension:e.custom&&e.custom.tension?e.custom.tension:this.chart.options.elements.line.tension,radius:e.custom&&e.custom.radius?e.custom.pointRadius:n.getValueAtIndexOrDefault(this.getDataset().pointRadius,t,this.chart.options.elements.point.radius),backgroundColor:e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,t,this.chart.options.elements.point.backgroundColor),borderColor:e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,t,this.chart.options.elements.point.borderColor),borderWidth:e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,t,this.chart.options.elements.point.borderWidth),hitRadius:e.custom&&e.custom.hitRadius?e.custom.hitRadius:n.getValueAtIndexOrDefault(this.getDataset().hitRadius,t,this.chart.options.elements.point.hitRadius)}}),e._model.skip=e.custom&&e.custom.skip?e.custom.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){n.each(this.getDataset().metaData,function(e,t){var i=n.splineCurve(n.previousItem(this.getDataset().metaData,t,!0)._model,e._model,n.nextItem(this.getDataset().metaData,t,!0)._model,e._model.tension);e._model.controlPointPreviousX=i.previous.x,e._model.controlPointNextX=i.next.x,i.next.y>this.chart.chartArea.bottom?e._model.controlPointNextY=this.chart.chartArea.bottom:i.next.y<this.chart.chartArea.top?e._model.controlPointNextY=this.chart.chartArea.top:e._model.controlPointNextY=i.next.y,i.previous.y>this.chart.chartArea.bottom?e._model.controlPointPreviousY=this.chart.chartArea.bottom:i.previous.y<this.chart.chartArea.top?e._model.controlPointPreviousY=this.chart.chartArea.top:e._model.controlPointPreviousY=i.previous.y,e.pivot()},this)},draw:function(e){var t=e||1;n.each(this.getDataset().metaData,function(e,n){e.transition(t)},this),this.getDataset().metaDataset.transition(t).draw(),n.each(this.getDataset().metaData,function(e){e.draw()})},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index;e._model.radius=e.custom&&e.custom.radius?e.custom.radius:n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),e._model.backgroundColor=e.custom&&e.custom.hoverBackgroundColor?e.custom.hoverBackgroundColor:n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.color(e._model.backgroundColor).saturate(.5).darken(.1).rgbString()),e._model.borderColor=e.custom&&e.custom.hoverBorderColor?e.custom.hoverBorderColor:n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.color(e._model.borderColor).saturate(.5).darken(.1).rgbString()),e._model.borderWidth=e.custom&&e.custom.hoverBorderWidth?e.custom.hoverBorderWidth:n.getValueAtIndexOrDefault(t.pointBorderWidth,i,e._model.borderWidth)},removeHoverStyle:function(e){var t=(this.chart.data.datasets[e._datasetIndex],e._index);e._model.radius=e.custom&&e.custom.radius?e.custom.radius:n.getValueAtIndexOrDefault(this.getDataset().radius,t,this.chart.options.elements.point.radius),e._model.backgroundColor=e.custom&&e.custom.backgroundColor?e.custom.backgroundColor:n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor,t,this.chart.options.elements.point.backgroundColor),e._model.borderColor=e.custom&&e.custom.borderColor?e.custom.borderColor:n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor,t,this.chart.options.elements.point.borderColor),e._model.borderWidth=e.custom&&e.custom.borderWidth?e.custom.borderWidth:n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth,t,this.chart.options.elements.point.borderWidth)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=(t.helpers,{position:"bottom"}),i=t.Scale.extend({buildTicks:function(e){this.ticks=this.data.labels},getLabelForIndex:function(e,t){return this.ticks[e]},getPixelForValue:function(e,t,n,i){if(this.isHorizontal()){var r=this.width-(this.paddingLeft+this.paddingRight),o=r/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),a=o*t+this.paddingLeft;return this.options.gridLines.offsetGridLines&&i&&(a+=o/2),this.left+Math.round(a)}var s=this.height-(this.paddingTop+this.paddingBottom),l=s/Math.max(this.data.labels.length-(this.options.gridLines.offsetGridLines?0:1),1),c=l*t+this.paddingTop;return this.options.gridLines.offsetGridLines&&i&&(c+=l/2),this.top+Math.round(c)}});t.scaleService.registerScaleType("category",i,n)}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={position:"left",ticks:{callback:function(e,t,i){var r=i[1]-i[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var o=n.log10(Math.abs(r)),a="";if(0!==e){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a}}},r=t.Scale.extend({buildTicks:function(){this.min=null,this.max=null;var e=[],t=[];if(this.options.stacked){n.each(this.data.datasets,function(i){n.isDatasetVisible(i)&&(this.isHorizontal()?i.xAxisID===this.id:i.yAxisID===this.id)&&n.each(i.data,function(n,i){var r=this.getRightValue(n);isNaN(r)||(e[i]=e[i]||0,t[i]=t[i]||0,this.options.relativePoints?e[i]=100:0>r?t[i]+=r:e[i]+=r)},this)},this);var i=e.concat(t);this.min=n.min(i),this.max=n.max(i)}else n.each(this.data.datasets,function(e){n.isDatasetVisible(e)&&(this.isHorizontal()?e.xAxisID===this.id:e.yAxisID===this.id)&&n.each(e.data,function(e,t){var n=this.getRightValue(e);isNaN(n)||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)},this);this.min===this.max&&(this.min--,this.max++),this.ticks=[];var r;if(r=this.isHorizontal()?Math.min(11,Math.ceil(this.width/50)):Math.min(11,Math.ceil(this.height/(2*this.options.ticks.fontSize))),r=Math.max(2,r),this.options.ticks.beginAtZero){var o=n.sign(this.min),a=n.sign(this.max);0>o&&0>a?this.max=0:o>0&&a>0&&(this.min=0)}for(var s=n.niceNum(this.max-this.min,!1),l=n.niceNum(s/(r-1),!0),c=Math.floor(this.min/l)*l,u=Math.ceil(this.max/l)*l,d=Math.ceil((u-c)/l),h=0;d>=h;++h)this.ticks.push(c+h*l);
("left"==this.options.position||"right"==this.options.position)&&this.ticks.reverse(),this.max=n.max(this.ticks),this.min=n.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getLabelForIndex:function(e,t){return this.getRightValue(this.data.datasets[t].data[e])},getPixelForValue:function(e,t,n,i){var r,o=this.getRightValue(e),a=this.end-this.start;if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight);return r=this.left+s/a*(o-this.start),Math.round(r+this.paddingLeft)}var l=this.height-(this.paddingTop+this.paddingBottom);return r=this.bottom-this.paddingBottom-l/a*(o-this.start),Math.round(r)}});t.scaleService.registerScaleType("linear",r,i)}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={position:"left",ticks:{callback:function(e){var n=e/Math.pow(10,Math.floor(t.helpers.log10(e)));return 1===n||2===n||5===n?e.toExponential():""}}},r=t.Scale.extend({buildTicks:function(){this.min=null,this.max=null;var e=[];this.options.stacked?(n.each(this.data.datasets,function(t){n.isDatasetVisible(t)&&(this.isHorizontal()?t.xAxisID===this.id:t.yAxisID===this.id)&&n.each(t.data,function(t,n){var i=this.getRightValue(t);isNaN(i)||(e[n]=e[n]||0,this.options.relativePoints?e[n]=100:e[n]+=i)},this)},this),this.min=n.min(e),this.max=n.max(e)):n.each(this.data.datasets,function(e){n.isDatasetVisible(e)&&(this.isHorizontal()?e.xAxisID===this.id:e.yAxisID===this.id)&&n.each(e.data,function(e,t){var n=this.getRightValue(e);isNaN(n)||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)},this),this.min===this.max&&(0!==this.min&&null!==this.min?(this.min=Math.pow(10,Math.floor(n.log10(this.min))-1),this.max=Math.pow(10,Math.floor(n.log10(this.max))+1)):(this.min=1,this.max=10)),this.tickValues=[];for(var t=Math.floor(n.log10(this.min)),i=Math.ceil(n.log10(this.max)),r=t;i>r;++r)for(var o=1;10>o;++o)this.tickValues.push(o*Math.pow(10,r));this.tickValues.push(1*Math.pow(10,i)),("left"==this.options.position||"right"==this.options.position)&&this.tickValues.reverse(),this.max=n.max(this.tickValues),this.min=n.min(this.tickValues),this.options.ticks.reverse?(this.tickValues.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.ticks=this.tickValues.slice()},getLabelForIndex:function(e,t){return this.getRightValue(this.data.datasets[t].data[e])},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickValues[e],null,null,t)},getPixelForValue:function(e,t,i,r){var o,a=this.getRightValue(e),s=n.log10(this.end)-n.log10(this.start);if(this.isHorizontal()){if(0!==a){var l=this.width-(this.paddingLeft+this.paddingRight);return o=this.left+l/s*(n.log10(a)-n.log10(this.start)),o+this.paddingLeft}o=this.left+this.paddingLeft}else{if(0!==a){var c=this.height-(this.paddingTop+this.paddingBottom);return this.bottom-this.paddingBottom-c/s*(n.log10(a)-n.log10(this.start))}o=this.top+this.paddingTop}}});t.scaleService.registerScaleType("logarithmic",r,i)}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{show:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontFamily:"'Arial'",fontStyle:"normal",fontSize:10,fontColor:"#666"}},r=t.Scale.extend({getValueCount:function(){return this.data.labels.length},setDimensions:function(){this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var e=n.min([this.height,this.width]);this.drawingArea=this.options.display?e/2-(this.options.ticks.fontSize/2+this.options.ticks.backdropPaddingY):e/2},buildTicks:function(){this.min=null,this.max=null,n.each(this.data.datasets,function(e){n.isDatasetVisible(e)&&n.each(e.data,function(e,t){var n=this.getRightValue(e);isNaN(n)||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)},this),this.min===this.max&&(this.min--,this.max++),this.ticks=[];var e=Math.min(11,Math.ceil(this.drawingArea/(1.5*this.options.ticks.fontSize)));if(e=Math.max(2,e),this.options.ticks.beginAtZero){var t=n.sign(this.min),i=n.sign(this.max);0>t&&0>i?this.max=0:t>0&&i>0&&(this.min=0)}for(var r=n.niceNum(this.max-this.min,!1),o=n.niceNum(r/(e-1),!0),a=Math.floor(this.min/o)*o,s=Math.ceil(this.max/o)*o,l=a;s>=l;l+=o)this.ticks.push(l);this.max=n.max(this.ticks),this.min=n.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},getCircumference:function(){return 2*Math.PI/this.getValueCount()},fit:function(){var e,t,i,r,o,a,s,l,c,u,d,h,f=n.min([this.height/2-this.options.pointLabels.fontSize-5,this.width/2]),p=this.width,m=0;for(this.ctx.font=n.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),t=0;t<this.getValueCount();t++)e=this.getPointPosition(t,f),i=this.ctx.measureText(this.options.ticks.callback(this.data.labels[t])).width+5,0===t||t===this.getValueCount()/2?(r=i/2,e.x+r>p&&(p=e.x+r,o=t),e.x-r<m&&(m=e.x-r,s=t)):t<this.getValueCount()/2?e.x+i>p&&(p=e.x+i,o=t):t>this.getValueCount()/2&&e.x-i<m&&(m=e.x-i,s=t);c=m,u=Math.ceil(p-this.width),a=this.getIndexAngle(o),l=this.getIndexAngle(s),d=u/Math.sin(a+Math.PI/2),h=c/Math.sin(l+Math.PI/2),d=n.isNumber(d)?d:0,h=n.isNumber(h)?h:0,this.drawingArea=Math.round(f-(h+d)/2),this.setCenterPoint(h,d)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=Math.round((i+n)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(e){var t=2*Math.PI/this.getValueCount();return e*t-Math.PI/2},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.round(Math.cos(n)*t)+this.xCenter,y:Math.round(Math.sin(n)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},draw:function(){if(this.options.display){var e=this.ctx;if(n.each(this.ticks,function(t,i){if(i>0||this.options.reverse){var r=this.getDistanceFromCenterForValue(this.ticks[i]),o=this.yCenter-r;if(this.options.gridLines.show)if(e.strokeStyle=this.options.gridLines.color,e.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var a=0;a<this.getValueCount();a++){var s=this.getPointPosition(a,this.getDistanceFromCenterForValue(this.ticks[i]));0===a?e.moveTo(s.x,s.y):e.lineTo(s.x,s.y)}e.closePath(),e.stroke()}if(this.options.ticks.show){if(e.font=n.fontString(this.options.ticks.fontSize,this.options.ticks.fontStyle,this.options.ticks.fontFamily),this.options.ticks.showLabelBackdrop){var l=e.measureText(t).width;e.fillStyle=this.options.ticks.backdropColor,e.fillRect(this.xCenter-l/2-this.options.ticks.backdropPaddingX,o-this.options.ticks.fontSize/2-this.options.ticks.backdropPaddingY,l+2*this.options.ticks.backdropPaddingX,this.options.ticks.fontSize+2*this.options.ticks.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.options.ticks.fontColor,e.fillText(t,this.xCenter,o)}}},this),!this.options.lineArc){e.lineWidth=this.options.angleLines.lineWidth,e.strokeStyle=this.options.angleLines.color;for(var t=this.getValueCount()-1;t>=0;t--){if(this.options.angleLines.show){var i=this.getPointPosition(t,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(i.x,i.y),e.stroke(),e.closePath()}var r=this.getPointPosition(t,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5);e.font=n.fontString(this.options.pointLabels.fontSize,this.options.pointLabels.fontStyle,this.options.pointLabels.fontFamily),e.fillStyle=this.options.pointLabels.fontColor;var o=this.data.labels.length,a=this.data.labels.length/2,s=a/2,l=s>t||t>o-s,c=t===s||t===o-s;0===t?e.textAlign="center":t===a?e.textAlign="center":a>t?e.textAlign="left":e.textAlign="right",c?e.textBaseline="middle":l?e.textBaseline="bottom":e.textBaseline="top",e.fillText(this.data.labels[t],r.x,r.y)}}}}});t.scaleService.registerScaleType("radialLinear",r,i)}.call(this),function(){"use strict";if(!window.moment)return void console.warn("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at http://momentjs.com/");var e=this,t=e.Chart,n=t.helpers,i={units:["millisecond","second","minute","hour","day","week","month","quarter","year"],unit:{millisecond:{display:"SSS [ms]",maxStep:1e3},second:{display:"h:mm:ss a",maxStep:60},minute:{display:"h:mm:ss a",maxStep:60},hour:{display:"MMM D, hA",maxStep:24},day:{display:"ll",maxStep:7},week:{display:"ll",maxStep:4.3333},month:{display:"MMM YYYY",maxStep:12},quarter:{display:"[Q]Q - YYYY",maxStep:4},year:{display:"YYYY",maxStep:!1}}},r={position:"bottom",time:{format:!1,unit:!1,round:!1,displayFormat:!1}},o=t.Scale.extend({getLabelMoment:function(e,t){return this.labelMoments[e][t]},buildLabelMoments:function(){var e=[];this.data.labels&&this.data.labels.length>0?(n.each(this.data.labels,function(t,n){var i=this.parseTime(t);this.options.time.round&&i.startOf(this.options.time.round),e.push(i)},this),this.options.time.min?this.firstTick=this.parseTime(this.options.time.min):this.firstTick=moment.min.call(this,e),this.options.time.max?this.lastTick=this.parseTime(this.options.time.max):this.lastTick=moment.max.call(this,e)):(this.firstTick=null,this.lastTick=null),n.each(this.data.datasets,function(t,i){var r=[];"object"==typeof t.data[0]?n.each(t.data,function(e,t){var n=this.parseTime(this.getRightValue(e));this.options.time.round&&n.startOf(this.options.time.round),r.push(n),this.firstTick=null!==this.firstTick?moment.min(this.firstTick,n):n,this.lastTick=null!==this.lastTick?moment.max(this.lastTick,n):n},this):r=e,this.labelMoments.push(r)},this),this.firstTick=this.firstTick.clone(),this.lastTick=this.lastTick.clone()},buildTicks:function(e){if(this.ticks=[],this.labelMoments=[],this.buildLabelMoments(),this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=i.unit[this.tickUnit].display,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0));else{var t=this.width-(this.paddingLeft+this.paddingRight),r=t/this.options.ticks.fontSize+4,o=this.options.time.round?0:2;this.tickUnit="millisecond",this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit,!0)+o),this.displayFormat=i.unit[this.tickUnit].display,n.each(i.units,function(e){this.tickRange<=r||(this.tickUnit=e,this.tickRange=Math.ceil(this.lastTick.diff(this.firstTick,this.tickUnit)+o),this.displayFormat=i.unit[e].display)},this)}this.firstTick.startOf(this.tickUnit),this.lastTick.endOf(this.tickUnit),this.smallestLabelSeparation=this.width,n.each(this.data.datasets,function(e,t){for(var n=1;n<this.labelMoments[t].length;n++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[t][n].diff(this.labelMoments[t][n-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat);for(var a=0;a<=this.tickRange;++a)this.ticks.push(this.firstTick.clone().add(a,this.tickUnit))},getLabelForIndex:function(e,t){var n=this.data.labels&&e<this.data.labels.length?this.data.labels[e]:"";return"object"==typeof this.data.datasets[t].data[0]&&(n=this.getRightValue(this.data.datasets[t].data[e])),n},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(e,t,n){var r=e.format(this.options.time.displayFormat?this.options.time.displayFormat:i.unit[this.tickUnit].display);return this.options.ticks.userCallback?this.options.ticks.userCallback(r,t,n):r},this)},getPixelForValue:function(e,t,n,i){var r=this.getLabelMoment(n,t),o=r.diff(this.firstTick,this.tickUnit,!0),a=o/this.tickRange;if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),l=(s/Math.max(this.ticks.length-1,1),s*a+this.paddingLeft);return this.left+Math.round(l)}var c=this.height-(this.paddingTop+this.paddingBottom),u=(c/Math.max(this.ticks.length-1,1),c*a+this.paddingTop);return this.top+Math.round(u)},parseTime:function(e){return"function"==typeof e.getMonth||"number"==typeof e?moment(e):e.isValid&&e.isValid()?e:"string"!=typeof this.options.time.format&&this.options.time.format.call?this.options.time.format(e):moment(e,this.options.time.format)}});t.scaleService.registerScaleType("time",o,r)}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.global.elements.arc={backgroundColor:t.defaults.global.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(e){var t=this._view;return t?Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2):!1},inRange:function(e,t){var i=this._view;if(i){var r=n.getAngleFromPoint(i,{x:e,y:t}),o=i.startAngle<-.5*Math.PI?i.startAngle+2*Math.PI:i.startAngle>1.5*Math.PI?i.startAngle-2*Math.PI:i.startAngle,a=i.endAngle<-.5*Math.PI?i.endAngle+2*Math.PI:i.endAngle>1.5*Math.PI?i.endAngle-2*Math.PI:i.endAngle,s=r.angle>=o&&r.angle<=a,l=r.distance>=i.innerRadius&&r.distance<=i.outerRadius;return s&&l}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,t.startAngle,t.endAngle),e.arc(t.x,t.y,t.innerRadius,t.endAngle,t.startAngle,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.defaults.global.elements.line={tension:.4,backgroundColor:t.defaults.global.defaultColor,borderWidth:3,borderColor:t.defaults.global.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},t.elements.Line=t.Element.extend({draw:function(){var e=this._view,i=this._chart.ctx,r=this._children[0],o=this._children[this._children.length-1];if(i.save(),n.each(this._children,function(t,r){var o=n.previousItem(this._children,r),a=n.nextItem(this._children,r);return r||i.moveTo(t._view.x,e.scaleZero),t._view.skip&&!this.loop?(i.lineTo(o._view.x,e.scaleZero),void i.moveTo(a._view.x,e.scaleZero)):o._view.skip?void i.lineTo(t._view.x,t._view.y):e.tension>0&&r?void i.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y):void i.lineTo(t._view.x,t._view.y)},this),this._loop){if(e.tension>0&&!r._view.skip)return void i.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,r._view.controlPointPreviousX,r._view.controlPointPreviousY,r._view.x,r._view.y);i.lineTo(r._view.x,r._view.y)}if(this._children.length>0&&e.fill&&(i.lineTo(this._children[this._children.length-1]._view.x,e.scaleZero),i.lineTo(this._children[0]._view.x,e.scaleZero),i.fillStyle=e.backgroundColor||t.defaults.global.defaultColor,i.closePath(),i.fill()),i.lineCap=e.borderCapStyle||t.defaults.global.elements.line.borderCapStyle,i.setLineDash&&i.setLineDash(e.borderDash||t.defaults.global.elements.line.borderDash),i.lineDashOffset=e.borderDashOffset||t.defaults.global.elements.line.borderDashOffset,i.lineJoin=e.borderJoinStyle||t.defaults.global.elements.line.borderJoinStyle,i.lineWidth=e.borderWidth||t.defaults.global.elements.line.borderWidth,i.strokeStyle=e.borderColor||t.defaults.global.defaultColor,i.beginPath(),n.each(this._children,function(t,r){var o=n.previousItem(this._children,r),a=n.nextItem(this._children,r);return r||i.moveTo(t._view.x,e.scaleZero),t._view.skip&&!this.loop?void i.moveTo(a._view.x,e.scaleZero):o._view.skip?void i.moveTo(t._view.x,t._view.y):e.tension>0&&r?void i.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y):void i.lineTo(t._view.x,t._view.y)},this),this._loop&&!r._view.skip){if(e.tension>0)return void i.bezierCurveTo(o._view.controlPointNextX,o._view.controlPointNextY,r._view.controlPointPreviousX,r._view.controlPointPreviousY,r._view.x,r._view.y);i.lineTo(r._view.x,r._view.y)}i.stroke(),i.restore()}})}.call(this),function(){"use strict";var e=this,t=e.Chart;t.helpers;t.defaults.global.elements.point={radius:3,backgroundColor:t.defaults.global.defaultColor,borderWidth:1,borderColor:t.defaults.global.defaultColor,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(e,t){var n=this._view;if(n){var i=n.hitRadius+n.radius;return Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(i,2)}return!1},inLabelRange:function(e){var t=this._view;return t?Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2):!1},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var e=this._view,n=this._chart.ctx;e.skip||(e.radius>0||e.borderWidth>0)&&(n.beginPath(),n.arc(e.x,e.y,e.radius||t.defaults.global.elements.point.radius,0,2*Math.PI),n.closePath(),n.strokeStyle=e.borderColor||t.defaults.global.defaultColor,n.lineWidth=e.borderWidth||t.defaults.global.elements.point.borderWidth,n.fillStyle=e.backgroundColor||t.defaults.global.defaultColor,n.fill(),n.stroke())}})}.call(this),function(){"use strict";var e=this,t=e.Chart;t.helpers;t.defaults.global.elements.rectangle={backgroundColor:t.defaults.global.defaultColor,borderWidth:0,borderColor:t.defaults.global.defaultColor},t.elements.Rectangle=t.Element.extend({draw:function(){var e=this._chart.ctx,t=this._view,n=t.width/2,i=t.x-n,r=t.x+n,o=t.base-(t.base-t.y),a=t.borderWidth/2;t.borderWidth&&(i+=a,r-=a,o+=a),e.beginPath(),e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.moveTo(i,t.base),e.lineTo(i,o),e.lineTo(r,o),e.lineTo(r,t.base),e.fill(),t.borderWidth&&e.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=this._view,i=!1;return n&&(i=n.y<n.base?e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.y&&t<=n.base:e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.base&&t<=n.y),i},inLabelRange:function(e){var t=this._view;return t?e>=t.x-t.width/2&&e<=t.x+t.width/2:!1},tooltipPosition:function(){var e=this._view;return e.y<e.base?{x:e.x,y:e.y}:{x:e.x,y:e.base}}})}.call(this),function(){"use strict";var e=this,t=e.Chart;t.helpers;t.Bar=function(e,n){return n.type="bar",new t(e,n)}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};t.Bubble=function(e,r){return r.options=n.configMerge(i,r.options),r.type="bubble",new t(e,r)}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};t.Doughnut=function(e,r){return r.options=n.configMerge(i,r.options),r.type="doughnut",new t(e,r)}}.call(this),function(){"use strict";var e=this,t=e.Chart;t.helpers;t.Line=function(e,n){return n.type="line",new t(e,n)}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={aspectRatio:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i = 0; i < data.datasets[0].data.length; i++){%><li><span style="background-color:<%=data.datasets[0].backgroundColor[i]%>"><%if(data.labels && i < data.labels.length){%><%=data.labels[i]%><%}%></span></li><%}%></ul>'};t.PolarArea=function(e,r){return r.options=n.configMerge(i,r.options),r.type="polarArea",new t(e,r)}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={aspectRatio:1};t.Radar=function(e,r){return r.options=n.configMerge(i,r.options),r.type="radar",new t(e,r)}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{template:"(<%= value.x %>, <%= value.y %>)",multiTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>)"}};t.Scatter=function(e,r){return r.options=n.configMerge(i,r.options),r.type="line",new t(e,r)}}.call(this);var TAFFY,exports,T;!function(){"use strict";var e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k;if(!TAFFY)for(r="2.7",o=1,a="000000",s=1e3,l={},k=function(e){var t=Array.prototype.slice.call(e);return t.sort()},c=function(e){return TAFFY.isArray(e)||TAFFY.isObject(e)?e:JSON.parse(e)},b=function(e,t){return y(e,function(e){return t.indexOf(e)>=0})},y=function(e,t,n){var i=[];return null==e?i:Array.prototype.filter&&e.filter===Array.prototype.filter?e.filter(t,n):(u(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},_=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},w=function(e){var t=T.isArray(e)?[]:T.isObject(e)?{}:null;if(null===e)return e;for(var n in e)t[n]=_(e[n])?e[n].toString():T.isArray(e[n])||T.isObject(e[n])?w(e[n]):e[n];return t},x=function(e){var t=JSON.stringify(e);return null===t.match(/regex/)?t:JSON.stringify(w(e))},u=function(e,t,n){var i,r,o,a;if(e&&(T.isArray(e)&&1===e.length||!T.isArray(e)))t(T.isArray(e)?e[0]:e,0);else for(o=0,e=T.isArray(e)?e:[e],a=e.length;a>o&&(r=e[o],T.isUndefined(r)&&!n||(i=t(r,o),i!==T.EXIT));o++);},d=function(e,t){var n,i,r=0;for(i in e)if(e.hasOwnProperty(i)&&(n=t(e[i],i,r++),n===T.EXIT))break},l.extend=function(e,t){l[e]=function(){return t.apply(this,k(arguments))}},h=function(e){var t;return T.isString(e)&&/[t][0-9]*[r][0-9]*/i.test(e)?!0:T.isObject(e)&&e.___id&&e.___s?!0:T.isArray(e)?(t=!0,u(e,function(e){return h(e)?void 0:(t=!1,TAFFY.EXIT)}),t):!1},p=function(e,t){var n=!0;return u(t,function(t){switch(T.typeOf(t)){case"function":if(!t.apply(e))return n=!1,TAFFY.EXIT;break;case"array":n=1===t.length?p(e,t[0]):2===t.length?p(e,t[0])||p(e,t[1]):3===t.length?p(e,t[0])||p(e,t[1])||p(e,t[2]):4===t.length?p(e,t[0])||p(e,t[1])||p(e,t[2])||p(e,t[3]):!1,t.length>4&&u(t,function(t){p(e,t)&&(n=!0)})}}),n},f=function(e){var t=[];return T.isString(e)&&/[t][0-9]*[r][0-9]*/i.test(e)&&(e={___id:e}),T.isArray(e)?(u(e,function(e){t.push(f(e))}),e=function(){var e=this,n=!1;return u(t,function(t){p(e,t)&&(n=!0)}),n}):T.isObject(e)?(T.isObject(e)&&e.___id&&e.___s&&(e={___id:e.___id}),d(e,function(e,n){T.isObject(e)||(e={is:e}),d(e,function(e,i){var r,o=[];r="hasAll"===i?function(e,t){t(e)}:u,r(e,function(e){var t,r=!0;t=function(){var t,o=this[n],a="==",s="!=",l="===",c="<",u=">",d="<=",h=">=",f="!==";return"undefined"==typeof o?!1:(0===i.indexOf("!")&&i!==s&&i!==f&&(r=!1,i=i.substring(1,i.length)),t="regex"===i?e.test(o):"lt"===i||i===c?e>o:"gt"===i||i===u?o>e:"lte"===i||i===d?e>=o:"gte"===i||i===h?o>=e:"left"===i?0===o.indexOf(e):"leftnocase"===i?0===o.toLowerCase().indexOf(e.toLowerCase()):"right"===i?o.substring(o.length-e.length)===e:"rightnocase"===i?o.toLowerCase().substring(o.length-e.length)===e.toLowerCase():"like"===i?o.indexOf(e)>=0:"likenocase"===i?o.toLowerCase().indexOf(e.toLowerCase())>=0:i===l||"is"===i?o===e:i===a?o==e:i===f?o!==e:i===s?o!=e:"isnocase"===i?o.toLowerCase?o.toLowerCase()===e.toLowerCase():o===e:"has"===i?T.has(o,e):"hasall"===i?T.hasAll(o,e):"contains"===i?TAFFY.isArray(o)&&o.indexOf(e)>-1:-1!==i.indexOf("is")||TAFFY.isNull(o)||TAFFY.isUndefined(o)||TAFFY.isObject(e)||TAFFY.isArray(e)?T[i]&&T.isFunction(T[i])&&0===i.indexOf("is")?T[i](o)===e:T[i]&&T.isFunction(T[i])?T[i](o,e):!1:e===o[i],t=t&&!r?!1:t||r?t:!0)},o.push(t)}),t.push(1===o.length?o[0]:function(){var e=this,t=!1;return u(o,function(n){n.apply(e)&&(t=!0)}),t})})}),e=function(){var e=this,n=!0;return n=(1!==t.length||t[0].apply(e))&&(2!==t.length||t[0].apply(e)&&t[1].apply(e))&&(3!==t.length||t[0].apply(e)&&t[1].apply(e)&&t[2].apply(e))&&(4!==t.length||t[0].apply(e)&&t[1].apply(e)&&t[2].apply(e)&&t[3].apply(e))?!0:!1,t.length>4&&u(t,function(t){p(e,t)||(n=!1)}),n}):T.isFunction(e)?e:void 0},g=function(e,t){var n=function(e,n){var i=0;return T.each(t,function(t){var r,o,a,s,l;if(r=t.split(" "),o=r[0],a=1===r.length?"logical":r[1],"logical"===a)s=m(e[o]),l=m(n[o]),T.each(s.length<=l.length?s:l,function(e,t){return s[t]<l[t]?(i=-1,TAFFY.EXIT):s[t]>l[t]?(i=1,TAFFY.EXIT):void 0});else if("logicaldesc"===a)s=m(e[o]),l=m(n[o]),T.each(s.length<=l.length?s:l,function(e,t){return s[t]>l[t]?(i=-1,TAFFY.EXIT):s[t]<l[t]?(i=1,TAFFY.EXIT):void 0});else{if("asec"===a&&e[o]<n[o])return i=-1,T.EXIT;if("asec"===a&&e[o]>n[o])return i=1,T.EXIT;if("desc"===a&&e[o]>n[o])return i=-1,T.EXIT;if("desc"===a&&e[o]<n[o])return i=1,T.EXIT}return 0===i&&"logical"===a&&s.length<l.length?i=-1:0===i&&"logical"===a&&s.length>l.length?i=1:0===i&&"logicaldesc"===a&&s.length>l.length?i=-1:0===i&&"logicaldesc"===a&&s.length<l.length&&(i=1),0!==i?T.EXIT:void 0}),i};return e&&e.push?e.sort(n):e},function(){var e={},t=0;m=function(n){return t>s&&(e={},t=0),e["_"+n]||function(){var i,r,o,a=String(n),s=[],l="_",c="";for(i=0,r=a.length;r>i;i++)o=a.charCodeAt(i),o>=48&&57>=o||46===o?("n"!==c&&(c="n",s.push(l.toLowerCase()),l=""),l+=a.charAt(i)):("s"!==c&&(c="s",s.push(parseFloat(l)),l=""),l+=a.charAt(i));return s.push("n"===c?parseFloat(l):l.toLowerCase()),s.shift(),e["_"+n]=s,t++,s}()}}(),v=function(){this.context({results:this.getDBI().query(this.context())})},l.extend("filter",function(){var e=TAFFY.mergeObj(this.context(),{run:null}),t=[];return u(e.q,function(e){t.push(e)}),e.q=t,u(k(arguments),function(t){e.q.push(f(t)),e.filterRaw.push(t)}),this.getroot(e)}),l.extend("order",function(e){e=e.split(",");var t,n=[];return u(e,function(e){n.push(e.replace(/^\s*/,"").replace(/\s*$/,""))}),t=TAFFY.mergeObj(this.context(),{sort:null}),t.order=n,this.getroot(t)}),l.extend("limit",function(e){var t,n=TAFFY.mergeObj(this.context(),{});return n.limit=e,n.run&&n.sort&&(t=[],u(n.results,function(n,i){return i+1>e?TAFFY.EXIT:void t.push(n)}),n.results=t),this.getroot(n)}),l.extend("start",function(e){var t,n=TAFFY.mergeObj(this.context(),{});return n.start=e,n.run&&n.sort&&!n.limit?(t=[],u(n.results,function(n,i){i+1>e&&t.push(n)}),n.results=t):n=TAFFY.mergeObj(this.context(),{run:null,start:e}),this.getroot(n)}),l.extend("update",function(e,t,n){var i,r=!0,o={},a=k(arguments);return!TAFFY.isString(e)||2!==arguments.length&&3!==arguments.length?(o=e,2===a.length&&(r=t)):(o[e]=t,3===arguments.length&&(r=n)),i=this,v.call(this),u(this.context().results,function(e){var t=o;TAFFY.isFunction(t)?t=t.apply(TAFFY.mergeObj(e,{})):T.isFunction(t)&&(t=t(TAFFY.mergeObj(e,{}))),TAFFY.isObject(t)&&i.getDBI().update(e.___id,t,r)}),this.context().results.length&&this.context({run:null}),this}),l.extend("remove",function(e){var t=this,n=0;return v.call(this),u(this.context().results,function(e){t.getDBI().remove(e.___id),n++}),this.context().results.length&&(this.context({run:null}),t.getDBI().removeCommit(e)),n}),l.extend("count",function(){return v.call(this),this.context().results.length}),l.extend("callback",function(e,t){if(e){var n=this;setTimeout(function(){v.call(n),e.call(n.getroot(n.context()))},t||0)}return null}),l.extend("get",function(){return v.call(this),this.context().results}),l.extend("stringify",function(){return JSON.stringify(this.get())}),l.extend("first",function(){return v.call(this),this.context().results[0]||!1}),l.extend("last",function(){return v.call(this),this.context().results[this.context().results.length-1]||!1}),l.extend("sum",function(){var e=0,t=this;return v.call(t),u(k(arguments),function(n){u(t.context().results,function(t){e+=t[n]||0})}),e}),l.extend("min",function(e){var t=null;return v.call(this),u(this.context().results,function(n){(null===t||n[e]<t)&&(t=n[e])}),t}),function(){var e=function(){var e,t,n;return e=function(e,t,n){var i,r,o;switch(2===n.length?(i=e[n[0]],o="===",r=t[n[1]]):(i=e[n[0]],o=n[1],r=t[n[2]]),o){case"===":return i===r;case"!==":return i!==r;case"<":return r>i;case">":return i>r;case"<=":return r>=i;case">=":return i>=r;case"==":return i==r;case"!=":return i!=r;default:throw String(o)+" is not supported"}},t=function(e,t){var n,i,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&"___id"!==n&&"___s"!==n&&(i=TAFFY.isUndefined(r[n])?"":"right_",r[i+String(n)]=t[n]);return r},n=function(n){var i,r,o=k(arguments),a=o.length,s=[];if("function"!=typeof n.filter){if(!n.TAFFY)throw"TAFFY DB or result not supplied";i=n()}else i=n;return this.context({results:this.getDBI().query(this.context())}),TAFFY.each(this.context().results,function(n){i.each(function(i){var l,c=!0;for(r=1;a>r&&(l=o[r],c="function"==typeof l?l(n,i):"object"==typeof l&&l.length?e(n,i,l):!1);r++);c&&s.push(t(n,i))})}),TAFFY(s)()}}();l.extend("join",e)}(),l.extend("max",function(e){var t=null;return v.call(this),u(this.context().results,function(n){(null===t||n[e]>t)&&(t=n[e])}),t}),l.extend("select",function(){var e=[],t=k(arguments);return v.call(this),1===arguments.length?u(this.context().results,function(n){e.push(n[t[0]])}):u(this.context().results,function(n){var i=[];u(t,function(e){i.push(n[e])}),e.push(i)}),e}),l.extend("distinct",function(){var e=[],t=k(arguments);return v.call(this),1===arguments.length?u(this.context().results,function(n){var i=n[t[0]],r=!1;u(e,function(e){return i===e?(r=!0,TAFFY.EXIT):void 0}),r||e.push(i)}):u(this.context().results,function(n){var i=[],r=!1;u(t,function(e){i.push(n[e])}),u(e,function(e){var n=!0;return u(t,function(t,r){return i[r]!==e[r]?(n=!1,TAFFY.EXIT):void 0}),n?(r=!0,TAFFY.EXIT):void 0}),r||e.push(i)}),e}),l.extend("supplant",function(e,t){var n=[];return v.call(this),u(this.context().results,function(t){n.push(e.replace(/\{([^\{\}]*)\}/g,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?i:e}))}),t?n:n.join("")}),l.extend("each",function(e){return v.call(this),u(this.context().results,e),this}),l.extend("map",function(e){var t=[];return v.call(this),u(this.context().results,function(n){t.push(e(n))}),t}),T=function(e){var t,n,i,r=[],s={},m=1,v={template:!1,onInsert:!1,onUpdate:!1,onRemove:!1,onDBChange:!1,storageName:!1,forcePropertyCase:null,cacheSize:100,name:""},b=new Date,y=0,w=0,_={};return n=function(e){var t=[],i=!1;return 0===e.length?r:(u(e,function(e){T.isString(e)&&/[t][0-9]*[r][0-9]*/i.test(e)&&r[s[e]]&&(t.push(r[s[e]]),i=!0),T.isObject(e)&&e.___id&&e.___s&&r[s[e.___id]]&&(t.push(r[s[e.___id]]),i=!0),T.isArray(e)&&u(e,function(e){u(n(e),function(e){t.push(e)})})}),i&&t.length>1&&(t=[]),t)},t={dm:function(e){return e&&(b=e,_={},y=0,w=0),v.onDBChange&&setTimeout(function(){v.onDBChange.call(r)},0),v.storageName&&setTimeout(function(){localStorage.setItem("taffy_"+v.storageName,JSON.stringify(r))}),b},insert:function(e,n){var l=[],h=[],f=c(e);return u(f,function(e,i){var c,f;return T.isArray(e)&&0===i?(u(e,function(e){l.push("lower"===v.forcePropertyCase?e.toLowerCase():"upper"===v.forcePropertyCase?e.toUpperCase():e)}),!0):(T.isArray(e)?(c={},u(e,function(e,t){c[l[t]]=e}),e=c):T.isObject(e)&&v.forcePropertyCase&&(f={},
d(e,function(t,n){f["lower"===v.forcePropertyCase?n.toLowerCase():"upper"===v.forcePropertyCase?n.toUpperCase():n]=e[n]}),e=f),m++,e.___id="T"+String(a+o).slice(-6)+"R"+String(a+m).slice(-6),e.___s=!0,h.push(e.___id),v.template&&(e=T.mergeObj(v.template,e)),r.push(e),s[e.___id]=r.length-1,v.onInsert&&(n||TAFFY.isUndefined(n))&&v.onInsert.call(e),void t.dm(new Date))}),i(h)},sort:function(e){return r=g(r,e.split(",")),s={},u(r,function(e,t){s[e.___id]=t}),t.dm(new Date),!0},update:function(e,n,i){var o,a,l,c,u={};v.forcePropertyCase&&(d(n,function(e,t){u["lower"===v.forcePropertyCase?t.toLowerCase():"upper"===v.forcePropertyCase?t.toUpperCase():t]=e}),n=u),o=r[s[e]],a=T.mergeObj(o,n),l={},c=!1,d(a,function(e,t){(TAFFY.isUndefined(o[t])||o[t]!==e)&&(l[t]=e,c=!0)}),c&&(v.onUpdate&&(i||TAFFY.isUndefined(i))&&v.onUpdate.call(a,r[s[e]],l),r[s[e]]=a,t.dm(new Date))},remove:function(e){r[s[e]].___s=!1},removeCommit:function(e){var n;for(n=r.length-1;n>-1;n--)r[n].___s||(v.onRemove&&(e||TAFFY.isUndefined(e))&&v.onRemove.call(r[n]),s[r[n].___id]=void 0,r.splice(n,1));s={},u(r,function(e,t){s[e.___id]=t}),t.dm(new Date)},query:function(e){var i,o,a,s,l,c;if(v.cacheSize&&(o="",u(e.filterRaw,function(e){return T.isFunction(e)?(o="nocache",TAFFY.EXIT):void 0}),""===o&&(o=x(T.mergeObj(e,{q:!1,run:!1,sort:!1})))),!e.results||!e.run||e.run&&t.dm()>e.run){if(a=[],v.cacheSize&&_[o])return _[o].i=y++,_[o].results;0===e.q.length&&0===e.index.length?(u(r,function(e){a.push(e)}),i=a):(s=n(e.index),u(s,function(t){(0===e.q.length||p(t,e.q))&&a.push(t)}),i=a)}else i=e.results;return!(e.order.length>0)||e.run&&e.sort||(i=g(i,e.order)),i.length&&(e.limit&&e.limit<i.length||e.start)&&(l=[],u(i,function(t,n){if(!e.start||e.start&&n+1>=e.start)if(e.limit){if(c=e.start?n+1-e.start:n,c<e.limit)l.push(t);else if(c>e.limit)return TAFFY.EXIT}else l.push(t)}),i=l),v.cacheSize&&"nocache"!==o&&(w++,setTimeout(function(){var e,t;w>=2*v.cacheSize&&(w=0,e=y-v.cacheSize,t={},d(function(n,i){n.i>=e&&(t[i]=n)}),_=t)},0),_[o]={i:y++,results:i}),i}},i=function(){var e,n;return e=TAFFY.mergeObj(TAFFY.mergeObj(l,{insert:void 0}),{getDBI:function(){return t},getroot:function(e){return i.call(e)},context:function(e){return e&&(n=TAFFY.mergeObj(n,e.hasOwnProperty("results")?TAFFY.mergeObj(e,{run:new Date,sort:new Date}):e)),n},extend:void 0}),n=this&&this.q?this:{limit:!1,start:!1,q:[],filterRaw:[],index:[],order:[],results:!1,run:null,sort:null,settings:v},u(k(arguments),function(e){h(e)?n.index.push(e):n.q.push(f(e)),n.filterRaw.push(e)}),e},o++,e&&t.insert(e),i.insert=t.insert,i.merge=function(e,n,r){var o={},a=[],s={};return r=r||!1,n=n||"id",u(e,function(e){var s;o[n]=e[n],a.push(e[n]),s=i(o).first(),s?t.update(s.___id,e,r):t.insert(e,r)}),s[n]=a,i(s)},i.TAFFY=!0,i.sort=t.sort,i.settings=function(e){return e&&(v=TAFFY.mergeObj(v,e),e.template&&i().update(e.template)),v},i.store=function(e){var t,n=!1;return localStorage&&(e&&(t=localStorage.getItem("taffy_"+e),t&&t.length>0&&(i.insert(t),n=!0),r.length>0&&setTimeout(function(){localStorage.setItem("taffy_"+v.storageName,JSON.stringify(r))})),i.settings({storageName:e})),i},i},TAFFY=T,T.each=u,T.eachin=d,T.extend=l.extend,TAFFY.EXIT="TAFFYEXIT",TAFFY.mergeObj=function(e,t){var n={};return d(e,function(t,i){n[i]=e[i]}),d(t,function(e,i){n[i]=t[i]}),n},TAFFY.has=function(e,t){var n,i=!1;if(e.TAFFY)return i=e(t),i.length>0?!0:!1;switch(T.typeOf(e)){case"object":if(T.isObject(t))d(t,function(n,r){return i!==!0||T.isUndefined(e[r])||!e.hasOwnProperty(r)?(i=!1,TAFFY.EXIT):void(i=T.has(e[r],t[r]))});else if(T.isArray(t))u(t,function(n,r){return i=T.has(e,t[r]),i?TAFFY.EXIT:void 0});else if(T.isString(t))return TAFFY.isUndefined(e[t])?!1:!0;return i;case"array":if(T.isObject(t))u(e,function(n,r){return i=T.has(e[r],t),i===!0?TAFFY.EXIT:void 0});else if(T.isArray(t))u(t,function(n,r){return u(e,function(n,o){return i=T.has(e[o],t[r]),i===!0?TAFFY.EXIT:void 0}),i===!0?TAFFY.EXIT:void 0});else if(T.isString(t)||T.isNumber(t))for(i=!1,n=0;n<e.length;n++)if(i=T.has(e[n],t))return!0;return i;case"string":if(T.isString(t)&&t===e)return!0;break;default:if(T.typeOf(e)===T.typeOf(t)&&e===t)return!0}return!1},TAFFY.hasAll=function(e,t){var n,i=TAFFY;return i.isArray(t)?(n=!0,u(t,function(t){return n=i.has(e,t),n===!1?TAFFY.EXIT:void 0}),n):i.has(e,t)},TAFFY.typeOf=function(e){var t=typeof e;return"object"===t&&(e?"number"!=typeof e.length||e.propertyIsEnumerable("length")||(t="array"):t="null"),t},TAFFY.getObjectKeys=function(e){var t=[];return d(e,function(e,n){t.push(n)}),t.sort(),t},TAFFY.isSameArray=function(e,t){return TAFFY.isArray(e)&&TAFFY.isArray(t)&&e.join(",")===t.join(",")?!0:!1},TAFFY.isSameObject=function(e,t){var n=TAFFY,i=!0;return n.isObject(e)&&n.isObject(t)&&n.isSameArray(n.getObjectKeys(e),n.getObjectKeys(t))?d(e,function(r,o){return n.isObject(e[o])&&n.isObject(t[o])&&n.isSameObject(e[o],t[o])||n.isArray(e[o])&&n.isArray(t[o])&&n.isSameArray(e[o],t[o])||e[o]===t[o]?void 0:(i=!1,TAFFY.EXIT)}):i=!1,i},e=["String","Number","Object","Array","Boolean","Null","Function","Undefined"],t=function(e){return function(t){return TAFFY.typeOf(t)===e.toLowerCase()?!0:!1}},n=0;n<e.length;n++)i=e[n],TAFFY["is"+i]=t(i)}(),"object"==typeof exports&&(exports.taffy=TAFFY),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Pusher=t():e.Pusher=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1);e.exports=i["default"]},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}var r=n(2),o=n(9),a=n(23),s=n(38),l=n(39),c=n(40),u=n(12),d=n(5),h=n(62),f=n(8),p=n(42),m=function(){function e(t,n){var u=this;i(t),n=n||{},this.key=t,this.config=o.extend(h.getGlobalConfig(),n.cluster?h.getClusterConfig(n.cluster):{},n),this.channels=p["default"].createChannels(),this.global_emitter=new a["default"],this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:l["default"].INFO,version:d["default"].VERSION}),this.config.disableStats||(this.timelineSender=p["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r["default"].TimelineTransport.name}));var m=function(e){var t=o.extend({},u.config,e);return c.build(r["default"].getDefaultStrategy(t),t)};this.connection=p["default"].createConnectionManager(this.key,o.extend({getStrategy:m,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=u.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||u.global_emitter.emit(e.event,e.data)}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(e){f["default"].warn("Error",e)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;n>t;t++)e.instances[t].connect()},e.log=function(t){var n=Function("return this")();e.logToConsole&&n.console&&n.console.log&&n.console.log(t)},e.getClientFeatures=function(){return o.keys(o.filterObject({ws:r["default"].Transports.ws},function(e){return e.isSupported({})}))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),t=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){t.send(e)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t){return this.global_emitter.bind(e,t),this},e.prototype.bind_all=function(e){return this.global_emitter.bind_all(e),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return"connected"===this.connection.state&&t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.remove(e);t&&"connected"===this.connection.state&&t.unsubscribe()},e.prototype.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},e.prototype.isEncrypted=function(){return"https:"===r["default"].getProtocol()?!0:Boolean(this.config.encrypted)},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=r["default"],e.ScriptReceivers=r["default"].ScriptReceivers,e.DependenciesReceivers=r["default"].DependenciesReceivers,e.auth_callbacks=r["default"].auth_callbacks,e}();t.__esModule=!0,t["default"]=m,r["default"].setup(m)},function(e,t,n){"use strict";var i=n(3),r=n(7),o=n(14),a=n(15),s=n(16),l=n(4),c=n(17),u=n(18),d=n(25),h=n(26),f=n(27),p=n(28),m={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:h["default"],Transports:u["default"],transportConnectionInitializer:f["default"],HTTPFactory:p["default"],TimelineTransport:c["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getGlobal:function(){return window},getAuthorizers:function(){return{ajax:r["default"],jsonp:o["default"]}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new s["default"](e,t)},createScriptRequest:function(e){return new a["default"](e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var e=this.getXHRAPI();return new e},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return d.Network},createWebSocket:function(e){var t=this.getWebSocketAPI();return new t(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t["default"]=m},function(e,t,n){"use strict";var i=n(4),r=n(5),o=n(6);t.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new o["default"]({cdn_http:r["default"].cdn_http,cdn_https:r["default"].cdn_https,version:r["default"].VERSION,suffix:r["default"].dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var n=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,o=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=o,{number:t,id:n,name:i,callback:o}},e.prototype.remove=function(e){delete this[e.number]},e}();t.ScriptReceiverFactory=n,t.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";var n={VERSION:"3.1.0",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:".min"};t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var i=n(4),r=n(2),o=function(){function e(e){this.options=e,this.receivers=e.receivers||i.ScriptReceivers,this.loading={}}return e.prototype.load=function(e,t,n){var i=this;if(i.loading[e]&&i.loading[e].length>0)i.loading[e].push(n);else{i.loading[e]=[n];var o=r["default"].createScriptRequest(i.getPath(e,t)),a=i.receivers.create(function(t){if(i.receivers.remove(a),i.loading[e]){var n=i.loading[e];delete i.loading[e];for(var r=function(e){e||o.cleanup()},s=0;s<n.length;s++)n[s](t,r)}});o.send(a)}},e.prototype.getRoot=function(e){var t,n=r["default"].getDocument().location.protocol;return t=e&&e.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,t.replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}();t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";var i=n(8),r=n(2),o=function(e,t,n){var o,a=this;o=r["default"].createXHR(),o.open("POST",a.options.authEndpoint,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var s in this.authOptions.headers)o.setRequestHeader(s,this.authOptions.headers[s]);return o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e,t=!1;try{e=JSON.parse(o.responseText),t=!0}catch(r){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+o.responseText)}t&&n(!1,e)}else i["default"].warn("Couldn't get auth info from your webapp",o.status),n(!0,o.status)},o.send(this.composeQuery(t)),o};t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";var i=n(9),r=n(1),o={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];r["default"].log&&r["default"].log(i.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=i.stringify.apply(this,arguments),o=Function("return this")();o.console&&(o.console.warn?o.console.warn(n):o.console.log&&o.console.log(n)),r["default"].log&&r["default"].log(n)}};t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var a in o)o[a]&&o[a].constructor&&o[a].constructor===Object?e[a]=i(e[a]||{},o[a]):e[a]=o[a]}return e}function r(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(JSON.stringify(arguments[t]));return e.join(" : ")}function o(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1}function a(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function s(e){var t=[];return a(e,function(e,n){t.push(n)}),t}function l(e){var t=[];return a(e,function(e){t.push(e)}),t}function c(e,t,n){for(var i=0;i<e.length;i++)t.call(n||_,e[i],i,e)}function u(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n}function d(e,t){var n={};return a(e,function(e,i){n[i]=t(e)}),n}function h(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n}function f(e,t){var n={};return a(e,function(i,r){(t&&t(i,r,e,n)||Boolean(i))&&(n[r]=i)}),n}function p(e){var t=[];return a(e,function(e,n){t.push([n,e])}),t}function m(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function g(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}function v(e){return d(e,function(e){return"object"==typeof e&&(e=JSON.stringify(e)),encodeURIComponent(x["default"](e.toString()))})}function b(e){var t=f(e,function(e){return void 0!==e}),n=u(p(v(t)),w["default"].method("join","=")).join("&");return n}function y(e){var t=[],n=JSON.stringify(e,function(e,n){if("object"==typeof n&&null!==n){if(-1!==t.indexOf(n))return;t.push(n)}return n});return t=null,n}var x=n(10),w=n(11),_=Function("return this")();t.extend=i,t.stringify=r,t.arrayIndexOf=o,t.objectApply=a,t.keys=s,t.values=l,t.apply=c,t.map=u,t.mapObject=d,t.filter=h,t.filterObject=f,t.flatten=p,t.any=m,t.all=g,t.encodeParamsObject=v,t.buildQueryString=b,t.safeJSONStringify=y},function(e,t){"use strict";function n(e){return h(u(e))}var i=Function("return this")();t.__esModule=!0,t["default"]=n;for(var r=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={},s=0,l=o.length;l>s;s++)a[o.charAt(s)]=s;var c=function(e){var t=e.charCodeAt(0);return 128>t?e:2048>t?r(192|t>>>6)+r(128|63&t):r(224|t>>>12&15)+r(128|t>>>6&63)+r(128|63&t)},u=function(e){return e.replace(/[^\x00-\x7F]/g,c)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),i=[o.charAt(n>>>18),o.charAt(n>>>12&63),t>=2?"=":o.charAt(n>>>6&63),t>=1?"=":o.charAt(63&n)];return i.join("")},h=i.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,d)}},function(e,t,n){"use strict";var i=n(12),r={getGlobal:function(){return Function("return this")()},now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new i.OneOffTimer(0,e)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,i.concat(arguments))}}};t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function i(e){s.clearTimeout(e)}function r(e){s.clearInterval(e)}var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(13),s=Function("return this")(),l=function(e){function t(t,n){e.call(this,setTimeout,i,t,function(e){return n(),null})}return o(t,e),t}(a["default"]);t.OneOffTimer=l;var c=function(e){function t(t,n){e.call(this,setInterval,r,t,function(e){return n(),e})}return o(t,e),t}(a["default"]);t.PeriodicTimer=c},function(e,t){"use strict";var n=function(){function e(e,t,n,i){var r=this;this.clear=t,this.timer=e(function(){r.timer&&(r.timer=i(r.timer))},n)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}();t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var i=n(8),r=function(e,t,n){void 0!==this.authOptions.headers&&i["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var o=e.getDocument(),a=o.createElement("script");e.auth_callbacks[r]=function(e){n(!1,e)};var s="Pusher.auth_callbacks['"+r+"']";a.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var l=o.getElementsByTagName("head")[0]||o.documentElement;l.insertBefore(a,l.firstChild)};t.__esModule=!0,t["default"]=r},function(e,t){"use strict";var n=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){("loaded"===t.script.readyState||"complete"===t.script.readyState)&&e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}();t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var i=n(9),r=n(2),o=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=i.buildQueryString(this.data),n=this.url+"/"+e.number+"?"+t;this.request=r["default"].createScriptRequest(n),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}();t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";var i=n(2),r=n(4),o=function(e,t){return function(n,o){var a="http"+(t?"s":"")+"://",s=a+(e.host||e.options.host)+e.options.path,l=i["default"].createJSONPRequest(s,n),c=i["default"].ScriptReceivers.create(function(t,n){r.ScriptReceivers.remove(c),l.cleanup(),n&&n.host&&(e.host=n.host),o&&o(t,n)});l.send(c)}},a={name:"jsonp",getAgent:o};t.__esModule=!0,t["default"]=a},function(e,t,n){"use strict";var i=n(19),r=n(21),o=n(20),a=n(2),s=n(3),l=n(9),c=new r["default"]({file:"sockjs",urls:o.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),u={isSupported:function(e){var t=a["default"].isXDRSupported(e.encrypted);return t}},d=new r["default"](l.extend({},i.streamingConfiguration,u)),h=new r["default"](l.extend({},i.pollingConfiguration,u));i["default"].xdr_streaming=d,i["default"].xdr_polling=h,i["default"].sockjs=c,t.__esModule=!0,t["default"]=i["default"]},function(e,t,n){"use strict";var i=n(20),r=n(21),o=n(9),a=n(2),s=new r["default"]({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a["default"].getWebSocketAPI())},isSupported:function(){return Boolean(a["default"].getWebSocketAPI())},getSocket:function(e){return a["default"].createWebSocket(e)}}),l={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=o.extend({getSocket:function(e){return a["default"].HTTPFactory.createStreamingSocket(e)}},l),t.pollingConfiguration=o.extend({getSocket:function(e){return a["default"].HTTPFactory.createPollingSocket(e)}},l);var c={isSupported:function(){return a["default"].isXHRSupported()}},u=new r["default"](o.extend({},t.streamingConfiguration,c)),d=new r["default"](o.extend({},t.pollingConfiguration,c)),h={ws:s,xhr_streaming:u,xhr_polling:d};t.__esModule=!0,t["default"]=h},function(e,t,n){"use strict";function i(e,t,n){var i=e+(t.encrypted?"s":""),r=t.encrypted?t.hostEncrypted:t.hostUnencrypted;return i+"://"+r+n}function r(e,t){var n="/app/"+e,i="?protocol="+o["default"].PROTOCOL+"&client=js&version="+o["default"].VERSION+(t?"&"+t:"");return n+i}var o=n(5);t.ws={getInitial:function(e,t){return i("ws",t,r(e,"flash=false"))}},t.http={getInitial:function(e,t){var n=(t.httpPath||"/pusher")+r(e);return i("http",t,n)}},t.sockjs={getInitial:function(e,t){return i("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return r(e)}}},function(e,t,n){"use strict";var i=n(22),r=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,n,r){return new i["default"](this.hooks,e,t,n,r)},e}();t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(11),o=n(9),a=n(23),s=n(8),l=n(2),c=function(e){function t(t,n,i,r,o){e.call(this),this.initialize=l["default"].transportConnectionInitializer,this.hooks=t,this.name=n,this.priority=i,this.key=r,this.options=o,this.state="new",this.timeline=o.timeline,this.activityTimeout=o.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(n){return r["default"].defer(function(){e.onError(n),e.changeState("closed")}),!1}return this.bindListeners(),s["default"].debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},t.prototype.send=function(e){var t=this;return"open"===this.state?(r["default"].defer(function(){t.socket&&t.socket.send(e)}),!0):!1},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return o.extend({cid:this.id},e)},t}(a["default"]);t.__esModule=!0,t["default"]=c},function(e,t,n){"use strict";var i=n(24),r=Function("return this")(),o=function(){function e(e){this.callbacks=new i["default"],this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},e.prototype.bind_all=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},e.prototype.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},e.prototype.emit=function(e,t){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var i=this.callbacks.get(e);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||r,t);else this.failThrough&&this.failThrough(e,t);return this},e}();t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";function i(e){return"_"+e}var r=n(9),o=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[i(e)]},e.prototype.add=function(e,t,n){var r=i(e);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:t,context:n})},e.prototype.remove=function(e,t,n){if(!e&&!t&&!n)return void(this._callbacks={});var o=e?[i(e)]:r.keys(this._callbacks);t||n?this.removeCallback(o,t,n):this.removeAllCallbacks(o)},e.prototype.removeCallback=function(e,t,n){r.apply(e,function(e){this._callbacks[e]=r.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)},e.prototype.removeAllCallbacks=function(e){r.apply(e,function(e){delete this._callbacks[e]},this)},e}();t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),o=function(e){function t(){e.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}return i(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine},t}(r["default"]);t.NetInfo=o,t.Network=new o},function(e,t){"use strict";var n=function(e){var t;return t=e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]];
};t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function i(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),r.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()}var r=n(3);t.__esModule=!0,t["default"]=i},function(e,t,n){"use strict";var i=n(29),r=n(31);r["default"].createXDR=function(e,t){return this.createRequest(i["default"],e,t)},t.__esModule=!0,t["default"]=r["default"]},function(e,t,n){"use strict";var i=n(30),r={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new i.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t["default"]=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.BadEventName=i;var r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.RequestTimedOut=r;var o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportPriorityTooLow=o;var a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportClosed=a;var s=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedTransport=s;var l=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedStrategy=l},function(e,t,n){"use strict";var i=n(32),r=n(33),o=n(35),a=n(36),s=n(37),l={createStreamingSocket:function(e){return this.createSocket(o["default"],e)},createPollingSocket:function(e){return this.createSocket(a["default"],e)},createSocket:function(e,t){return new r["default"](e,t)},createXHR:function(e,t){return this.createRequest(s["default"],e,t)},createRequest:function(e,t,n){return new i["default"](e,t,n)}};t.__esModule=!0,t["default"]=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),o=n(23),a=262144,s=function(e){function t(t,n,i){e.call(this),this.hooks=t,this.method=n,this.url=i}return i(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},r["default"].addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(r["default"].removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>a},t}(o["default"]);t.__esModule=!0,t["default"]=s},function(e,t,n){"use strict";function i(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}function r(e,t){return e.base+"/"+t+"/xhr_send"}function o(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+h++}function a(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}function s(e){return Math.floor(Math.random()*e)}function l(e){for(var t=[],n=0;e>n;n++)t.push(s(32).toString(32));return t.join("")}var c=n(34),u=n(11),d=n(2),h=1,f=function(){function e(e,t){this.hooks=e,this.session=s(1e3)+"/"+l(8),this.location=i(t),this.readyState=c["default"].CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==c["default"].OPEN)return!1;try{return d["default"].createSocketRequest("POST",o(r(this.location,this.session))).start(e),!0}catch(t){return!1}},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,n){this.closeStream(),this.readyState=c["default"].CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})},e.prototype.onChunk=function(e){if(200===e.status){this.readyState===c["default"].OPEN&&this.onActivity();var t,n=e.data.slice(0,1);switch(n){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var i=0;i<t.length;i++)this.onEvent(t[i]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}},e.prototype.onOpen=function(e){this.readyState===c["default"].CONNECTING?(e&&e.hostname&&(this.location.base=a(this.location.base,e.hostname)),this.readyState=c["default"].OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===c["default"].OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=d["default"].createSocketRequest("POST",o(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(t){e.onChunk(t)}),this.stream.bind("finished",function(t){e.hooks.onFinished(e,t)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(t){u["default"].defer(function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();t.__esModule=!0,t["default"]=f},function(e,t){"use strict";var n;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(n||(n={})),t.__esModule=!0,t["default"]=n},function(e,t){"use strict";var n={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}};t.__esModule=!0,t["default"]=n},function(e,t){"use strict";var n={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}};t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var i=n(2),r={getRequest:function(e){var t=i["default"].getXHRAPI(),n=new t;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText),e.emit("finished",n.status),e.close()}},n},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=n(9),r=n(11),o=n(39),a=function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(i.extend({},t,{timestamp:r["default"].now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(o["default"].ERROR,e)},e.prototype.info=function(e){this.log(o["default"].INFO,e)},e.prototype.debug=function(e){this.log(o["default"].DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var n=this,r=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(r,function(e,i){e||n.sent++,t&&t(e,i)}),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}();t.__esModule=!0,t["default"]=a},function(e,t){"use strict";var n;!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(n||(n={})),t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function i(e){return function(t){return[e.apply(this,arguments),t]}}function r(e){return"string"==typeof e&&":"===e.charAt(0)}function o(e,t){return t[e.slice(1)]}function a(e,t){if(0===e.length)return[[],t];var n=c(e[0],t),i=a(e.slice(1),n[1]);return[[n[0]].concat(i[0]),i[1]]}function s(e,t){if(!r(e))return[e,t];var n=o(e,t);if(void 0===n)throw"Undefined symbol "+e;return[n,t]}function l(e,t){if(r(e[0])){var n=o(e[0],t);if(e.length>1){if("function"!=typeof n)throw"Calling non-function "+e[0];var i=[u.extend({},t)].concat(u.map(e.slice(1),function(e){return c(e,u.extend({},t))[0]}));return n.apply(this,i)}return[n,t]}return a(e,t)}function c(e,t){return"string"==typeof e?s(e,t):"object"==typeof e&&e instanceof Array&&e.length>0?l(e,t):[e,t]}var u=n(9),d=n(11),h=n(41),f=n(30),p=n(55),m=n(56),g=n(57),v=n(58),b=n(59),y=n(60),x=n(61),w=n(2),_=w["default"].Transports;t.build=function(e,t){var n=u.extend({},C,t);return c(e,n)[1].strategy};var k={isSupported:function(){return!1},connect:function(e,t){var n=d["default"].defer(function(){t(new f.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},C={extend:function(e,t,n){return[u.extend({},t,n),e]},def:function(e,t,n){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=n,[void 0,e]},def_transport:function(e,t,n,i,r,o){var a=_[n];if(!a)throw new f.UnsupportedTransport(n);var s,l=!(e.enabledTransports&&-1===u.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==u.arrayIndexOf(e.disabledTransports,t));s=l?new p["default"](t,i,o?o.getAssistant(a):a,u.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},r)):k;var c=e.def(e,t,s)[1];return c.Transports=e.Transports||{},c.Transports[t]=s,[void 0,c]},transport_manager:i(function(e,t){return new h["default"](t)}),sequential:i(function(e,t){var n=Array.prototype.slice.call(arguments,2);return new m["default"](n,t)}),cached:i(function(e,t,n){return new v["default"](n,e.Transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:i(function(e,t){return new x["default"](t)}),best_connected_ever:i(function(){var e=Array.prototype.slice.call(arguments,1);return new g["default"](e)}),delayed:i(function(e,t,n){return new b["default"](n,{delay:t})}),"if":i(function(e,t,n,i){return new y["default"](t,n,i)}),is_supported:i(function(e,t){return function(){return t.isSupported()}})}},function(e,t,n){"use strict";var i=n(42),r=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return i["default"].createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}();t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=n(43),r=n(44),o=n(47),a=n(48),s=n(49),l=n(50),c=n(51),u=n(53),d=n(54),h={createChannels:function(){return new d["default"]},createConnectionManager:function(e,t){return new u["default"](e,t)},createChannel:function(e,t){return new c["default"](e,t)},createPrivateChannel:function(e,t){return new l["default"](e,t)},createPresenceChannel:function(e,t){return new s["default"](e,t)},createTimelineSender:function(e,t){return new a["default"](e,t)},createAuthorizer:function(e,t){return new o["default"](e,t)},createHandshake:function(e,t){return new r["default"](e,t)},createAssistantToTheTransportManager:function(e,t,n){return new i["default"](e,t,n)}};t.__esModule=!0,t["default"]=h},function(e,t,n){"use strict";var i=n(11),r=n(9),o=function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,n,o){var a=this;o=r.extend({},o,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(e,t,n,o),l=null,c=function(){s.unbind("open",c),s.bind("closed",u),l=i["default"].now()},u=function(e){if(s.unbind("closed",u),1002===e.code||1003===e.code)a.manager.reportDeath();else if(!e.wasClean&&l){var t=i["default"].now()-l;t<2*a.maxPingDelay&&(a.manager.reportDeath(),a.pingDelay=Math.max(t/2,a.minPingDelay))}};return s.bind("open",c),s},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}();t.__esModule=!0,t["default"]=o},function(e,t,n){"use strict";var i=n(9),r=n(45),o=n(46),a=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){e.unbindListeners();var n;try{n=r.processHandshake(t)}catch(i){return e.finish("error",{error:i}),void e.transport.close()}"connected"===n.action?e.finish("connected",{connection:new o["default"](n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var n=r.getCloseAction(t)||"backoff",i=r.getCloseError(t);e.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(i.extend({transport:this.transport,action:e},t))},e}();t.__esModule=!0,t["default"]=a},function(e,t){"use strict";t.decodeMessage=function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(n){if(!(n instanceof SyntaxError))throw n}return t}catch(n){throw{type:"MessageParseError",error:n,data:e.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){if(e=t.decodeMessage(e),"pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"ssl_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(9),o=n(23),a=n(45),s=n(8),l=function(e){function t(t,n){e.call(this),this.id=t,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,n){var i={event:e,data:t};return n&&(i.channel=n),s["default"].debug("Event sent",i),this.send(a.encodeMessage(i))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=a.decodeMessage(t)}catch(i){e.emit("error",{type:"MessageParseError",error:i,data:t.data})}if(void 0!==n){switch(s["default"].debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){r.objectApply(t,function(t,n){e.transport.unbind(n,t)})};r.objectApply(t,function(t,n){e.transport.bind(n,t)})},t.prototype.handleCloseEvent=function(e){var t=a.getCloseAction(e),n=a.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t)},t}(o["default"]);t.__esModule=!0,t["default"]=l},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.channel=e;var n=t.authTransport;if("undefined"==typeof i["default"].getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=t,this.authOptions=(t||{}).auth||{}}return e.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return t},e.prototype.authorize=function(t,n){return e.authorizers=e.authorizers||i["default"].getAuthorizers(),e.authorizers[this.type].call(this,i["default"],t,n)},e}();t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(i["default"].TimelineTransport.getAgent(this,e),t)},e}();t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(50),o=n(8),a=n(52),s=function(e){function t(t,n){e.call(this,t,n),this.members=new a["default"]}return i(t,e),t.prototype.authorize=function(t,n){var i=this;e.prototype.authorize.call(this,t,function(e,t){if(!e){if(void 0===t.channel_data)return o["default"].warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void n("Invalid auth response");var r=JSON.parse(t.channel_data);i.members.setMyID(r.user_id)}n(e,t)})},t.prototype.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.members.onSubscription(t),this.subscribed=!0,this.emit("pusher:subscription_succeeded",this.members);break;case"pusher_internal:member_added":var n=this.members.addMember(t);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(t);i&&this.emit("pusher:member_removed",i);break;default:r["default"].prototype.handleEvent.call(this,e,t)}},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(r["default"]);t.__esModule=!0,t["default"]=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(42),o=n(51),a=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.authorize=function(e,t){var n=r["default"].createAuthorizer(this,this.pusher.config);return n.authorize(e,t)},t}(o["default"]);t.__esModule=!0,t["default"]=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),o=n(30),a=n(8),s=function(e){function t(t,n){e.call(this,function(e,n){a["default"].debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=n,this.subscribed=!1}return i(t,e),t.prototype.authorize=function(e,t){return t(!1,{})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new o.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1},t.prototype.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.prototype.subscribe=function(){var e=this;this.authorize(this.pusher.connection.socket_id,function(t,n){t?e.handleEvent("pusher:subscription_error",n):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})},t.prototype.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t}(r["default"]);t.__esModule=!0,t["default"]=s},function(e,t,n){"use strict";var i=n(9),r=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;i.objectApply(this.members,function(n,i){e(t.get(i))})},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}();t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),o=n(12),a=n(8),s=n(9),l=n(2),c=function(e){function t(t,n){var i=this;e.call(this),this.key=t,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=l["default"].getNetwork();r.bind("online",function(){i.timeline.info({netinfo:"online"}),("connecting"===i.state||"unavailable"===i.state)&&i.retryIn(0)}),r.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(t,e),t.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(e){return this.connection?this.connection.send(e):!1},t.prototype.send_event=function(e,t,n){return this.connection?this.connection.send_event(e,t,n):!1},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isEncrypted=function(){return this.encrypted},t.prototype.startConnecting=function(){var e=this,t=function(n,i){n?e.runner=e.strategy.connect(0,t):"error"===i.action?(e.emit("error",{type:"HandshakeError",error:i.error}),e.timeline.error({handshakeError:i.error})):(e.abortConnecting(),e.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,t)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var e=this.abandonConnection();e.close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new o.OneOffTimer(e||0,function(){t.disconnectInternally(),t.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new o.OneOffTimer(this.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new o.OneOffTimer(this.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new o.OneOffTimer(this.activityTimeout,function(){e.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return s.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}};return{ssl_only:t(function(){e.encrypted=!0,e.updateStrategy(),e.retryIn(0)}),refused:t(function(){e.disconnect()}),backoff:t(function(){e.retryIn(1e3)}),retry:t(function(){e.retryIn(0)})}},t.prototype.setConnection=function(e){this.connection=e;for(var t in this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var e in this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var n=this.state;if(this.state=e,n!==e){var i=e;"connected"===i&&(i+=" with new socket ID "+t.socket_id),a["default"].debug("State changed",n+" -> "+i),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(r["default"]);t.__esModule=!0,t["default"]=c},function(e,t,n){"use strict";function i(e,t){return 0===e.indexOf("private-")?o["default"].createPrivateChannel(e,t):0===e.indexOf("presence-")?o["default"].createPresenceChannel(e,t):o["default"].createChannel(e,t)}var r=n(9),o=n(42),a=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=i(e,t)),this.channels[e]},e.prototype.all=function(){return r.values(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){r.objectApply(this.channels,function(e){e.disconnect()})},e}();t.__esModule=!0,t["default"]=a},function(e,t,n){"use strict";function i(e,t){return o["default"].defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var r=n(42),o=n(11),a=n(30),s=n(9),l=function(){function e(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},e.prototype.connect=function(e,t){var n=this;if(!this.isSupported())return i(new a.UnsupportedStrategy,t);if(this.priority<e)return i(new a.TransportPriorityTooLow,t);var o=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){l.unbind("initialized",u),l.connect()},d=function(){c=r["default"].createHandshake(l,function(e){o=!0,p(),t(null,e)})},h=function(e){p(),t(e)},f=function(){p();var e;try{e=JSON.stringify(l)}catch(n){e=s.safeJSONStringify(l)}t(new a.TransportClosed(e))},p=function(){l.unbind("initialized",u),l.unbind("open",d),l.unbind("error",h),l.unbind("closed",f)};return l.bind("initialized",u),l.bind("open",d),l.bind("error",h),l.bind("closed",f),l.initialize(),{abort:function(){o||(p(),c?c.close():l.close())},forceMinPriority:function(e){o||n.priority<e&&(c?c.close():l.close())}}},e}();t.__esModule=!0,t["default"]=l},function(e,t,n){"use strict";var i=n(9),r=n(11),o=n(12),a=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return i.any(this.strategies,r["default"].method("isSupported"))},e.prototype.connect=function(e,t){var n=this,i=this.strategies,r=0,o=this.timeout,a=null,s=function(l,c){c?t(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(o&&(o=2*o,n.timeoutLimit&&(o=Math.min(o,n.timeoutLimit))),a=n.tryStrategy(i[r],e,{timeout:o,failFast:n.failFast},s)):t(!0))};return a=this.tryStrategy(i[r],e,{timeout:o,failFast:this.failFast},s),{abort:function(){a.abort()},forceMinPriority:function(t){e=t,a&&a.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,n,i){var r=null,a=null;return n.timeout>0&&(r=new o.OneOffTimer(n.timeout,function(){a.abort(),i(!0)})),a=e.connect(t,function(e,t){e&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(e,t))}),{abort:function(){r&&r.ensureAborted(),a.abort()},forceMinPriority:function(e){a.forceMinPriority(e)}}},e}();t.__esModule=!0,t["default"]=a},function(e,t,n){"use strict";function i(e,t,n){var i=a.map(e,function(e,i,r,o){return e.connect(t,n(i,o))});return{abort:function(){a.apply(i,o)},forceMinPriority:function(e){a.apply(i,function(t){t.forceMinPriority(e)})}}}function r(e){return a.all(e,function(e){return Boolean(e.error)})}function o(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}var a=n(9),s=n(11),l=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return a.any(this.strategies,s["default"].method("isSupported"))},e.prototype.connect=function(e,t){return i(this.strategies,e,function(e,n){return function(i,o){return n[e].error=i,i?void(r(n)&&t(!0)):(a.apply(n,function(e){e.forceMinPriority(o.transport.priority)}),void t(null,o))}})},e}();t.__esModule=!0,t["default"]=l},function(e,t,n){"use strict";function i(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function r(e){var t=l["default"].getLocalStorage();if(t)try{var n=t[i(e)];if(n)return JSON.parse(n)}catch(r){a(e)}return null}function o(e,t,n){var r=l["default"].getLocalStorage();if(r)try{r[i(e)]=JSON.stringify({timestamp:s["default"].now(),
transport:t,latency:n})}catch(o){}}function a(e){var t=l["default"].getLocalStorage();if(t)try{delete t[i(e)]}catch(n){}}var s=n(11),l=n(2),c=n(56),u=function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.encrypted,i=r(n),l=[this.strategy];if(i&&i.timestamp+this.ttl>=s["default"].now()){var u=this.transports[i.transport];u&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),l.push(new c["default"]([u],{timeout:2*i.latency+1e3,failFast:!0})))}var d=s["default"].now(),h=l.pop().connect(e,function f(i,r){i?(a(n),l.length>0?(d=s["default"].now(),h=l.pop().connect(e,f)):t(i)):(o(n,r.transport.name,s["default"].now()-d),t(null,r))});return{abort:function(){h.abort()},forceMinPriority:function(t){e=t,h&&h.forceMinPriority(t)}}},e}();t.__esModule=!0,t["default"]=u},function(e,t,n){"use strict";var i=n(12),r=function(){function e(e,t){var n=t.delay;this.strategy=e,this.options={delay:n}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n,r=this.strategy,o=new i.OneOffTimer(this.options.delay,function(){n=r.connect(e,t)});return{abort:function(){o.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},e}();t.__esModule=!0,t["default"]=r},function(e,t){"use strict";var n=function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}return e.prototype.isSupported=function(){var e=this.test()?this.trueBranch:this.falseBranch;return e.isSupported()},e.prototype.connect=function(e,t){var n=this.test()?this.trueBranch:this.falseBranch;return n.connect(e,t)},e}();t.__esModule=!0,t["default"]=n},function(e,t){"use strict";var n=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.strategy.connect(e,function(e,i){i&&n.abort(),t(e,i)});return n},e}();t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";var i=n(5);t.getGlobalConfig=function(){return{wsHost:i["default"].host,wsPort:i["default"].ws_port,wssPort:i["default"].wss_port,httpHost:i["default"].sockjs_host,httpPort:i["default"].sockjs_http_port,httpsPort:i["default"].sockjs_https_port,httpPath:i["default"].sockjs_path,statsHost:i["default"].stats_host,authEndpoint:i["default"].channel_auth_endpoint,authTransport:i["default"].channel_auth_transport,activity_timeout:i["default"].activity_timeout,pong_timeout:i["default"].pong_timeout,unavailable_timeout:i["default"].unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=!1,n=!1,i=0,r=2e3,o=0,a=["webkit","ms","moz","o"],s=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!s)for(var c in a){var u=a[c];s||(s=window[u+"RequestAnimationFrame"]),l||(l=window[u+"CancelAnimationFrame"]||window[u+"CancelRequestAnimationFrame"])}var d=window.MutationObserver||window.WebKitMutationObserver||!1,h={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),e=e.length?e[e.length-1].src.split("?")[0]:"";return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},f=!1,p=function(){if(f)return f;var e=document.createElement("DIV"),t=e.style,n=navigator.userAgent,i=navigator.platform,r={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};r.isopera="opera"in window,r.isopera12=r.isopera&&"getUserMedia"in navigator,r.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),r.isie="all"in document&&"attachEvent"in e&&!r.isopera,r.isieold=r.isie&&!("msInterpolationMode"in t),r.isie7=r.isie&&!r.isieold&&(!("documentMode"in document)||7==document.documentMode),r.isie8=r.isie&&"documentMode"in document&&8==document.documentMode,r.isie9=r.isie&&"performance"in window&&9<=document.documentMode,r.isie10=r.isie&&"performance"in window&&10==document.documentMode,r.isie11="msRequestFullscreen"in e&&11<=document.documentMode,r.isieedge=navigator.userAgent.match(/Edge\/12\./),r.isie9mobile=/iemobile.9/i.test(n),r.isie9mobile&&(r.isie9=!1),r.isie7mobile=!r.isie9mobile&&r.isie7&&/iemobile/i.test(n),r.ismozilla="MozAppearance"in t,r.iswebkit="WebkitAppearance"in t,r.ischrome="chrome"in window,r.ischrome22=r.ischrome&&r.haspointerlock,r.ischrome26=r.ischrome&&"transition"in t,r.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,r.hasmstouch=window.MSPointerEvent||!1,r.hasw3ctouch=(window.PointerEvent||!1)&&(0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints),r.ismac=/^mac$/i.test(i),r.isios=r.cantouch&&/iphone|ipad|ipod/i.test(i),r.isios4=r.isios&&!("seal"in Object),r.isios7=r.isios&&"webkitHidden"in document,r.isandroid=/android/i.test(n),r.haseventlistener="addEventListener"in e,r.trstyle=!1,r.hastransform=!1,r.hastranslate3d=!1,r.transitionstyle=!1,r.hastransition=!1,r.transitionend=!1,i=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(n=0;n<i.length;n++)if("undefined"!=typeof t[i[n]]){r.trstyle=i[n];break}r.hastransform=!!r.trstyle,r.hastransform&&(t[r.trstyle]="translate3d(1px,2px,3px)",r.hastranslate3d=/translate3d/.test(t[r.trstyle])),r.transitionstyle=!1,r.prefixstyle="",r.transitionend=!1;for(var i="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),o=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),a="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),n=0;n<i.length;n++)if(i[n]in t){r.transitionstyle=i[n],r.prefixstyle=o[n],r.transitionend=a[n];break}r.ischrome26&&(r.prefixstyle=o[1]),r.hastransition=r.transitionstyle;e:{for(n=["-webkit-grab","-moz-grab","grab"],(r.ischrome&&!r.ischrome22||r.isie)&&(n=[]),i=0;i<n.length;i++)if(o=n[i],t.cursor=o,t.cursor==o){t=o;break e}t="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}return r.cursorgrabvalue=t,r.hasmousecapture="setCapture"in e,r.hasMutationObserver=!1!==d,f=r},m=function(a,c){function u(){var e=y.doc.css(w.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function f(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function m(e,t,n){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=S[t]||0,n=3==e?n?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),n?e:0):e}function v(e,t,n,i){y._bind(e,t,function(i){i=i?i:window.event;var r={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(r.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX)):r.deltaY=i.detail,n.call(e,r)},i)}function b(e,t,n){var i,r;if(0==e.deltaMode?(i=-Math.floor(y.opt.mousescrollstep/54*e.deltaX),r=-Math.floor(y.opt.mousescrollstep/54*e.deltaY)):1==e.deltaMode&&(i=-Math.floor(e.deltaX*y.opt.mousescrollstep),r=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&y.opt.oneaxismousemode&&0==i&&r&&(i=r,r=0,n&&(0>i?y.getScrollLeft()>=y.page.maxw:0>=y.getScrollLeft())&&(r=i,i=0)),i&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=i,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},15)),r){if(y.opt.nativeparentscrolling&&n&&!y.ispage&&!y.zoomactive)if(0>r){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=r,y.debounced("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.6.6",this.name="nicescroll",this.me=c,this.opt={doc:e("body"),win:!1},e.extend(this.opt,h),this.opt.snapbackspeed=80,a)for(var x in y.opt)"undefined"!=typeof a[x]&&(y.opt[x]=a[x]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+r++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=p();var w=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=w.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.hasreversehr=this.isrtlmode&&!w.iswebkit,this.istouchcapable=!1,!w.cantouch||w.isios||w.isandroid||!w.iswebkit&&!w.ismozilla||(this.istouchcapable=!0,w.cantouch=!1),y.opt.enablemouselockapi||(w.hasmousecapture=!1,w.haspointerlock=!1),this.debounced=function(e,t,n){var i=y.delaylist[e];y.delaylist[e]=t,i||(y.debouncedelayed=setTimeout(function(){if(y){var t=y.delaylist[e];y.delaylist[e]=!1,t.call(y)}},n))};var _=!1;this.synched=function(e,t){return y.synclist[e]=t,function(){_||(s(function(){_=!1;for(var e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}),_=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var n in t)y.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return"undefined"==typeof e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?y.getScrollLeft():y.setScrollLeft(e)};var k=function(e,t,n,i,r,o,a){this.st=e,this.ed=t,this.spd=n,this.p1=i||0,this.p2=r||1,this.p3=o||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(k.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},w.hastranslate3d&&w.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){if(e=u())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=u())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)};var C=this.isrtlmode?1:-1;w.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(w.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*C+"px",y.doc.css(w.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(w.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*C+"px",y.doc.css(w.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){y.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){return y.detected.ismozilla&&y.isrtlmode?Math.abs(y.docscroll.scrollLeft()):y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){y.docscroll.scrollLeft(y.detected.ismozilla&&y.isrtlmode?-e:e)},1)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var S={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var e=y.win.offset(),t=y.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}return e=y.win.offset(),y.viewport?(t=y.viewport.offset(),{top:e.top-t.top,left:e.left-t.left}):e},this.updateScrollBar=function(e){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var t=y.getOffset(),n=t.top,i=t.left-(y.opt.railpadding.left+y.opt.railpadding.right),n=n+m(y.win,"border-top-width",!0),i=i+(y.rail.align?y.win.outerWidth()-m(y.win,"border-right-width")-y.rail.width:m(y.win,"border-left-width")),r=y.opt.railoffset;r&&(r.top&&(n+=r.top),r.left&&(i+=r.left)),y.railslocked||y.rail.css({top:n,left:i,height:(e?e.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:n+1,left:1==y.rail.align?i-20:i+y.rail.width+4}),y.railh&&!y.railslocked&&(n=t.top,i=t.left,(r=y.opt.railhoffset)&&(r.top&&(n+=r.top),r.left&&(i+=r.left)),e=y.railh.align?n+m(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:n+m(y.win,"border-top-width",!0),i+=m(y.win,"border-left-width"),y.railh.css({top:e-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:i,width:y.railh.width}))}},this.doRailClick=function(e,t,n){var i;y.railslocked||(y.cancelEvent(e),t?(t=n?y.doScrollLeft:y.doScrollTop,i=n?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,t(i)):(t=n?y.doScrollLeftBy:y.doScrollBy,i=n?y.scroll.x:y.scroll.y,e=n?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,n=n?y.view.w:y.view.h,t(i>=e?n:-n)))},y.hasanimationframe=s,y.hascancelanimationframe=l,y.hasanimationframe?y.hascancelanimationframe||(l=function(){y.cancelAnimationFrame=!0}):(s=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(y.saved.css=[],w.isie7mobile||w.isoperamini)return!0;if(w.hasmstouch&&y.css(y.ispage?e("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:f()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>o&&(o=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!w.cantouch&&!w.isieold&&!w.isie9mobile){var r=y.docscroll;y.ispage&&(r=y.haswrapper?y.win:y.doc),w.isie9mobile||y.css(r,{"overflow-y":"hidden"}),y.ispage&&w.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),{"overflow-y":"hidden"})),!w.isios||y.ispage||y.haswrapper||y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var a=e(document.createElement("div"));a.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),a.hborder=parseFloat(a.outerHeight()-a.innerHeight()),a.addClass("nicescroll-cursors"),y.cursor=a;var s=e(document.createElement("div"));s.attr("id",y.id),s.addClass("nicescroll-rails nicescroll-rails-vr");var l,c,u,h=["left","right","top","bottom"];for(u in h)c=h[u],(l=y.opt.railpadding[c])?s.css("padding-"+c,l+"px"):y.opt.railpadding[c]=0;s.append(a),s.width=Math.max(parseFloat(y.opt.cursorwidth),a.outerWidth()),s.css({width:s.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),s.visibility=!0,s.scrollable=!0,s.align="left"==y.opt.railalign?0:1,y.rail=s,a=y.rail.drag=!1,!y.opt.boxzoom||y.ispage||w.isieold||(a=document.createElement("div"),y.bind(a,"click",y.doZoom),y.bind(a,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(a,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=e(a),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),w.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var p;if(y.opt.horizrailenabled&&(y.css(r,{"overflow-x":"hidden"}),a=e(document.createElement("div")),a.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),w.isieold&&a.css({overflow:"hidden"}),a.wborder=parseFloat(a.outerWidth()-a.innerWidth()),a.addClass("nicescroll-cursors"),y.cursorh=a,p=e(document.createElement("div")),p.attr("id",y.id+"-hr"),p.addClass("nicescroll-rails nicescroll-rails-hr"),p.height=Math.max(parseFloat(y.opt.cursorwidth),a.outerHeight()),p.css({height:p.height+"px",zIndex:y.zindex,background:y.opt.background}),p.append(a),p.visibility=!0,p.scrollable=!0,p.align="top"==y.opt.railvalign?0:1,y.railh=p,y.railh.drag=!1),y.ispage?(s.css({position:"fixed",top:"0px",height:"100%"}),s.align?s.css({right:"0px"}):s.css({left:"0px"}),y.body.append(s),y.railh&&(p.css({position:"fixed",left:"0px",width:"100%"}),p.align?p.css({bottom:"0px"}):p.css({top:"0px"}),y.body.append(p))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),r="HTML"==y.win[0].nodeName?y.body:y.win,e(r).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4}),r.append(y.zoom)),s.css({position:"absolute",top:0}),s.align?s.css({right:0}):s.css({left:0}),r.append(s),p&&(p.css({position:"absolute",left:0,bottom:0}),p.align?p.css({bottom:0}):p.css({top:0}),r.append(p))):(y.isfixed="fixed"==y.win.css("position"),r=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),s.css({position:r}),y.zoom&&y.zoom.css({position:r}),y.updateScrollBar(),y.body.append(s),y.zoom&&y.body.append(y.zoom),y.railh&&(p.css({position:r}),y.body.append(p))),w.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),w.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),w.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode||"leave"===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),w.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&w.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),w.isie9mobile)y.scrollmom=new g(y),y.onmangotouch=function(){var e=y.getScrollTop(),t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var n=e-y.mangotouch.sy,i=t-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2)))){var r=0>n?-1:1,o=0>i?-1:1,a=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<a-y.mangotouch.tm||y.mangotouch.dry!=r||y.mangotouch.drx!=o?(y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=r,y.mangotouch.drx=o,y.mangotouch.tm=a):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-i,y.mangotouch.sy-n),y.mangotouch.tm=a,n=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t)),y.mangotouch.ly=e,y.mangotouch.lx=t,n>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},s=y.getScrollTop(),p=y.getScrollLeft(),y.mangotouch={sy:s,ly:s,dry:0,sx:p,lx:p,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(w.cantouch||y.istouchcapable||y.opt.touchbehavior||w.hasmstouch){y.scrollmom=new g(y),y.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var n;if(w.hasmstouch)for(n=t.target?t.target:!1;n;){var i=e(n).getNiceScroll();if(0<i.length&&i[0].me==y.me)break;if(0<i.length)return!1;if("DIV"==n.nodeName&&n.id==y.id)break;n=n.parentNode?n.parentNode:!1}if(y.cancelScroll(),(n=y.getTarget(t))&&/INPUT/i.test(n.nodeName)&&/range/i.test(n.type))return y.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i=e(window).width(),r=e(window).height(),r=Math.max(0,Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)-r),i=Math.max(0,Math.max(document.body.scrollWidth,document.documentElement.scrollWidth)-i);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?r>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&i>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&w.isie&&(i=y.win.position(),y.rail.drag.x+=i.left,y.rail.drag.y+=i.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(t.clientX,t.clientY),!w.cantouch&&!this.istouchcapable&&!t.pointerType){if(!n||!/INPUT|SELECT|TEXTAREA/i.test(n.nodeName))return!y.ispage&&w.hasmousecapture&&n.setCapture(),y.opt.touchbehavior?(n.onclick&&!n._onclick&&(n._onclick=n.onclick,n.onclick=function(e){return y.hasmoving?!1:void n._onclick.call(this,e)}),y.cancelEvent(t)):y.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(n).attr("type"))&&(pc={tg:n,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),w.hasmousecapture&&document.releaseCapture(),!w.cantouch))return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmouseup(e)};var m=y.opt.touchbehavior&&y.isiframe&&!w.hasmousecapture;y.ontouchmove=function(t,n){if(!y.rail.drag||t.targetTouches&&y.opt.preventmultitouchscrolling&&1<t.targetTouches.length||t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(2==y.rail.drag.pt){if(w.cantouch&&w.isios&&"undefined"==typeof t.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen){var i=t;t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY}var r,i=r=0;m&&!n&&(r=y.win.position(),i=-r.left,r=-r.top);var o=t.clientY+r;r=o-y.rail.drag.y;var a=t.clientX+i,s=a-y.rail.drag.x,l=y.rail.drag.st-r;y.ishwscroll&&y.opt.bouncescroll?0>l?l=Math.round(l/2):l>y.page.maxh&&(l=y.page.maxh+Math.round((l-y.page.maxh)/2)):(0>l&&(o=l=0),l>y.page.maxh&&(l=y.page.maxh,o=0));var c;if(y.railh&&y.railh.scrollable&&(c=y.isrtlmode?s-y.rail.drag.sl:y.rail.drag.sl-s,y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(a=c=0),c>y.page.maxw&&(c=y.page.maxw,a=0))),i=!1,y.rail.drag.dl)i=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(l=y.rail.drag.st);else{r=Math.abs(r);var s=Math.abs(s),u=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(r>u&&.3*r>=s)return y.rail.drag=!1,!0;s>u&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(s>u&&.3*s>=r)return y.rail.drag=!1,!0;r>u&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(l),y.scrollmom.update(a,o),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(l,c)):y.showCursor(l),w.isie10&&document.selection.clear())}),w.ischrome&&y.istouchcapable&&(i=!1),i)return y.cancelEvent(t)}else if(1==y.rail.drag.pt)return y.onmousemove(t)}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var n=y.getTarget(e);return!y.ispage&&w.hasmousecapture&&n.setCapture(),y.isiframe&&!w.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(e)}},y.onmouseup=function(e){return y.rail.drag?1!=y.rail.drag.pt?!0:(w.hasmousecapture&&document.releaseCapture(),y.isiframe&&!w.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(e)):void 0},y.onmousemove=function(e){if(y.rail.drag){if(1==y.rail.drag.pt){if(w.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),t=y.scrollvaluemax,y.scroll.y>t&&(y.scroll.y=t);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}}else y.checkarea=0},w.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=w.isios?!1:function(e){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(e)):!0},y.opt.grabcursorenabled&&w.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:w.cursorgrabvalue}),y.css(y.rail,{cursor:w.cursorgrabvalue}));else{var v=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,e>0&&t>e&&(e=0),e>=t&&(e-=t),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(e)},250)}}w.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):w.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!w.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){
return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),w.cantouch||y.opt.touchbehavior?(y.bind(w.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup))):(y.bind(w.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(w.isie&&y.ispage?document:y.win,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),y.ispage||w.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){t=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){t=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){n=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){n=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(i){if(y.railslocked&&0==y.page.maxh)return!0;i=i?i:window.e;var r=y.getTarget(i);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(!r.getAttribute("type")&&!r.type||!/submit|button|cancel/i.tp)||e(r).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!t||y.ispage&&!t&&!n){if(r=i.keyCode,y.railslocked&&27!=r)return y.cancelEvent(i);var o=i.ctrlKey||!1,a=i.shiftKey||!1,s=!1;switch(r){case 38:case 63233:y.doScrollBy(72),s=!0;break;case 40:case 63235:y.doScrollBy(-72),s=!0;break;case 37:case 63232:y.railh&&(o?y.doScrollLeft(0):y.doScrollLeftBy(72),s=!0);break;case 39:case 63234:y.railh&&(o?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),s=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),s=!0;break;case 36:case 63273:y.railh&&o?y.doScrollPos(0,0):y.doScrollTo(0),s=!0;break;case 35:case 63275:y.railh&&o?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),s=!0;break;case 32:y.opt.spacebarenabled&&(a?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),s=!0);break;case 27:y.zoomactive&&(y.doZoom(),s=!0)}if(s)return y.cancelEvent(i)}},y.opt.enablekeyboard&&y.bind(document,w.isopera&&!w.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(e){e.ctrlKey&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(e){e.ctrlKey||(y.wheelprevented=!1)}),y.bind(window,"blur",function(e){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),w.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),s=parseFloat(y.win.css("width"))+1;y.win.css("width",s),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)},!1!==d&&(y.observerbody=new d(function(t){return t.forEach(function(t){return"attributes"==t.type?e("body").hasClass("modal-open")&&!e.contains(e(".modal-dialog")[0],y.doc[0])?y.hide():y.show():void 0}),document.body.scrollHeight!=y.page.maxh?y.lazyResize(30):void 0}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(!1!==d?(y.observer=new d(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new d(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(y&&e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,w.isie&&!w.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),w.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&(y.bind(y.win,"keydown",y.lazyResize),y.bind(y.win,"mouseup",y.lazyResize)),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var x=function(){y.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(n){y.iframexd=!0,t=!1}if(y.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(t),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!w.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var i=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);y.doc.height(i)}y.lazyResize(30),w.isie7&&y.css(e(y.iframe.html),{"overflow-y":"hidden"}),y.css(e(y.iframe.body),{"overflow-y":"hidden"}),w.isios&&y.haswrapper&&y.css(e(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(t,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(t,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(t,w.isopera?"keypress":"keydown",y.onkeypress),(w.cantouch||y.opt.touchbehavior)&&(y.bind(t,"mousedown",y.ontouchstart),y.bind(t,"mousemove",function(e){return y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&w.cursorgrabvalue&&y.css(e(t.body),{cursor:w.cursorgrabvalue})),y.bind(t,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(t,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(t,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){x.call(y.doc[0],!1)},500),y.bind(this.doc,"load",x)}},this.showCursor=function(e,t){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),"undefined"!=typeof t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var n=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:n+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:n}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(e){y.cursortimeout||!y.rail||!y.autohidedom||y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,t,n){y.showCursor(t,n),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var n=y.page.maxh,i=y.page.maxw,r=y.view.h,o=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==n&&y.page.maxw==i&&y.view.w==o&&y.view.h==r){if(y.ispage)return y;if(n=y.win.offset(),y.lastposition&&(i=y.lastposition,i.top==n.top&&i.left==n.left))return y;y.lastposition=n}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail&&(y.rail.scrollable=!1)):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh&&(y.railh.scrollable=!1)):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh&&(y.railh.scrollable=y.opt.horizrailenabled)),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.railh||y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h/y.page.h*y.view.h)),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w/y.page.w*y.view.w)),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,y.debounced("resize",y.resize,e),y},this.jqbind=function(t,n,i){y.events.push({e:t,n:n,f:i,q:!0}),e(t).bind(n,i)},this.bind=function(e,t,n,i){var r="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in y.win?y._bind(r,"wheel",n,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(r,e,n,i||!1),"DOMMouseScroll"==e&&v(r,"MozMousePixelScroll",n,i||!1)):r.addEventListener?(w.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&y._bind(r,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,n.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,n.call(this,t))},i||!1),y._bind(r,t,n,i||!1),w.cantouch&&"mouseup"==t&&y._bind(r,"touchcancel",n,i||!1)):y._bind(r,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1===n.call(r,e)||!1===i?y.cancelEvent(e):!0})},w.haseventlistener?(this._bind=function(e,t,n,i){y.events.push({e:e,n:t,f:n,b:i,q:!1}),e.addEventListener(t,n,i||!1)},this.cancelEvent=function(e){return e?(e=e.original?e.original:e,e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):!1},this.stopPropagation=function(e){return e?(e=e.original?e.original:e,e.stopPropagation(),!1):!1},this._unbind=function(e,t,n,i){e.removeEventListener(t,n,i)}):(this._bind=function(e,t,n,i){y.events.push({e:e,n:t,f:n,b:i,q:!1}),e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},this.cancelEvent=function(e){return(e=window.event||!1)?(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1):!1},this.stopPropagation=function(e){return(e=window.event||!1)?(e.cancelBubble=!0,!1):!1},this._unbind=function(e,t,n,i){e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.debouncedelayed&&clearTimeout(y.debouncedelayed),y.doZoomOut(),y.unbindAll(),w.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),!1!==y.observerbody&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var t=0;t<y.saved.css.length;t++){var n=y.saved.css[t];n[0].css(n[1],"undefined"==typeof n[2]?"":n[2])}y.saved=!1,y.me.data("__nicescroll","");var i=e.nicescroll;i.each(function(e){if(this&&this.id===y.id){delete i[e];for(var t=++e;t<i.length;t++,e++)i[e]=i[t];i.length--,i.length&&delete i[i.length]}});for(var r in y)y[r]=null,delete y[r];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var n=e(t);if(/fixed|absolute/.test(n.css("position")))return n;var i=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=t.parentNode?t.parentNode:!1}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft(),t=y.getScrollTop();y.onscrollend.call(y,{type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}})}},this.onmousewheel=function(e){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(e):!0;var t=+new Date,n=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),n=!0),y.checkarea=t,y.nativescrollingarea?!0:((e=b(e,!1,n))&&(y.checkarea=0),e)}},this.onmousewheelhr=function(e){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,n=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),n=!0),y.checkarea=t,y.nativescrollingarea?!0:y.railslocked?y.cancelEvent(e):b(e,!0,n)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){return e=Math.min(Math.round(10*y.opt.scrollspeed),Math.round(e/20*y.opt.scrollspeed)),e>20?e:0},y.opt.smoothscroll?y.ishwscroll&&w.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(e,t){var n=t?e>20?e:0:y.getTransitionSpeed(e),i=n?w.prefixstyle+"transform "+n+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==i||(y.lasttransitionstyle=i,y.doc.css(w.transitionstyle,i)),n},this.doScrollLeft=function(e,t){var n=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=y.getScrollTop(),r=y.getScrollLeft();return(0>(y.newscrolly-i)*(t-i)||0>(y.newscrollx-r)*(e-r))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),y.scrollrunning&&e==y.newscrollx&&t==y.newscrolly?!1:(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=n||!1,y.timer?!1:void(y.timer=setTimeout(function(){var n=y.getScrollTop(),i=y.getScrollLeft(),r=Math.round(Math.sqrt(Math.pow(e-i,2)+Math.pow(t-n,2))),r=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(r);y.newscrollspeed&&1>=y.newscrollspeed&&(r*=y.newscrollspeed),y.prepareTransition(r,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),r>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:i,y:n},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:r}),w.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,w.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,r)),y.timerscroll={bz:new k(n,y.newscrolly,r,0,0,.58,1),bh:new k(i,y.newscrollx,r,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,w.transitionend||clearTimeout(w.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],w.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],w.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var n=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function i(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,d=1-d)return y.timer=s(i)||1;var e,t,n=0,r=t=y.getScrollTop();y.dst.ay?(r=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,e=r-t,(0>e&&r<y.newscrolly||e>0&&r>y.newscrolly)&&(r=y.newscrolly),y.setScrollTop(r),r==y.newscrolly&&(n=1)):n=1,t=e=y.getScrollLeft(),y.dst.ax?(t=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,e=t-e,(0>e&&t<y.newscrollx||e>0&&t>y.newscrollx)&&(t=y.newscrollx),y.setScrollLeft(t),t==y.newscrollx&&(n+=1)):n+=1,2==n?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>r?r=0:r>y.page.maxh&&(r=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),t!=y.newscrollx||r!=y.newscrolly?y.doScrollPos(t,r):y.onscrollend&&y.triggerScrollEnd()):y.timer=s(i)||1}if(t="undefined"==typeof t||!1===t?y.getScrollTop(!0):t,y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&l(y.timer),y.timer=0;var r=y.getScrollTop(),o=y.getScrollLeft();(0>(y.newscrolly-r)*(t-r)||0>(y.newscrollx-o)*(e-o))&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-o,y.dst.y=t-r,y.dst.px=o,y.dst.py=r;var a=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/a,y.dst.ay=y.dst.y/a;var c=0,u=a;if(0==y.dst.x?(c=r,u=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(c=o,u=e,y.dst.ax=1,y.dst.px=0),a=y.getTransitionSpeed(a),n&&1>=n&&(a*=n),y.bzscroll=a>0?y.bzscroll?y.bzscroll.update(u,a):new k(c,u,a,0,1,0,1):!1,!y.timer){(r==y.page.maxh&&t>=y.page.maxh||o==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var d=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:o,y:r},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:a}),i(),(r==y.page.maxh&&t>=r||o==y.page.maxw&&e>=o)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&l(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var n=y.getScrollTop();y.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=y.getScrollLeft();y.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var i=e>y.page.maxw?y.page.maxw:e;0>i&&(i=0);var r=t>y.page.maxh?y.page.maxh:t;0>r&&(r=0),y.synched("scroll",function(){y.setScrollTop(r),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.h/2);-i>n?n=-i:n>y.page.maxh+i&&(n=y.page.maxh+i)}return y.cursorfreezed=!1,i=y.getScrollTop(!0),0>n&&0>=i?y.noticeCursor():n>y.page.maxh&&i>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(n)},this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.w/2);-i>n?n=-i:n>y.page.maxw+i&&(n=y.page.maxw+i)}return y.cursorfreezed=!1,i=y.getScrollLeft(!0),0>n&&0>=i||n>y.page.maxw&&i>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(n)},this.doScrollTo=function(e,t){y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();e.h==y.page.h&&e.w==y.page.w||y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(t){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var n,i="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),r=y.win[0].style;for(n in i){var a=i[n];y.zoomrestore.style[a]="undefined"!=typeof r[a]?r[a]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},w.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:w.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"}),i=y.win.css("backgroundColor"),(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":o+101}),y.zoom.css({"z-index":o+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(t)}},this.doZoomOut=function(t){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),w.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(t)):void 0},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var t=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,t))}},this.init(),e.nicescroll.push(this)},g=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,n){t.stop();var i=t.time();t.steptime=0,t.lasttime=i,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var i=t.time();t.steptime=i-t.lasttime,t.lasttime=i;var i=n-t.lasty,r=e-t.lastx,o=t.nc.getScrollTop(),a=t.nc.getScrollLeft(),o=o+i,a=a+r;t.snapx=0>a||a>t.nc.page.maxw,t.snapy=0>o||o>t.nc.page.maxh,t.speedx=r,t.speedy=i,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var i=!1;0>n?(n=0,i=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i?t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var n=t.time(),i=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var r=t.nc.getScrollTop(),o=t.nc.page.maxh,a=t.nc.page.maxw;if(t.speedx=a>0?Math.min(60,t.speedx):0,t.speedy=o>0?Math.min(60,t.speedy):0,i=i&&60>=n-i,(0>r||r>o||0>e||e>a)&&(i=!1),e=t.speedx&&i?t.speedx:!1,t.speedy&&i&&t.speedy||e){var s=Math.max(16,t.steptime);s>50&&(e=s/50,t.speedx*=e,t.speedy*=e,s=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var l=t.lastscrollx,c=t.lastscrolly,u=function(){var e=600<t.time()-n?.04:.02;t.speedx&&(l=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=l,0>l||l>a)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>o)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=l,t.nc.setScrollLeft(l)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(l,c))}),1>t.demulxy?t.timer=setTimeout(u,s):(t.stop(),t.nc.hideCursor(),t.doSnapy(l,c))};u()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},v=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n,i){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():v.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(n)):v.call(t,n),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollTop():v.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):v.call(e(this),t)})};var b=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n,i){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():b.call(t)},set:function(t,n){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(n)):b.call(t,n),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollLeft():b.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):b.call(e(this),t)})};var y=function(t){var n=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0,i=0;t<n.length;t++)e.call(n[t],i++);return n},this.push=function(e){n[n.length]=e,n.length++},this.eq=function(e){return n[e]},t)for(var i=0;i<t.length;i++){var r=e.data(t[i],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,t,n){for(var i=0;i<t.length;i++)n(e,t[i])}(y.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new y(this):this[t]&&e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}}),e.fn.niceScroll=function(t,n){"undefined"!=typeof n||"object"!=typeof t||"jquery"in t||(n=t,t=!1),n=e.extend({},n);var i=new y;"undefined"==typeof n&&(n={}),t&&(n.doc=e(t),n.win=e(this));var r=!("doc"in n);return r||"win"in n||(n.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=r?e(this):n.doc,t=new m(n,e(this)),e(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new y,e.nicescroll.options=h)}),function(e){e.fn.columntoggle=function(t){var n=e.extend({toggleContainerClass:"columntoggle-container",toggleTarget:"columntoggle-target",dropdownHeader:"\u1ea8n / Hi\u1ec7n c\u1ed9t d\u1eef li\u1ec7u",keyPrefix:"columntoggle-",key:"",isSmallScreen:!1},t);0==n.key.length&&(n.key=window.location.href);var i={checkStatus:function(t,i){e(t).find("."+n.toggleContainerClass+" a").each(function(){var t=e(this).attr("data-columnindex");e.inArray(t+"",i)>=0?e(this).addClass("inactive"):e(this).removeClass("inactive")})}},r={init:function(e){var t=localStorage.getItem(n.keyPrefix+n.key);null==t&&localStorage.setItem(n.keyPrefix+n.key,e.join(","))},save:function(t){var r=[],o=e(t).attr("id");e("#"+o+" > thead > tr > th").each(function(t){var n=t+1;e(this).is(":visible")===!1&&r.push(n+"")}),localStorage.setItem(n.keyPrefix+n.key,r.join(",")),i.checkStatus(t,r)},load:function(t){if(n.key.length>0){var r=localStorage.getItem(n.keyPrefix+n.key);
if(null!==r&&r.length>0){var o=r.split(",");if(o.length>0){var a=e(t).attr("id"),s=-1;e("#"+a+" > thead > tr > th").each(function(t){e(this).hasClass("columntoggle-target")&&(s=t+1)}),e.each(o,function(t,n){n!=s&&e("#"+a+" > tbody > tr:not(.row-expand) > td:nth-child("+n+"):not(.row-expand), #"+a+" > thead > tr > th:nth-child("+n+")").hide()}),i.checkStatus(t,o)}}}}};return this.each(function(){var t=this,i=e(this).attr("id");("undefined"==typeof i||0==i.length)&&(i=(new Date).getTime(),e(this).attr("id",i)),e(this).find("."+n.toggleContainerClass).length&&e(this).find("."+n.toggleContainerClass).remove();var o=e(this),a=[],s=[],l=e("#"+i+" > thead > tr > th").length;e("#"+i+" > thead > tr > th").each(function(t){if(l-1>t){var i=t+1,r="",o=e(this).attr("data-columntoggle");r="undefined"!=typeof o&&o!==!1?o:e(this).text();var c=e(this).attr("data-columntoggledisabled");("undefined"==typeof c||"1"!==c)&&a.push('<a class="item" href="#" data-columnindex="'+i+'"><i class="icon tc-eye"></i> '+r+"</a>");var u=e(this).attr("data-columntogglehideonsmall");"undefined"!=typeof u&&u!==!1&&"1"==u&&n.isSmallScreen&&s.push(i);var d=e(this).attr("data-columntogglehide");"undefined"!=typeof d&&d!==!1&&"1"==d&&s.push(i)}}),s.length>0&&r.init(s);var c='<div class="'+n.toggleContainerClass+' ui top right pointing mini dropdown" style="margin-right:0.5em;">';c+='<i class="icon gear tc-gear"></i><i class="dropdown icon"></i><div class="menu"><div class="header">'+n.dropdownHeader+'<span class="close" style="float:right;cursor:pointer;" title="Close"><i class="icon tc-cross"></i></span></div><div class="divider"></div>',c+=a.join(""),c+="</div>",e(this).find("."+n.toggleTarget).append(c),e(this).find("."+n.toggleContainerClass).dropdown({action:"nothing"}),e(this).find("."+n.toggleContainerClass+" .close").fastClick(function(i){i.preventDefault(),e(t).find("."+n.toggleContainerClass).dropdown("hide")}),e(this).find("."+n.toggleContainerClass+" a").each(function(){e(this).bind("click",function(t){var n=e(this).attr("data-columnindex");e("#"+i+" > tbody > tr:not(.row-expand) > td:nth-child("+n+"), #"+i+" > thead > tr > th:nth-child("+n+")").toggle(),r.save(o),t.preventDefault()})}),r.load(o)})}}(jQuery),function(e){var t={init:function(n){return this.each(function(){var r=e(this);r.data("uploadifive",{inputs:{},inputCount:0,fileID:0,queue:{count:0,selected:0,replaced:0,errors:0,queued:0,cancelled:0},uploads:{current:0,attempts:0,successful:0,errors:0,count:0}});var o=r.data("uploadifive"),a=o.settings=e.extend({auto:!0,buttonClass:!1,buttonText:"Select Files",checkScript:!1,dnd:!0,dropTarget:!1,fileObjName:"Filedata",fileSizeLimit:0,fileType:!1,formData:{},height:30,itemTemplate:!1,method:"post",multi:!0,overrideEvents:[],queueID:!1,queueSizeLimit:0,removeCompleted:!1,simUploadLimit:0,truncateLength:0,uploadLimit:0,uploadScript:"uploadifive.php",width:100},n);if(isNaN(a.fileSizeLimit)){var s=1.024*parseInt(a.fileSizeLimit);a.fileSizeLimit.indexOf("KB")>-1?a.fileSizeLimit=1e3*s:a.fileSizeLimit.indexOf("MB")>-1?a.fileSizeLimit=1e6*s:a.fileSizeLimit.indexOf("GB")>-1&&(a.fileSizeLimit=1e9*s)}else a.fileSizeLimit=1024*a.fileSizeLimit;if(o.inputTemplate=e('<input type="file">').css({"font-size":a.height+"px",opacity:0,position:"absolute",right:"-3px",top:"-3px","z-index":0}),o.createInput=function(){var n=o.inputTemplate.clone(),i=n.name="input"+o.inputCount++;a.multi&&n.attr("multiple",!0),n.bind("change",function(){o.queue.selected=0,o.queue.replaced=0,o.queue.errors=0,o.queue.queued=0;var n=this.files.length;if(o.queue.selected=n,o.queue.count+n>a.queueSizeLimit&&0!==a.queueSizeLimit)e.inArray("onError",a.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+a.queueSizeLimit+").  Please select fewer files."),"function"==typeof a.onError&&a.onError.call(r,"QUEUE_LIMIT_EXCEEDED");else{for(var s=0;n>s;s++)file=this.files[s],o.addQueueItem(file);o.inputs[i]=this,o.createInput()}a.auto&&t.upload.call(r),"function"==typeof a.onSelect&&a.onSelect.call(r,o.queue)}),o.currentInput&&o.currentInput.hide(),o.button.append(n),o.currentInput=n},o.destroyInput=function(t){e(o.inputs[t]).remove(),delete o.inputs[t],o.inputCount--},o.drop=function(n){o.queue.selected=0,o.queue.replaced=0,o.queue.errors=0,o.queue.queued=0;var i=n.dataTransfer,s=i.name="input"+o.inputCount++,l=i.files.length;if(o.queue.selected=l,o.queue.count+l>a.queueSizeLimit&&0!==a.queueSizeLimit)e.inArray("onError",a.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+a.queueSizeLimit+").  Please select fewer files."),"function"==typeof a.onError&&a.onError.call(r,"QUEUE_LIMIT_EXCEEDED");else{for(var c=0;l>c;c++)file=i.files[c],o.addQueueItem(file);o.inputs[s]=i}a.auto&&t.upload.call(r),"function"==typeof a.onDrop&&a.onDrop.call(r,i.files,i.files.length),n.preventDefault(),n.stopPropagation()},o.fileExistsInQueue=function(e){for(var t in o.inputs){input=o.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)if(existingFile=input.files[n],existingFile.name==e.name&&!existingFile.complete)return!0}return!1},o.removeExistingFile=function(e){for(var n in o.inputs){input=o.inputs[n],limit=input.files.length;for(var i=0;i<limit;i++)existingFile=input.files[i],existingFile.name!=e.name||existingFile.complete||(o.queue.replaced++,t.cancel.call(r,existingFile,!0))}},0==a.itemTemplate?o.queueItem=e('<div class="uploadifive-queue-item">                        <a class="close" href="#">X</a>                        <div><span class="filename"></span><span class="fileinfo"></span></div>                        <div class="progress">                            <div class="progress-bar"></div>                        </div>                    </div>'):o.queueItem=e(a.itemTemplate),o.addQueueItem=function(n){if(e.inArray("onAddQueueItem",a.overrideEvents)<0){o.removeExistingFile(n),n.queueItem=o.queueItem.clone(),n.queueItem.attr("id",a.id+"-file-"+o.fileID++),n.queueItem.find(".close").bind("click",function(){return t.cancel.call(r,n),!1});var i=n.name;i.length>a.truncateLength&&0!=a.truncateLength&&(i=i.substring(0,a.truncateLength)+"..."),n.queueItem.find(".filename").html(i),n.queueItem.data("file",n),o.queueEl.append(n.queueItem)}if("function"==typeof a.onAddQueueItem&&a.onAddQueueItem.call(r,n),a.fileType)if(e.isArray(a.fileType)){for(var s=!1,l=0;l<a.fileType.length;l++)n.type.indexOf(a.fileType[l])>-1&&(s=!0);s||o.error("FORBIDDEN_FILE_TYPE",n)}else n.type.indexOf(a.fileType)<0&&o.error("FORBIDDEN_FILE_TYPE",n);n.size>a.fileSizeLimit&&0!=a.fileSizeLimit?o.error("FILE_SIZE_LIMIT_EXCEEDED",n):(o.queue.queued++,o.queue.count++)},o.removeQueueItem=function(t,n,i){i||(i=0);var r=n?0:500;t.queueItem&&(" - Completed"!=t.queueItem.find(".fileinfo").html()&&t.queueItem.find(".fileinfo").html(" - Cancelled"),t.queueItem.find(".progress-bar").width(0),t.queueItem.delay(i).fadeOut(r,function(){e(this).remove()}),delete t.queueItem,o.queue.count--)},o.filesToUpload=function(){var e=0;for(var t in o.inputs){input=o.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)file=input.files[n],file.skip||file.complete||e++}return e},o.checkExists=function(n){if(e.inArray("onCheck",a.overrideEvents)<0){e.ajaxSetup({async:!1});var i=e.extend(a.formData,{filename:n.name});if(e.post(a.checkScript,i,function(e){n.exists=parseInt(e)}),n.exists&&!confirm("A file named "+n.name+" already exists in the upload folder.\nWould you like to replace it?"))return t.cancel.call(r,n),!0}return"function"==typeof a.onCheck&&a.onCheck.call(r,n,n.exists),!1},o.uploadFile=function(t,n){if(!t.skip&&!t.complete&&!t.uploading)if(t.uploading=!0,o.uploads.current++,o.uploads.attempted++,xhr=t.xhr=new XMLHttpRequest,"function"==typeof FormData||"object"==typeof FormData){var s=new FormData;s.append(a.fileObjName,t);for(i in a.formData)s.append(i,a.formData[i]);xhr.open(a.method,a.uploadScript,!0),xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&o.progress(e,t)},!1),xhr.addEventListener("load",function(e){4==this.readyState&&(t.uploading=!1,200==this.status?"Invalid file type."!==t.xhr.responseText?o.uploadComplete(e,t,n):o.error(t.xhr.responseText,t,n):404==this.status?o.error("404_FILE_NOT_FOUND",t,n):403==this.status?o.error("403_FORBIDDEN",t,uplaodAll):o.error("Unknown Error",t,n))}),xhr.send(s)}else{var l=new FileReader;l.onload=function(i){var s="-------------------------"+(new Date).getTime(),l="--",c="\r\n",u="";u+=l+s+c,u+='Content-Disposition: form-data; name="'+a.fileObjName+'"',t.name&&(u+='; filename="'+t.name+'"'),u+=c,u+="Content-Type: application/octet-stream"+c+c,u+=i.target.result+c;for(key in a.formData)u+=l+s+c,u+='Content-Disposition: form-data; name="'+key+'"'+c+c,u+=a.formData[key]+c;u+=l+s+l+c,xhr.upload.addEventListener("progress",function(e){o.progress(e,t)},!1),xhr.addEventListener("load",function(e){t.uploading=!1;var i=this.status;404==i?o.error("404_FILE_NOT_FOUND",t,n):"Invalid file type."!=t.xhr.responseText?o.uploadComplete(e,t,n):o.error(t.xhr.responseText,t,n)},!1);var d=a.uploadScript;if("get"==a.method){var h=e(a.formData).param();d+=h}xhr.open(a.method,a.uploadScript,!0),xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+s),"function"==typeof a.onUploadFile&&a.onUploadFile.call(r,t),xhr.sendAsBinary(u)},l.readAsBinaryString(t)}},o.progress=function(t,n){if(e.inArray("onProgress",a.overrideEvents)<0){if(t.lengthComputable)var i=Math.round(t.loaded/t.total*100);n.queueItem.find(".fileinfo").html(" - "+i+"%"),n.queueItem.find(".progress-bar").css("width",i+"%")}"function"==typeof a.onProgress&&a.onProgress.call(r,n,t)},o.error=function(n,i,s){if(e.inArray("onError",a.overrideEvents)<0){switch(n){case"404_FILE_NOT_FOUND":errorMsg="404 Error";break;case"403_FORBIDDEN":errorMsg="403 Forbidden";break;case"FORBIDDEN_FILE_TYPE":errorMsg="Forbidden File Type";break;case"FILE_SIZE_LIMIT_EXCEEDED":errorMsg="File Too Large";break;default:errorMsg="Unknown Error"}i.queueItem.addClass("error").find(".fileinfo").html(" - "+errorMsg),i.queueItem.find(".progress").remove()}"function"==typeof a.onError&&a.onError.call(r,n,i),i.skip=!0,"404_FILE_NOT_FOUND"==n?o.uploads.errors++:o.queue.errors++,s&&t.upload.call(r,null,!0)},o.uploadComplete=function(n,i,s){e.inArray("onUploadComplete",a.overrideEvents)<0&&(i.queueItem.find(".progress-bar").css("width","100%"),i.queueItem.find(".fileinfo").html(" - Completed"),i.queueItem.find(".progress").slideUp(250),i.queueItem.addClass("complete")),"function"==typeof a.onUploadComplete&&a.onUploadComplete.call(r,i,i.xhr.responseText),a.removeCompleted&&setTimeout(function(){t.cancel.call(r,i)},3e3),i.complete=!0,o.uploads.successful++,o.uploads.count++,o.uploads.current--,delete i.xhr,s&&t.upload.call(r,null,!0)},o.queueComplete=function(){"function"==typeof a.onQueueComplete&&a.onQueueComplete.call(r,o.uploads)},!(window.File&&window.FileList&&window.Blob&&(window.FileReader||window.FormData)))return"function"==typeof a.onFallback&&a.onFallback.call(r),!1;if(a.id="uploadifive-"+r.attr("id"),o.button=e('<div id="'+a.id+'" class="uploadifive-button">'+a.buttonText+"</div>"),a.buttonClass&&o.button.addClass(a.buttonClass),o.button.css({height:a.height,"line-height":a.height+"px",overflow:"hidden",position:"relative","text-align":"center",width:a.width}),r.before(o.button).appendTo(o.button).hide(),o.createInput.call(r),a.queueID?o.queueEl=e("#"+a.queueID):(a.queueID=a.id+"-queue",o.queueEl=e('<div id="'+a.queueID+'" class="uploadifive-queue" />'),o.button.after(o.queueEl)),a.dnd){var l=a.dropTarget?e(a.dropTarget):o.queueEl.get(0);l.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),l.addEventListener("drop",o.drop,!1)}XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){function t(e){return 255&e.charCodeAt(0)}var n=Array.prototype.map.call(e,t),i=new Uint8Array(n);this.send(i.buffer)}),"function"==typeof a.onInit&&a.onInit.call(r)})},debug:function(){return this.each(function(){console.log(e(this).data("uploadifive"))})},clearQueue:function(){this.each(function(){var n=e(this),r=n.data("uploadifive"),o=r.settings;for(var a in r.inputs)for(input=r.inputs[a],limit=input.files.length,i=0;i<limit;i++)file=input.files[i],t.cancel.call(n,file);"function"==typeof o.onClearQueue&&o.onClearQueue.call(n,e("#"+r.settings.queueID))})},cancel:function(n,i){this.each(function(){var r=e(this),o=r.data("uploadifive"),a=o.settings;"string"==typeof n&&(isNaN(n)||(fileID="uploadifive-"+e(this).attr("id")+"-file-"+n),n=e("#"+fileID).data("file")),n.skip=!0,o.filesCancelled++,n.uploading&&(o.uploads.current--,n.uploading=!1,n.xhr.abort(),delete n.xhr,t.upload.call(r)),e.inArray("onCancel",a.overrideEvents)<0&&o.removeQueueItem(n,i),"function"==typeof a.onCancel&&a.onCancel.call(r,n)})},upload:function(t,n){this.each(function(){var i=e(this),r=i.data("uploadifive"),o=r.settings;if(t)r.uploadFile.call(i,t);else if(r.uploads.count+r.uploads.current<o.uploadLimit||0==o.uploadLimit){if(!n){r.uploads.attempted=0,r.uploads.successsful=0,r.uploads.errors=0;var a=r.filesToUpload();"function"==typeof o.onUpload&&o.onUpload.call(i,a)}e("#"+o.queueID).find(".uploadifive-queue-item").not(".error, .complete").each(function(){return _file=e(this).data("file"),r.uploads.current>=o.simUploadLimit&&0!==o.simUploadLimit||r.uploads.current>=o.uploadLimit&&0!==o.uploadLimit||r.uploads.count>=o.uploadLimit&&0!==o.uploadLimit?!1:void(o.checkScript?(_file.checking=!0,skipFile=r.checkExists(_file),_file.checking=!1,skipFile||r.uploadFile(_file,!0)):r.uploadFile(_file,!0))}),0==e("#"+o.queueID).find(".uploadifive-queue-item").not(".error, .complete").size()&&r.queueComplete()}else 0==r.uploads.current&&(e.inArray("onError",o.overrideEvents)<0&&r.filesToUpload()>0&&0!=o.uploadLimit,"function"==typeof o.onError&&o.onError.call(i,"UPLOAD_LIMIT_EXCEEDED",r.filesToUpload()))})},destroy:function(){this.each(function(){var n=e(this),i=n.data("uploadifive"),r=i.settings;t.clearQueue.call(n),r.queueID||e("#"+r.queueID).remove(),n.siblings("input").remove(),n.show().insertBefore(i.button),i.button.remove(),"function"==typeof r.onDestroy&&r.onDestroy.call(n)})}};e.fn.uploadifive=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("The method "+n+" does not exist in $.uploadify"):t.init.apply(this,arguments)}}(jQuery),function(e){var t={},n=function(e){for(var t=0;t<e.length;t++)if(!(e[t]instanceof Array))throw new Error("Every argument must be an array!")};t.distinct=function(t){if(1!=arguments.length)throw new Error("There must be exactly 1 array argument!");n(arguments);for(var i=[],r=0;r<t.length;r++){var o=t[r];-1===e.inArray(o,i)&&i.push(o)}return i},t.union=function(){if(arguments.length<2)throw new Error("There must be minimum 2 array arguments!");n(arguments);for(var t=this.distinct(arguments[0]),i=1;i<arguments.length;i++)for(var r=arguments[i],o=0;o<r.length;o++){var a=r[o];-1===e.inArray(a,t)&&t.push(a)}return t},t.intersect=function(){if(arguments.length<2)throw new Error("There must be minimum 2 array arguments!");n(arguments);var t=[],i=this.distinct(arguments[0]);if(0===i.length)return[];for(var r=0;r<i.length;r++){for(var o=i[r],a=!0,s=1;s<arguments.length;s++){var l=arguments[s];if(0==l.length)return[];if(-1===e.inArray(o,l)){a=!1;break}}a&&t.push(o)}return t},t.except=function(){if(arguments.length<2)throw new Error("There must be minimum 2 array arguments!");n(arguments);for(var t=[],i=this.distinct(arguments[0]),r=[],o=1;o<arguments.length;o++){var a=arguments[o];r=r.concat(a)}for(var o=0;o<i.length;o++){var s=i[o];-1===e.inArray(s,r)&&t.push(s)}return t},e.arrayUtilities=t,e.distinct=t.distinct,e.union=t.union,e.intersect=t.intersect,e.except=t.except}(jQuery),!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.echarts=t()}(this,function(){var e,t;!function(){function n(e,t){if(!t)return e;if(0===e.indexOf(".")){var n=t.split("/"),i=e.split("/"),r=n.length-1,o=i.length,a=0,s=0;e:for(var l=0;o>l;l++)switch(i[l]){case"..":if(!(r>a))break e;a++,s++;break;case".":s++;break;default:break e}return n.length=r-a,i=i.slice(s),n.concat(i).join("/")}return e}function i(e){function t(t,a){if("string"==typeof t){var s=i[t];return s||(s=o(n(t,e)),i[t]=s),s}t instanceof Array&&(a=a||function(){},a.apply(this,r(t,a,e)))}var i={};return t}function r(t,i,r){for(var s=[],l=a[r],c=0,u=Math.min(t.length,i.length);u>c;c++){var d,h=n(t[c],r);switch(h){case"require":d=l&&l.require||e;break;case"exports":d=l.exports;break;case"module":d=l;break;default:d=o(h)}s.push(d)}return s}function o(e){var t=a[e];if(!t)throw new Error("No "+e);if(!t.defined){var n=t.factory,i=n.apply(this,r(t.deps||[],n,e));"undefined"!=typeof i&&(t.exports=i),t.defined=1}return t.exports}var a={};t=function(e,t,n){a[e]={id:e,deps:t,factory:n,defined:0,exports:{},require:i(e)}},e=i("")}();var n="radius",i="../../echarts",r="../../util/graphic",o="dimensions",a="ordinal",s="category",l="undefined",c="parsePercent",u="getItemModel",d="../core/util",h="getContext",f="animation",p="inside",m="stroke",g="applyTransform",v="getItemGraphicEl",b="normal",y="getItemVisual",x="getName",w="ecModel",_="concat",k="getExtent",C="getTicks",S="option",T="contain",D="_extent",A="opacity",E="position",M="center",P="middle",N="getBoundingRect",R="getTextColor",I="getFont",O="textAlign",L="textStyle",j="coordinateSystem",z="removeAll",B="inherits",F="number",H="function",q="indexOf",W="isArray",V="replace",U="zlevel",Y="seriesIndex",$="dataIndex",X="target",G="mouseout",Z="mouseover",K="getData",Q="splice",J="length",ee="defaults",te="extend",ne="remove",ie="isObject",re="update",oe="create",ae="height",se="bottom",le="ignore",ce="getHeight",ue="getWidth",de="getModel",he="string",fe="prototype",pe="toLowerCase",me="zrender/core/util",ge="require";t("echarts/echarts",[ge,"./model/Global","./ExtensionAPI","./CoordinateSystem","./model/OptionManager","./model/Component","./model/Series","./view/Component","./view/Chart","./util/graphic","zrender",me,"zrender/tool/color","zrender/core/env","zrender/mixin/Eventful","./loading/default","./visual/seriesColor","./preprocessor/backwardCompat","./util/number","./util/format","zrender/core/matrix","zrender/core/vector"],function(e){function t(e){return function(t,n,i){t=t&&t[pe](),D[fe][e].call(this,t,n,i)}}function n(){D.call(this)}function i(e,t,i){i=i||{},typeof t===he&&(t=be[t]),t&&A(ge,function(e){e(t)}),this.id,this.group,this._dom=e,this._zr=k.init(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio}),this._theme=C.clone(t),this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._api=new m(this),this._coordSysMgr=new g,D.call(this),this._messageCenter=new n,this._initEvents(),this.resize=C.bind(this.resize,this)}function r(e,t){var n=this._model;n&&n.eachComponent({mainType:"series",query:t},function(i){var r=this._chartsMap[i.__viewId];r&&r.__alive&&r[e](i,n,this._api,t)},this)}function o(e,t,n){var i=this._api;A(this._componentsViews,function(r){var o=r.__model;r[e](o,t,i,n),h(o,r)},this),t.eachSeries(function(r){var o=this._chartsMap[r.__viewId];o[e](r,t,i,n),h(r,o)},this)}function a(e,t){for(var n="component"===e,i=n?this._componentsViews:this._chartsViews,r=n?this._componentsMap:this._chartsMap,o=this._zr,a=0;a<i[J];a++)i[a].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,a){if(n){if("series"===e)return}else a=e;var s=a.id+"_"+a.type,l=r[s];if(!l){var c=b.parseClassType(a.type),u=n?x.getClass(c.main,c.sub):w.getClass(c.sub);if(!u)return;l=new u,l.init(t,this._api),r[s]=l,i.push(l),o.add(l.group)}a.__viewId=s,l.__alive=!0,l.__id=s,l.__model=a},this);for(var a=0;a<i[J];){var s=i[a];s.__alive?a++:(o[ne](s.group),s.dispose(t,this._api),i[Q](a,1),delete r[s.__id])}}function s(e,t){A(M,function(n){A(z[n]||[],function(n){n(e,t)})})}function l(e){var t={};e.eachSeries(function(e){var n=e.get("stack"),i=e[K]();if(n&&"list"===i.type){var r=t[n];r&&(i.stackedOn=r),t[n]=i}})}function c(e,t){var n=this._api;A(j,function(i){i(e,n,t)})}function u(e,t){A(E,function(n){A(ve[n]||[],function(n){n(e,t)})})}function d(e,t){var n=this._api;A(this._componentsViews,function(i){var r=i.__model;i.render(r,e,n,t),h(r,i)},this),A(this._chartsViews,function(e){e.__alive=!1},this),e.eachSeries(function(i){var r=this._chartsMap[i.__viewId];r.__alive=!0,r.render(i,e,n,t),r.group.silent=!!i.get("silent"),h(i,r)},this),A(this._chartsViews,function(t){t.__alive||t[ne](e,n)},this)}function h(e,t){var n=e.get("z"),i=e.get(U);t.group.traverse(function(e){null!=n&&(e.z=n),null!=i&&(e[U]=i)})}function f(e){function t(e,t){for(var n=0;n<e[J];n++){var i=e[n];i[o]=t}}var n=0,i=1,r=2,o="__connectUpdateStatus";C.each(L,function(a,s){e._messageCenter.on(s,function(a){if(xe[e.group]&&e[o]!==n){var s=e.makeActionFromEvent(a),l=[];for(var c in ye){var u=ye[c];u!==e&&u.group===e.group&&l.push(u)}t(l,n),A(l,function(e){e[o]!==i&&e.dispatchAction(s)}),t(l,r)}})})}var p=e("./model/Global"),m=e("./ExtensionAPI"),g=e("./CoordinateSystem"),v=e("./model/OptionManager"),b=e("./model/Component"),y=e("./model/Series"),x=e("./view/Component"),w=e("./view/Chart"),_=e("./util/graphic"),k=e("zrender"),C=e(me),S=e("zrender/tool/color"),T=e("zrender/core/env"),D=e("zrender/mixin/Eventful"),A=C.each,E=["echarts","chart","component"],M=["transform","filter","statistic"];n[fe].on=t("on"),n[fe].off=t("off"),n[fe].one=t("one"),C.mixin(n,D);var P=i[fe];P.getDom=function(){return this._dom},P.getZr=function(){return this._zr},P.setOption=function(e,t,n){(!this._model||t)&&(this._model=new p(null,null,this._theme,new v(this._api))),this._model.setOption(e,ge),N.prepareAndUpdate.call(this),!n&&this._zr.refreshImmediately()},P.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},P[de]=function(){return this._model},P.getOption=function(){return this._model.getOption()},P[ue]=function(){return this._zr[ue]()},P[ce]=function(){return this._zr[ce]()},P.getRenderedCanvas=function(e){if(T.canvasSupported){e=e||{},e.pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr,n=t.storage.getDisplayList();return C.each(n,function(e){e.stopAnimation(!0)}),t.painter.getRenderedCanvas(e)}},P.getDataURL=function(e){e=e||{};var t=e.excludeComponents,n=this._model,i=[],r=this;A(t,function(e){n.eachComponent({mainType:e},function(e){var t=r._componentsMap[e.__viewId];t.group[le]||(i.push(t),t.group[le]=!0)})});var o=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return A(i,function(e){e.group[le]=!1}),o},P.getConnectedDataURL=function(e){if(T.canvasSupported){var t=this.group,n=Math.min,i=Math.max,r=1/0;if(xe[t]){var o=r,a=r,s=-r,l=-r,c=[],u=e&&e.pixelRatio||1;for(var d in ye){var h=ye[d];if(h.group===t){var f=h.getRenderedCanvas(C.clone(e)),p=h.getDom().getBoundingClientRect();o=n(p.left,o),a=n(p.top,a),s=i(p.right,s),l=i(p[se],l),c.push({dom:f,left:p.left,top:p.top})}}o*=u,a*=u,s*=u,l*=u;var m=s-o,g=l-a,v=C.createCanvas();v.width=m,v[ae]=g;var b=k.init(v);return A(c,function(e){var t=new _.Image({style:{x:e.left*u-o,y:e.top*u-a,image:e.dom}});b.add(t)}),b.refreshImmediately(),v.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}};var N={update:function(e){var t=this._model,n=this._api,i=this._coordSysMgr;if(t){t.restoreData(),i[oe](this._model,this._api),s.call(this,t,n),l.call(this,t),i[re](t,n),c.call(this,t,e),u.call(this,t,e),d.call(this,t,e);var r=t.get("backgroundColor")||"transparent",o=this._zr.painter;if(o.isSingleCanvas&&o.isSingleCanvas())this._zr.configLayer(0,{clearColor:r});else{if(!T.canvasSupported){var a=S.parse(r);r=S.stringify(a,"rgb"),0===a[3]&&(r="transparent")}r=r,this._dom.style.backgroundColor=r}}},updateView:function(e){var t=this._model;t&&(c.call(this,t,e),u.call(this,t,e),o.call(this,"updateView",t,e))},updateVisual:function(e){var t=this._model;t&&(u.call(this,t,e),o.call(this,"updateVisual",t,e))},updateLayout:function(e){var t=this._model;t&&(c.call(this,t,e),o.call(this,"updateLayout",t,e))},highlight:function(e){r.call(this,"highlight",e)},downplay:function(e){r.call(this,"downplay",e)},prepareAndUpdate:function(e){var t=this._model;a.call(this,"component",t),a.call(this,"chart",t),N[re].call(this,e)}};P.resize=function(){this._zr.resize();var e=this._model&&this._model.resetOption("media");N[e?"prepareAndUpdate":re].call(this),this._loadingFX&&this._loadingFX.resize()};var R=e("./loading/default");P.showLoading=function(e,t){C[ie](e)&&(t=e,e="default"),this.hideLoading();var n=R(this._api,t),i=this._zr;this._loadingFX=n,i.add(n)},P.hideLoading=function(){this._loadingFX&&this._zr[ne](this._loadingFX),this._loadingFX=null},P.makeActionFromEvent=function(e){var t=C[te]({},e);return t.type=L[e.type],t},P.dispatchAction=function(e,t){var n=O[e.type];if(n){var i=n.actionInfo,r=i[re]||re,o=[e],a=!1;e.batch&&(a=!0,o=C.map(e.batch,function(t){return t=C[ee](C[te]({},t),e),t.batch=null,t}));for(var s,l=[],c="highlight"===e.type||"downplay"===e.type,u=0;u<o[J];u++){var d=o[u];s=n.action(d,this._model),s=s||C[te]({},d),s.type=i.event||s.type,l.push(s),c&&N[r].call(this,d)}"none"!==r&&!c&&N[r].call(this,e),t||(s=a?{type:i.event||e.type,batch:l}:l[0],this._messageCenter.trigger(s.type,s))}},P.on=t("on"),P.off=t("off"),P.one=t("one");var I=["click","dblclick",Z,G,"mousedown","mouseup","globalout"];P._initEvents=function(){A(I,function(e){this._zr.on(e,function(t){var n=this[de](),i=t[X];if(i&&null!=i[$]){var r=i.dataModel||n.getSeriesByIndex(i[Y]),o=r&&r.getDataParams(i[$],i.dataType)||{};o.event=t,o.type=e,this.trigger(e,o)}else i&&i.eventData&&this.trigger(e,i.eventData)},this)},this),A(L,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},P.isDisposed=function(){return this._disposed},P.clear=function(){this.setOption({},!0)},P.dispose=function(){this._disposed=!0;var e=this._api,t=this._model;A(this._componentsViews,function(n){n.dispose(t,e)}),A(this._chartsViews,function(n){n.dispose(t,e)}),this._zr.dispose(),delete ye[this.id]},C.mixin(i,D);var O=[],L={},j=[],z={},ge=[],ve={},be={},ye={},xe={},we=new Date-0,_e=new Date-0,ke="_echarts_instance_",Ce={version:"3.1.9",dependencies:{zrender:"3.0.9"}};return Ce.init=function(e,t,n){if(k.version[V](".","")-0<Ce.dependencies.zrender[V](".","")-0)throw new Error("ZRender "+k.version+" is too old for ECharts "+Ce.version+". Current version need ZRender "+Ce.dependencies.zrender+"+");if(!e)throw new Error("Initialize failed: invalid dom.");var r=new i(e,t,n);return r.id="ec_"+we++,ye[r.id]=r,e.setAttribute&&e.setAttribute(ke,r.id),f(r),r},Ce.connect=function(e){if(C[W](e)){var t=e;e=null,C.each(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+_e++,C.each(t,function(t){t.group=e})}return xe[e]=!0,e},Ce.disConnect=function(e){xe[e]=!1},Ce.dispose=function(e){C.isDom(e)?e=Ce.getInstanceByDom(e):typeof e===he&&(e=ye[e]),e instanceof i&&!e.isDisposed()&&e.dispose()},Ce.getInstanceByDom=function(e){var t=e.getAttribute(ke);return ye[t]},Ce.getInstanceById=function(e){return ye[e]},Ce.registerTheme=function(e,t){be[e]=t},Ce.registerPreprocessor=function(e){ge.push(e)},Ce.registerProcessor=function(e,t){if(C[q](M,e)<0)throw new Error("stage should be one of "+M);var n=z[e]||(z[e]=[]);n.push(t)},Ce.registerAction=function(e,t,n){typeof t===H&&(n=t,t="");var i=C[ie](e)?e.type:[e,e={event:t}][0];e.event=(e.event||i)[pe](),t=e.event,O[i]||(O[i]={action:n,actionInfo:e}),L[t]=i},Ce.registerCoordinateSystem=function(e,t){g.register(e,t)},Ce.registerLayout=function(e){C[q](j,e)<0&&j.push(e)},Ce.registerVisualCoding=function(e,t){if(C[q](E,e)<0)throw new Error("stage should be one of "+E);var n=ve[e]||(ve[e]=[]);n.push(t)},Ce.extendChartView=function(e){return w[te](e)},Ce.extendComponentModel=function(e){return b[te](e)},Ce.extendSeriesModel=function(e){return y[te](e)},Ce.extendComponentView=function(e){return x[te](e)},Ce.setCanvasCreator=function(e){C.createCanvas=e},Ce.registerVisualCoding("echarts",C.curry(e("./visual/seriesColor"),"","itemStyle")),Ce.registerPreprocessor(e("./preprocessor/backwardCompat")),Ce.registerAction({type:"highlight",event:"highlight",update:"highlight"},C.noop),Ce.registerAction({type:"downplay",event:"downplay",update:"downplay"},C.noop),Ce.graphic=e("./util/graphic"),Ce[F]=e("./util/number"),Ce.format=e("./util/format"),Ce.matrix=e("zrender/core/matrix"),Ce.vector=e("zrender/core/vector"),Ce.util={},A(["map","each","filter",q,B,"reduce","filter","bind","curry",W,"isString",ie,"isFunction",te],function(e){Ce.util[e]=C[e]}),Ce}),t("echarts/chart/bar",[ge,me,"../coord/cartesian/Grid","./bar/BarSeries","./bar/BarView","../layout/barGrid","../echarts","../component/grid"],function(e){var t=e(me);e("../coord/cartesian/Grid"),e("./bar/BarSeries"),e("./bar/BarView");var n=e("../layout/barGrid"),i=e("../echarts");i.registerLayout(t.curry(n,"bar")),i.registerVisualCoding("chart",function(e){e.eachSeriesByType("bar",function(e){var t=e[K]();t.setVisual("legendSymbol","roundRect")})}),e("../component/grid")}),t("echarts/chart/line",[ge,me,"../echarts","./line/LineSeries","./line/LineView","../visual/symbol","../layout/points","../processor/dataSample","../component/grid"],function(e){var t=e(me),n=e("../echarts");e("./line/LineSeries"),e("./line/LineView"),n.registerVisualCoding("chart",t.curry(e("../visual/symbol"),"line","circle","line")),n.registerLayout(t.curry(e("../layout/points"),"line")),n.registerProcessor("statistic",t.curry(e("../processor/dataSample"),"line")),e("../component/grid")}),t("echarts/chart/pie",[ge,me,"../echarts","./pie/PieSeries","./pie/PieView","../action/createDataSelectAction","../visual/dataColor","./pie/pieLayout","../processor/dataFilter"],function(e){var t=e(me),n=e("../echarts");e("./pie/PieSeries"),e("./pie/PieView"),e("../action/createDataSelectAction")("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisualCoding("chart",t.curry(e("../visual/dataColor"),"pie")),n.registerLayout(t.curry(e("./pie/pieLayout"),"pie")),n.registerProcessor("filter",t.curry(e("../processor/dataFilter"),"pie"))}),t("echarts/component/grid",[ge,"../util/graphic",me,"../coord/cartesian/Grid","./axis","../echarts"],function(e){var t=e("../util/graphic"),n=e(me);e("../coord/cartesian/Grid"),e("./axis"),e("../echarts").extendComponentView({type:"grid",render:function(e){this.group[z](),e.get("show")&&this.group.add(new t.Rect({shape:e[j].getRect(),style:n[ee]({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0}))}})}),t("echarts/component/title",[ge,"../echarts","../util/graphic","../util/layout"],function(e){var t=e("../echarts"),n=e("../util/graphic"),i=e("../util/layout");t.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),t.extendComponentView({type:"title",render:function(e,t,r){if(this.group[z](),e.get("show")){var o=this.group,a=e[de](L),s=e[de]("subtextStyle"),l=e.get(O),c=new n.Text({style:{text:e.get("text"),textFont:a[I](),fill:a[R](),textBaseline:"top"},z2:10}),u=c[N](),d=e.get("subtext"),h=new n.Text({style:{text:d,textFont:s[I](),fill:s[R](),y:u[ae]+e.get("itemGap"),textBaseline:"top"},z2:10}),f=e.get("link"),p=e.get("sublink");c.silent=!f,h.silent=!p,f&&c.on("click",function(){window.open(f,"_"+e.get(X))}),p&&h.on("click",function(){window.open(p,"_"+e.get("subtarget"));
}),o.add(c),d&&o.add(h);var m=o[N](),g=e.getBoxLayoutParams();g.width=m.width,g[ae]=m[ae];var v=i.getLayoutRect(g,{width:r[ue](),height:r[ce]()},e.get("padding"));l||(l=e.get("left")||e.get("right"),l===P&&(l=M),"right"===l?v.x+=v.width:l===M&&(v.x+=v.width/2)),o[E]=[v.x,v.y],c.setStyle(O,l),h.setStyle(O,l),m=o[N]();var b=v.margin,y=e.getItemStyle(["color",A]);y.fill=e.get("backgroundColor");var x=new n.Rect({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m[ae]+b[0]+b[2]},style:y,silent:!0});n.subPixelOptimizeRect(x),o.add(x)}}})}),t("echarts/component/legend",[ge,"./legend/LegendModel","./legend/legendAction","./legend/LegendView","../echarts","./legend/legendFilter"],function(e){e("./legend/LegendModel"),e("./legend/legendAction"),e("./legend/LegendView");var t=e("../echarts");t.registerProcessor("filter",e("./legend/legendFilter"))}),t("echarts/component/tooltip",[ge,"./tooltip/TooltipModel","./tooltip/TooltipView","../echarts"],function(e){e("./tooltip/TooltipModel"),e("./tooltip/TooltipView"),e("../echarts").registerAction({type:"showTip",event:"showTip",update:"none"},function(){}),e("../echarts").registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})}),t("echarts/scale/Time",[ge,me,"../util/number","../util/format","./Interval"],function(e){var t=e(me),n=e("../util/number"),i=e("../util/format"),r=e("./Interval"),o=r[fe],a=Math.ceil,s=Math.floor,l=864e5,c=function(e,t,n,i){for(;i>n;){var r=n+i>>>1;e[r][2]<t?n=r+1:i=r}return n},u=r[te]({type:"time",getLabel:function(e){var t=this._stepLvl,n=new Date(e);return i.formatTime(t[0],n)},niceExtent:function(e,t,i){var r=this[D];if(r[0]===r[1]&&(r[0]-=l,r[1]+=l),r[1]===-1/0&&1/0===r[0]){var o=new Date;r[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),r[0]=r[1]-l}this.niceTicks(e,t,i);var c=this._interval;t||(r[0]=n.round(s(r[0]/c)*c)),i||(r[1]=n.round(a(r[1]/c)*c))},niceTicks:function(e){e=e||10;var t=this[D],i=t[1]-t[0],r=i/e,o=d[J],l=c(d,r,0,o),u=d[Math.min(l,o-1)],h=u[2];if("year"===u[0]){var f=i/h,p=n.nice(f/e,!0);h*=p}var m=[a(t[0]/h)*h,s(t[1]/h)*h];this._stepLvl=u,this._interval=h,this._niceExtent=m},parse:function(e){return+n.parseDate(e)}});t.each([T,"normalize"],function(e){u[fe][e]=function(t){return o[e].call(this,this.parse(t))}});var d=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,l],["week",7,7*l],["month",1,31*l],["quarter",3,380*l/4],["half-year",6,380*l/2],["year",1,380*l]];return u[oe]=function(){return new u},u}),t("echarts/model/Global",[ge,me,"../util/model","./Model","./Component","./globalDefault"],function(e){function t(e,t){for(var n in t)b.hasClass(n)||("object"==typeof t[n]?e[n]=e[n]?c.merge(e[n],t[n],!1):c.clone(t[n]):null==e[n]&&(e[n]=t[n]))}function n(e){e=e,this[S]={},this[S][x]=1,this._componentsMap={},this._seriesIndices=null,t(e,this._theme[S]),c.merge(e,y,!1),this.mergeOption(e)}function i(e,t){c[W](t)||(t=t?[t]:[]);var n={};return h(t,function(t){n[t]=(e[t]||[]).slice()}),n}function r(e,t){var n={};h(t,function(e){var t=e.exist;t&&(n[t.id]=e)}),h(t,function(t){var i=t[S];if(c.assert(!i||null==i.id||!n[i.id]||n[i.id]===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&(n[i.id]=t),v(i)){var r=o(e,i,t.exist);t.keyInfo={mainType:e,subType:r}}}),h(t,function(e){var t=e.exist,i=e[S],r=e.keyInfo;if(v(i)){if(r.name=null!=i.name?i.name+"":t?t.name:"\x00-",t)r.id=t.id;else if(null!=i.id)r.id=i.id+"";else{var o=0;do r.id="\x00"+r.name+"\x00"+o++;while(n[r.id])}n[r.id]=e}})}function o(e,t,n){var i=t.type?t.type:n?n.subType:b.determineSubType(e,t);return i}function a(e){return p(e,function(e){return e.componentIndex})||[]}function s(e,t){return t.hasOwnProperty("subType")?f(e,function(e){return e.subType===t.subType}):e}function l(e){if(!e._seriesIndices)throw new Error("Series has not been initialized yet.")}var c=e(me),u=e("../util/model"),d=e("./Model"),h=c.each,f=c.filter,p=c.map,m=c[W],g=c[q],v=c[ie],b=e("./Component"),y=e("./globalDefault"),x="\x00_ec_inner",w=d[te]({constructor:w,init:function(e,t,n,i){n=n||{},this[S]=null,this._theme=new d(n),this._optionManager=i},setOption:function(e,t){c.assert(!(x in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption()},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var r=i.mountOption("recreate"===e);this[S]&&"recreate"!==e?(this.restoreData(),this.mergeOption(r)):n.call(this,r),t=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var a=i.getMediaOption(this,this._api);a[J]&&h(a,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,s){var l=u.normalizeToArray(e[t]),d=u.mappingToExists(o[t],l);r(t,d);var f=i(o,s);n[t]=[],o[t]=[],h(d,function(e,i){var r=e.exist,a=e[S];if(c.assert(v(a)||r,"Empty component definition"),a){var s=b.getClass(t,e.keyInfo.subType,!0);r&&r instanceof s?(r.mergeOption(a,this),r.optionUpdated(this)):(r=new s(a,this,this,c[te]({dependentModels:f,componentIndex:i},e.keyInfo)),r.optionUpdated(this))}else r.mergeOption({},this),r.optionUpdated(this);o[t][i]=r,n[t][i]=r[S]},this),"series"===t&&(this._seriesIndices=a(o.series))}var n=this[S],o=this._componentsMap,s=[];h(e,function(e,t){null!=e&&(b.hasClass(t)?s.push(t):n[t]=null==n[t]?c.clone(e):c.merge(n[t],e,!0))}),b.topologicalTravel(s,b.getAllClassMainTypes(),t,this)},getOption:function(){var e=c.clone(this[S]);return h(e,function(t,n){if(b.hasClass(n)){for(var t=u.normalizeToArray(t),i=t[J]-1;i>=0;i--)u.isIdInner(t[i])&&t[Q](i,1);e[n]=t}}),delete e[x],e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap[e];return n?n[t||0]:void 0},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index,i=e.id,r=e.name,o=this._componentsMap[t];if(!o||!o[J])return[];var a;if(null!=n)m(n)||(n=[n]),a=f(p(n,function(e){return o[e]}),function(e){return!!e});else if(null!=i){var l=m(i);a=f(o,function(e){return l&&g(i,e.id)>=0||!l&&e.id===i})}else if(null!=r){var c=m(r);a=f(o,function(e){return c&&g(r,e.name)>=0||!c&&e.name===r})}return s(a,e)},findComponents:function(e){function t(e){var t=r+"Index",n=r+"Id",i=r+"Name";return e&&(e.hasOwnProperty(t)||e.hasOwnProperty(n)||e.hasOwnProperty(i))?{mainType:r,index:e[t],id:e[n],name:e[i]}:null}function n(t){return e.filter?f(t,e.filter):t}var i=e.query,r=e.mainType,o=t(i),a=o?this.queryComponents(o):this._componentsMap[r];return n(s(a,e))},eachComponent:function(e,t,n){var i=this._componentsMap;if(typeof e===H)n=t,t=e,h(i,function(e,i){h(e,function(e,r){t.call(n,i,e,r)})});else if(c.isString(e))h(i[e],t,n);else if(v(e)){var r=this.findComponents(e);h(r,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.series[e]},getSeriesByType:function(e){var t=this._componentsMap.series;return f(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(e,t){l(this),h(this._seriesIndices,function(n){var i=this._componentsMap.series[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){h(this._componentsMap.series,e,t)},eachSeriesByType:function(e,t,n){l(this),h(this._seriesIndices,function(i){var r=this._componentsMap.series[i];r.subType===e&&t.call(n,r,i)},this)},eachRawSeriesByType:function(e,t,n){return h(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){return l(this),c[q](this._seriesIndices,e.componentIndex)<0},filterSeries:function(e,t){l(this);var n=f(this._componentsMap.series,e,t);this._seriesIndices=a(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=a(e.series);var t=[];h(e,function(e,n){t.push(n)}),b.topologicalTravel(t,b.getAllClassMainTypes(),function(t){h(e[t],function(e){e.restoreData()})})}});return w}),t("echarts/scale/Log",[ge,me,"./Scale","../util/number","./Interval"],function(e){var t=e(me),n=e("./Scale"),i=e("../util/number"),r=e("./Interval"),o=n[fe],a=r[fe],s=Math.floor,l=Math.ceil,c=Math.pow,u=10,d=Math.log,h=n[te]({type:"log",getTicks:function(){return t.map(a[C].call(this),function(e){return i.round(c(u,e))})},getLabel:a.getLabel,scale:function(e){return e=o.scale.call(this,e),c(u,e)},setExtent:function(e,t){e=d(e)/d(u),t=d(t)/d(u),a.setExtent.call(this,e,t)},getExtent:function(){var e=o[k].call(this);return e[0]=c(u,e[0]),e[1]=c(u,e[1]),e},unionExtent:function(e){e[0]=d(e[0])/d(u),e[1]=d(e[1])/d(u),o.unionExtent.call(this,e)},niceTicks:function(e){e=e||10;var t=this[D],n=t[1]-t[0];if(!(1/0===n||0>=n)){var r=c(10,s(d(n/e)/Math.LN10)),o=e/n*r;.5>=o&&(r*=10);var a=[i.round(l(t[0]/r)*r),i.round(s(t[1]/r)*r)];this._interval=r,this._niceExtent=a}},niceExtent:a.niceExtent});return t.each([T,"normalize"],function(e){h[fe][e]=function(t){return t=d(t)/d(u),o[e].call(this,t)}}),h[oe]=function(){return new h},h}),t("echarts/ExtensionAPI",[ge,me],function(e){function t(e){n.each(i,function(t){this[t]=n.bind(e[t],e)},this)}var n=e(me),i=["getDom","getZr",ue,ce,"dispatchAction","on","off","getDataURL","getConnectedDataURL",de,"getOption"];return t}),t("echarts/model/OptionManager",[ge,me,"../util/model","./Component"],function(e){function t(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newOptionBackup}function n(e,t){var n,i,r=[],o=[],a=e.timeline;if(e.baseOption&&(i=e.baseOption),(a||e.options)&&(i=i||{},r=(e.options||[]).slice()),e.media){i=i||{};var l=e.media;u(l,function(e){e&&e[S]&&(e.query?o.push(e):n||(n=e))})}return i||(i=e),i.timeline||(i.timeline=a),u([i][_](r)[_](s.map(o,function(e){return e[S]})),function(e){u(t,function(t){t(e)})}),{baseOption:i,timelineOptions:r,mediaDefault:n,mediaList:o}}function i(e,t,n){var i={width:t,height:n,aspectratio:t/n},o=!0;return s.each(e,function(e,t){var n=t.match(p);if(n&&n[1]&&n[2]){var a=n[1],s=n[2][pe]();r(i[s],e,a)||(o=!1)}}),o}function r(e,t,n){return"min"===n?e>=t:"max"===n?t>=e:e===t}function o(e,t){return e.join(",")===t.join(",")}function a(e,t){t=t||{},u(t,function(t,n){if(null!=t){var i=e[n];if(c.hasClass(n)){t=l.normalizeToArray(t),i=l.normalizeToArray(i);var r=l.mappingToExists(i,t);e[n]=h(r,function(e){return e[S]&&e.exist?f(e.exist,e[S],!0):e.exist||e[S]})}else e[n]=f(i,t,!0)}})}var s=e(me),l=e("../util/model"),c=e("./Component"),u=s.each,d=s.clone,h=s.map,f=s.merge,p=/^(min|max)?(.+)$/;return t[fe]={constructor:t,setOption:function(e,t){e=d(e,!0);var i=this._optionBackup,r=this._newOptionBackup=n.call(this,e,t);i?(a(i.baseOption,r.baseOption),r.timelineOptions[J]&&(i.timelineOptions=r.timelineOptions),r.mediaList[J]&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},mountOption:function(e){var t=e?this._optionBackup:this._newOptionBackup;return this._timelineOptions=h(t.timelineOptions,d),this._mediaList=h(t.mediaList,d),this._mediaDefault=d(t.mediaDefault),this._currentMediaIndices=[],d(t.baseOption)},getTimelineOption:function(e){var t,n=this._timelineOptions;if(n[J]){var i=e.getComponent("timeline");i&&(t=d(n[i.getCurrentIndex()],!0))}return t},getMediaOption:function(){var e=this._api[ue](),t=this._api[ce](),n=this._mediaList,r=this._mediaDefault,a=[],s=[];if(!n[J]&&!r)return s;for(var l=0,c=n[J];c>l;l++)i(n[l].query,e,t)&&a.push(l);return!a[J]&&r&&(a=[-1]),a[J]&&!o(a,this._currentMediaIndices)&&(s=h(a,function(e){return d(-1===e?r[S]:n[e][S])})),this._currentMediaIndices=a,s}},t}),t("echarts/CoordinateSystem",[ge],function(){function e(){this._coordinateSystems=[]}var t={};return e[fe]={constructor:e,create:function(e,n){var i=[];for(var r in t){var o=t[r][oe](e,n);o&&(i=i[_](o))}this._coordinateSystems=i},update:function(e,t){for(var n=this._coordinateSystems,i=0;i<n[J];i++)n[i][re]&&n[i][re](e,t)}},e.register=function(e,n){t[e]=n},e.get=function(e){return t[e]},e}),t("echarts/model/Component",[ge,"./Model",me,"../util/component","../util/clazz","../util/layout","./mixin/boxLayout"],function(e){function t(e){var t=[];return i.each(l.getClassesByMainType(e),function(e){r.apply(t,e[fe].dependencies||[])}),i.map(t,function(e){return a.parseClassType(e).main})}var n=e("./Model"),i=e(me),r=Array[fe].push,o=e("../util/component"),a=e("../util/clazz"),s=e("../util/layout"),l=n[te]({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(){this.mergeDefaultAndTheme(this[S],this[w])},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode,r=n?s.getLayoutParams(e):{},o=t.getTheme();i.merge(e,o.get(this.mainType)),i.merge(e,this.getDefaultOption()),n&&s.mergeLayoutParam(e,r,n)},mergeOption:function(e){i.merge(this[S],e,!0);var t=this.layoutMode;t&&s.mergeLayoutParam(this[S],e,t)},optionUpdated:function(){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){for(var e=[],t=this.constructor;t;){var n=t[fe].defaultOption;n&&e.push(n),t=t.superClass}for(var r={},o=e[J]-1;o>=0;o--)r=i.merge(r,e[o],!0);this.__defaultOption=r}return this.__defaultOption}});return a.enableClassExtend(l,function(e,t,n,r){i[te](this,r),this.uid=o.getUID("componentModel")}),a.enableClassManagement(l,{registerWhenExtend:!0}),o.enableSubTypeDefaulter(l),o.enableTopologicalTravel(l,t),i.mixin(l,e("./mixin/boxLayout")),l}),t("echarts/model/Series",[ge,me,"../util/format","../util/model","./Component"],function(e){var t=e(me),n=e("../util/format"),i=e("../util/model"),r=e("./Component"),o=n.encodeHTML,a=n.addCommas,s=r[te]({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(e,t,n){this[Y]=this.componentIndex,this.mergeDefaultAndTheme(e,n),this._dataBeforeProcessed=this.getInitialData(e,n),this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(e,n){t.merge(e,n.getTheme().get(this.subType)),t.merge(e,this.getDefaultOption()),i.defaultEmphasis(e.label,i.LABEL_OPTIONS),this.fillDataTextStyle(e.data)},mergeOption:function(e,n){e=t.merge(this[S],e,!0),this.fillDataTextStyle(e.data);var i=this.getInitialData(e,n);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},fillDataTextStyle:function(e){if(e)for(var t=0;t<e[J];t++)e[t]&&e[t].label&&i.defaultEmphasis(e[t].label,i.LABEL_OPTIONS)},getInitialData:function(){},getData:function(e){return null==e?this._data:this._data.getLinkedData(e)},setData:function(e){this._data=e},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(e){return[e]},dataDimToCoordDim:function(e){return e},getBaseAxis:function(){var e=this[j];return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,n){var i=this._data,r=this.getRawValue(e),s=t[W](r)?t.map(r,a).join(", "):a(r),l=i[x](e),c=i[y](e,"color"),u='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+c+'"></span>';return n?u+o(this.name)+" : "+s:o(this.name)+"<br />"+u+(l?o(l)+" : "+s:s)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getAxisTooltipDataIndex:null});return t.mixin(s,i.dataFormatMixin),s}),t("echarts/view/Component",[ge,"zrender/container/Group","../util/component","../util/clazz"],function(e){var t=e("zrender/container/Group"),n=e("../util/component"),i=e("../util/clazz"),r=function(){this.group=new t,this.uid=n.getUID("viewComponent")};r[fe]={constructor:r,init:function(){},render:function(){},dispose:function(){}};var o=r[fe];return o.updateView=o.updateLayout=o.updateVisual=function(){},i.enableClassExtend(r),i.enableClassManagement(r,{registerWhenExtend:!0}),r}),t("echarts/view/Chart",[ge,"zrender/container/Group","../util/component","../util/clazz"],function(e){function t(){this.group=new r,this.uid=o.getUID("viewChart")}function n(e,t){if(e&&(e.trigger(t),"group"===e.type))for(var i=0;i<e.childCount();i++)n(e.childAt(i),t)}function i(e,t,i){if(null!=t[$]){var r=e[v](t[$]);n(r,i)}else if(t.name){var o=e.indexOfName(t.name),r=e[v](o);n(r,i)}else e.eachItemGraphicEl(function(e){n(e,i)})}var r=e("zrender/container/Group"),o=e("../util/component"),a=e("../util/clazz");t[fe]={type:"chart",init:function(){},render:function(){},highlight:function(e,t,n,r){i(e[K](),r,"emphasis")},downplay:function(e,t,n,r){i(e[K](),r,b)},remove:function(){this.group[z]()},dispose:function(){}};var s=t[fe];return s.updateView=s.updateLayout=s.updateVisual=function(e,t,n,i){this.render(e,t,n,i)},a.enableClassExtend(t),a.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("echarts/util/graphic",[ge,me,"zrender/tool/path","zrender/graphic/Path","zrender/tool/color","zrender/core/matrix","zrender/core/vector","zrender/graphic/Gradient","zrender/container/Group","zrender/graphic/Image","zrender/graphic/Text","zrender/graphic/shape/Circle","zrender/graphic/shape/Sector","zrender/graphic/shape/Ring","zrender/graphic/shape/Polygon","zrender/graphic/shape/Polyline","zrender/graphic/shape/Rect","zrender/graphic/shape/Line","zrender/graphic/shape/BezierCurve","zrender/graphic/shape/Arc","zrender/graphic/CompoundPath","zrender/graphic/LinearGradient","zrender/graphic/RadialGradient","zrender/core/BoundingRect"],function(e){function t(e){return null!=e&&"none"!=e}function n(e){return e instanceof T?e:k.lift(e,-.1)}function i(e){if(e.__hoverStlDirty){var i=e.style[m],r=e.style.fill,o=e.__hoverStl;o.fill=o.fill||(t(r)?n(r):null),o[m]=o[m]||(t(i)?n(i):null);var a={};for(var s in o)o.hasOwnProperty(s)&&(a[s]=e.style[s]);e.__normalStl=a,e.__hoverStlDirty=!1}}function r(e){e.__isHover||(i(e),e.setStyle(e.__hoverStl),e.z2+=1,e.__isHover=!0)}function o(e){if(e.__isHover){var t=e.__normalStl;t&&e.setStyle(t),e.z2-=1,e.__isHover=!1}}function a(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&r(e)}):r(e)}function s(e){"group"===e.type?e.traverse(function(e){"group"!==e.type&&o(e)}):o(e)}function l(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&i(e)}function c(){!this.__isEmphasis&&a(this)}function u(){!this.__isEmphasis&&s(this)}function d(){this.__isEmphasis=!0,a(this)}function h(){this.__isEmphasis=!1,s(this)}function v(e,t,n,i,r,o){typeof r===H&&(o=r,r=null);var a=e?"Update":"",s=i&&i.getShallow("animationDuration"+a),l=i&&i.getShallow("animationEasing"+a),c=i&&i.getShallow("animationDelay"+a);typeof c===H&&(c=c(r)),i&&i.getShallow(f)?t.animateTo(n,s,c||0,l,o):(t.attr(n),o&&o())}var y=e(me),x=e("zrender/tool/path"),w=Math.round,_=e("zrender/graphic/Path"),k=e("zrender/tool/color"),C=e("zrender/core/matrix"),S=e("zrender/core/vector"),T=e("zrender/graphic/Gradient"),D={};return D.Group=e("zrender/container/Group"),D.Image=e("zrender/graphic/Image"),D.Text=e("zrender/graphic/Text"),D.Circle=e("zrender/graphic/shape/Circle"),D.Sector=e("zrender/graphic/shape/Sector"),D.Ring=e("zrender/graphic/shape/Ring"),D.Polygon=e("zrender/graphic/shape/Polygon"),D.Polyline=e("zrender/graphic/shape/Polyline"),D.Rect=e("zrender/graphic/shape/Rect"),D.Line=e("zrender/graphic/shape/Line"),D.BezierCurve=e("zrender/graphic/shape/BezierCurve"),D.Arc=e("zrender/graphic/shape/Arc"),D.CompoundPath=e("zrender/graphic/CompoundPath"),D.LinearGradient=e("zrender/graphic/LinearGradient"),D.RadialGradient=e("zrender/graphic/RadialGradient"),D.BoundingRect=e("zrender/core/BoundingRect"),D.extendShape=function(e){return _[te](e)},D.extendPath=function(e,t){return x.extendFromString(e,t)},D.makePath=function(e,t,n,i){var r=x.createFromString(e,t),o=r[N]();if(n){var a=o.width/o[ae];if(i===M){var s,l=n[ae]*a;l<=n.width?s=n[ae]:(l=n.width,s=l/a);var c=n.x+n.width/2,u=n.y+n[ae]/2;n.x=c-l/2,n.y=u-s/2,n.width=l,n[ae]=s}this.resizePath(r,n)}return r},D.mergePath=x.mergePath,D.resizePath=function(e,t){if(e[g]){var n=e[N](),i=n.calculateTransform(t);e[g](i)}},D.subPixelOptimizeLine=function(e){var t=D.subPixelOptimize,n=e.shape,i=e.style.lineWidth;return w(2*n.x1)===w(2*n.x2)&&(n.x1=n.x2=t(n.x1,i,!0)),w(2*n.y1)===w(2*n.y2)&&(n.y1=n.y2=t(n.y1,i,!0)),e},D.subPixelOptimizeRect=function(e){var t=D.subPixelOptimize,n=e.shape,i=e.style.lineWidth,r=n.x,o=n.y,a=n.width,s=n[ae];return n.x=t(n.x,i,!0),n.y=t(n.y,i,!0),n.width=Math.max(t(r+a,i,!1)-n.x,0===a?0:1),n[ae]=Math.max(t(o+s,i,!1)-n.y,0===s?0:1),e},D.subPixelOptimize=function(e,t,n){var i=w(2*e);return(i+w(t))%2===0?i/2:(i+(n?1:-1))/2},D.setHoverStyle=function(e,t){"group"===e.type?e.traverse(function(e){"group"!==e.type&&l(e,t)}):l(e,t),e.on(Z,c).on(G,u),e.on("emphasis",d).on(b,h)},D.setText=function(e,t,n){var i=t.getShallow(E)||p,r=i[q](p)>=0?"white":n,o=t[de](L);y[te](e,{textDistance:t.getShallow("distance")||5,textFont:o[I](),textPosition:i,textFill:o[R]()||r})},D.updateProps=y.curry(v,!0),D.initProps=y.curry(v,!1),D.getTransform=function(e,t){for(var n=C.identity([]);e&&e!==t;)C.mul(n,e.getLocalTransform(),n),e=e.parent;return n},D[g]=function(e,t,n){return n&&(t=C.invert([],t)),S[g]([],e,t)},D.transformDirection=function(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),r=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===e?-i:"right"===e?i:0,"top"===e?-r:e===se?r:0];return o=D[g](o,t,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?se:"top"},D}),t("zrender/zrender",[ge,"./core/guid","./core/env","./Handler","./Storage","./animation/Animation","./Painter"],function(e){function t(e){delete c[e]}var n=e("./core/guid"),i=e("./core/env"),r=e("./Handler"),o=e("./Storage"),a=e("./animation/Animation"),s=!i.canvasSupported,l={canvas:e("./Painter")},c={},u={};u.version="3.0.9",u.init=function(e,t){var i=new d(n(),e,t);return c[i.id]=i,i},u.dispose=function(e){if(e)e.dispose();else{for(var t in c)c[t].dispose();c={}}return u},u.getInstance=function(e){return c[e]},u.registerPainter=function(e,t){l[e]=t};var d=function(e,t,n){n=n||{},this.dom=t,this.id=e;var c=this,u=new o,d=n.renderer;if(s){if(!l.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");d="vml"}else d&&l[d]||(d="canvas");var h=new l[d](t,u,n);this.storage=u,this.painter=h,i.node||(this.handler=new r(h.getViewportRoot(),u,h)),this[f]=new a({stage:{update:function(){c._needsRefresh&&c.refreshImmediately()}}}),this[f].start(),this._needsRefresh;var p=u.delFromMap,m=u.addToMap;u.delFromMap=function(e){var t=u.get(e);p.call(u,e),t&&t.removeSelfFromZr(c)},u.addToMap=function(e){m.call(u,e),e.addSelfToZr(c)}};return d[fe]={constructor:d,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize(),this.handler&&this.handler.resize()},clearAnimation:function(){this[f].clear()},getWidth:function(){return this.painter[ue]()},getHeight:function(){return this.painter[ce]()},pathToImage:function(e,t,i){var r=n();return this.painter.pathToImage(r,e,t,i)},setDefaultCursorStyle:function(e){this.handler.setDefaultCursorStyle(e)},on:function(e,t,n){this.handler&&this.handler.on(e,t,n)},off:function(e,t){this.handler&&this.handler.off(e,t)},trigger:function(e,t){this.handler&&this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this[f].stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler&&this.handler.dispose(),this[f]=this.storage=this.painter=this.handler=null,t(this.id)}},u}),t(me,[ge,"../graphic/Gradient"],function(e){function t(e){if("object"==typeof e&&null!==e){var n=e;if(e instanceof Array){n=[];for(var i=0,r=e[J];r>i;i++)n[i]=t(e[i])}else if(!S(e)&&!T(e)){n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=t(e[o]))}return n}return e}function n(e,i,r){if(!C(i)||!C(e))return r?t(i):e;for(var o in i)if(i.hasOwnProperty(o)){var a=e[o],s=i[o];!C(s)||!C(a)||x(s)||x(a)||T(s)||T(a)||S(s)||S(a)?!r&&o in e||(e[o]=t(i[o],!0)):n(a,s,r)}return e}function i(e,t){for(var i=e[0],r=1,o=e[J];o>r;r++)i=n(i,e[r],t);return i}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i])&&(e[i]=t[i]);return e}function a(){return document.createElement("canvas")}function s(){return M||(M=W.createCanvas()[h]("2d")),M}function l(e,t){if(e){if(e[q])return e[q](t);for(var n=0,i=e[J];i>n;n++)if(e[n]===t)return n}return-1}function c(e,t){function n(){}var i=e[fe];n[fe]=t[fe],e[fe]=new n;for(var r in i)e[fe][r]=i[r];e[fe].constructor=e,e.superClass=t}function u(e,t,n){e=fe in e?e[fe]:e,t=fe in t?t[fe]:t,o(e,t,n)}function d(e){return e?typeof e==he?!1:typeof e[J]==F:void 0}function f(e,t,n){if(e&&t)if(e.forEach&&e.forEach===O)e.forEach(t,n);else if(e[J]===+e[J])for(var i=0,r=e[J];r>i;i++)t.call(n,e[i],i,e);else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function p(e,t,n){if(e&&t){if(e.map&&e.map===z)return e.map(t,n);for(var i=[],r=0,o=e[J];o>r;r++)i.push(t.call(n,e[r],r,e));return i}}function m(e,t,n,i){if(e&&t){if(e.reduce&&e.reduce===B)return e.reduce(t,n,i);for(var r=0,o=e[J];o>r;r++)n=t.call(i,n,e[r],r,e);return n}}function g(e,t,n){if(e&&t){if(e.filter&&e.filter===L)return e.filter(t,n);for(var i=[],r=0,o=e[J];o>r;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i}}function v(e,t,n){if(e&&t)for(var i=0,r=e[J];r>i;i++)if(t.call(n,e[i],i,e))return e[i]}function b(e,t){var n=j.call(arguments,2);return function(){return e.apply(t,n[_](j.call(arguments)))}}function y(e){var t=j.call(arguments,1);return function(){return e.apply(this,t[_](j.call(arguments)))}}function x(e){return"[object Array]"===R.call(e)}function w(e){return typeof e===H}function k(e){return"[object String]"===R.call(e)}function C(e){var t=typeof e;return t===H||!!e&&"object"==t}function S(e){return!!N[R.call(e)]||e instanceof P}function T(e){return e&&1===e.nodeType&&typeof e.nodeName==he}function D(){for(var e=0,t=arguments[J];t>e;e++)if(null!=arguments[e])return arguments[e]}function A(){return Function.call.apply(j,arguments)}function E(e,t){if(!e)throw new Error(t)}var M,P=e("../graphic/Gradient"),N={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},R=Object[fe].toString,I=Array[fe],O=I.forEach,L=I.filter,j=I.slice,z=I.map,B=I.reduce,W={inherits:c,mixin:u,clone:t,merge:n,mergeAll:i,extend:r,defaults:o,getContext:s,createCanvas:a,indexOf:l,slice:A,find:v,isArrayLike:d,each:f,map:p,reduce:m,filter:g,bind:b,curry:y,isArray:x,isString:k,isObject:C,isFunction:w,isBuildInObject:S,isDom:T,retrieve:D,assert:E,noop:function(){}};return W}),t("zrender/tool/color",[ge],function(){function e(e){return e=Math.round(e),0>e?0:e>255?255:e}function t(e){return e=Math.round(e),0>e?0:e>360?360:e}function n(e){return 0>e?0:e>1?1:e}function i(t){return e(t[J]&&"%"===t.charAt(t[J]-1)?parseFloat(t)/100*255:parseInt(t,10))}function r(e){return n(e[J]&&"%"===e.charAt(e[J]-1)?parseFloat(e)/100:parseFloat(e))}function o(e,t,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}function a(e,t,n){return e+(t-e)*n}function s(e){if(e){e+="";var t=e[V](/ /g,"")[pe]();if(t in v)return v[t].slice();if("#"!==t.charAt(0)){var n=t[q]("("),o=t[q](")");if(-1!==n&&o+1===t[J]){var a=t.substr(0,n),s=t.substr(n+1,o-(n+1)).split(","),c=1;switch(a){case"rgba":if(4!==s[J])return;c=r(s.pop());case"rgb":if(3!==s[J])return;return[i(s[0]),i(s[1]),i(s[2]),c];case"hsla":if(4!==s[J])return;return s[3]=r(s[3]),l(s);case"hsl":if(3!==s[J])return;return l(s);default:return}}}else{if(4===t[J]){var u=parseInt(t.substr(1),16);if(!(u>=0&&4095>=u))return;return[(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,1]}if(7===t[J]){var u=parseInt(t.substr(1),16);if(!(u>=0&&16777215>=u))return;return[(16711680&u)>>16,(65280&u)>>8,255&u,1]}}}}function l(t){var n=(parseFloat(t[0])%360+360)%360/360,i=r(t[1]),a=r(t[2]),s=.5>=a?a*(i+1):a+i-a*i,l=2*a-s,c=[e(255*o(l,s,n+1/3)),e(255*o(l,s,n)),e(255*o(l,s,n-1/3))];return 4===t[J]&&(c[3]=t[3]),c}function c(e){if(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,c=(s+a)/2;if(0===l)t=0,n=0;else{n=.5>c?l/(s+a):l/(2-s-a);var u=((s-i)/6+l/2)/l,d=((s-r)/6+l/2)/l,h=((s-o)/6+l/2)/l;i===s?t=h-d:r===s?t=1/3+u-h:o===s&&(t=2/3+d-u),0>t&&(t+=1),t>1&&(t-=1)}var f=[360*t,n,c];return null!=e[3]&&f.push(e[3]),f}}function u(e,t){var n=s(e);if(n){for(var i=0;3>i;i++)n[i]=0>t?n[i]*(1-t)|0:(255-n[i])*t+n[i]|0;return g(n,4===n[J]?"rgba":"rgb")}}function d(e){var t=s(e);return t?((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1):void 0}function h(t,n,i){if(n&&n[J]&&t>=0&&1>=t){i=i||[0,0,0,0];var r=t*(n[J]-1),o=Math.floor(r),s=Math.ceil(r),l=n[o],c=n[s],u=r-o;return i[0]=e(a(l[0],c[0],u)),i[1]=e(a(l[1],c[1],u)),i[2]=e(a(l[2],c[2],u)),i[3]=e(a(l[3],c[3],u)),i}}function f(t,i,r){if(i&&i[J]&&t>=0&&1>=t){var o=t*(i[J]-1),l=Math.floor(o),c=Math.ceil(o),u=s(i[l]),d=s(i[c]),h=o-l,f=g([e(a(u[0],d[0],h)),e(a(u[1],d[1],h)),e(a(u[2],d[2],h)),n(a(u[3],d[3],h))],"rgba");return r?{color:f,leftIndex:l,rightIndex:c,value:o}:f}}function p(e,n,i,o){return e=s(e),e?(e=c(e),null!=n&&(e[0]=t(n)),null!=i&&(e[1]=r(i)),null!=o&&(e[2]=r(o)),g(l(e),"rgba")):void 0}function m(e,t){return e=s(e),e&&null!=t?(e[3]=n(t),g(e,"rgba")):void 0}function g(e,t){return("rgb"===t||"hsv"===t||"hsl"===t)&&(e=e.slice(0,3)),t+"("+e.join(",")+")"}var v={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],
mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};return{parse:s,lift:u,toHex:d,fastMapToColor:h,mapToColor:f,modifyHSL:p,modifyAlpha:m,stringify:g}}),t("zrender/mixin/Eventful",[ge,d],function(e){var t=Array[fe].slice,n=e(d),i=n[q],r=function(){this._$handlers={}};return r[fe]={constructor:r,one:function(e,t,n){var r=this._$handlers;return t&&e?(r[e]||(r[e]=[]),i(r[e],e)>=0?this:(r[e].push({h:t,one:!0,ctx:n||this}),this)):this},on:function(e,t,n){var i=this._$handlers;return t&&e?(i[e]||(i[e]=[]),i[e].push({h:t,one:!1,ctx:n||this}),this):this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e][J]},off:function(e,t){var n=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(n[e]){for(var i=[],r=0,o=n[e][J];o>r;r++)n[e][r].h!=t&&i.push(n[e][r]);n[e]=i}n[e]&&0===n[e][J]&&delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var n=arguments,i=n[J];i>3&&(n=t.call(n,1));for(var r=this._$handlers[e],o=r[J],a=0;o>a;){switch(i){case 1:r[a].h.call(r[a].ctx);break;case 2:r[a].h.call(r[a].ctx,n[1]);break;case 3:r[a].h.call(r[a].ctx,n[1],n[2]);break;default:r[a].h.apply(r[a].ctx,n)}r[a].one?(r[Q](a,1),o--):a++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var n=arguments,i=n[J];i>4&&(n=t.call(n,1,n[J]-1));for(var r=n[n[J]-1],o=this._$handlers[e],a=o[J],s=0;a>s;){switch(i){case 1:o[s].h.call(r);break;case 2:o[s].h.call(r,n[1]);break;case 3:o[s].h.call(r,n[1],n[2]);break;default:o[s].h.apply(r,n)}o[s].one?(o[Q](s,1),a--):s++}}return this}},r}),t("echarts/loading/default",[ge,"../util/graphic",me],function(e){var t=e("../util/graphic"),n=e(me),i=Math.PI;return function(e,r){r=r||{},n[ee](r,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new t.Rect({style:{fill:r.maskColor},zlevel:r[U],z:1e4}),a=new t.Arc({shape:{startAngle:-i/2,endAngle:-i/2+.1,r:10},style:{stroke:r.color,lineCap:"round",lineWidth:5},zlevel:r[U],z:10001}),s=new t.Rect({style:{fill:"none",text:r.text,textPosition:"right",textDistance:10,textFill:r.textColor},zlevel:r[U],z:10001});a.animateShape(!0).when(1e3,{endAngle:3*i/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*i/2}).delay(300).start("circularInOut");var l=new t.Group;return l.add(a),l.add(s),l.add(o),l.resize=function(){var t=e[ue]()/2,n=e[ce]()/2;a.setShape({cx:t,cy:n});var i=a.shape.r;s.setShape({x:t-i,y:n-i,width:2*i,height:2*i}),o.setShape({x:0,y:0,width:e[ue](),height:e[ce]()})},l.resize(),l}}),t("echarts/visual/seriesColor",[ge,"zrender/graphic/Gradient"],function(e){var t=e("zrender/graphic/Gradient");return function(e,n,i){function r(e){var r=[n,b,"color"],o=i.get("color"),a=e[K](),s=e.get(r)||o[e[Y]%o[J]];a.setVisual("color",s),i.isSeriesFiltered(e)||(typeof s!==H||s instanceof t||a.each(function(t){a.setItemVisual(t,"color",s(e.getDataParams(t)))}),a.each(function(e){var t=a[u](e),n=t.get(r,!0);null!=n&&a.setItemVisual(e,"color",n)}))}e?i.eachSeriesByType(e,r):i.eachSeries(r)}}),t("echarts/preprocessor/backwardCompat",[ge,me,"./helper/compatStyle"],function(e){function t(e,t){t=t.split(",");for(var n=e,i=0;i<t[J]&&(n=n&&n[t[i]],null!=n);i++);return n}function n(e,t,n,i){t=t.split(",");for(var r,o=e,a=0;a<t[J]-1;a++)r=t[a],null==o[r]&&(o[r]={}),o=o[r];(i||null==o[t[a]])&&(o[t[a]]=n)}function i(e){c(a,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var r=e(me),o=e("./helper/compatStyle"),a=[["x","left"],["y","top"],["x2","right"],["y2",se]],s=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],c=r.each;return function(e){c(e.series,function(e){if(r[ie](e)){var a=e.type;if(o(e),("pie"===a||"gauge"===a)&&null!=e.clockWise&&(e.clockwise=e.clockWise),"gauge"===a){var s=t(e,"pointer.color");null!=s&&n(e,"itemStyle.normal.color",s)}for(var c=0;c<l[J];c++)if(l[c]===e.type){i(e);break}}}),e.dataRange&&(e.visualMap=e.dataRange),c(s,function(t){var n=e[t];n&&(r[W](n)||(n=[n]),c(n,function(e){i(e)}))})}}),t("echarts/util/number",[ge],function(){function e(e){return e[V](/^\s+/,"")[V](/\s+$/,"")}var t={},n=1e-4;return t.linearMap=function(e,t,n,i){var r=t[1]-t[0];if(0===r)return(n[0]+n[1])/2;var o=(e-t[0])/r;return i&&(o=Math.min(Math.max(o,0),1)),o*(n[1]-n[0])+n[0]},t[c]=function(t,n){switch(t){case M:case P:t="50%";break;case"left":case"top":t="0%";break;case"right":case se:t="100%"}return typeof t===he?e(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):null==t?NaN:+t},t.round=function(e){return+(+e).toFixed(10)},t.asc=function(e){return e.sort(function(e,t){return e-t}),e},t.getPrecision=function(e){if(isNaN(e))return 0;for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n},t.getPixelPrecision=function(e,t){var n=Math.log,i=Math.LN10,r=Math.floor(n(e[1]-e[0])/i),o=Math.round(n(Math.abs(t[1]-t[0]))/i);return Math.max(-r+o,0)},t.MAX_SAFE_INTEGER=9007199254740991,t.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},t.isRadianAroundZero=function(e){return e>-n&&n>e},t.parseDate=function(e){return e instanceof Date?e:new Date(typeof e===he?e[V](/-/g,"/"):Math.round(e))},t.nice=function(e,t){var n,i=Math.floor(Math.log(e)/Math.LN10),r=Math.pow(10,i),o=e/r;return n=t?1.5>o?1:2.5>o?2:4>o?3:7>o?5:10:1>o?1:2>o?2:3>o?3:5>o?5:10,n*r},t}),t("echarts/util/format",[ge,me,"./number"],function(e){function t(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0][V](/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e[J]>1?"."+e[1]:""))}function n(e){return e[pe]()[V](/-(.)/g,function(e,t){return t.toUpperCase()})}function i(e){var t=e[J];return typeof e===F?[e,e,e,e]:2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function r(e){return String(e)[V](/&/g,"&amp;")[V](/</g,"&lt;")[V](/>/g,"&gt;")[V](/"/g,"&quot;")[V](/'/g,"&#39;")}function o(e,t){return"{"+e+(null==t?"":t)+"}"}function a(e,t){c[W](t)||(t=[t]);var n=t[J];if(!n)return"";for(var i=t[0].$vars,r=0;r<i[J];r++){var a=d[r];e=e[V](o(a),o(a,0))}for(var s=0;n>s;s++)for(var l=0;l<i[J];l++)e=e[V](o(d[l],s),t[s][i[l]]);return e}function s(e,t){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var n=u.parseDate(t),i=n.getFullYear(),r=n.getMonth()+1,o=n.getDate(),a=n.getHours(),s=n.getMinutes(),c=n.getSeconds();return e=e[V]("MM",l(r))[pe]()[V]("yyyy",i)[V]("yy",i%100)[V]("dd",l(o))[V]("d",o)[V]("hh",l(a))[V]("h",a)[V]("mm",l(s))[V]("m",s)[V]("ss",l(c))[V]("s",c)}function l(e){return 10>e?"0"+e:e}var c=e(me),u=e("./number"),d=["a","b","c","d","e","f","g"];return{normalizeCssArray:i,addCommas:t,toCamelCase:n,encodeHTML:r,formatTpl:a,formatTime:s}}),t("zrender/core/vector",[],function(){var e=typeof Float32Array===l?Array:Float32Array,t={create:function(t,n){var i=new e(2);return i[0]=t||0,i[1]=n||0,i},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e},clone:function(t){var n=new e(2);return n[0]=t[0],n[1]=t[1],n},set:function(e,t,n){return e[0]=t,e[1]=n,e},add:function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e},scaleAndAdd:function(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e},sub:function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e},div:function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},normalize:function(e,n){var i=t.len(n);return 0===i?(e[0]=0,e[1]=0):(e[0]=n[0]/i,e[1]=n[1]/i),e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e},lerp:function(e,t,n,i){return e[0]=t[0]+i*(n[0]-t[0]),e[1]=t[1]+i*(n[1]-t[1]),e},applyTransform:function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[2]*r+n[4],e[1]=n[1]*i+n[3]*r+n[5],e},min:function(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e},max:function(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}};return t[J]=t.len,t.lengthSquare=t.lenSquare,t.dist=t.distance,t.distSquare=t.distanceSquare,t}),t("zrender/core/env",[],function(){function e(e){var t={},n={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=e.match(/(iPad).*OS\s([\d_]+)/),a=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=!o&&e.match(/(iPhone\sOS)\s([\d_]+)/),l=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),c=l&&e.match(/TouchPad/),u=e.match(/Kindle\/([\d.]+)/),d=e.match(/Silk\/([\d._]+)/),f=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),m=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=e.match(/PlayBook/),v=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),b=e.match(/Firefox\/([\d.]+)/),y=i&&e.match(/Mobile\//)&&!v,x=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!v,w=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),_=e.match(/Edge\/([\d.]+)/);return(n.webkit=!!i)&&(n.version=i[1]),r&&(t.android=!0,t.version=r[2]),s&&!a&&(t.ios=t.iphone=!0,t.version=s[2][V](/_/g,".")),o&&(t.ios=t.ipad=!0,t.version=o[2][V](/_/g,".")),a&&(t.ios=t.ipod=!0,t.version=a[3]?a[3][V](/_/g,"."):null),l&&(t.webos=!0,t.version=l[2]),c&&(t.touchpad=!0),f&&(t.blackberry=!0,t.version=f[2]),p&&(t.bb10=!0,t.version=p[2]),m&&(t.rimtabletos=!0,t.version=m[2]),g&&(n.playbook=!0),u&&(t.kindle=!0,t.version=u[1]),d&&(n.silk=!0,n.version=d[1]),!d&&t.android&&e.match(/Kindle Fire/)&&(n.silk=!0),v&&(n.chrome=!0,n.version=v[1]),b&&(n.firefox=!0,n.version=b[1]),w&&(n.ie=!0,n.version=w[1]),y&&(e.match(/Safari/)||t.ios)&&(n.safari=!0),x&&(n.webview=!0),w&&(n.ie=!0,n.version=w[1]),_&&(n.edge=!0,n.version=_[1]),t.tablet=!!(o||g||r&&!e.match(/Mobile/)||b&&e.match(/Tablet/)||w&&!e.match(/Phone/)&&e.match(/Touch/)),t.phone=!(t.tablet||t.ipod||!(r||s||l||f||p||v&&e.match(/Android/)||v&&e.match(/CriOS\/([\d.]+)/)||b&&e.match(/Mobile/)||w&&e.match(/Touch/))),{browser:n,os:t,node:!1,canvasSupported:document.createElement("canvas")[h]?!0:!1,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var t={};return t=typeof navigator===l?{browser:{},os:{},node:!0,canvasSupported:!0}:e(navigator.userAgent)}),t("echarts/coord/cartesian/Grid",[ge,"exports","../../util/layout","../../coord/axisHelper",me,"./Cartesian2D","./Axis2D","./GridModel","../../CoordinateSystem"],function(e){function t(e,t,n){return n.getComponent("grid",e.get("gridIndex"))===t}function n(e){var t,n=e.model,i=n.getFormattedLabels(),r=1,o=i[J];o>40&&(r=Math.ceil(o/40));for(var a=0;o>a;a+=r)if(!e.isLabelIgnored(a)){var s=n.getTextRect(i[a]);t?t.union(s):t=s}return t}function i(e,t,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,n),this._model=e}function r(e,t){var n=e[k](),i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}var l=e("../../util/layout"),c=e("../../coord/axisHelper"),u=e(me),d=e("./Cartesian2D"),h=e("./Axis2D"),f=u.each,p=c.ifAxisCrossZero,m=c.niceScaleExtent;e("./GridModel");var g=i[fe];return g.type="grid",g.getRect=function(){return this._rect},g[re]=function(e,t){function n(e){var t=i[e];for(var n in t){var r=t[n];if(r&&(r.type===s||!p(r)))return!0}return!1}var i=this._axesMap;this._updateScale(e,this._model),f(i.x,function(e){m(e,e.model)}),f(i.y,function(e){m(e,e.model)}),f(i.x,function(e){n("y")&&(e.onZero=!1)}),f(i.y,function(e){n("x")&&(e.onZero=!1)}),this.resize(this._model,t)},g.resize=function(e,t){function i(){f(a,function(e){var t=e.isHorizontal(),n=t?[0,o.width]:[0,o[ae]],i=e.inverse?1:0;e.setExtent(n[i],n[1-i]),r(e,t?o.x:o.y)})}var o=l.getLayoutRect(e.getBoxLayoutParams(),{width:t[ue](),height:t[ce]()});this._rect=o;var a=this._axesList;i(),e.get("containLabel")&&(f(a,function(e){if(!e.model.get("axisLabel.inside")){var t=n(e);if(t){var i=e.isHorizontal()?ae:"width",r=e.model.get("axisLabel.margin");o[i]-=t[i]+r,"top"===e[E]?o.y+=t[ae]+r:"left"===e[E]&&(o.x+=t.width+r)}}}),i())},g.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)return n[i];return n[t]}},g.getCartesian=function(e,t){var n="x"+e+"y"+t;return this._coordsMap[n]},g._initCartesian=function(e,n){function i(i){return function(l,u){if(t(l,e,n)){var d=l.get(E);"x"===i?("top"!==d&&d!==se&&(d=se),r[d]&&(d="top"===d?se:"top")):("left"!==d&&"right"!==d&&(d="left"),r[d]&&(d="left"===d?"right":"left")),r[d]=!0;var f=new h(i,c.createScaleByModel(l),[0,0],l.get("type"),d),p=f.type===s;f.onBand=p&&l.get("boundaryGap"),f.inverse=l.get("inverse"),f.onZero=l.get("axisLine.onZero"),l.axis=f,f.model=l,f.index=u,this._axesList.push(f),o[i][u]=f,a[i]++}}}var r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},a={x:0,y:0};return n.eachComponent("xAxis",i("x"),this),n.eachComponent("yAxis",i("y"),this),a.x&&a.y?(this._axesMap=o,void f(o.x,function(e,t){f(o.y,function(n,i){var r="x"+t+"y"+i,o=new d(r);o.grid=this,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(n)},this)},this)):(this._axesMap={},void(this._axesList=[]))},g._updateScale=function(e,n){function i(e,t,n){f(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtent(e.getDataExtent(n,t.scale.type!==a))})}u.each(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(r){if("cartesian2d"===r.get(j)){var o=r.get("xAxisIndex"),a=r.get("yAxisIndex"),s=e.getComponent("xAxis",o),l=e.getComponent("yAxis",a);if(!t(s,n,e)||!t(l,n,e))return;var c=this.getCartesian(o,a),u=r[K](),d=c.getAxis("x"),h=c.getAxis("y");"list"===u.type&&(i(u,d,r),i(u,h,r))}},this)},i[oe]=function(e,t){var n=[];return e.eachComponent("grid",function(r,o){var a=new i(r,e,t);a.name="grid_"+o,a.resize(r,t),r[j]=a,n.push(a)}),e.eachSeries(function(t){if("cartesian2d"===t.get(j)){var i=t.get("xAxisIndex"),r=e.getComponent("xAxis",i),o=n[r.get("gridIndex")];t[j]=o.getCartesian(i,t.get("yAxisIndex"))}}),n},i[o]=d[fe][o],e("../../CoordinateSystem").register("cartesian2d",i),i}),t("echarts/chart/bar/BarSeries",[ge,"../../model/Series","../helper/createListFromArray"],function(e){var t=e("../../model/Series"),n=e("../helper/createListFromArray");return t[te]({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(e,t){return n(e.data,this,t)},getMarkerPosition:function(e){var t=this[j];if(t){var n=t.dataToPoint(e),i=this[K](),r=i.getLayout("offset"),o=i.getLayout("size"),a=t.getBaseAxis().isHorizontal()?0:1;return n[a]+=r+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})}),t("zrender/core/matrix",[],function(){var e=typeof Float32Array===l?Array:Float32Array,t={create:function(){var n=new e(6);return t.identity(n),n},identity:function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e},copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},mul:function(e,t,n){var i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],o=t[0]*n[2]+t[2]*n[3],a=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e},translate:function(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e},rotate:function(e,t,n){var i=t[0],r=t[2],o=t[4],a=t[1],s=t[3],l=t[5],c=Math.sin(n),u=Math.cos(n);return e[0]=i*u+a*c,e[1]=-i*c+a*u,e[2]=r*u+s*c,e[3]=-r*c+u*s,e[4]=u*o+c*l,e[5]=u*l-c*o,e},scale:function(e,t,n){var i=n[0],r=n[1];return e[0]=t[0]*i,e[1]=t[1]*r,e[2]=t[2]*i,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*r,e},invert:function(e,t){var n=t[0],i=t[2],r=t[4],o=t[1],a=t[3],s=t[5],l=n*a-o*i;return l?(l=1/l,e[0]=a*l,e[1]=-o*l,e[2]=-i*l,e[3]=n*l,e[4]=(i*s-a*r)*l,e[5]=(o*r-n*s)*l,e):null}};return t}),t("echarts/chart/bar/BarView",[ge,me,r,"../../model/Model","./barItemStyle",i],function(e){function t(e,t){var n=e.width>0?1:-1,i=e[ae]>0?1:-1;t=Math.min(t,Math.abs(e.width),Math.abs(e[ae])),e.x+=n*t/2,e.y+=i*t/2,e.width-=n*t,e[ae]-=i*t}var n=e(me),o=e(r);return n[te](e("../../model/Model")[fe],e("./barItemStyle")),e(i).extendChartView({type:"bar",render:function(e,t,n){var i=e.get(j);return"cartesian2d"===i&&this._renderOnCartesian(e,t,n),this.group},_renderOnCartesian:function(e){function i(i,r){var s=a.getItemLayout(i),l=a[u](i).get(p)||0;t(s,l);var c=new o.Rect({shape:n[te]({},s)});if(h){var f=c.shape,m=d?ae:"width",g={};f[m]=0,g[m]=s[m],o[r?"updateProps":"initProps"](c,{shape:g},e,i)}return c}var r=this.group,a=e[K](),s=this._data,l=e[j],c=l.getBaseAxis(),d=c.isHorizontal(),h=e.get(f),p=["itemStyle",b,"barBorderWidth"];a.diff(s).add(function(e){if(a.hasValue(e)){var t=i(e);a.setItemGraphicEl(e,t),r.add(t)}})[re](function(n,l){var c=s[v](l);if(!a.hasValue(n))return void r[ne](c);c||(c=i(n,!0));var d=a.getItemLayout(n),h=a[u](n).get(p)||0;t(d,h),o.updateProps(c,{shape:d},e,n),a.setItemGraphicEl(n,c),r.add(c)})[ne](function(t){var n=s[v](t);n&&(n.style.text="",o.updateProps(n,{shape:{width:0}},e,t,function(){r[ne](n)}))}).execute(),this._updateStyle(e,a,d),this._data=a},_updateStyle:function(e,t,i){function r(e,t,n,i,r){o.setText(e,t,n),e.text=i,"outside"===e.textPosition&&(e.textPosition=r)}t.eachItemGraphicEl(function(a,s){var l=t[u](s),c=t[y](s,"color"),d=t[y](s,A),h=t.getItemLayout(s),f=l[de]("itemStyle.normal"),p=l[de]("itemStyle.emphasis").getBarItemStyle();a.setShape("r",f.get("barBorderRadius")||0),a.useStyle(n[ee]({fill:c,opacity:d},f.getBarItemStyle()));var m=i?h[ae]>0?se:"top":h.width>0?"left":"right",g=l[de]("label.normal"),v=l[de]("label.emphasis"),x=a.style;g.get("show")?r(x,g,c,n.retrieve(e.getFormattedLabel(s,b),e.getRawValue(s)),m):x.text="",v.get("show")?r(p,v,c,n.retrieve(e.getFormattedLabel(s,"emphasis"),e.getRawValue(s)),m):p.text="",o.setHoverStyle(a,p)})},remove:function(e){var t=this.group;e.get(f)?this._data&&this._data.eachItemGraphicEl(function(n){n.style.text="",o.updateProps(n,{shape:{width:0}},e,n[$],function(){t[ne](n)})}):t[z]()}})}),t("echarts/layout/barGrid",[ge,me,"../util/number"],function(e){function t(e){return e.get("stack")||"__ec_stack_"+e[Y]}function n(e){var n={};r.each(e,function(e){var i=e[j],r=i.getBaseAxis(),o=n[r.index]||{remainedWidth:r.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:r,stacks:{}},a=o.stacks;n[r.index]=o;var s=t(e);a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=e.get("barWidth"),c=e.get("barMaxWidth"),u=e.get("barGap"),d=e.get("barCategoryGap");l&&!a[s].width&&(l=Math.min(o.remainedWidth,l),a[s].width=l,o.remainedWidth-=l),c&&(a[s].maxWidth=c),null!=u&&(o.gap=u),null!=d&&(o.categoryGap=d)});var i={};return r.each(n,function(e,t){i[t]={};var n=e.stacks,o=e.axis,s=o.getBandWidth(),l=a(e.categoryGap,s),c=a(e.gap,1),u=e.remainedWidth,d=e.autoWidthCount,h=(u-l)/(d+(d-1)*c);h=Math.max(h,0),r.each(n,function(e){var t=e.maxWidth;!e.width&&t&&h>t&&(t=Math.min(t,u),u-=t,e.width=t,d--)}),h=(u-l)/(d+(d-1)*c),h=Math.max(h,0);var f,p=0;r.each(n,function(e){e.width||(e.width=h),f=e,p+=e.width*(1+c)}),f&&(p-=f.width*c);var m=-p/2;r.each(n,function(e,n){i[t][n]=i[t][n]||{offset:m,width:e.width},m+=e.width*(1+c)})}),i}function i(e,i){var o=n(r.filter(i.getSeriesByType(e),function(e){return!i.isSeriesFiltered(e)&&e[j]&&"cartesian2d"===e[j].type})),a={};i.eachSeriesByType(e,function(e){var n=e[K](),i=e[j],r=i.getBaseAxis(),s=t(e),l=o[r.index][s],c=l.offset,u=l.width,d=i.getOtherAxis(r),h=e.get("barMinHeight")||0,f=r.onZero?d.toGlobalCoord(d.dataToCoord(0)):d.getGlobalExtent()[0],p=i.dataToPoints(n,!0);a[s]=a[s]||[],n.setLayout({offset:c,size:u}),n.each(d.dim,function(e,t){if(!isNaN(e)){a[s][t]||(a[s][t]={p:f,n:f});var i,r,o,l,m=e>=0?"p":"n",g=p[t],v=a[s][t][m];d.isHorizontal()?(i=v,r=g[1]+c,o=g[0]-v,l=u,Math.abs(o)<h&&(o=(0>o?-1:1)*h),a[s][t][m]+=o):(i=g[0]+c,r=v,o=u,l=g[1]-v,Math.abs(l)<h&&(l=(0>=l?-1:1)*h),a[s][t][m]+=l),n.setItemLayout(t,{x:i,y:r,width:o,height:l})}},!0)},this)}var r=e(me),o=e("../util/number"),a=o[c];return i}),t("echarts/chart/line/LineSeries",[ge,"../helper/createListFromArray","../../model/Series"],function(e){var t=e("../helper/createListFromArray"),n=e("../../model/Series");return n[te]({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,n){return t(e.data,this,n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear"}})}),t("echarts/chart/line/LineView",[ge,me,"../helper/SymbolDraw","../helper/Symbol","./lineAnimationDiff",r,"./poly","../../view/Chart"],function(e){function t(e,t){if(e[J]===t[J]){for(var n=0;n<e[J];n++){var i=e[n],r=t[n];if(i[0]!==r[0]||i[1]!==r[1])return}return!0}}function i(e){return typeof e===F?e:e?.3:0}function o(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1,i=t[1]>t[0]?1:-1;t[0]+=i*n,t[1]-=i*n}return t}function s(e){return e>=0?1:-1}function l(e,t){var i=e.getBaseAxis(),r=e.getOtherAxis(i),o=i.onZero?0:r.scale[k]()[0],a=r.dim,l="x"===a||a===n?1:0;return t.mapArray([a],function(n,r){for(var c,u=t.stackedOn;u&&s(u.get(a,r))===s(n);){c=u;break}var d=[];return d[l]=t.get(i.dim,r),d[1-l]=c?c.get(a,r,!0):o,e.dataToPoint(d)},!0)}function c(e,t){return null!=t[$]?t[$]:null!=t.name?e.indexOfName(t.name):void 0}function u(e,t,n){var i=o(e.getAxis("x")),r=o(e.getAxis("y")),a=e.getBaseAxis().isHorizontal(),s=Math.min(i[0],i[1]),l=Math.min(r[0],r[1]),c=Math.max(i[0],i[1])-s,u=Math.max(r[0],r[1])-l,d=n.get("lineStyle.normal.width")||2,h=n.get("clipOverflow")?d/2:Math.max(c,u);a?(l-=h,u+=2*h):(s-=h,c+=2*h);var f=new y.Rect({shape:{x:s,y:l,width:c,height:u}});return t&&(f.shape[a?"width":ae]=0,y.initProps(f,{shape:{width:c,height:u}},n)),f}function d(e,t,n){var i=e.getAngleAxis(),r=e.getRadiusAxis(),o=r[k](),a=i[k](),s=Math.PI/180,l=new y.Sector({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:i.inverse}});return t&&(l.shape.endAngle=-a[0]*s,y.initProps(l,{shape:{endAngle:-a[1]*s}},n)),l}function h(e,t,n){return"polar"===e.type?d(e,t,n):u(e,t,n)}var p=e(me),m=e("../helper/SymbolDraw"),g=e("../helper/Symbol"),b=e("./lineAnimationDiff"),y=e(r),x=e("./poly"),w=e("../../view/Chart");return w[te]({type:"line",init:function(){var e=new y.Group,t=new m;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,n,r){var o=e[j],a=this.group,s=e[K](),c=e[de]("lineStyle.normal"),u=e[de]("areaStyle.normal"),d=s.mapArray(s.getItemLayout,!0),m="polar"===o.type,g=this._coordSys,v=this._symbolDraw,b=this._polyline,y=this._polygon,x=this._lineGroup,w=e.get(f),_=!u.isEmpty(),k=l(o,s),C=e.get("showSymbol"),S=C&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(s,o),T=this._data;T&&T.eachItemGraphicEl(function(e,t){e.__temp&&(a[ne](e),T.setItemGraphicEl(t,null))}),C||v[ne](),a.add(x),b&&g.type===o.type?(_&&!y?y=this._newPolygon(d,k,o,w):y&&!_&&(x[ne](y),y=this._polygon=null),x.setClipPath(h(o,!1,e)),C&&v.updateData(s,S),s.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),t(this._stackedOnPoints,k)&&t(this._points,d)||(w?this._updateAnimation(s,k,o,r):(b.setShape({points:d}),y&&y.setShape({points:d,stackedOnPoints:k})))):(C&&v.updateData(s,S),b=this._newPolyline(d,o,w),_&&(y=this._newPolygon(d,k,o,w)),x.setClipPath(h(o,!0,e))),b.useStyle(p[ee](c.getLineStyle(),{fill:"none",stroke:s.getVisual("color"),lineJoin:"bevel"}));var D=e.get("smooth");if(D=i(e.get("smooth")),b.setShape({smooth:D,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),y){var A=s.stackedOn,E=0;if(y.useStyle(p[ee](u.getAreaStyle(),{fill:s.getVisual("color"),opacity:.7,lineJoin:"bevel"})),A){var M=A.hostModel;E=i(M.get("smooth"))}y.setShape({smooth:D,stackedOnSmooth:E,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=s,this._coordSys=o,this._stackedOnPoints=k,this._points=d},highlight:function(e,t,n,i){var r=e[K](),o=c(r,i);if(null!=o&&o>=0){var a=r[v](o);if(!a){var s=r.getItemLayout(o);a=new g(r,o,n),a[E]=s,a.setZ(e.get(U),e.get("z")),a[le]=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else w[fe].highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var r=e[K](),o=c(r,i);if(null!=o&&o>=0){var a=r[v](o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group[ne](a)):a.downplay())}else w[fe].downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup[ne](t),t=new x.Polyline({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var n=this._polygon;return n&&this._lineGroup[ne](n),n=new x.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale(a)[0];return n&&n.isLabelIgnored?p.bind(n.isLabelIgnored,n):void 0},_updateAnimation:function(e,t,n){var i=this._polyline,r=this._polygon,o=e.hostModel,a=b(this._data,e,this._stackedOnPoints,t,this._coordSys,n);i.shape.points=a.current,y.updateProps(i,{shape:{points:a.next}},o),r&&(r.setShape({points:a.current,stackedOnPoints:a.stackedOnCurrent}),y.updateProps(r,{shape:{points:a.next,stackedOnPoints:a.stackedOnNext}},o));for(var s=[],l=a.status,c=0;c<l[J];c++){var u=l[c].cmd;if("="===u){var d=e[v](l[c].idx1);d&&s.push({el:d,ptIdx:c})}}i.animators&&i.animators[J]&&i.animators[0].during(function(){for(var e=0;e<s[J];e++){var t=s[e].el;t.attr(E,i.shape.points[s[e].ptIdx])}})},remove:function(){var e=this.group,t=this._data;this._lineGroup[z](),this._symbolDraw[ne](!0),t&&t.eachItemGraphicEl(function(n,i){n.__temp&&(e[ne](n),t.setItemGraphicEl(i,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})}),t("echarts/visual/symbol",[ge],function(){return function(e,t,n,i){i.eachRawSeriesByType(e,function(e){var r=e[K](),o=e.get("symbol")||t,a=e.get("symbolSize");r.setVisual({legendSymbol:n||o,symbol:o,symbolSize:a}),i.isSeriesFiltered(e)||(typeof a===H&&r.each(function(t){var n=e.getRawValue(t),i=e.getDataParams(t);r.setItemVisual(t,"symbolSize",a(n,i))}),r.each(function(e){var t=r[u](e),n=t.get("symbol",!0),i=t.get("symbolSize",!0);null!=n&&r.setItemVisual(e,"symbol",n),null!=i&&r.setItemVisual(e,"symbolSize",i)}))})}}),t("echarts/layout/points",[ge],function(){return function(e,t){t.eachSeriesByType(e,function(e){var t=e[K](),n=e[j];if(n){var i=n[o];t.each(i,function(e,i,r){var o;o=isNaN(e)||isNaN(i)?[NaN,NaN]:n.dataToPoint([e,i]),t.setItemLayout(r,o)},!0)}})}}),t("echarts/processor/dataSample",[],function(){var e={average:function(e){for(var t=0,n=0,i=0;i<e[J];i++)isNaN(e[i])||(t+=e[i],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e[J];n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e[J];n++)e[n]>t&&(t=e[n]);return t},min:function(e){for(var t=1/0,n=0;n<e[J];n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}},t=function(e){return Math.round(e[J]/2)};return function(n,i){i.eachSeriesByType(n,function(n){var i=n[K](),r=n.get("sampling"),o=n[j];if("cartesian2d"===o.type&&r){var a=o.getBaseAxis(),s=o.getOtherAxis(a),l=a[k](),c=l[1]-l[0],u=Math.round(i.count()/c);if(u>1){var d;typeof r===he?d=e[r]:typeof r===H&&(d=r),d&&(i=i.downSample(s.dim,1/u,d,t),n.setData(i))}}},this)}}),t("echarts/chart/pie/PieSeries",[ge,"../../data/List",me,"../../util/model","../../data/helper/completeDimensions","../helper/dataSelectableMixin",i],function(e){var t=e("../../data/List"),n=e(me),r=e("../../util/model"),o=e("../../data/helper/completeDimensions"),a=e("../helper/dataSelectableMixin"),s=e(i).extendSeriesModel({type:"series.pie",init:function(e){s.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._dataBeforeProcessed},this.updateSelectedMap(),this._defaultLabelLine(e)},mergeOption:function(e){s.superCall(this,"mergeOption",e),this.updateSelectedMap()},getInitialData:function(e){var n=o(["value"],e.data),i=new t(n,this);return i.initData(e.data),i},getDataParams:function(e){var t=this._data,n=s.superCall(this,"getDataParams",e),i=t.getSum("value");return n.percent=i?+(t.get("value",e)/i*100).toFixed(2):0,n.$vars.push("percent"),n},_defaultLabelLine:function(e){r.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine[b],n=e.labelLine.emphasis;t.show=t.show&&e.label[b].show,n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});return n.mixin(s,a),s}),t("echarts/chart/pie/PieView",[ge,r,me,"../../view/Chart"],function(e){function t(e,t,i,r){var o=t[K](),a=this[$],s=o[x](a),l=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),o.each(function(e){n(o[v](e),o.getItemLayout(e),t.isSelected(o[x](e)),l,i)})}function n(e,t,n,i,r){var o=(t.startAngle+t.endAngle)/2,a=Math.cos(o),s=Math.sin(o),l=n?i:0,c=[a*l,s*l];r?e.animate().when(200,{position:c}).start("bounceOut"):e.attr(E,c)}function i(e,t){function n(){o[le]=o.hoverIgnore,s[le]=s.hoverIgnore}function i(){o[le]=o.normalIgnore,s[le]=s.normalIgnore}a.Group.call(this);var r=new a.Sector({z2:2}),o=new a.Polyline,s=new a.Text;this.add(r),this.add(o),this.add(s),this.updateData(e,t,!0),this.on("emphasis",n).on(b,i).on(Z,n).on(G,i)}function o(e,t,n,i,r){var o=i[de](L),a=r===p||"inner"===r;return{fill:o[R]()||(a?"#fff":e[y](t,"color")),opacity:e[y](t,A),textFont:o[I](),text:s.retrieve(e.hostModel.getFormattedLabel(t,n),e[x](t))}}var a=e(r),s=e(me),l=i[fe];l.updateData=function(e,t,i){function r(){l.stopAnimation(!0),l.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function o(){l.stopAnimation(!0),l.animateTo({
shape:{r:h.r}},300,"elasticOut")}var l=this.childAt(0),c=e.hostModel,d=e[u](t),h=e.getItemLayout(t),p=s[te]({},h);p.label=null,i?(l.setShape(p),l.shape.endAngle=h.startAngle,a.updateProps(l,{shape:{endAngle:h.endAngle}},c,t)):a.updateProps(l,{shape:p},c,t);var m=d[de]("itemStyle"),g=e[y](t,"color");l.useStyle(s[ee]({fill:g},m[de](b).getItemStyle())),l.hoverStyle=m[de]("emphasis").getItemStyle(),n(this,e.getItemLayout(t),d.get("selected"),c.get("selectedOffset"),c.get(f)),l.off(Z).off(G).off("emphasis").off(b),d.get("hoverAnimation")&&l.on(Z,r).on(G,o).on("emphasis",r).on(b,o),this._updateLabel(e,t),a.setHoverStyle(this)},l._updateLabel=function(e,t){var n=this.childAt(1),i=this.childAt(2),r=e.hostModel,s=e[u](t),l=e.getItemLayout(t),c=l.label,d=e[y](t,"color");a.updateProps(n,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},r,t),a.updateProps(i,{style:{x:c.x,y:c.y}},r,t),i.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c[O],textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var h=s[de]("label.normal"),f=s[de]("label.emphasis"),p=s[de]("labelLine.normal"),m=s[de]("labelLine.emphasis"),g=h.get(E)||f.get(E);i.setStyle(o(e,t,b,h,g)),i[le]=i.normalIgnore=!h.get("show"),i.hoverIgnore=!f.get("show"),n[le]=n.normalIgnore=!p.get("show"),n.hoverIgnore=!m.get("show"),n.setStyle({stroke:d,opacity:e[y](t,A)}),n.setStyle(p[de]("lineStyle").getLineStyle()),i.hoverStyle=o(e,t,"emphasis",f,g),n.hoverStyle=m[de]("lineStyle").getLineStyle();var v=p.get("smooth");v&&v===!0&&(v=.4),n.setShape({smooth:v})},s[B](i,a.Group);var c=e("../../view/Chart")[te]({type:"pie",init:function(){var e=new a.Group;this._sectorGroup=e},render:function(e,n,r,o){if(!o||o.from!==this.uid){var a=e[K](),l=this._data,c=this.group,u=n.get(f),d=!l,h=s.curry(t,this.uid,e,u,r),p=e.get("selectedMode");if(a.diff(l).add(function(e){var t=new i(a,e);d&&t.eachChild(function(e){e.stopAnimation(!0)}),p&&t.on("click",h),a.setItemGraphicEl(e,t),c.add(t)})[re](function(e,t){var n=l[v](t);n.updateData(a,e),n.off("click"),p&&n.on("click",h),c.add(n),a.setItemGraphicEl(e,n)})[ne](function(e){var t=l[v](e);c[ne](t)}).execute(),u&&d&&a.count()>0){var m=a.getItemLayout(0),g=Math.max(r[ue](),r[ce]())/2,b=s.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(m.cx,m.cy,g,m.startAngle,m.clockwise,b,e))}this._data=a}},_createClipPath:function(e,t,n,i,r,o,s){var l=new a.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return a.initProps(l,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},s,o),l}});return c}),t("echarts/action/createDataSelectAction",[ge,"../echarts",me],function(e){var t=e("../echarts"),n=e(me);return function(e,i){n.each(i,function(n){n[re]="updateView",t.registerAction(n,function(t,i){var r={};return i.eachComponent({mainType:"series",subType:e,query:t},function(e){e[n.method]&&e[n.method](t.name);var i=e[K]();i.each(function(t){var n=i[x](t);r[n]=e.isSelected(n)||!1})}),{name:t.name,selected:r}})})}}),t("echarts/visual/dataColor",[ge],function(){return function(e,t){var n=t.get("color"),i=0;t.eachRawSeriesByType(e,function(e){var r=e.get("color",!0),o=e.getRawData();if(!t.isSeriesFiltered(e)){var a=e[K]();a.each(function(e){var t=a[u](e),s=a.getRawIndex(e),l=a[y](e,"color",!0);if(l)o.setItemVisual(s,"color",l);else{var c=r?r[s%r[J]]:n[(s+i)%n[J]],d=t.get("itemStyle.normal.color")||c;o.setItemVisual(s,"color",d),a.setItemVisual(e,"color",d)}})}i+=o.count()})}}),t("echarts/chart/pie/pieLayout",[ge,"../../util/number","./labelLayout",me],function(e){var t=e("../../util/number"),i=t[c],r=e("./labelLayout"),o=e(me),a=2*Math.PI,s=Math.PI/180;return function(e,l,c){l.eachSeriesByType(e,function(e){var l=e.get(M),u=e.get(n);o[W](u)||(u=[0,u]),o[W](l)||(l=[l,l]);var d=c[ue](),h=c[ce](),f=Math.min(d,h),p=i(l[0],d),m=i(l[1],h),g=i(u[0],f/2),v=i(u[1],f/2),b=e[K](),y=-e.get("startAngle")*s,x=e.get("minAngle")*s,w=b.getSum("value"),_=Math.PI/(w||b.count())*2,k=e.get("clockwise"),C=e.get("roseType"),S=b.getDataExtent("value");S[0]=0;var T=a,D=0,A=y,E=k?1:-1;if(b.each("value",function(e,n){var i;i="area"!==C?0===w?_:e*_:a/(b.count()||1),x>i?(i=x,T-=x):D+=e;var r=A+E*i;b.setItemLayout(n,{angle:i,startAngle:A,endAngle:r,clockwise:k,cx:p,cy:m,r0:g,r:C?t.linearMap(e,S,[g,v]):v}),A=r},!0),a>T)if(.001>=T){var P=a/b.count();b.each(function(e){var t=b.getItemLayout(e);t.startAngle=y+E*e*P,t.endAngle=y+E*(e+1)*P})}else _=T/D,A=y,b.each("value",function(e,t){var n=b.getItemLayout(t),i=n.angle===x?x:e*_;n.startAngle=A,n.endAngle=A+E*i,A+=i});r(e,v,d,h)})}}),t("echarts/processor/dataFilter",[],function(){return function(e,t){var n=t.findComponents({mainType:"legend"});n&&n[J]&&t.eachSeriesByType(e,function(e){var t=e[K]();t.filterSelf(function(e){for(var i=t[x](e),r=0;r<n[J];r++)if(!n[r].isSelected(i))return!1;return!0},this)},this)}}),t("echarts/component/axis",[ge,"../coord/cartesian/AxisModel","./axis/AxisView"],function(e){e("../coord/cartesian/AxisModel"),e("./axis/AxisView")}),t("echarts/util/layout",[ge,me,"zrender/core/BoundingRect","./number","./format"],function(e){function t(e,t,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;t.eachChild(function(l,c){var u,d,h=l[E],f=l[N](),p=t.childAt(c+1),m=p&&p[N]();if("horizontal"===e){var g=f.width+(m?-m.x+f.x:0);u=o+g,u>i||l.newline?(o=0,u=g,a+=s+n,s=f[ae]):s=Math.max(s,f[ae])}else{var v=f[ae]+(m?-m.y+f.y:0);d=a+v,d>r||l.newline?(o+=s+n,a=0,d=v,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=o,h[1]=a,"horizontal"===e?o=u+n:a=d+n)})}var n=e(me),i=e("zrender/core/BoundingRect"),r=e("./number"),o=e("./format"),a=r[c],s=n.each,l={},u=["left","right","top",se,"width",ae];return l.box=t,l.vbox=n.curry(t,"vertical"),l.hbox=n.curry(t,"horizontal"),l.getAvailableSize=function(e,t,n){var i=t.width,r=t[ae],s=a(e.x,i),l=a(e.y,r),c=a(e.x2,i),u=a(e.y2,r);return(isNaN(s)||isNaN(parseFloat(e.x)))&&(s=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=i),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(u)||isNaN(parseFloat(e.y2)))&&(u=r),n=o.normalizeCssArray(n||0),{width:Math.max(c-s-n[1]-n[3],0),height:Math.max(u-l-n[0]-n[2],0)}},l.getLayoutRect=function(e,t,n){n=o.normalizeCssArray(n||0);var r=t.width,s=t[ae],l=a(e.left,r),c=a(e.top,s),u=a(e.right,r),d=a(e[se],s),h=a(e.width,r),f=a(e[ae],s),p=n[2]+n[0],m=n[1]+n[3],g=e.aspect;switch(isNaN(h)&&(h=r-u-m-l),isNaN(f)&&(f=s-d-p-c),isNaN(h)&&isNaN(f)&&(g>r/s?h=.8*r:f=.8*s),null!=g&&(isNaN(h)&&(h=g*f),isNaN(f)&&(f=h/g)),isNaN(l)&&(l=r-u-h-m),isNaN(c)&&(c=s-d-f-p),e.left||e.right){case M:l=r/2-h/2-n[3];break;case"right":l=r-h-m}switch(e.top||e[se]){case P:case M:c=s/2-f/2-n[0];break;case se:c=s-f-p}l=l||0,c=c||0,isNaN(h)&&(h=r-l-(u||0)),isNaN(f)&&(f=s-c-(d||0));var v=new i(l+n[3],c+n[0],h,f);return v.margin=n,v},l.positionGroup=function(e,t,i,r){var o=e[N]();t=n[te](n.clone(t),{width:o.width,height:o[ae]}),t=l.getLayoutRect(t,i,r),e[E]=[t.x-o.x,t.y-o.y]},l.mergeLayoutParam=function(e,t,i){function r(n){var r={},l=0,c={},u=0,d=i.ignoreSize?1:2;if(s(n,function(t){c[t]=e[t]}),s(n,function(e){o(t,e)&&(r[e]=c[e]=t[e]),a(r,e)&&l++,a(c,e)&&u++}),u!==d&&l){if(l>=d)return r;for(var h=0;h<n[J];h++){var f=n[h];if(!o(r,f)&&o(e,f)){r[f]=e[f];break}}return r}return c}function o(e,t){return e.hasOwnProperty(t)}function a(e,t){return null!=e[t]&&"auto"!==e[t]}function l(e,t,n){s(e,function(e){t[e]=n[e]})}!n[ie](i)&&(i={});var c=["width","left","right"],u=[ae,"top",se],d=r(c),h=r(u);l(c,e,d),l(u,e,h)},l.getLayoutParams=function(e){return l.copyLayoutParams({},e)},l.copyLayoutParams=function(e,t){return t&&e&&s(u,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e},l}),t("echarts/component/legend/LegendModel",[ge,me,"../../model/Model",i],function(e){var t=e(me),n=e("../../model/Model"),r=e(i).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n),e.selected=e.selected||{},this._updateData(n);var i=this._data,r=this[S].selected;if(i[0]&&"single"===this.get("selectedMode")){var o=!1;for(var a in r)r[a]&&(this.select(a),o=!0);!o&&this.select(i[0].get("name"))}},mergeOption:function(e){r.superCall(this,"mergeOption",e),this._updateData(this[w])},_updateData:function(e){var i=t.map(this.get("data")||[],function(e){return typeof e===he&&(e={name:e}),new n(e,this,this[w])},this);this._data=i;var r=t.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();r=r[_](t.mapArray(t[x]))}}),this._availableNames=r},getData:function(){return this._data},select:function(e){var n=this[S].selected,i=this.get("selectedMode");if("single"===i){var r=this._data;t.each(r,function(e){n[e.get("name")]=!1})}n[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this[S].selected[e]=!1)},toggleSelected:function(e){var t=this[S].selected;e in t||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var n=this[S].selected;return!(e in n&&!n[e])&&t[q](this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});return r}),t("echarts/component/legend/legendAction",[ge,i,me],function(e){function t(e,t,n){var i,o={},a="toggleSelected"===e;return n.eachComponent("legend",function(n){a&&null!=i?n[i?"select":"unSelect"](t.name):(n[e](t.name),i=n.isSelected(t.name));var s=n[K]();r.each(s,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var i=n.isSelected(t);o[t]=t in o?o[t]&&i:i}})}),{name:t.name,selected:o}}var n=e(i),r=e(me);n.registerAction("legendToggleSelect","legendselectchanged",r.curry(t,"toggleSelected")),n.registerAction("legendSelect","legendselected",r.curry(t,"select")),n.registerAction("legendUnSelect","legendunselected",r.curry(t,"unSelect"))}),t("echarts/component/legend/LegendView",[ge,me,"../../util/symbol",r,"../helper/listComponent",i],function(e){function t(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function n(e,t,n){e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function o(e,t,n){e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var a=e(me),s=e("../../util/symbol"),l=e(r),c=e("../helper/listComponent"),u=a.curry,d="#ccc";return e(i).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(e,i,r){var s=this.group;if(s[z](),e.get("show")){var d=e.get("selectedMode"),h=e.get("align");"auto"===h&&(h="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left");var f={};a.each(e[K](),function(a){var c=a.get("name");if(""===c||"\n"===c)return void s.add(new l.Group({newline:!0}));var p=i.getSeriesByName(c)[0];if(!f[c])if(p){var m=p[K](),g=m.getVisual("color");typeof g===H&&(g=g(p.getDataParams(0)));var v=m.getVisual("legendSymbol")||"roundRect",b=m.getVisual("symbol"),x=this._createItem(c,a,e,v,b,h,g,d);x.on("click",u(t,c,r)).on(Z,u(n,p,"",r)).on(G,u(o,p,"",r)),f[c]=!0}else i.eachRawSeries(function(i){if(!f[c]&&i.legendDataProvider){var s=i.legendDataProvider(),l=s.indexOfName(c);if(0>l)return;var p=s[y](l,"color"),m="roundRect",g=this._createItem(c,a,e,m,null,h,p,d);g.on("click",u(t,c,r)).on(Z,u(n,i,c,r)).on(G,u(o,i,c,r)),f[c]=!0}},this)},this),c.layout(s,e,r),c.addBackground(s,e)}},_createItem:function(e,t,n,i,r,o,a,c){var u=n.get("itemWidth"),h=n.get("itemHeight"),f=n.isSelected(e),p=new l.Group,m=t[de](L),g=t.get("icon");if(i=g||i,p.add(s.createSymbol(i,0,0,u,h,f?a:d)),!g&&r&&(r!==i||"none"==r)){var v=.8*h;"none"===r&&(r="circle"),p.add(s.createSymbol(r,(u-v)/2,(h-v)/2,v,v,f?a:d))}var b="left"===o?u+5:-5,y=o,x=n.get("formatter");typeof x===he&&x?e=x[V]("{name}",e):typeof x===H&&(e=x(e));var w=new l.Text({style:{text:e,x:b,y:h/2,fill:f?m[R]():d,textFont:m[I](),textAlign:y,textVerticalAlign:"middle"}});return p.add(w),p.add(new l.Rect({shape:p[N](),invisible:!0})),p.eachChild(function(e){e.silent=!c}),this.group.add(p),l.setHoverStyle(p),p}})}),t("echarts/component/legend/legendFilter",[],function(){return function(e){var t=e.findComponents({mainType:"legend"});t&&t[J]&&e.filterSeries(function(e){for(var n=0;n<t[J];n++)if(!t[n].isSelected(e.name))return!1;return!0})}}),t("echarts/scale/Interval",[ge,"../util/number","../util/format","./Scale"],function(e){var t=e("../util/number"),n=e("../util/format"),i=e("./Scale"),r=Math.floor,o=Math.ceil,a=i[te]({type:"interval",_interval:0,setExtent:function(e,t){var n=this[D];isNaN(e)||(n[0]=parseFloat(e)),isNaN(t)||(n[1]=parseFloat(t))},unionExtent:function(e){var t=this[D];e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),a[fe].setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this[D].slice()},getTicks:function(){this._interval||this.niceTicks();var e=this._interval,n=this[D],i=[],r=1e4;if(e){var o=this._niceExtent;n[0]<o[0]&&i.push(n[0]);for(var a=o[0];a<=o[1];)if(i.push(a),a=t.round(a+e),i[J]>r)return[];n[1]>o[1]&&i.push(n[1])}return i},getTicksLabels:function(){for(var e=[],t=this[C](),n=0;n<t[J];n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e){return n.addCommas(e)},niceTicks:function(e){e=e||5;var n=this[D],i=n[1]-n[0];if(isFinite(i)){0>i&&(i=-i,n.reverse());var a=t.nice(i/e,!0),s=[t.round(o(n[0]/a)*a),t.round(r(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},niceExtent:function(e,n,i){var a=this[D];if(a[0]===a[1])if(0!==a[0]){var s=a[0]/2;a[0]-=s,a[1]+=s}else a[1]=1;var l=a[1]-a[0];isFinite(l)||(a[0]=0,a[1]=1),this.niceTicks(e);var c=this._interval;n||(a[0]=t.round(r(a[0]/c)*c)),i||(a[1]=t.round(o(a[1]/c)*c))}});return a[oe]=function(){return new a},a}),t("echarts/util/model",[ge,"./format","./number",me],function(e){var t=e("./format"),i=e("./number"),r=e(me),o=["x","y","z",n,"angle"],s={};return s.createNameEach=function(e,t){e=e.slice();var n=r.map(e,s.capitalFirst);t=(t||[]).slice();var i=r.map(t,s.capitalFirst);return function(o,a){r.each(e,function(e,r){for(var s={name:e,capital:n[r]},l=0;l<t[J];l++)s[t[l]]=e+i[l];o.call(a,s)})}},s.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e},s.eachAxisDim=s.createNameEach(o,["axisIndex","axis","index"]),s.normalizeToArray=function(e){return r[W](e)?e:null==e?[]:[e]},s.createLinkedNodesFinder=function(e,t,n){function i(e,t){return r[q](t.nodes,e)>=0}function o(e,i){var o=!1;return t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]&&(o=!0)})}),o}function a(e,i){i.nodes.push(e),t(function(t){r.each(n(e,t)||[],function(e){i.records[t.name][e]=!0})})}return function(n){function r(e){!i(e,s)&&o(e,s)&&(a(e,s),l=!0)}var s={nodes:[],records:{}};if(t(function(e){s.records[e.name]={}}),!n)return s;a(n,s);var l;do l=!1,e(r);while(l);return s}},s.defaultEmphasis=function(e,t){if(e){var n=e.emphasis=e.emphasis||{},i=e[b]=e[b]||{};r.each(t,function(e){var t=r.retrieve(n[e],i[e]);null!=t&&(n[e]=t)})}},s.LABEL_OPTIONS=[E,"show",L,"distance","formatter"],s.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)},s.converDataValue=function(e,t){var n=t&&t.type;return n===a?e:("time"!==n||isFinite(e)||null==e||"-"===e||(e=+i.parseDate(e)),null==e||""===e?NaN:+e)},s.dataFormatMixin={getDataParams:function(e,t){var n=this[K](t),i=this[Y],r=this.name,o=this.getRawValue(e,t),a=n.getRawIndex(e),s=n[x](e,!0),l=n.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:r,name:s,dataIndex:a,data:l,dataType:t,value:o,color:n[y](e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,n,i,o){n=n||b;var a=this[K](i),s=a[u](e),l=this.getDataParams(e,i);null!=o&&r[W](l.value)&&(l.value=l.value[o]);var c=s.get(["label",n,"formatter"]);return typeof c===H?(l.status=n,c(l)):typeof c===he?t.formatTpl(c,l):void 0},getRawValue:function(e,t){var n=this[K](t),i=n.getRawDataItem(e);return null!=i?r[ie](i)&&!r[W](i)?i.value:i:void 0},formatTooltip:r.noop},s.mappingToExists=function(e,t){t=(t||[]).slice();var n=r.map(e||[],function(e){return{exist:e}});return r.each(t,function(e,i){if(r[ie](e))for(var o=0;o<n[J];o++){var a=n[o].exist;if(!n[o][S]&&(null!=e.id&&a.id===e.id+""||null!=e.name&&!s.isIdInner(e)&&!s.isIdInner(a)&&a.name===e.name+"")){n[o][S]=e,t[i]=null;break}}}),r.each(t,function(e){if(r[ie](e)){for(var t=0;t<n[J];t++){var i=n[t].exist;if(!n[t][S]&&!s.isIdInner(i)&&null==e.id){n[t][S]=e;break}}t>=n[J]&&n.push({option:e})}}),n},s.isIdInner=function(e){return r[ie](e)&&e.id&&0===(e.id+"")[q]("\x00_ec_\x00")},s}),t("echarts/model/Model",[ge,me,"../util/clazz","./mixin/lineStyle","./mixin/areaStyle","./mixin/textStyle","./mixin/itemStyle"],function(e){function t(e,t,n,i){this.parentModel=t,this[w]=n,this[S]=e,this.init&&(arguments[J]<=4?this.init(e,t,n,i):this.init.apply(this,arguments))}var n=e(me),i=e("../util/clazz");t[fe]={constructor:t,init:null,mergeOption:function(e){n.merge(this[S],e,!0)},get:function(e,t){if(!e)return this[S];typeof e===he&&(e=e.split("."));for(var n=this[S],i=this.parentModel,r=0;r<e[J]&&(!e[r]||(n=n&&"object"==typeof n?n[e[r]]:null,null!=n));r++);return null==n&&i&&!t&&(n=i.get(e)),n},getShallow:function(e,t){var n=this[S],i=n&&n[e],r=this.parentModel;return null==i&&r&&!t&&(i=r.getShallow(e)),i},getModel:function(e,n){var i=this.get(e,!0),r=this.parentModel,o=new t(i,n||r&&r[de](e),this[w]);return o},isEmpty:function(){return null==this[S]},restoreData:function(){},clone:function(){var e=this.constructor;return new e(n.clone(this[S]))},setReadOnly:function(e){i.setReadOnly(this,e)}},i.enableClassExtend(t);var r=n.mixin;return r(t,e("./mixin/lineStyle")),r(t,e("./mixin/areaStyle")),r(t,e("./mixin/textStyle")),r(t,e("./mixin/itemStyle")),t}),t("echarts/component/tooltip/TooltipView",[ge,"./TooltipContent",r,me,"../../util/format","../../util/number","zrender/core/env",i],function(e){function t(e,t){if(!e||!t)return!1;var n=T.round;return n(e[0])===n(t[0])&&n(e[1])===n(t[1])}function a(e,t,n,i){return{x1:e,y1:t,x2:n,y2:i}}function l(e,t,n,i){return{x:e,y:t,width:n,height:i}}function d(e,t,n,i,r,o){return{cx:e,cy:t,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function h(e,t,n,i,r){var o=n.clientWidth,a=n.clientHeight,s=20;return e+o+s>i?e-=o+s:e+=s,t+a+s>r?t-=a+s:t+=s,[e,t]}function f(e,t,n){var i=n.clientWidth,r=n.clientHeight,o=5,a=0,s=0,l=t.width,c=t[ae];switch(e){case p:a=t.x+l/2-i/2,s=t.y+c/2-r/2;break;case"top":a=t.x+l/2-i/2,s=t.y-r-o;break;case se:a=t.x+l/2-i/2,s=t.y+c+o;break;case"left":a=t.x-i-o,s=t.y+c/2-r/2;break;case"right":a=t.x+l+o,s=t.y+c/2-r/2}return[a,s]}function b(e,t,n,i,r,o,a){var s=a[ue](),l=a[ce](),c=o&&o[N]().clone();if(o&&c[g](o.transform),typeof e===H&&(e=e([t,n],r,i.el,c)),C[W](e))t=D(e[0],s),n=D(e[1],l);else if(typeof e===he&&o){var u=f(e,c,i.el);t=u[0],n=u[1]}else{var u=h(t,n,i.el,s,l);t=u[0],n=u[1]}i.moveTo(t,n)}function y(e){var t=e[j],n=e.get("tooltip.trigger",!0);return!(!t||"cartesian2d"!==t.type&&"polar"!==t.type&&"single"!==t.type||"item"===n)}var w=e("./TooltipContent"),_=e(r),C=e(me),S=e("../../util/format"),T=e("../../util/number"),D=T[c],A=e("zrender/core/env");e(i).extendComponentView({type:"tooltip",_axisPointers:{},init:function(e,t){if(!A.node){var n=new w(t.getDom(),t);this._tooltipContent=n,t.on("showTip",this._manuallyShowTip,this),t.on("hideTip",this._manuallyHideTip,this)}},render:function(e,t,n){if(!A.node){this.group[z](),this._axisPointers={},this._tooltipModel=e,this._ecModel=t,this._api=n,this._lastHover={};var i=this._tooltipContent;i[re](),i.enterable=e.get("enterable"),this._alwaysShowContent=e.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(e,t);var r=this._crossText;if(r&&this.group.add(r),null!=this._lastX&&null!=this._lastY){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){o._manuallyShowTip({x:o._lastX,y:o._lastY})})}var a=this._api.getZr();a.off("click",this._tryShow),a.off("mousemove",this._mousemove),a.off(G,this._hide),a.off("globalout",this._hide),"click"===e.get("triggerOn")?a.on("click",this._tryShow,this):(a.on("mousemove",this._mousemove,this),a.on(G,this._hide,this),a.on("globalout",this._hide,this))}},_mousemove:function(e){var t=this._tooltipModel.get("showDelay"),n=this;clearTimeout(this._showTimeout),t>0?this._showTimeout=setTimeout(function(){n._tryShow(e)},t):this._tryShow(e)},_manuallyShowTip:function(e){if(e.from!==this.uid){var t=this._ecModel,n=e[Y],i=e[$],r=t.getSeriesByIndex(n),a=this._api;if(null==e.x||null==e.y){if(r||t.eachSeries(function(e){y(e)&&!r&&(r=e)}),r){var s=r[K]();null==i&&(i=s.indexOfName(e.name));var l,c,u=s[v](i),d=r[j];if(d&&d.dataToPoint){var h=d.dataToPoint(s.getValues(C.map(d[o],function(e){return r.coordDimToDataDim(e)[0]}),i,!0));l=h&&h[0],c=h&&h[1]}else if(u){var f=u[N]().clone();f[g](u.transform),l=f.x+f.width/2,c=f.y+f[ae]/2}null!=l&&null!=c&&this._tryShow({offsetX:l,offsetY:c,target:u,event:{}})}}else{var u=a.getZr().handler.findHover(e.x,e.y);this._tryShow({offsetX:e.x,offsetY:e.y,target:u,event:{}})}}},_manuallyHideTip:function(e){e.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(e,t){var n={};return t.eachSeries(function(e){if(y(e)){var t,i,r=e[j];"cartesian2d"===r.type?(t=r.getBaseAxis(),i=t.dim+t.index):"single"===r.type?(t=r.getAxis(),i=t.dim+t.type):(t=r.getBaseAxis(),i=t.dim+r.name),n[i]=n[i]||{coordSys:[],series:[]},n[i].coordSys.push(r),n[i].series.push(e)}},this),n},_tryShow:function(e){var t=e[X],n=this._tooltipModel,i=n.get("trigger"),r=this._ecModel,o=this._api;if(n)if(this._lastX=e.offsetX,this._lastY=e.offsetY,t&&null!=t[$]){var a=t.dataModel||r.getSeriesByIndex(t[Y]),s=t[$],l=a[K]()[u](s);"axis"===(l.get("tooltip.trigger")||i)?this._showAxisTooltip(n,r,e):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(a,s,t.dataType,e)),o.dispatchAction({type:"showTip",from:this.uid,dataIndex:t[$],seriesIndex:t[Y]})}else"item"===i?this._hide():this._showAxisTooltip(n,r,e),"cross"===n.get("axisPointer.type")&&o.dispatchAction({type:"showTip",from:this.uid,x:e.offsetX,y:e.offsetY})},_showAxisTooltip:function(e,n,i){var r=e[de]("axisPointer"),a=r.get("type");if("cross"===a){var s=i[X];if(s&&null!=s[$]){var l=n.getSeriesByIndex(s[Y]),c=s[$];this._showItemTooltipContent(l,c,s.dataType,i)}}this._showAxisPointer();var u=!0;C.each(this._seriesGroupByAxis,function(e){var n=e.coordSys,s=n[0],l=[i.offsetX,i.offsetY];if(!s.containPoint(l))return void this._hideAxisPointer(s.name);u=!1;var c=s[o],d=s.pointToData(l,!0);l=s.dataToPoint(d);var h=s.getBaseAxis(),f=r.get("axis");"auto"===f&&(f=h.dim);var p=!1,m=this._lastHover;if("cross"===a)t(m.data,d)&&(p=!0),m.data=d;else{var g=C[q](c,f);m.data===d[g]&&(p=!0),m.data=d[g]}"cartesian2d"!==s.type||p?"polar"!==s.type||p?"single"!==s.type||p||this._showSinglePointer(r,s,f,l):this._showPolarPointer(r,s,f,l):this._showCartesianPointer(r,s,f,l),"cross"!==a&&this._dispatchAndShowSeriesTooltipContent(s,e.series,l,d,p)},this),this._tooltipModel.get("show")||this._hideAxisPointer(),u&&this._hide()},_showCartesianPointer:function(e,t,n,i){function r(n,i,r){var o="x"===n?a(i[0],r[0],i[0],r[1]):a(r[0],i[1],r[1],i[1]),l=s._getPointerElement(t,e,n,o);u?_.updateProps(l,{shape:o},e):l.attr({shape:o})}function o(n,i,r){var o=t.getAxis(n),a=o.getBandWidth(),c=r[1]-r[0],d="x"===n?l(i[0]-a/2,r[0],a,c):l(r[0],i[1]-a/2,c,a),h=s._getPointerElement(t,e,n,d);u?_.updateProps(h,{shape:d},e):h.attr({shape:d})}var s=this,c=e.get("type"),u="cross"!==c;if("cross"===c)r("x",i,t.getAxis("y").getGlobalExtent()),r("y",i,t.getAxis("x").getGlobalExtent()),this._updateCrossText(t,i,e);else{var d=t.getAxis("x"===n?"y":"x"),h=d.getGlobalExtent();"cartesian2d"===t.type&&("line"===c?r:o)(n,i,h)}},_showSinglePointer:function(e,t,n,i){function r(n,i,r){var s=t.getAxis(),c=s.orient,u="horizontal"===c?a(i[0],r[0],i[0],r[1]):a(r[0],i[1],r[1],i[1]),d=o._getPointerElement(t,e,n,u);l?_.updateProps(d,{shape:u},e):d.attr({shape:u})}var o=this,s=e.get("type"),l="cross"!==s,c=t.getRect(),u=[c.y,c.y+c[ae]];r(n,i,u)},_showPolarPointer:function(e,t,i,r){function o(n,i,r){var o,s=t.pointToCoord(i);if("angle"===n){var c=t.coordToPoint([r[0],s[1]]),u=t.coordToPoint([r[1],s[1]]);o=a(c[0],c[1],u[0],u[1])}else o={cx:t.cx,cy:t.cy,r:s[0]};var d=l._getPointerElement(t,e,n,o);f?_.updateProps(d,{shape:o},e):d.attr({shape:o})}function s(n,i,r){var o,a=t.getAxis(n),s=a.getBandWidth(),c=t.pointToCoord(i),u=Math.PI/180;o="angle"===n?d(t.cx,t.cy,r[0],r[1],(-c[1]-s/2)*u,(-c[1]+s/2)*u):d(t.cx,t.cy,c[0]-s/2,c[0]+s/2,0,2*Math.PI);var h=l._getPointerElement(t,e,n,o);f?_.updateProps(h,{shape:o},e):h.attr({shape:o})}var l=this,c=e.get("type"),u=t.getAngleAxis(),h=t.getRadiusAxis(),f="cross"!==c;if("cross"===c)o("angle",r,h[k]()),o(n,r,u[k]()),this._updateCrossText(t,r,e);else{var p=t.getAxis(i===n?"angle":n),m=p[k]();("line"===c?o:s)(i,r,m)}},_updateCrossText:function(e,t,n){var i=n[de]("crossStyle"),r=i[de](L),a=this._tooltipModel,l=this._crossText;l||(l=this._crossText=new _.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(l));var c=e.pointToData(t),u=e[o];c=C.map(c,function(t,n){var i=e.getAxis(u[n]);return t=i.type===s||"time"===i.type?i.scale.getLabel(t):S.addCommas(t.toFixed(i.getPixelPrecision()))}),l.setStyle({fill:r[R]()||i.get("color"),textFont:r[I](),text:c.join(", "),x:t[0]+5,y:t[1]-5}),l.z=a.get("z"),l[U]=a.get(U)},_getPointerElement:function(e,t,i,r){var o=this._tooltipModel,a=o.get("z"),s=o.get(U),l=this._axisPointers,c=e.name;if(l[c]=l[c]||{},l[c][i])return l[c][i];var u=t.get("type"),d=t[de](u+"Style"),h="shadow"===u,f=d[h?"getAreaStyle":"getLineStyle"](),p="polar"===e.type?h?"Sector":i===n?"Circle":"Line":h?"Rect":"Line";h?f[m]=null:f.fill=null;var g=l[c][i]=new _[p]({style:f,z:a,zlevel:s,silent:!0,shape:r});return this.group.add(g),g},_dispatchAndShowSeriesTooltipContent:function(e,t,i,r,o){var a=this._tooltipModel,s=this._tooltipContent,l=e.getBaseAxis(),c=C.map(t,function(e){return{seriesIndex:e[Y],dataIndex:e.getAxisTooltipDataIndex?e.getAxisTooltipDataIndex(e.coordDimToDataDim(l.dim),r,l):e[K]().indexOfNearest(e.coordDimToDataDim(l.dim)[0],r["x"===l.dim||l.dim===n?0:1])}}),u=this._lastHover,d=this._api;if(u.payloadBatch&&!o&&d.dispatchAction({type:"downplay",batch:u.payloadBatch}),o||(d.dispatchAction({type:"highlight",batch:c}),u.payloadBatch=c),d.dispatchAction({type:"showTip",dataIndex:c[0][$],seriesIndex:c[0][Y],from:this.uid}),l&&a.get("showContent")&&a.get("show")){var h,f=a.get("formatter"),p=a.get(E),m=C.map(t,function(e,t){return e.getDataParams(c[t][$])});s.show(a);var g=c[0][$];if(!o){if(this._ticket="",f){if(typeof f===he)h=S.formatTpl(f,m);else if(typeof f===H){var v=this,y="axis_"+e.name+"_"+g,w=function(e,t){e===v._ticket&&(s.setContent(t),b(p,i[0],i[1],s,m,null,d))};v._ticket=y,h=f(m,y,w)}}else{var _=t[0][K]()[x](g);h=(_?_+"<br />":"")+C.map(t,function(e,t){return e.formatTooltip(c[t][$],!0)}).join("<br />")}s.setContent(h)}b(p,i[0],i[1],s,m,null,d)}},_showItemTooltipContent:function(e,t,n,i){var r=this._api,o=e[K](),a=o[u](t),s=this._tooltipModel,l=this._tooltipContent,c=a[de]("tooltip");if(c.parentModel?c.parentModel.parentModel=s:c.parentModel=this._tooltipModel,c.get("showContent")&&c.get("show")){var d,h=c.get("formatter"),f=c.get(E),p=e.getDataParams(t);if(h){if(typeof h===he)d=S.formatTpl(h,p);else if(typeof h===H){var m=this,g="item_"+e.name+"_"+t,v=function(e,t){e===m._ticket&&(l.setContent(t),b(f,i.offsetX,i.offsetY,l,p,i[X],r))};m._ticket=g,d=h(p,g,v)}}else d=e.formatTooltip(t,!1,n);l.show(c),l.setContent(d),b(f,i.offsetX,i.offsetY,l,p,i[X],r)}},_showAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&C.each(t,function(e){e.show()})}else this.group.eachChild(function(e){e.show()}),this.group.show()},_resetLastHover:function(){var e=this._lastHover;e.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:e.payloadBatch}),this._lastHover={}},_hideAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&C.each(t,function(e){e.hide()})}else this.group.hide()},_hide:function(){clearTimeout(this._showTimeout),this._hideAxisPointer(),this._resetLastHover(),this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._api.dispatchAction({type:"hideTip",from:this.uid}),this._lastX=this._lastY=null},dispose:function(e,t){if(!A.node){var n=t.getZr();this._tooltipContent.hide(),n.off("click",this._tryShow),n.off("mousemove",this._mousemove),n.off(G,this._hide),n.off("globalout",this._hide),t.off("showTip",this._manuallyShowTip),t.off("hideTip",this._manuallyHideTip)}}})}),t("echarts/model/globalDefault",[],function(){var e="";return typeof navigator!==l&&(e=navigator.platform||""),{color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}}),t("echarts/component/tooltip/TooltipModel",[ge,i],function(e){e(i).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})}),t("echarts/scale/Scale",[ge,"../util/clazz"],function(e){function t(){this[D]=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}var n=e("../util/clazz"),i=t[fe];return i.parse=function(e){return e},i[T]=function(e){var t=this[D];return e>=t[0]&&e<=t[1]},i.normalize=function(e){var t=this[D];return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},i.scale=function(e){var t=this[D];return e*(t[1]-t[0])+t[0]},i.unionExtent=function(e){var t=this[D];e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},i[k]=function(){return this[D].slice()},i.setExtent=function(e,t){var n=this[D];isNaN(e)||(n[0]=e),isNaN(t)||(n[1]=t)},i.getTicksLabels=function(){for(var e=[],t=this[C](),n=0;n<t[J];n++)e.push(this.getLabel(t[n]));return e},n.enableClassExtend(t),n.enableClassManagement(t,{registerWhenExtend:!0}),t}),t("zrender/tool/path",[ge,"../graphic/Path","../core/PathProxy","./transformPath","../core/matrix"],function(e){function t(e,t,n,i,r,o,a,s,l,h,p){var g=l*(f/180),b=d(g)*(e-n)/2+u(g)*(t-i)/2,y=-1*u(g)*(e-n)/2+d(g)*(t-i)/2,x=b*b/(a*a)+y*y/(s*s);x>1&&(a*=c(x),s*=c(x));var w=(r===o?-1:1)*c((a*a*s*s-a*a*y*y-s*s*b*b)/(a*a*y*y+s*s*b*b))||0,_=w*a*y/s,k=w*-s*b/a,C=(e+n)/2+d(g)*_-u(g)*k,S=(t+i)/2+u(g)*_+d(g)*k,T=v([1,0],[(b-_)/a,(y-k)/s]),D=[(b-_)/a,(y-k)/s],A=[(-1*b-_)/a,(-1*y-k)/s],E=v(D,A);m(D,A)<=-1&&(E=f),m(D,A)>=1&&(E=0),0===o&&E>0&&(E-=2*f),1===o&&0>E&&(E+=2*f),p.addData(h,C,S,a,s,T,E,g,o)}function n(e){if(!e)return[];var n,i=e[V](/-/g," -")[V](/  /g," ")[V](/ /g,",")[V](/,,/g,",");for(n=0;n<l[J];n++)i=i[V](new RegExp(l[n],"g"),"|"+l[n]);var r,a=i.split("|"),s=0,c=0,u=new o,d=o.CMD;for(n=1;n<a[J];n++){var h,f=a[n],p=f.charAt(0),m=0,g=f.slice(1)[V](/e,-/g,"e-").split(",");g[J]>0&&""===g[0]&&g.shift();for(var v=0;v<g[J];v++)g[v]=parseFloat(g[v]);for(;m<g[J]&&!isNaN(g[m])&&!isNaN(g[0]);){var b,y,x,w,_,k,C,S=s,T=c;switch(p){case"l":s+=g[m++],c+=g[m++],h=d.L,u.addData(h,s,c);break;case"L":s=g[m++],c=g[m++],h=d.L,u.addData(h,s,c);break;case"m":s+=g[m++],c+=g[m++],h=d.M,u.addData(h,s,c),p="l";break;case"M":s=g[m++],c=g[m++],h=d.M,u.addData(h,s,c),p="L";break;case"h":s+=g[m++],h=d.L,
u.addData(h,s,c);break;case"H":s=g[m++],h=d.L,u.addData(h,s,c);break;case"v":c+=g[m++],h=d.L,u.addData(h,s,c);break;case"V":c=g[m++],h=d.L,u.addData(h,s,c);break;case"C":h=d.C,u.addData(h,g[m++],g[m++],g[m++],g[m++],g[m++],g[m++]),s=g[m-2],c=g[m-1];break;case"c":h=d.C,u.addData(h,g[m++]+s,g[m++]+c,g[m++]+s,g[m++]+c,g[m++]+s,g[m++]+c),s+=g[m-2],c+=g[m-1];break;case"S":b=s,y=c;var D=u.len(),A=u.data;r===d.C&&(b+=s-A[D-4],y+=c-A[D-3]),h=d.C,S=g[m++],T=g[m++],s=g[m++],c=g[m++],u.addData(h,b,y,S,T,s,c);break;case"s":b=s,y=c;var D=u.len(),A=u.data;r===d.C&&(b+=s-A[D-4],y+=c-A[D-3]),h=d.C,S=s+g[m++],T=c+g[m++],s+=g[m++],c+=g[m++],u.addData(h,b,y,S,T,s,c);break;case"Q":S=g[m++],T=g[m++],s=g[m++],c=g[m++],h=d.Q,u.addData(h,S,T,s,c);break;case"q":S=g[m++]+s,T=g[m++]+c,s+=g[m++],c+=g[m++],h=d.Q,u.addData(h,S,T,s,c);break;case"T":b=s,y=c;var D=u.len(),A=u.data;r===d.Q&&(b+=s-A[D-4],y+=c-A[D-3]),s=g[m++],c=g[m++],h=d.Q,u.addData(h,b,y,s,c);break;case"t":b=s,y=c;var D=u.len(),A=u.data;r===d.Q&&(b+=s-A[D-4],y+=c-A[D-3]),s+=g[m++],c+=g[m++],h=d.Q,u.addData(h,b,y,s,c);break;case"A":x=g[m++],w=g[m++],_=g[m++],k=g[m++],C=g[m++],S=s,T=c,s=g[m++],c=g[m++],h=d.A,t(S,T,s,c,k,C,x,w,_,h,u);break;case"a":x=g[m++],w=g[m++],_=g[m++],k=g[m++],C=g[m++],S=s,T=c,s+=g[m++],c+=g[m++],h=d.A,t(S,T,s,c,k,C,x,w,_,h,u)}}("z"===p||"Z"===p)&&(h=d.Z,u.addData(h)),r=h}return u.toStatic(),u}function i(e,t){var i,r=n(e);return t=t||{},t.buildPath=function(e){e.setData(r.data),i&&a(e,i);var t=e[h]();t&&e.rebuildPath(t)},t[g]=function(e){i||(i=s[oe]()),s.mul(i,e,i)},t}var r=e("../graphic/Path"),o=e("../core/PathProxy"),a=e("./transformPath"),s=e("../core/matrix"),l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],c=Math.sqrt,u=Math.sin,d=Math.cos,f=Math.PI,p=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},m=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(p(e)*p(t))},v=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(m(e,t))};return{createFromString:function(e,t){return new r(i(e,t))},extendFromString:function(e,t){return r[te](i(e,t))},mergePath:function(e,t){var n,i,o=[],a=e[J];for(i=0;a>i;i++)n=e[i],n.__dirty&&n.buildPath(n.path,n.shape),o.push(n.path);var s=new r(t);return s.buildPath=function(e){e.appendPath(o);var t=e[h]();t&&e.rebuildPath(t)},s}}}),t("zrender/graphic/Path",[ge,"./Displayable",d,"../core/PathProxy","../contain/path","./Gradient"],function(e){function t(e){var t=e.fill;return null!=t&&"none"!==t}function n(e){var t=e[m];return null!=t&&"none"!==t&&e.lineWidth>0}function i(e){r.call(this,e),this.path=new a}var r=e("./Displayable"),o=e(d),a=e("../core/PathProxy"),s=e("../contain/path"),l=(e("./Gradient"),Math.abs);return i[fe]={constructor:i,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e){e.save();var i=this.style,r=this.path,o=n(i),a=t(i),s=a&&!!i.fill.colorStops,l=o&&!!i[m].colorStops;if(i.bind(e,this),this.setTransform(e),this.__dirtyPath){var c=this[N]();s&&(this._fillGradient=i.getGradient(e,i.fill,c)),l&&(this._strokeGradient=i.getGradient(e,i[m],c))}s&&(e.fillStyle=this._fillGradient),l&&(e.strokeStyle=this._strokeGradient);var u=i.lineDash,d=i.lineDashOffset,h=!!e.setLineDash,f=this.getGlobalScale();r.setScale(f[0],f[1]),this.__dirtyPath||u&&!h&&o?(r=this.path.beginPath(e),u&&!h&&(r.setLineDash(u),r.setLineDashOffset(d)),this.buildPath(r,this.shape),this.__dirtyPath=!1):(e.beginPath(),this.path.rebuildPath(e)),a&&r.fill(e),u&&h&&(e.setLineDash(u),e.lineDashOffset=d),o&&r[m](e),null!=i.text&&this.drawRectText(e,this[N]()),e.restore()},buildPath:function(){},getBoundingRect:function(){var e=this._rect,i=this.style,r=!e;if(r){var o=this.path;this.__dirtyPath&&(o.beginPath(),this.buildPath(o,this.shape)),e=o[N]()}if(this._rect=e,n(i)){var a=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){a.copy(e);var s=i.lineWidth,l=i.strokeNoScale?this.getLineScale():1;t(i)||(s=Math.max(s,this.strokeContainThreshold)),l>1e-10&&(a.width+=s/l,a[ae]+=s/l,a.x-=s/l/2,a.y-=s/l/2)}return a}return e},contain:function(e,i){var r=this.transformCoordToLocal(e,i),o=this[N](),a=this.style;if(e=r[0],i=r[1],o[T](e,i)){var l=this.path.data;if(n(a)){var c=a.lineWidth,u=a.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(t(a)||(c=Math.max(c,this.strokeContainThreshold)),s.containStroke(l,c/u,e,i)))return!0}if(t(a))return s[T](l,e,i)}return!1},dirty:function(e){0===arguments[J]&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?this.setShape(t):r[fe].attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(o[ie](e))for(var i in e)n[i]=e[i];else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}},i[te]=function(e){var t=function(t){i.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var o in n)!r.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(r[o]=n[o])}e.init&&e.init.call(this,t)};o[B](t,i);for(var n in e)"style"!==n&&"shape"!==n&&(t[fe][n]=e[n]);return t},o[B](i,r),i}),t("zrender/graphic/Gradient",[ge],function(){var e=function(e){this.colorStops=e||[]};return e[fe]={constructor:e,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},e}),t("zrender/container/Group",[ge,d,"../Element","../core/BoundingRect"],function(e){var t=e(d),n=e("../Element"),i=e("../core/BoundingRect"),r=function(e){e=e||{},n.call(this,e);for(var t in e)this[t]=e[t];this._children=[],this.__storage=null,this.__dirty=!0};return r[fe]={constructor:r,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,n=0;n<t[J];n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children[J]},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children,i=n[q](t);i>=0&&(n[Q](i,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent[ne](e),e.parent=this;var t=this.__storage,n=this.__zr;t&&t!==e.__storage&&(t.addToMap(e),e instanceof r&&e.addChildrenToStorage(t)),n&&n.refresh()},remove:function(e){var n=this.__zr,i=this.__storage,o=this._children,a=t[q](o,e);return 0>a?this:(o[Q](a,1),e.parent=null,i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),n&&n.refresh(),this)},removeAll:function(){var e,t,n=this._children,i=this.__storage;for(t=0;t<n[J];t++)e=n[t],i&&(i.delFromMap(e.id),e instanceof r&&e.delChildrenFromStorage(i)),e.parent=null;return n[J]=0,this},eachChild:function(e,t){for(var n=this._children,i=0;i<n[J];i++){var r=n[i];e.call(t,r,i)}return this},traverse:function(e,t){for(var n=0;n<this._children[J];n++){var i=this._children[n];e.call(t,i),"group"===i.type&&i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children[J];t++){var n=this._children[t];e.addToMap(n),n instanceof r&&n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children[J];t++){var n=this._children[t];e.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,n=new i(0,0,0,0),r=e||this._children,o=[],a=0;a<r[J];a++){var s=r[a];if(!s[le]&&!s.invisible){var l=s[N](),c=s.getLocalTransform(o);c?(n.copy(l),n[g](c),t=t||n.clone(),t.union(n)):(t=t||l.clone(),t.union(l))}}return t||n}},t[B](r,n),r}),t("zrender/graphic/Image",[ge,"./Displayable","../core/BoundingRect",d,"./helper/roundRect","../core/LRU"],function(e){function t(e){n.call(this,e)}var n=e("./Displayable"),i=e("../core/BoundingRect"),r=e(d),o=e("./helper/roundRect"),a=e("../core/LRU"),s=new a(50);return t[fe]={constructor:t,type:"image",brush:function(e){var t,n=this.style,i=n.image;if(t=typeof i===he?this._image:i,!t&&i){var r=s.get(i);if(!r)return t=new Image,t.onload=function(){t.onload=null;for(var e=0;e<r.pending[J];e++)r.pending[e].dirty()},r={image:t,pending:[this]},t.src=i,s.put(i,r),void(this._image=t);if(t=r.image,this._image=t,!t.width||!t[ae])return void r.pending.push(this)}if(t){var a=n.width||t.width,l=n[ae]||t[ae],c=n.x||0,u=n.y||0;if(!t.width||!t[ae])return;if(e.save(),n.bind(e),this.setTransform(e),n.r&&(e.beginPath(),o.buildPath(e,n),e.clip()),n.sWidth&&n.sHeight){var d=n.sx||0,h=n.sy||0;e.drawImage(t,d,h,n.sWidth,n.sHeight,c,u,a,l)}else if(n.sx&&n.sy){var d=n.sx,h=n.sy,f=a-d,p=l-h;e.drawImage(t,d,h,f,p,c,u,a,l)}else e.drawImage(t,c,u,a,l);null==n.width&&(n.width=a),null==n[ae]&&(n[ae]=l),null!=n.text&&this.drawRectText(e,this[N]()),e.restore()}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new i(e.x||0,e.y||0,e.width||0,e[ae]||0)),this._rect}},r[B](t,n),t}),t("zrender/graphic/shape/Circle",[ge,"../Path"],function(e){return e("../Path")[te]({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t){e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})}),t("zrender/graphic/shape/Sector",[ge,"../Path"],function(e){return e("../Path")[te]({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=t.startAngle,s=t.endAngle,l=t.clockwise,c=Math.cos(a),u=Math.sin(a);e.moveTo(c*r+n,u*r+i),e.lineTo(c*o+n,u*o+i),e.arc(n,i,o,a,s,!l),e.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&e.arc(n,i,r,s,a,l),e.closePath()}})}),t("zrender/graphic/shape/Ring",[ge,"../Path"],function(e){return e("../Path")[te]({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=2*Math.PI;e.moveTo(n+t.r,i),e.arc(n,i,t.r,0,r,!1),e.moveTo(n+t.r0,i),e.arc(n,i,t.r0,0,r,!0)}})}),t("zrender/graphic/shape/Polygon",[ge,"../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path")[te]({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,n){t.buildPath(e,n,!0)}})}),t("zrender/graphic/shape/Polyline",[ge,"../helper/poly","../Path"],function(e){var t=e("../helper/poly");return e("../Path")[te]({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,n){t.buildPath(e,n,!1)}})}),t("zrender/graphic/shape/Line",[ge,"../Path"],function(e){return e("../Path")[te]({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,r=t.x2,o=t.y2,a=t.percent;0!==a&&(e.moveTo(n,i),1>a&&(r=n*(1-a)+r*a,o=i*(1-a)+o*a),e.lineTo(r,o))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})}),t("zrender/graphic/shape/BezierCurve",[ge,"../../core/curve","../../core/vector","../Path"],function(e){function t(e,t,n){var i=e.cpx2,r=e.cpy2;return null===i||null===r?[(n?c:s)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?c:s)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?l:a)(e.x1,e.cpx1,e.x2,t),(n?l:a)(e.y1,e.cpy1,e.y2,t)]}var n=e("../../core/curve"),i=e("../../core/vector"),r=n.quadraticSubdivide,o=n.cubicSubdivide,a=n.quadraticAt,s=n.cubicAt,l=n.quadraticDerivativeAt,c=n.cubicDerivativeAt,u=[];return e("../Path")[te]({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.cpx1,c=t.cpy1,d=t.cpx2,h=t.cpy2,f=t.percent;0!==f&&(e.moveTo(n,i),null==d||null==h?(1>f&&(r(n,l,a,f,u),l=u[1],a=u[2],r(i,c,s,f,u),c=u[1],s=u[2]),e.quadraticCurveTo(l,c,a,s)):(1>f&&(o(n,l,d,a,f,u),l=u[1],d=u[2],a=u[3],o(i,c,h,s,f,u),c=u[1],h=u[2],s=u[3]),e.bezierCurveTo(l,c,d,h,a,s)))},pointAt:function(e){return t(this.shape,e,!1)},tangentAt:function(e){var n=t(this.shape,e,!0);return i.normalize(n,n)}})}),t("zrender/graphic/shape/Arc",[ge,"../Path"],function(e){return e("../Path")[te]({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx,i=t.cy,r=Math.max(t.r,0),o=t.startAngle,a=t.endAngle,s=t.clockwise,l=Math.cos(o),c=Math.sin(o);e.moveTo(l*r+n,c*r+i),e.arc(n,i,r,o,a,!s)}})}),t("zrender/graphic/CompoundPath",[ge,"./Path"],function(e){var t=e("./Path");return t[te]({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,n=0;n<t[J];n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),n=0;n<e[J];n++)e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var n=t.paths||[],i=0;i<n[J];i++)n[i].buildPath(e,n[i].shape)},afterBrush:function(){for(var e=this.shape.paths,t=0;t<e[J];t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),t[fe][N].call(this)}})}),t("zrender/graphic/shape/Rect",[ge,"../helper/roundRect","../Path"],function(e){var t=e("../helper/roundRect");return e("../Path")[te]({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,n){var i=n.x,r=n.y,o=n.width,a=n[ae];n.r?t.buildPath(e,n):e.rect(i,r,o,a),e.closePath()}})}),t("zrender/graphic/Text",[ge,"./Displayable",d,"../contain/text"],function(e){var t=e("./Displayable"),n=e(d),i=e("../contain/text"),r=function(e){t.call(this,e)};return r[fe]={constructor:r,type:"text",brush:function(e){var t=this.style,n=t.x||0,r=t.y||0,o=t.text,a=t.fill,s=t[m];if(null!=o&&(o+=""),o){if(e.save(),this.style.bind(e),this.setTransform(e),a&&(e.fillStyle=a),s&&(e.strokeStyle=s),e.font=t.textFont||t.font,e[O]=t[O],t.textVerticalAlign){var l=i[N](o,e.font,t[O],"top");switch(e.textBaseline="top",t.textVerticalAlign){case P:r-=l[ae]/2;break;case se:r-=l[ae]}}else e.textBaseline=t.textBaseline;for(var c=i.measureText("\u56fd",e.font).width,u=o.split("\n"),d=0;d<u[J];d++)a&&e.fillText(u[d],n,r),s&&e.strokeText(u[d],n,r),r+=c;e.restore()}},getBoundingRect:function(){if(!this._rect){var e=this.style,t=e.textVerticalAlign,n=i[N](e.text+"",e.textFont||e.font,e[O],t?"top":e.textBaseline);switch(t){case P:n.y-=n[ae]/2;break;case se:n.y-=n[ae]}n.x+=e.x||0,n.y+=e.y||0,this._rect=n}return this._rect}},n[B](r,t),r}),t("zrender/graphic/LinearGradient",[ge,d,"./Gradient"],function(e){var t=e(d),n=e("./Gradient"),i=function(e,t,i,r,o){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==i?1:i,this.y2=null==r?0:r,n.call(this,o)};return i[fe]={constructor:i,type:"linear"},t[B](i,n),i}),t("zrender/graphic/RadialGradient",[ge,d,"./Gradient"],function(e){var t=e(d),n=e("./Gradient"),i=function(e,t,i,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==i?.5:i,n.call(this,r)};return i[fe]={constructor:i,type:"radial"},t[B](i,n),i}),t("zrender/core/BoundingRect",[ge,"./vector","./matrix"],function(e){function t(e,t,n,i){this.x=e,this.y=t,this.width=n,this[ae]=i}var n=e("./vector"),i=e("./matrix"),r=n[g],o=Math.min,a=Math.abs,s=Math.max;return t[fe]={constructor:t,union:function(e){var t=o(e.x,this.x),n=o(e.y,this.y);this.width=s(e.x+e.width,this.x+this.width)-t,this[ae]=s(e.y+e[ae],this.y+this[ae])-n,this.x=t,this.y=n},applyTransform:function(){var e=[],t=[];return function(n){n&&(e[0]=this.x,e[1]=this.y,t[0]=this.x+this.width,t[1]=this.y+this[ae],r(e,e,n),r(t,t,n),this.x=o(e[0],t[0]),this.y=o(e[1],t[1]),this.width=a(t[0]-e[0]),this[ae]=a(t[1]-e[1]))}}(),calculateTransform:function(e){var t=this,n=e.width/t.width,r=e[ae]/t[ae],o=i[oe]();return i.translate(o,o,[-t.x,-t.y]),i.scale(o,o,[n,r]),i.translate(o,o,[e.x,e.y]),o},intersect:function(e){var t=this,n=t.x,i=t.x+t.width,r=t.y,o=t.y+t[ae],a=e.x,s=e.x+e.width,l=e.y,c=e.y+e[ae];return!(a>i||n>s||l>o||r>c)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n[ae]},clone:function(){return new t(this.x,this.y,this.width,this[ae])},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this[ae]=e[ae]}},t}),t("echarts/util/clazz",[ge,me],function(e){function t(e,t){var n=i.slice(arguments,2);return this.superClass[fe][t].apply(e,n)}function n(e,t,n){return this.superClass[fe][t].apply(e,n)}var i=e(me),r={},o=".",a="___EC__COMPONENT__CONTAINER___",s=r.parseClassType=function(e){var t={main:"",sub:""};return e&&(e=e.split(o),t.main=e[0]||"",t.sub=e[1]||""),t};return r.enableClassExtend=function(e,r){e[te]=function(o){var a=function(){r&&r.apply(this,arguments),e.apply(this,arguments)};return i[te](a[fe],o),a[te]=this[te],a.superCall=t,a.superApply=n,i[B](a,this),a.superClass=this,a}},r.enableClassManagement=function(e,t){function n(e){var t=r[e.main];return t&&t[a]||(t=r[e.main]={},t[a]=!0),t}t=t||{};var r={};if(e.registerClass=function(e,t){if(t)if(t=s(t),t.sub){if(t.sub!==a){var i=n(t);i[t.sub]=e}}else{if(r[t.main])throw new Error(t.main+"exists.");r[t.main]=e}return e},e.getClass=function(e,t,n){var i=r[e];if(i&&i[a]&&(i=t?i[t]:null),n&&!i)throw new Error("Component "+e+"."+(t||"")+" not exists. Load it first.");return i},e.getClassesByMainType=function(e){e=s(e);var t=[],n=r[e.main];return n&&n[a]?i.each(n,function(e,n){n!==a&&t.push(e)}):t.push(n),t},e.hasClass=function(e){return e=s(e),!!r[e.main]},e.getAllClassMainTypes=function(){var e=[];return i.each(r,function(t,n){e.push(n)}),e},e.hasSubTypes=function(e){e=s(e);var t=r[e.main];return t&&t[a]},e.parseClassType=s,t.registerWhenExtend){var o=e[te];o&&(e[te]=function(t){var n=o.call(this,t);return e.registerClass(n,t.type)})}return e},r.setReadOnly=function(){},r}),t("echarts/model/mixin/lineStyle",[ge,"./makeStyleMapper"],function(e){var t=e("./makeStyleMapper")([["lineWidth","width"],[m,"color"],[A],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);return{getLineStyle:function(e){var n=t.call(this,e),i=this.getLineDash();return i&&(n.lineDash=i),n},getLineDash:function(){var e=this.get("type");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}}),t("echarts/model/mixin/areaStyle",[ge,"./makeStyleMapper"],function(e){return{getAreaStyle:e("./makeStyleMapper")([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],[A],["shadowColor"]])}}),t("echarts/model/mixin/textStyle",[ge,"zrender/contain/text"],function(e){function t(e,t){return e&&e.getShallow(t)}var n=e("zrender/contain/text");return{getTextColor:function(){var e=this[w];return this.getShallow("color")||e&&e.get("textStyle.color")},getFont:function(){var e=this[w],n=e&&e[de](L);return[this.getShallow("fontStyle")||t(n,"fontStyle"),this.getShallow("fontWeight")||t(n,"fontWeight"),(this.getShallow("fontSize")||t(n,"fontSize")||12)+"px",this.getShallow("fontFamily")||t(n,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){var t=this.get(L)||{};return n[N](e,this[I](),t.align,t.baseline)},ellipsis:function(e,t,i){return n.ellipsis(e,this[I](),t,i)}}}),t("echarts/model/mixin/itemStyle",[ge,"./makeStyleMapper"],function(e){return{getItemStyle:e("./makeStyleMapper")([["fill","color"],[m,"borderColor"],["lineWidth","borderWidth"],[A],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}}),t("echarts/coord/cartesian/Cartesian2D",[ge,me,"./Cartesian"],function(e){function t(e){i.call(this,e)}var n=e(me),i=e("./Cartesian");return t[fe]={constructor:t,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale(a)[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),n=this.getAxis("y");return t[T](t.toLocalCoord(e[0]))&&n[T](n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoints:function(e,t){return e.mapArray(["x","y"],function(e,t){return this.dataToPoint([e,t])},t,this)},dataToPoint:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),i.toGlobalCoord(i.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x"),i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),i.coordToData(i.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}},n[B](t,i),t}),t("echarts/coord/axisHelper",[ge,"../scale/Ordinal","../scale/Interval","../scale/Time","../scale/Log","../scale/Scale","../util/number",me,"zrender/contain/text"],function(e){var t=e("../scale/Ordinal"),n=e("../scale/Interval");e("../scale/Time"),e("../scale/Log");var i=e("../scale/Scale"),r=e("../util/number"),o=e(me),l=e("zrender/contain/text"),u={};return u.getScaleExtent=function(e,t){var n=e.scale,i=n[k](),s=i[1]-i[0];if(n.type===a)return isFinite(s)?i:[0,0];var l=t.getMin?t.getMin():t.get("min"),u=t.getMax?t.getMax():t.get("max"),d=t.getNeedCrossZero?t.getNeedCrossZero():!t.get("scale"),h=t.get("boundaryGap");o[W](h)||(h=[h||0,h||0]),h[0]=r[c](h[0],1),h[1]=r[c](h[1],1);var f=!0,p=!0;return null==l&&(l=i[0]-h[0]*s,f=!1),null==u&&(u=i[1]+h[1]*s,p=!1),"dataMin"===l&&(l=i[0]),"dataMax"===u&&(u=i[1]),d&&(l>0&&u>0&&!f&&(l=0),0>l&&0>u&&!p&&(u=0)),[l,u]},u.niceScaleExtent=function(e,t){var n=e.scale,i=u.getScaleExtent(e,t),r=null!=(t.getMin?t.getMin():t.get("min")),o=null!=(t.getMax?t.getMax():t.get("max"));n.setExtent(i[0],i[1]),n.niceExtent(t.get("splitNumber"),r,o);var a=t.get("interval");null!=a&&n.setInterval&&n.setInterval(a)},u.createScaleByModel=function(e,r){if(r=r||e.get("type"))switch(r){case s:return new t(e.getCategories(),[1/0,-1/0]);case"value":return new n;default:return(i.getClass(r)||n)[oe](e)}},u.ifAxisCrossZero=function(e){var t=e.scale[k](),n=t[0],i=t[1];return!(n>0&&i>0||0>n&&0>i)},u.getAxisLabelInterval=function(e,t,n,i){var r,o=0,a=0,s=1;t[J]>40&&(s=Math.round(t[J]/40));for(var c=0;c<e[J];c+=s){var u=e[c],d=l[N](t[c],n,M,"top");d[i?"x":"y"]+=u,d[i?"width":ae]*=1.5,r?r.intersect(d)?(a++,o=Math.max(o,a)):(r.union(d),a=0):r=d.clone()}return 0===o&&s>1?s:o*s},u.getFormattedLabels=function(e,t){var n=e.scale,i=n.getTicksLabels(),r=n[C]();return typeof t===he?(t=function(e){return function(t){return e[V]("{value}",t)}}(t),o.map(i,t)):typeof t===H?o.map(r,function(i,r){return t(e.type===s?n.getLabel(i):i,r)},this):i},u}),t("echarts/coord/cartesian/Axis2D",[ge,me,"../Axis","./axisLabelInterval"],function(e){var t=e(me),n=e("../Axis"),i=e("./axisLabelInterval"),r=function(e,t,i,r,o){n.call(this,e,t,i),this.type=r||"value",this[E]=o||se};return r[fe]={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this[E];return"top"===e||e===se},getGlobalExtent:function(){var e=this[k]();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),e},getLabelInterval:function(){var e=this._labelInterval;return e||(e=this._labelInterval=i(this)),e},isLabelIgnored:function(e){if(this.type===s){var t=this.getLabelInterval();return typeof t===H&&!t(e,this.scale.getLabel(e))||e%(t+1)}},toLocalCoord:null,toGlobalCoord:null},t[B](r,n),r}),t("echarts/coord/cartesian/GridModel",[ge,"./AxisModel","../../model/Component"],function(e){e("./AxisModel");var t=e("../../model/Component");return t[te]({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})}),t("zrender/core/PathProxy",[ge,"./curve","./vector","./bbox","./BoundingRect","../config"],function(e){var t=e("./curve"),n=e("./vector"),i=e("./bbox"),r=e("./BoundingRect"),o=e("../config").devicePixelRatio,a={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},s=[],c=[],u=[],d=[],h=Math.min,f=Math.max,p=Math.cos,g=Math.sin,v=Math.sqrt,b=Math.abs,y=typeof Float32Array!=l,x=function(){this.data=[],this._len=0,this._ctx=null,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._ux=0,this._uy=0};return x[fe]={constructor:x,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=b(1/o/e)||0,this._uy=b(1/o/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(a.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var n=b(e-this._xi)>this._ux||b(t-this._yi)>this._uy||0===this._len;return this.addData(a.L,e,t),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),n&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,n,i,r,o){return this.addData(a.C,e,t,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,n,i,r,o):this._ctx.bezierCurveTo(e,t,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(e,t,n,i){return this.addData(a.Q,e,t,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i)),this._xi=n,this._yi=i,this},arc:function(e,t,n,i,r,o){return this.addData(a.A,e,t,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(e,t,n,i,r,o),this._xi=p(r)*n+e,this._xi=g(r)*n+e,this},arcTo:function(e,t,n,i,r){return this._ctx&&this._ctx.arcTo(e,t,n,i,r),this},rect:function(e,t,n,i){return this._ctx&&this._ctx.rect(e,t,n,i),this.addData(a.R,e,t,n,i),this},closePath:function(){this.addData(a.Z);var e=this._ctx,t=this._x0,n=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,n),e.closePath()),this._xi=t,this._yi=n,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e[m](),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,n=0;n<e[J];n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e[J];this.data&&this.data[J]==t||!y||(this.data=new Float32Array(t));for(var n=0;t>n;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e[J],n=0,i=this._len,r=0;t>r;r++)n+=e[r].len();y&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var r=0;t>r;r++)for(var o=e[r].data,a=0;a<o[J];a++)this.data[i++]=o[a];this._len=i},addData:function(e){var t=this.data;this._len+arguments[J]>t[J]&&(this._expandData(),t=this.data);for(var n=0;n<arguments[J];n++)t[this._len++]=arguments[n];this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,u=e-l,d=t-c,p=v(u*u+d*d),m=l,g=c,b=a[J];for(u/=p,d/=p,0>o&&(o=r+o),o%=r,m-=o*u,g-=o*d;u>=0&&e>=m||0>u&&m>e;)i=this._dashIdx,n=a[i],m+=u*n,g+=d*n,this._dashIdx=(i+1)%b,u>0&&l>m||0>u&&m>l||s[i%2?"moveTo":"lineTo"](u>=0?h(m,e):f(m,e),d>=0?h(g,t):f(g,t));u=m-e,d=g-t,this._dashOffset=-v(u*u+d*d)},_dashedBezierTo:function(e,n,i,r,o,a){var s,l,c,u,d,h=this._dashSum,f=this._dashOffset,p=this._lineDash,m=this._ctx,g=this._xi,b=this._yi,y=t.cubicAt,x=0,w=this._dashIdx,_=p[J],k=0;for(0>f&&(f=h+f),f%=h,s=0;1>s;s+=.1)l=y(g,e,i,o,s+.1)-y(g,e,i,o,s),c=y(b,n,r,a,s+.1)-y(b,n,r,a,s),x+=v(l*l+c*c);for(;_>w&&(k+=p[w],!(k>f));w++);for(s=(k-f)/x;1>=s;)u=y(g,e,i,o,s),d=y(b,n,r,a,s),w%2?m.moveTo(u,d):m.lineTo(u,d),s+=p[w]/x,w=(w+1)%_;w%2!==0&&m.lineTo(o,a),l=o-u,c=a-d,this._dashOffset=-v(l*l+c*c)},_dashedQuadraticTo:function(e,t,n,i){var r=n,o=i;n=(n+2*e)/3,i=(i+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,n,i,r,o)},toStatic:function(){var e=this.data;e instanceof Array&&(e[J]=this._len,y&&(this.data=new Float32Array(e)))},getBoundingRect:function(){s[0]=s[1]=u[0]=u[1]=Number.MAX_VALUE,c[0]=c[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,o=0,l=0,h=0,f=0;f<e[J];){var m=e[f++];switch(1==f&&(t=e[f],o=e[f+1],l=t,h=o),m){case a.M:l=e[f++],h=e[f++],t=l,o=h,u[0]=l,u[1]=h,d[0]=l,d[1]=h;break;case a.L:i.fromLine(t,o,e[f],e[f+1],u,d),t=e[f++],o=e[f++];break;case a.C:i.fromCubic(t,o,e[f++],e[f++],e[f++],e[f++],e[f],e[f+1],u,d),t=e[f++],o=e[f++];break;case a.Q:i.fromQuadratic(t,o,e[f++],e[f++],e[f],e[f+1],u,d),t=e[f++],o=e[f++];break;case a.A:var v=e[f++],b=e[f++],y=e[f++],x=e[f++],w=e[f++],_=e[f++]+w,k=(e[f++],1-e[f++]);1==f&&(l=p(w)*y+v,h=g(w)*x+b),i.fromArc(v,b,y,x,w,_,k,u,d),t=p(_)*y+v,o=g(_)*x+b;break;case a.R:l=t=e[f++],h=o=e[f++];var C=e[f++],S=e[f++];i.fromLine(l,h,l+C,h+S,u,d);break;case a.Z:t=l,o=h}n.min(s,s,u),n.max(c,c,d)}return 0===f&&(s[0]=s[1]=c[0]=c[1]=0),new r(s[0],s[1],c[0]-s[0],c[1]-s[1])},rebuildPath:function(e){for(var t,n,i,r,o,s,l=this.data,c=this._ux,u=this._uy,d=this._len,h=0;d>h;){var f=l[h++];switch(1==h&&(i=l[h],r=l[h+1],t=i,n=r),f){case a.M:t=i=l[h++],n=r=l[h++],e.moveTo(i,r);break;case a.L:o=l[h++],s=l[h++],(b(o-i)>c||b(s-r)>u||h===d-1)&&(e.lineTo(o,s),i=o,r=s);break;case a.C:e.bezierCurveTo(l[h++],l[h++],l[h++],l[h++],l[h++],l[h++]),i=l[h-2],r=l[h-1];break;case a.Q:e.quadraticCurveTo(l[h++],l[h++],l[h++],l[h++]),i=l[h-2],r=l[h-1];break;case a.A:var m=l[h++],v=l[h++],y=l[h++],x=l[h++],w=l[h++],_=l[h++],k=l[h++],C=l[h++],S=y>x?y:x,T=y>x?1:y/x,D=y>x?x/y:1,A=Math.abs(y-x)>.001,E=w+_;A?(e.translate(m,v),e.rotate(k),e.scale(T,D),e.arc(0,0,S,w,E,1-C),e.scale(1/T,1/D),e.rotate(-k),e.translate(-m,-v)):e.arc(m,v,S,w,E,1-C),1==h&&(t=p(w)*y+m,n=g(w)*x+v),i=p(E)*y+m,r=g(E)*x+v;break;case a.R:t=i=l[h],n=r=l[h+1],e.rect(l[h++],l[h++],l[h++],l[h++]);break;case a.Z:e.closePath(),i=t,r=n}}}},x.CMD=a,x}),t("zrender/tool/transformPath",[ge,"../core/PathProxy","../core/vector"],function(e){function t(e,t){var i,l,c,u,d,h,f=e.data,p=n.M,m=n.C,g=n.L,v=n.R,b=n.A,y=n.Q;for(c=0,u=0;c<f[J];){switch(i=f[c++],u=c,l=0,i){case p:l=1;break;case g:l=1;break;case m:l=3;break;case y:l=2;break;case b:var x=t[4],w=t[5],_=a(t[0]*t[0]+t[1]*t[1]),k=a(t[2]*t[2]+t[3]*t[3]),C=s(-t[1]/k,t[0]/_);f[c++]+=x,f[c++]+=w,f[c++]*=_,f[c++]*=k,f[c++]+=C,f[c++]+=C,c+=2,u=c;break;case v:h[0]=f[c++],h[1]=f[c++],r(h,h,t),f[u++]=h[0],f[u++]=h[1],h[0]+=f[c++],h[1]+=f[c++],r(h,h,t),f[u++]=h[0],f[u++]=h[1]}for(d=0;l>d;d++){var h=o[d];h[0]=f[c++],h[1]=f[c++],r(h,h,t),f[u++]=h[0],f[u++]=h[1]}}}var n=e("../core/PathProxy").CMD,i=e("../core/vector"),r=i[g],o=[[],[],[]],a=Math.sqrt,s=Math.atan2;return t}),t("zrender/graphic/Displayable",[ge,d,"./Style","../Element","./mixin/RectText"],function(e){function t(e){e=e||{},r.call(this,e);for(var t in e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new i(e.style),this._rect=null,this.__clipPaths=[]}var n=e(d),i=e("./Style"),r=e("../Element"),o=e("./mixin/RectText");return t[fe]={constructor:t,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t),i=this[N]();return i[T](n[0],n[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r[fe].attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new i(e),this.dirty(!1),this}},n[B](t,r),n.mixin(t,o),t}),t("zrender/contain/path",[ge,"../core/PathProxy","./line","./cubic","./quadratic","./arc","./util","../core/curve","./windingLine"],function(e){function t(e,t){return Math.abs(e-t)<v}function n(){var e=y[0];y[0]=y[1],y[1]=e}function i(e,t,i,r,o,a,s,l,c,u){if(u>t&&u>r&&u>a&&u>l||t>u&&r>u&&a>u&&l>u)return 0;var d=f.cubicRootAt(t,r,a,l,u,b);if(0===d)return 0;for(var h,p,m=0,g=-1,v=0;d>v;v++){var x=b[v],w=f.cubicAt(e,i,o,s,x);c>w||(0>g&&(g=f.cubicExtrema(t,r,a,l,y),y[1]<y[0]&&g>1&&n(),h=f.cubicAt(t,r,a,l,y[0]),g>1&&(p=f.cubicAt(t,r,a,l,y[1]))),m+=2==g?x<y[0]?t>h?1:-1:x<y[1]?h>p?1:-1:p>l?1:-1:x<y[0]?t>h?1:-1:h>l?1:-1);
}return m}function r(e,t,n,i,r,o,a,s){if(s>t&&s>i&&s>o||t>s&&i>s&&o>s)return 0;var l=f.quadraticRootAt(t,i,o,s,b);if(0===l)return 0;var c=f.quadraticExtremum(t,i,o);if(c>=0&&1>=c){for(var u=0,d=f.quadraticAt(t,i,o,c),h=0;l>h;h++){var p=f.quadraticAt(e,n,r,b[h]);a>p||(u+=b[h]<c?t>d?1:-1:d>o?1:-1)}return u}var p=f.quadraticAt(e,n,r,b[0]);return a>p?0:t>o?1:-1}function o(e,t,n,i,r,o,a,s){if(s-=t,s>n||-n>s)return 0;var l=Math.sqrt(n*n-s*s);b[0]=-l,b[1]=l;var c=Math.abs(i-r);if(1e-4>c)return 0;if(1e-4>c%g){i=0,r=g;var u=o?1:-1;return a>=b[0]+e&&a<=b[1]+e?u:0}if(o){var l=i;i=h(r),r=h(l)}else i=h(i),r=h(r);i>r&&(r+=g);for(var d=0,f=0;2>f;f++){var p=b[f];if(p+e>a){var m=Math.atan2(s,p),u=o?1:-1;0>m&&(m=g+m),(m>=i&&r>=m||m+g>=i&&r>=m+g)&&(m>Math.PI/2&&m<1.5*Math.PI&&(u=-u),d+=u)}}return d}function a(e,n,a,l,h){for(var f=0,g=0,v=0,b=0,y=0,x=0;x<e[J];){var w=e[x++];if(w===s.M&&x>1&&(a||(f+=p(g,v,b,y,l,h)),0!==f))return!0;switch(1==x&&(g=e[x],v=e[x+1],b=g,y=v),w){case s.M:b=e[x++],y=e[x++],g=b,v=y;break;case s.L:if(a){if(m(g,v,e[x],e[x+1],n,l,h))return!0}else f+=p(g,v,e[x],e[x+1],l,h)||0;g=e[x++],v=e[x++];break;case s.C:if(a){if(c.containStroke(g,v,e[x++],e[x++],e[x++],e[x++],e[x],e[x+1],n,l,h))return!0}else f+=i(g,v,e[x++],e[x++],e[x++],e[x++],e[x],e[x+1],l,h)||0;g=e[x++],v=e[x++];break;case s.Q:if(a){if(u.containStroke(g,v,e[x++],e[x++],e[x],e[x+1],n,l,h))return!0}else f+=r(g,v,e[x++],e[x++],e[x],e[x+1],l,h)||0;g=e[x++],v=e[x++];break;case s.A:var _=e[x++],k=e[x++],C=e[x++],S=e[x++],T=e[x++],D=e[x++],A=(e[x++],1-e[x++]),E=Math.cos(T)*C+_,M=Math.sin(T)*S+k;x>1?f+=p(g,v,E,M,l,h):(b=E,y=M);var P=(l-_)*S/C+_;if(a){if(d.containStroke(_,k,S,T,T+D,A,n,P,h))return!0}else f+=o(_,k,S,T,T+D,A,P,h);g=Math.cos(T+D)*C+_,v=Math.sin(T+D)*S+k;break;case s.R:b=g=e[x++],y=v=e[x++];var N=e[x++],R=e[x++],E=b+N,M=y+R;if(a){if(m(b,y,E,y,n,l,h)||m(E,y,E,M,n,l,h)||m(E,M,b,M,n,l,h)||m(b,M,E,M,n,l,h))return!0}else f+=p(E,y,E,M,l,h),f+=p(b,M,b,y,l,h);break;case s.Z:if(a){if(m(g,v,b,y,n,l,h))return!0}else if(f+=p(g,v,b,y,l,h),0!==f)return!0;g=b,v=y}}return a||t(v,y)||(f+=p(g,v,b,y,l,h)||0),0!==f}var s=e("../core/PathProxy").CMD,l=e("./line"),c=e("./cubic"),u=e("./quadratic"),d=e("./arc"),h=e("./util").normalizeRadian,f=e("../core/curve"),p=e("./windingLine"),m=l.containStroke,g=2*Math.PI,v=1e-4,b=[-1,-1,-1],y=[-1,-1];return{contain:function(e,t,n){return a(e,0,!1,t,n)},containStroke:function(e,t,n,i){return a(e,t,!0,n,i)}}}),t("echarts/scale/Ordinal",[ge,me,"./Scale"],function(e){var t=e(me),n=e("./Scale"),i=n[fe],r=n[te]({type:"ordinal",init:function(e,t){this._data=e,this[D]=t||[0,e[J]-1]},parse:function(e){return typeof e===he?t[q](this._data,e):Math.round(e)},contain:function(e){return e=this.parse(e),i[T].call(this,e)&&null!=this._data[e]},normalize:function(e){return i.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(i.scale.call(this,e))},getTicks:function(){for(var e=[],t=this[D],n=t[0];n<=t[1];)e.push(n),n++;return e},getLabel:function(e){return this._data[e]},count:function(){return this[D][1]-this[D][0]+1},niceTicks:t.noop,niceExtent:t.noop});return r[oe]=function(){return new r},r}),t("zrender/contain/text",[ge,d,"../core/BoundingRect"],function(e){function t(e,t){var n=e+":"+t;if(s[n])return s[n];for(var i=(e+"").split("\n"),r=0,o=0,a=i[J];a>o;o++)r=Math.max(m.measureText(i[o],t).width,r);return l>c&&(l=0,s={}),l++,s[n]=r,r}function n(e,n,i,r){var o=((e||"")+"").split("\n")[J],a=t(e,n),s=t("\u56fd",n),l=o*s,c=new f(0,0,a,l);switch(c.lineHeight=s,r){case se:case"alphabetic":c.y-=s;break;case P:c.y-=s/2}switch(i){case"end":case"right":c.x-=c.width;break;case M:c.x-=c.width/2}return c}function i(e,t,n,i){var r=t.x,o=t.y,a=t[ae],s=t.width,l=n[ae],c=a/2-l/2,u="left";switch(e){case"left":r-=i,o+=c,u="right";break;case"right":r+=i+s,o+=c,u="left";break;case"top":r+=s/2,o-=i+l,u=M;break;case se:r+=s/2,o+=a+i,u=M;break;case p:r+=s/2,o+=c,u=M;break;case"insideLeft":r+=i,o+=c,u="left";break;case"insideRight":r+=s-i,o+=c,u="right";break;case"insideTop":r+=s/2,o+=i,u=M;break;case"insideBottom":r+=s/2,o+=a-l-i,u=M;break;case"insideTopLeft":r+=i,o+=i,u="left";break;case"insideTopRight":r+=s-i,o+=i,u="right";break;case"insideBottomLeft":r+=i,o+=a-l-i;break;case"insideBottomRight":r+=s-i,o+=a-l-i,u="right"}return{x:r,y:o,textAlign:u,textBaseline:"top"}}function r(e,n,i,r){if(!i)return"";r=u[ee]({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:t("\u56fd",n),ascCharWidth:t("a",n)},r,!0),i-=t(r.ellipsis);for(var a=(e+"").split("\n"),s=0,l=a[J];l>s;s++)a[s]=o(a[s],n,i,r);return a.join("\n")}function o(e,n,i,r){for(var o=0;;o++){var s=t(e,n);if(i>s||o>=r.maxIterations){e+=r.ellipsis;break}var l=0===o?a(e,i,r):Math.floor(e[J]*i/s);if(l<r.minCharacters){e="";break}e=e.substr(0,l)}return e}function a(e,t,n){for(var i=0,r=0,o=e[J];o>r&&t>i;r++){var a=e.charCodeAt(r);i+=a>=0&&127>=a?n.ascCharWidth:n.cnCharWidth}return r}var s={},l=0,c=5e3,u=e(d),f=e("../core/BoundingRect"),m={getWidth:t,getBoundingRect:n,adjustTextPositionOnRect:i,ellipsis:r,measureText:function(e,t){var n=u[h]();return n.font=t,n.measureText(e)}};return m}),t("echarts/model/mixin/makeStyleMapper",[ge,me],function(e){var t=e(me);return function(e){for(var n=0;n<e[J];n++)e[n][1]||(e[n][1]=e[n][0]);return function(n){for(var i={},r=0;r<e[J];r++){var o=e[r][1];if(!(n&&t[q](n,o)>=0)){var a=this.getShallow(o);null!=a&&(i[e[r][0]]=a)}}return i}}}),t("zrender/graphic/Style",[ge],function(){var e=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],t=function(e){this.extendFrom(e)};t[fe]={constructor:t,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(t,n){for(var i=this.fill,r=this[m],o=0;o<e[J];o++){var a=e[o];null!=this[a]&&(t[a]=this[a])}if(null!=r){var s=this.lineWidth;t.lineWidth=s/(this.strokeNoScale&&n&&n.getLineScale?n.getLineScale():1)}null==i||"none"===i||i.colorStops||(t.fillStyle=i),null==r||"none"===r||r.colorStops||(t.strokeStyle=r),null!=this[A]&&(t.globalAlpha=this[A])},extendFrom:function(e,t){if(e){var n=this;for(var i in e)!e.hasOwnProperty(i)||!t&&n.hasOwnProperty(i)||(n[i]=e[i])}},set:function(e,t){typeof e===he?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},createLinearGradient:function(e,t,n){var i=t.x*n.width+n.x,r=t.x2*n.width+n.x,o=t.y*n[ae]+n.y,a=t.y2*n[ae]+n.y,s=e.createLinearGradient(i,o,r,a);return s},createRadialGradient:function(e,t,n){var i=n.width,r=n[ae],o=Math.min(i,r),a=t.x*i+n.x,s=t.y*r+n.y,l=t.r*o,c=e.createRadialGradient(a,s,0,a,s,l);return c},getGradient:function(e,t,n){for(var i="radial"===t.type?"createRadialGradient":"createLinearGradient",r=this[i](e,t,n),o=t.colorStops,a=0;a<o[J];a++)r.addColorStop(o[a].offset,o[a].color);return r}};var n,i,r=t[fe];for(i=0;i<e[J];i++)n=e[i],n in r||(r[n]=null);return t}),t("zrender/Element",[ge,"./core/guid","./mixin/Eventful","./mixin/Transformable","./mixin/Animatable","./core/util"],function(e){var t=e("./core/guid"),n=e("./mixin/Eventful"),i=e("./mixin/Transformable"),r=e("./mixin/Animatable"),o=e("./core/util"),a=function(e){i.call(this,e),n.call(this,e),r.call(this,e),this.id=e.id||t()};return a[fe]={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=t,this.decomposeTransform(),this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(e,t){if(e===E||"scale"===e||"origin"===e){if(t){var n=this[e];n||(n=this[e]=[]),n[0]=t[0],n[1]=t[1]}}else this[e]=t},hide:function(){this[le]=!0,this.__zr&&this.__zr.refresh()},show:function(){this[le]=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e===he)this.attrKV(e,t);else if(o[ie](e))for(var n in e)e.hasOwnProperty(n)&&this.attrKV(n,e[n]);return this.dirty(),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty()},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t[J];n++)e[f].addAnimator(t[n]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t[J];n++)e[f].removeAnimator(t[n]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},o.mixin(a,r),o.mixin(a,i),o.mixin(a,n),a}),t("zrender/graphic/mixin/RectText",[ge,"../../contain/text","../../core/BoundingRect"],function(e){function t(e,t){return typeof e===he?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function n(e,t){e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}var i=e("../../contain/text"),r=e("../../core/BoundingRect"),o=new r,a=function(){};return a[fe]={constructor:a,drawRectText:function(e,r,a){var s=this.style,l=s.text;if(null!=l&&(l+=""),l){var c,u,d=s.textPosition,h=s.textDistance,f=s[O],p=s.textFont||s.font,m=s.textBaseline,v=s.textVerticalAlign;a=a||i[N](l,p,f,m);var b=this.transform,y=this.invTransform;if(b&&(o.copy(r),o[g](b),r=o,n(e,y)),d instanceof Array)c=r.x+t(d[0],r.width),u=r.y+t(d[1],r[ae]),f=f||"left",m=m||"top";else{var x=i.adjustTextPositionOnRect(d,r,a,h);c=x.x,u=x.y,f=f||x[O],m=m||x.textBaseline}if(e[O]=f,v){switch(v){case P:u-=a[ae]/2;break;case se:u-=a[ae]}e.textBaseline="top"}else e.textBaseline=m;var w=s.textFill,_=s.textStroke;w&&(e.fillStyle=w),_&&(e.strokeStyle=_),e.font=p,e.shadowColor=s.textShadowColor,e.shadowBlur=s.textShadowBlur,e.shadowOffsetX=s.textShadowOffsetX,e.shadowOffsetY=s.textShadowOffsetY;for(var k=l.split("\n"),C=0;C<k[J];C++)w&&e.fillText(k[C],c,u),_&&e.strokeText(k[C],c,u),u+=a.lineHeight;b&&n(e,b)}}},a}),t("echarts/coord/cartesian/Cartesian",[ge,me],function(e){function t(e){return this._axes[e]}var n=e(me),i=function(e){this._axes={},this._dimList=[],this.name=e||""};return i[fe]={constructor:i,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return n.map(this._dimList,t,this)},getAxesByScale:function(e){return e=e[pe](),n.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var n=this._dimList,i=e instanceof Array?[]:{},r=0;r<n[J];r++){var o=n[r],a=this._axes[o];i[o]=a[t](e[o])}return i}},i}),t("echarts/util/component",[ge,me,"./clazz"],function(e){var t=e(me),n=e("./clazz"),i=n.parseClassType,r=0,o={},a="_";return o.getUID=function(e){return[e||"",r++,Math.random()].join(a)},o.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,n){e=i(e),t[e.main]=n},e.determineSubType=function(n,r){var o=r.type;if(!o){var a=i(n).main;e.hasSubTypes(n)&&t[a]&&(o=t[a](r))}return o},e},o.enableTopologicalTravel=function(e,n){function i(e){var i={},a=[];return t.each(e,function(s){var l=r(i,s),c=l.originalDeps=n(s),u=o(c,e);l.entryCount=u[J],0===l.entryCount&&a.push(s),t.each(u,function(e){t[q](l.predecessor,e)<0&&l.predecessor.push(e);var n=r(i,e);t[q](n.successor,e)<0&&n.successor.push(s)})}),{graph:i,noEntryList:a}}function r(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function o(e,n){var i=[];return t.each(e,function(e){t[q](n,e)>=0&&i.push(e)}),i}e.topologicalTravel=function(e,n,r,o){function a(e){c[e].entryCount--,0===c[e].entryCount&&u.push(e)}function s(e){d[e]=!0,a(e)}if(e[J]){var l=i(n),c=l.graph,u=l.noEntryList,d={};for(t.each(e,function(e){d[e]=!0});u[J];){var h=u.pop(),f=c[h],p=!!d[h];p&&(r.call(o,h,f.originalDeps.slice()),delete d[h]),t.each(f.successor,p?s:a)}t.each(d,function(){throw new Error("Circle dependency may exists")})}}},o}),t("echarts/model/mixin/boxLayout",[ge],function(){return{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get(se),width:this.get("width"),height:this.get(ae)}}}}),t("zrender/core/guid",[],function(){var e=2311;return function(){return"zr_"+e++}}),t("zrender/mixin/Transformable",[ge,"../core/matrix","../core/vector"],function(e){function t(e){return e>o||-o>e}var n=e("../core/matrix"),i=e("../core/vector"),r=n.identity,o=5e-5,a=function(e){e=e||{},e[E]||(this[E]=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},s=a[fe];s.transform=null,s.needLocalTransform=function(){return t(this.rotation)||t(this[E][0])||t(this[E][1])||t(this.scale[0]-1)||t(this.scale[1]-1)},s.updateTransform=function(){var e=this.parent,t=e&&e.transform,i=this.needLocalTransform(),o=this.transform;return i||t?(o=o||n[oe](),i?this.getLocalTransform(o):r(o),t&&(i?n.mul(o,e.transform,o):n.copy(o,e.transform)),this.transform=o,this.invTransform=this.invTransform||n[oe](),void n.invert(this.invTransform,o)):void(o&&r(o))},s.getLocalTransform=function(e){e=e||[],r(e);var t=this.origin,i=this.scale,o=this.rotation,a=this[E];return t&&(e[4]-=t[0],e[5]-=t[1]),n.scale(e,e,i),o&&n.rotate(e,e,o),t&&(e[4]+=t[0],e[5]+=t[1]),e[4]+=a[0],e[5]+=a[1],e},s.setTransform=function(e){var t=this.transform;t&&e.transform(t[0],t[1],t[2],t[3],t[4],t[5])};var l=[];return s.decomposeTransform=function(){if(this.transform){var e=this.parent,i=this.transform;e&&e.transform&&(n.mul(l,e.invTransform,i),i=l);var r=i[0]*i[0]+i[1]*i[1],o=i[2]*i[2]+i[3]*i[3],a=this[E],s=this.scale;t(r-1)&&(r=Math.sqrt(r)),t(o-1)&&(o=Math.sqrt(o)),i[0]<0&&(r=-r),i[3]<0&&(o=-o),a[0]=i[4],a[1]=i[5],s[0]=r,s[1]=o,this.rotation=Math.atan2(-i[1]/o,i[0]/r)}},s.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(n=-n),[t,n]},s.transformCoordToLocal=function(e,t){var n=[e,t],r=this.invTransform;return r&&i[g](n,n,r),n},s.transformCoordToGlobal=function(e,t){var n=[e,t],r=this.transform;return r&&i[g](n,n,r),n},a}),t("zrender/mixin/Animatable",[ge,"../animation/Animator",d,"../core/log"],function(e){var t=e("../animation/Animator"),n=e(d),i=n.isString,r=n.isFunction,o=n[ie],a=e("../core/log"),s=function(){this.animators=[]};return s[fe]={constructor:s,animate:function(e,i){var r,o=!1,s=this,l=this.__zr;if(e){var c=e.split("."),u=s;o="shape"===c[0];for(var d=0,h=c[J];h>d;d++)u&&(u=u[c[d]]);u&&(r=u)}else r=s;if(!r)return void a('Property "'+e+'" is not existed in element '+s.id);var p=s.animators,m=new t(r,i);return m.during(function(){s.dirty(o)}).done(function(){p[Q](n[q](p,m),1)}),p.push(m),l&&l[f].addAnimator(m),m},stopAnimation:function(e){for(var t=this.animators,n=t[J],i=0;n>i;i++)t[i].stop(e);return t[J]=0,this},animateTo:function(e,t,n,o,a){function s(){c--,c||a&&a()}i(n)?(a=o,o=n,n=0):r(o)?(a=o,o="linear",n=0):r(n)?(a=n,n=0):r(t)?(a=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,n,o,a);var l=this.animators.slice(),c=l[J];c||a&&a();for(var u=0;u<l[J];u++)l[u].done(s).start(o)},_animateToShallow:function(e,t,i,r,a){var s={},l=0;for(var c in i)if(null!=t[c])o(i[c])&&!n.isArrayLike(i[c])?this._animateToShallow(e?e+"."+c:c,t[c],i[c],r,a):(s[c]=i[c],l++);else if(null!=i[c])if(e){var u={};u[e]={},u[e][c]=i[c],this.attr(u)}else this.attr(c,i[c]);return l>0&&this.animate(e,!1).when(null==r?500:r,s).delay(a||0),this}},s}),t("echarts/coord/Axis",[ge,"../util/number",me],function(e){function t(e,t){var n=e[1]-e[0],i=t,r=n/i/2;e[0]+=r,e[1]-=r}var n=e("../util/number"),i=n.linearMap,r=e(me),o=[0,1],s=function(e,t,n){this.dim=e,this.scale=t,this[D]=n||[0,0],this.inverse=!1,this.onBand=!1};return s[fe]={constructor:s,contain:function(e){var t=this[D],n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=n&&i>=e},containData:function(e){return this[T](this.dataToCoord(e))},getExtent:function(){var e=this[D].slice();return e},getPixelPrecision:function(e){return n.getPixelPrecision(e||this.scale[k](),this[D])},setExtent:function(e,t){var n=this[D];n[0]=e,n[1]=t},dataToCoord:function(e,n){var r=this[D],s=this.scale;return e=s.normalize(e),this.onBand&&s.type===a&&(r=r.slice(),t(r,s.count())),i(e,o,r,n)},coordToData:function(e,n){var r=this[D],s=this.scale;this.onBand&&s.type===a&&(r=r.slice(),t(r,s.count()));var l=i(e,r,o,n);return this.scale.scale(l)},getTicksCoords:function(){if(this.onBand){for(var e=this.getBands(),t=[],n=0;n<e[J];n++)t.push(e[n][0]);return e[n-1]&&t.push(e[n-1][1]),t}return r.map(this.scale[C](),this.dataToCoord,this)},getLabelsCoords:function(){if(this.onBand){for(var e,t=this.getBands(),n=[],i=0;i<t[J];i++)e=t[i],n.push((e[0]+e[1])/2);return n}return r.map(this.scale[C](),this.dataToCoord,this)},getBands:function(){for(var e=this[k](),t=[],n=this.scale.count(),i=e[0],r=e[1],o=r-i,a=0;n>a;a++)t.push([o*a/n+i,o*(a+1)/n+i]);return t},getBandWidth:function(){var e=this[D],t=this.scale[k](),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n}},s}),t("echarts/coord/cartesian/axisLabelInterval",[ge,me,"../axisHelper"],function(e){var t=e(me),n=e("../axisHelper");return function(e){var i=e.model,r=i[de]("axisLabel"),o=r.get("interval");return e.type!==s||"auto"!==o?"auto"===o?0:o:n.getAxisLabelInterval(t.map(e.scale[C](),e.dataToCoord,e),i.getFormattedLabels(),r[de](L)[I](),e.isHorizontal())}}),t("zrender/animation/Animator",[ge,"./Clip","../tool/color",d],function(e){function t(e,t){return e[t]}function n(e,t,n){e[t]=n}function i(e,t,n){return(t-e)*n+e}function r(e,t,n){return n>.5?t:e}function o(e,t,n,r,o){var a=e[J];if(1==o)for(var s=0;a>s;s++)r[s]=i(e[s],t[s],n);else for(var l=e[0][J],s=0;a>s;s++)for(var c=0;l>c;c++)r[s][c]=i(e[s][c],t[s][c],n)}function a(e,t,n){var i=e[J],r=t[J];if(i!==r){var o=i>r;if(o)e[J]=r;else for(var a=i;r>a;a++)e.push(1===n?t[a]:y.call(t[a]))}}function s(e,t,n){if(e===t)return!0;var i=e[J];if(i!==t[J])return!1;if(1===n){for(var r=0;i>r;r++)if(e[r]!==t[r])return!1}else for(var o=e[0][J],r=0;i>r;r++)for(var a=0;o>a;a++)if(e[r][a]!==t[r][a])return!1;return!0}function l(e,t,n,i,r,o,a,s,l){var u=e[J];if(1==l)for(var d=0;u>d;d++)s[d]=c(e[d],t[d],n[d],i[d],r,o,a);else for(var h=e[0][J],d=0;u>d;d++)for(var f=0;h>f;f++)s[d][f]=c(e[d][f],t[d][f],n[d][f],i[d][f],r,o,a)}function c(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}function u(e){if(b(e)){var t=e[J];if(b(e[0])){for(var n=[],i=0;t>i;i++)n.push(y.call(e[i]));return n}return y.call(e)}return e}function h(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function p(e,t,n,u,d){var f=e._getter,p=e._setter,v="spline"===t,y=u[J];if(y){var x,w=u[0].value,_=b(w),k=!1,C=!1,S=_&&b(w[0])?2:1;u.sort(function(e,t){return e.time-t.time}),x=u[y-1].time;for(var T=[],D=[],A=u[0].value,E=!0,M=0;y>M;M++){T.push(u[M].time/x);var P=u[M].value;if(_&&s(P,A,S)||!_&&P===A||(E=!1),A=P,typeof P==he){var N=g.parse(P);N?(P=N,k=!0):C=!0}D.push(P)}if(!E){if(_){for(var R=D[y-1],M=0;y-1>M;M++)a(D[M],R,S);a(f(e._target,d),R,S)}var I,O,L,j,z,B,F=0,H=0;if(k)var q=[0,0,0,0];var W=function(e,t){var n;if(H>t){for(I=Math.min(F+1,y-1),n=I;n>=0&&!(T[n]<=t);n--);n=Math.min(n,y-2)}else{for(n=F;y>n&&!(T[n]>t);n++);n=Math.min(n-1,y-2)}F=n,H=t;var a=T[n+1]-T[n];if(0!==a)if(O=(t-T[n])/a,v)if(j=D[n],L=D[0===n?n:n-1],z=D[n>y-2?y-1:n+1],B=D[n>y-3?y-1:n+2],_)l(L,j,z,B,O,O*O,O*O*O,f(e,d),S);else{var s;if(k)s=l(L,j,z,B,O,O*O,O*O*O,q,1),s=h(q);else{if(C)return r(j,z,O);s=c(L,j,z,B,O,O*O,O*O*O)}p(e,d,s)}else if(_)o(D[n],D[n+1],O,f(e,d),S);else{var s;if(k)o(D[n],D[n+1],O,q,1),s=h(q);else{if(C)return r(D[n],D[n+1],O);s=i(D[n],D[n+1],O)}p(e,d,s)}},V=new m({target:e._target,life:x,loop:e._loop,delay:e._delay,onframe:W,ondestroy:n});return t&&"spline"!==t&&(V.easing=t),V}}}var m=e("./Clip"),g=e("../tool/color"),v=e(d),b=v.isArrayLike,y=Array[fe].slice,x=function(e,i,r,o){this._tracks={},this._target=e,this._loop=i||!1,this._getter=r||t,this._setter=o||n,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};return x[fe]={when:function(e,t){var n=this._tracks;for(var i in t){if(!n[i]){n[i]=[];var r=this._getter(this._target,i);if(null==r)continue;0!==e&&n[i].push({time:0,value:u(r)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){return this._onframeList.push(e),this},_doneCallback:function(){this._tracks={},this._clipList[J]=0;for(var e=this._doneList,t=e[J],n=0;t>n;n++)e[n].call(this)},start:function(e){var t,n=this,i=0,r=function(){i--,i||n._doneCallback()};for(var o in this._tracks){var a=p(this,e,r,this._tracks[o],o);a&&(this._clipList.push(a),i++,this[f]&&this[f].addClip(a),t=a)}if(t){var s=t.onframe;t.onframe=function(e,t){s(e,t);for(var i=0;i<n._onframeList[J];i++)n._onframeList[i](e,t)}}return i||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,n=this[f],i=0;i<t[J];i++){var r=t[i];e&&r.onframe(this._target,1),n&&n.removeClip(r)}t[J]=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},x}),t("zrender/core/log",[ge,"../config"],function(e){var t=e("../config");return function(){if(0!==t.debugMode)if(1==t.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(t.debugMode>1)for(var e in arguments)console.log(arguments[e])}}),t("echarts/coord/cartesian/AxisModel",[ge,"../../model/Component",me,"../axisModelCreator","../axisModelCommonMixin"],function(e){function t(e,t){return t.type||(t.data?s:"value")}var n=e("../../model/Component"),i=e(me),r=e("../axisModelCreator"),o=n[te]({type:"cartesian2dAxis",axis:null,init:function(){o.superApply(this,"init",arguments),this._resetRange()},mergeOption:function(){o.superApply(this,"mergeOption",arguments),this._resetRange()},restoreData:function(){o.superApply(this,"restoreData",arguments),this._resetRange()},setRange:function(e,t){this[S].rangeStart=e,this[S].rangeEnd=t},getMin:function(){var e=this[S];return null!=e.rangeStart?e.rangeStart:e.min},getMax:function(){var e=this[S];return null!=e.rangeEnd?e.rangeEnd:e.max},getNeedCrossZero:function(){var e=this[S];return null!=e.rangeStart||null!=e.rangeEnd?!1:!e.scale},_resetRange:function(){this[S].rangeStart=this[S].rangeEnd=null}});i.merge(o[fe],e("../axisModelCommonMixin"));var a={gridIndex:0};return r("x",o,t,a),r("y",o,t,a),o}),t("echarts/coord/axisModelCreator",[ge,"./axisDefault",me,"../model/Component","../util/layout"],function(e){var t=e("./axisDefault"),n=e(me),i=e("../model/Component"),r=e("../util/layout"),o=["value",s,"time","log"];return function(e,a,s,l){n.each(o,function(i){a[te]({type:e+"Axis."+i,mergeDefaultAndTheme:function(t,o){var a=this.layoutMode,l=a?r.getLayoutParams(t):{},c=o.getTheme();n.merge(t,c.get(i+"Axis")),n.merge(t,this.getDefaultOption()),t.type=s(e,t),a&&r.mergeLayoutParam(t,l,a)},defaultOption:n.mergeAll([{},t[i+"Axis"],l],!0)})}),i.registerSubTypeDefaulter(e+"Axis",n.curry(s,e))}}),t("echarts/coord/axisModelCommonMixin",[ge,me,"./axisHelper"],function(e){function t(e){return r[ie](e)&&null!=e.value?e.value:e}function n(){return this.get("type")===s&&r.map(this.get("data"),t)}function i(){return o.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=e(me),o=e("./axisHelper");return{getFormattedLabels:i,getCategories:n}}),t("zrender/animation/Clip",[ge,"./easing"],function(e){function t(e){this._target=e[X],this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null==e.loop?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}var n=e("./easing");return t[fe]={constructor:t,step:function(e){this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0);var t=(e-this._startTime)/this._life;if(!(0>t)){t=Math.min(t,1);var i=this.easing,r=typeof i==he?n[i]:i,o=typeof r===H?r(t):t;return this.fire("frame",o),1==t?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var e=(new Date).getTime(),t=(e-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)}},t}),t("echarts/coord/axisDefault",[ge,me],function(e){var t=e(me),n={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,silent:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},i=t.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},n),r=t[ee]({boundaryGap:[0,0],splitNumber:5},n),o=t[ee]({scale:!0,min:"dataMin",max:"dataMax"},r),a=t[ee]({},r);return a.scale=!0,{categoryAxis:i,valueAxis:r,timeAxis:o,logAxis:a}}),t("zrender/animation/easing",[],function(){var e={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)))},elasticOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/i)+1)},elasticInOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=i/4):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*n*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i):n*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/i)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(t){return 1-e.bounceOut(1-t)},bounceOut:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5}};return e}),t("echarts/chart/helper/createListFromArray",[ge,"../../data/List","../../data/helper/completeDimensions",me,"../../util/model","../../CoordinateSystem"],function(e){function t(e){for(var t=0;t<e[J]&&null==e[t];)t++;return e[t]}function i(e){var n=t(e);return null!=n&&!f[W](g(n))}function r(e,t,n){if(e=e||[],!f[W](e))throw new Error("Invalid data.");var r=t.get(j),s=b[r],l=m.get(r),c=s&&s(e,t,n),p=c&&c[o];p||(p=l&&l[o]||["x","y"],p=h(p,e,p[_](["value"])));var y,x=c&&c.categoryAxisModel,w=p[0].type===a?0:p[1].type===a?1:-1,k=new d(p,t),C=u(c,e),S=x&&i(e)?function(e,t,n,i){return i===w?n:v(g(e),p[i])}:function(e,t,n,i){var r=g(e),o=v(r&&r[i],p[i]);return w===i&&typeof o===he&&(y=y||x.getCategories(),o=f[q](y,o),0>o&&!isNaN(o)&&(o=+o)),o};return k.initData(e,C,S),k}function l(e){return e!==s&&"time"!==e}function c(e){return e===s?a:"time"===e?"time":"float"}function u(e,t){var n=[];if(e&&e.categoryAxisModel){var i=e.categoryAxisModel.getCategories();if(i){var r=t[J];if(f[W](t[0])&&t[0][J]>1){n=[];for(var o=0;r>o;o++)n[o]=i[t[o][e.categoryIndex||0]]}else n=i.slice(0)}}return n}var d=e("../../data/List"),h=e("../../data/helper/completeDimensions"),f=e(me),p=e("../../util/model"),m=e("../../CoordinateSystem"),g=p.getDataItemValue,v=p.converDataValue,b={cartesian2d:function(e,t,n){var i=n.getComponent("xAxis",t.get("xAxisIndex")),r=n.getComponent("yAxis",t.get("yAxisIndex"));if(!i||!r)throw new Error("Axis option not found");var o=i.get("type"),a=r.get("type"),u=[{name:"x",type:c(o),stackable:l(o)},{name:"y",type:c(a),stackable:l(a)}],d=o===s;return h(u,e,["x","y","z"]),{dimensions:u,categoryIndex:d?0:1,categoryAxisModel:d?i:a===s?r:null}},polar:function(e,t,i){var r=t.get("polarIndex")||0,o=function(e){return e.get("polarIndex")===r},a=i.findComponents({mainType:"angleAxis",filter:o})[0],u=i.findComponents({mainType:"radiusAxis",filter:o})[0];if(!a||!u)throw new Error("Axis option not found");var d=u.get("type"),f=a.get("type"),p=[{name:"radius",type:c(d),stackable:l(d)},{name:"angle",type:c(f),stackable:l(f)}],m=f===s;return h(p,e,[n,"angle","value"]),{dimensions:p,categoryIndex:m?1:0,categoryAxisModel:m?a:d===s?u:null}},geo:function(e){return{dimensions:h([{name:"lng"},{name:"lat"}],e,["lng","lat","value"])}}};return r}),t("zrender/config",[],function(){var e=1;typeof window!==l&&(e=Math.max(window.devicePixelRatio||1,1));var t={debugMode:0,devicePixelRatio:e};return t}),t("echarts/data/List",[ge,"../model/Model","./DataDiffer",me,"../util/model"],function(e){function t(e){return p[W](e)||(e=[e]),e}function n(e,t){var n=e[o],i=new C(p.map(n,e.getDimensionInfo,e),e.hostModel);k(i,e);for(var r=i._storage={},a=e._storage,s=0;s<n[J];s++){var l=n[s],c=a[l];r[l]=p[q](t,l)>=0?new c.constructor(a[l][J]):a[l]}return i}var i=l,r=typeof window===l?global:window,s=typeof r.Float64Array===i?Array:r.Float64Array,c=typeof r.Int32Array===i?Array:r.Int32Array,d={"float":s,"int":c,ordinal:Array,number:Array,time:Array},h=e("../model/Model"),f=e("./DataDiffer"),p=e(me),m=e("../util/model"),g=p[ie],b=["stackedOn","_nameList","_idList","_rawData"],k=function(e,t){p.each(b[_](t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e.__wrappedMethods=t.__wrappedMethods},C=function(e,t){e=e||["x","y"];for(var n={},i=[],r=0;r<e[J];r++){var a,s={};typeof e[r]===he?(a=e[r],s={name:a,stackable:!1,type:"number"}):(s=e[r],a=s.name,s.type=s.type||F),i.push(a),n[a]=s}this[o]=i,this._dimensionInfos=n,this.hostModel=t,this.dataType,this.silent=!1,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this[D]},S=C[fe];S.type="list",S.getDimension=function(e){return isNaN(e)||(e=this[o][e]||e),e},S.getDimensionInfo=function(e){return p.clone(this._dimensionInfos[this.getDimension(e)])},S.initData=function(e,t,n){if(e=e||[],!p[W](e))throw new Error("Invalid data.");this._rawData=e;var i=this._storage={},r=this.indices=[],a=this[o],s=e[J],l=this._dimensionInfos,c=[],u={};t=t||[];for(var h=0;h<a[J];h++){
var f=l[a[h]],g=d[f.type];i[a[h]]=new g(s)}n=n||function(e,t,n,i){var r=m.getDataItemValue(e);return m.converDataValue(p[W](r)?r[i]:r,l[t])};for(var v=0;v<e[J];v++){for(var b=e[v],y=0;y<a[J];y++){var x=a[y],w=i[x];w[v]=n(b,x,v,y)}r.push(v)}for(var h=0;h<e[J];h++){var _="";t[h]||(t[h]=e[h].name,_=e[h].id);var k=t[h]||"";!_&&k&&(u[k]=u[k]||0,_=k,u[k]>0&&(_+="__ec__"+u[k]),u[k]++),_&&(c[h]=_)}this._nameList=t,this._idList=c},S.count=function(){return this.indices[J]},S.get=function(e,t,n){var i=this._storage,r=this.indices[t];if(null==r)return NaN;var o=i[e]&&i[e][r];if(n){var a=this._dimensionInfos[e];if(a&&a.stackable)for(var s=this.stackedOn;s;){var l=s.get(e,t);(o>=0&&l>0||0>=o&&0>l)&&(o+=l),s=s.stackedOn}}return o},S.getValues=function(e,t,n){var i=[];p[W](e)||(n=t,t=e,e=this[o]);for(var r=0,a=e[J];a>r;r++)i.push(this.get(e[r],t,n));return i},S.hasValue=function(e){for(var t=this[o],n=this._dimensionInfos,i=0,r=t[J];r>i;i++)if(n[t[i]].type!==a&&isNaN(this.get(t[i],e)))return!1;return!0},S.getDataExtent=function(e,t){var n=this._storage[e],i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var r,o=(this[D]||(this[D]={}))[e+!!t];if(o)return o;if(n){for(var a=1/0,s=-1/0,l=0,c=this.count();c>l;l++)r=this.get(e,l,t),a>r&&(a=r),r>s&&(s=r);return this[D][e+t]=[a,s]}return[1/0,-1/0]},S.getSum=function(e,t){var n=this._storage[e],i=0;if(n)for(var r=0,o=this.count();o>r;r++){var a=this.get(e,r,t);isNaN(a)||(i+=a)}return i},S[q]=function(e,t){var n=this._storage,i=n[e],r=this.indices;if(i)for(var o=0,a=r[J];a>o;o++){var s=r[o];if(i[s]===t)return o}return-1},S.indexOfName=function(e){for(var t=this.indices,n=this._nameList,i=0,r=t[J];r>i;i++){var o=t[i];if(n[o]===e)return i}return-1},S.indexOfNearest=function(e,t,n){var i=this._storage,r=i[e];if(r){for(var o=Number.MAX_VALUE,a=-1,s=0,l=this.count();l>s;s++){var c=t-this.get(e,s,n),u=Math.abs(c);(o>u||u===o&&c>0)&&(o=u,a=s)}return a}return-1},S.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t},S.getRawDataItem=function(e){return this._rawData[this.getRawIndex(e)]},S[x]=function(e){return this._nameList[this.indices[e]]||""},S.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""},S.each=function(e,n,i,r){typeof e===H&&(r=i,i=n,n=e,e=[]),e=p.map(t(e),this.getDimension,this);var o=[],a=e[J],s=this.indices;r=r||this;for(var l=0;l<s[J];l++)if(0===a)n.call(r,l);else if(1===a)n.call(r,this.get(e[0],l,i),l);else{for(var c=0;a>c;c++)o[c]=this.get(e[c],l,i);o[c]=l,n.apply(r,o)}},S.filterSelf=function(e,n,i,r){typeof e===H&&(r=i,i=n,n=e,e=[]),e=p.map(t(e),this.getDimension,this);var o=[],a=[],s=e[J],l=this.indices;r=r||this;for(var c=0;c<l[J];c++){var u;if(1===s)u=n.call(r,this.get(e[0],c,i),c);else{for(var d=0;s>d;d++)a[d]=this.get(e[d],c,i);a[d]=c,u=n.apply(r,a)}u&&o.push(l[c])}return this.indices=o,this[D]={},!this.silent&&this.__onChange(),this},S.mapArray=function(e,t,n,i){typeof e===H&&(i=n,n=t,t=e,e=[]);var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},n,i),r},S.map=function(e,i,r,o){e=p.map(t(e),this.getDimension,this);var a=n(this,e),s=a.indices=this.indices,l=a._storage,c=[];return this.each(e,function(){var t=arguments[arguments[J]-1],n=i&&i.apply(this,arguments);if(null!=n){typeof n===F&&(c[0]=n,n=c);for(var r=0;r<n[J];r++){var o=e[r],a=l[o],u=s[t];a&&(a[u]=n[r])}}},r,o),!this.silent&&this.__onTransfer(a),a},S.downSample=function(e,t,i,r){for(var o=n(this,[e]),a=this._storage,s=o._storage,l=this.indices,c=o.indices=[],u=[],d=[],h=Math.floor(1/t),f=s[e],p=this.count(),m=0;m<a[e][J];m++)s[e][m]=a[e][m];for(var m=0;p>m;m+=h){h>p-m&&(h=p-m,u[J]=h);for(var g=0;h>g;g++){var v=l[m+g];u[g]=f[v],d[g]=v}var b=i(u),v=d[r(u,b)||0];f[v]=b,c.push(v)}return!this.silent&&this.__onTransfer(o),o},S[u]=function(e){var t=this.hostModel;return e=this.indices[e],new h(this._rawData[e],t,t&&t[w])},S.diff=function(e){var t=this._idList,n=e&&e._idList;return new f(e?e.indices:[],this.indices,function(e){return n[e]||e+""},function(e){return t[e]||e+""})},S.getVisual=function(e){var t=this._visual;return t&&t[e]},S.setVisual=function(e,t){if(g(e))for(var n in e)e.hasOwnProperty(n)&&this.setVisual(n,e[n]);else this._visual=this._visual||{},this._visual[e]=t},S.setLayout=function(e,t){if(g(e))for(var n in e)e.hasOwnProperty(n)&&this.setLayout(n,e[n]);else this._layout[e]=t},S.getLayout=function(e){return this._layout[e]},S.getItemLayout=function(e){return this._itemLayouts[e]},S.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?p[te](this._itemLayouts[e]||{},t):t},S[y]=function(e,t,n){var i=this._itemVisuals[e],r=i&&i[t];return null!=r||n?r:this.getVisual(t)},S.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};if(this._itemVisuals[e]=i,g(t))for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);else i[t]=n};var T=function(e){e[Y]=this[Y],e[$]=this[$],e.dataType=this.dataType};return S.setItemGraphicEl=function(e,t){var n=this.hostModel;t&&(t[$]=e,t.dataType=this.dataType,t[Y]=n&&n[Y],"group"===t.type&&t.traverse(T,t)),this._graphicEls[e]=t},S[v]=function(e){return this._graphicEls[e]},S.eachItemGraphicEl=function(e,t){p.each(this._graphicEls,function(n,i){n&&e&&e.call(t,n,i)})},S.cloneShallow=function(){var e=p.map(this[o],this.getDimensionInfo,this),t=new C(e,this.hostModel);return t._storage=this._storage,k(t,this),t.indices=this.indices.slice(),!this.silent&&this.__onTransfer(t),t},S.wrapMethod=function(e,t){var n=this[e];typeof n===H&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e][_](p.slice(arguments)))})},S.__onTransfer=S.__onChange=p.noop,C}),t("echarts/data/helper/completeDimensions",[ge,me],function(e){function t(e,t,o,a){if(!t)return e;var s=i(t[0]),l=r[W](s)&&s[J]||1;o=o||[],a=a||"extra";for(var c=0;l>c;c++)if(!e[c]){var u=o[c]||a+(c-o[J]);e[c]=n(t,c)?{type:"ordinal",name:u}:u}return e}function n(e,t){for(var n=0,o=e[J];o>n;n++){var a=i(e[n]);if(!r[W](a))return!1;var a=a[t];if(null!=a&&isFinite(a))return!1;if(r.isString(a)&&"-"!==a)return!0}return!1}function i(e){return r[W](e)?e:r[ie](e)?e.value:e}var r=e(me);return t}),t("zrender/core/curve",[ge,"./vector"],function(e){function t(e){return e>-x&&x>e}function n(e){return e>x||-x>e}function i(e,t,n,i,r){var o=1-r;return o*o*(o*e+3*r*t)+r*r*(r*i+3*o*n)}function r(e,t,n,i,r){var o=1-r;return 3*(((t-e)*o+2*(n-t)*r)*o+(i-n)*r*r)}function o(e,n,i,r,o,a){var s=r+3*(n-i)-e,l=3*(i-2*n+e),c=3*(n-e),u=e-o,d=l*l-3*s*c,h=l*c-9*s*u,f=c*c-3*l*u,p=0;if(t(d)&&t(h))if(t(l))a[0]=0;else{var m=-c/l;m>=0&&1>=m&&(a[p++]=m)}else{var g=h*h-4*d*f;if(t(g)){var v=h/d,m=-l/s+v,x=-v/2;m>=0&&1>=m&&(a[p++]=m),x>=0&&1>=x&&(a[p++]=x)}else if(g>0){var w=y(g),C=d*l+1.5*s*(-h+w),S=d*l+1.5*s*(-h-w);C=0>C?-b(-C,k):b(C,k),S=0>S?-b(-S,k):b(S,k);var m=(-l-(C+S))/(3*s);m>=0&&1>=m&&(a[p++]=m)}else{var T=(2*d*l-3*s*h)/(2*y(d*d*d)),D=Math.acos(T)/3,A=y(d),E=Math.cos(D),m=(-l-2*A*E)/(3*s),x=(-l+A*(E+_*Math.sin(D)))/(3*s),M=(-l+A*(E-_*Math.sin(D)))/(3*s);m>=0&&1>=m&&(a[p++]=m),x>=0&&1>=x&&(a[p++]=x),M>=0&&1>=M&&(a[p++]=M)}}return p}function a(e,i,r,o,a){var s=6*r-12*i+6*e,l=9*i+3*o-3*e-9*r,c=3*i-3*e,u=0;if(t(l)){if(n(s)){var d=-c/s;d>=0&&1>=d&&(a[u++]=d)}}else{var h=s*s-4*l*c;if(t(h))a[0]=-s/(2*l);else if(h>0){var f=y(h),d=(-s+f)/(2*l),p=(-s-f)/(2*l);d>=0&&1>=d&&(a[u++]=d),p>=0&&1>=p&&(a[u++]=p)}}return u}function s(e,t,n,i,r,o){var a=(t-e)*r+e,s=(n-t)*r+t,l=(i-n)*r+n,c=(s-a)*r+a,u=(l-s)*r+s,d=(u-c)*r+c;o[0]=e,o[1]=a,o[2]=c,o[3]=d,o[4]=d,o[5]=u,o[6]=l,o[7]=i}function l(e,t,n,r,o,a,s,l,c,u,d){var h,f,p,m,g,b=.005,x=1/0;C[0]=c,C[1]=u;for(var _=0;1>_;_+=.05)S[0]=i(e,n,o,s,_),S[1]=i(t,r,a,l,_),m=v(C,S),x>m&&(h=_,x=m);x=1/0;for(var k=0;32>k&&!(w>b);k++)f=h-b,p=h+b,S[0]=i(e,n,o,s,f),S[1]=i(t,r,a,l,f),m=v(S,C),f>=0&&x>m?(h=f,x=m):(T[0]=i(e,n,o,s,p),T[1]=i(t,r,a,l,p),g=v(T,C),1>=p&&x>g?(h=p,x=g):b*=.5);return d&&(d[0]=i(e,n,o,s,h),d[1]=i(t,r,a,l,h)),y(x)}function c(e,t,n,i){var r=1-i;return r*(r*e+2*i*t)+i*i*n}function u(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function d(e,i,r,o,a){var s=e-2*i+r,l=2*(i-e),c=e-o,u=0;if(t(s)){if(n(l)){var d=-c/l;d>=0&&1>=d&&(a[u++]=d)}}else{var h=l*l-4*s*c;if(t(h)){var d=-l/(2*s);d>=0&&1>=d&&(a[u++]=d)}else if(h>0){var f=y(h),d=(-l+f)/(2*s),p=(-l-f)/(2*s);d>=0&&1>=d&&(a[u++]=d),p>=0&&1>=p&&(a[u++]=p)}}return u}function h(e,t,n){var i=e+n-2*t;return 0===i?.5:(e-t)/i}function f(e,t,n,i,r){var o=(t-e)*i+e,a=(n-t)*i+t,s=(a-o)*i+o;r[0]=e,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function p(e,t,n,i,r,o,a,s,l){var u,d=.005,h=1/0;C[0]=a,C[1]=s;for(var f=0;1>f;f+=.05){S[0]=c(e,n,r,f),S[1]=c(t,i,o,f);var p=v(C,S);h>p&&(u=f,h=p)}h=1/0;for(var m=0;32>m&&!(w>d);m++){var g=u-d,b=u+d;S[0]=c(e,n,r,g),S[1]=c(t,i,o,g);var p=v(S,C);if(g>=0&&h>p)u=g,h=p;else{T[0]=c(e,n,r,b),T[1]=c(t,i,o,b);var x=v(T,C);1>=b&&h>x?(u=b,h=x):d*=.5}}return l&&(l[0]=c(e,n,r,u),l[1]=c(t,i,o,u)),y(h)}var m=e("./vector"),g=m[oe],v=m.distSquare,b=Math.pow,y=Math.sqrt,x=1e-8,w=1e-4,_=y(3),k=1/3,C=g(),S=g(),T=g();return{cubicAt:i,cubicDerivativeAt:r,cubicRootAt:o,cubicExtrema:a,cubicSubdivide:s,cubicProjectPoint:l,quadraticAt:c,quadraticDerivativeAt:u,quadraticRootAt:d,quadraticExtremum:h,quadraticSubdivide:f,quadraticProjectPoint:p}}),t("zrender/core/bbox",[ge,"./vector","./curve"],function(e){var t=e("./vector"),n=e("./curve"),i={},r=Math.min,o=Math.max,a=Math.sin,s=Math.cos,l=t[oe](),c=t[oe](),u=t[oe](),d=2*Math.PI;i.fromPoints=function(e,t,n){if(0!==e[J]){var i,a=e[0],s=a[0],l=a[0],c=a[1],u=a[1];for(i=1;i<e[J];i++)a=e[i],s=r(s,a[0]),l=o(l,a[0]),c=r(c,a[1]),u=o(u,a[1]);t[0]=s,t[1]=c,n[0]=l,n[1]=u}},i.fromLine=function(e,t,n,i,a,s){a[0]=r(e,n),a[1]=r(t,i),s[0]=o(e,n),s[1]=o(t,i)};var h=[],f=[];return i.fromCubic=function(e,t,i,a,s,l,c,u,d,p){var m,g=n.cubicExtrema,v=n.cubicAt,b=g(e,i,s,c,h);for(d[0]=1/0,d[1]=1/0,p[0]=-1/0,p[1]=-1/0,m=0;b>m;m++){var y=v(e,i,s,c,h[m]);d[0]=r(y,d[0]),p[0]=o(y,p[0])}for(b=g(t,a,l,u,f),m=0;b>m;m++){var x=v(t,a,l,u,f[m]);d[1]=r(x,d[1]),p[1]=o(x,p[1])}d[0]=r(e,d[0]),p[0]=o(e,p[0]),d[0]=r(c,d[0]),p[0]=o(c,p[0]),d[1]=r(t,d[1]),p[1]=o(t,p[1]),d[1]=r(u,d[1]),p[1]=o(u,p[1])},i.fromQuadratic=function(e,t,i,a,s,l,c,u){var d=n.quadraticExtremum,h=n.quadraticAt,f=o(r(d(e,i,s),1),0),p=o(r(d(t,a,l),1),0),m=h(e,i,s,f),g=h(t,a,l,p);c[0]=r(e,s,m),c[1]=r(t,l,g),u[0]=o(e,s,m),u[1]=o(t,l,g)},i.fromArc=function(e,n,i,r,o,h,f,p,m){var g=t.min,v=t.max,b=Math.abs(o-h);if(1e-4>b%d&&b>1e-4)return p[0]=e-i,p[1]=n-r,m[0]=e+i,void(m[1]=n+r);if(l[0]=s(o)*i+e,l[1]=a(o)*r+n,c[0]=s(h)*i+e,c[1]=a(h)*r+n,g(p,l,c),v(m,l,c),o%=d,0>o&&(o+=d),h%=d,0>h&&(h+=d),o>h&&!f?h+=d:h>o&&f&&(o+=d),f){var y=h;h=o,o=y}for(var x=0;h>x;x+=Math.PI/2)x>o&&(u[0]=s(x)*i+e,u[1]=a(x)*r+n,g(p,u,p),v(m,u,m))},i}),t("echarts/data/DataDiffer",[ge],function(){function e(e){return e}function t(t,n,i,r){this._old=t,this._new=n,this._oldKeyGetter=i||e,this._newKeyGetter=r||e}function n(e,t,n){for(var i=0;i<e[J];i++){var r=n(e[i]),o=t[r];null==o?t[r]=i:(o[J]||(t[r]=o=[o]),o.push(i))}}return t[fe]={constructor:t,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e,t=this._old,i=this._new,r=this._oldKeyGetter,o=this._newKeyGetter,a={},s={};for(n(t,a,r),n(i,s,o),e=0;e<t[J];e++){var l=r(t[e]),c=s[l];if(null!=c){var u=c[J];u?(1===u&&(s[l]=null),c=c.unshift()):s[l]=null,this._update&&this._update(c,e)}else this._remove&&this._remove(e)}for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];if(null==c)continue;if(c[J])for(var e=0,u=c[J];u>e;e++)this._add&&this._add(c[e]);else this._add&&this._add(c)}}},t}),t("zrender/contain/line",[],function(){return{containStroke:function(e,t,n,i,r,o,a){if(0===r)return!1;var s=r,l=0,c=e;if(a>t+s&&a>i+s||t-s>a&&i-s>a||o>e+s&&o>n+s||e-s>o&&n-s>o)return!1;if(e===n)return Math.abs(o-e)<=s/2;l=(t-i)/(e-n),c=(e*i-n*t)/(e-n);var u=l*o-a+c,d=u*u/(l*l+1);return s/2*s/2>=d}}}),t("zrender/contain/cubic",[ge,"../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,o,a,s,l,c,u,d){if(0===c)return!1;var h=c;if(d>n+h&&d>r+h&&d>a+h&&d>l+h||n-h>d&&r-h>d&&a-h>d&&l-h>d||u>e+h&&u>i+h&&u>o+h&&u>s+h||e-h>u&&i-h>u&&o-h>u&&s-h>u)return!1;var f=t.cubicProjectPoint(e,n,i,r,o,a,s,l,u,d,null);return h/2>=f}}}),t("zrender/contain/quadratic",[ge,"../core/curve"],function(e){var t=e("../core/curve");return{containStroke:function(e,n,i,r,o,a,s,l,c){if(0===s)return!1;var u=s;if(c>n+u&&c>r+u&&c>a+u||n-u>c&&r-u>c&&a-u>c||l>e+u&&l>i+u&&l>o+u||e-u>l&&i-u>l&&o-u>l)return!1;var d=t.quadraticProjectPoint(e,n,i,r,o,a,l,c,null);return u/2>=d}}}),t("zrender/contain/arc",[ge,"./util"],function(e){var t=e("./util").normalizeRadian,n=2*Math.PI;return{containStroke:function(e,i,r,o,a,s,l,c,u){if(0===l)return!1;var d=l;c-=e,u-=i;var h=Math.sqrt(c*c+u*u);if(h-d>r||r>h+d)return!1;if(Math.abs(o-a)%n<1e-4)return!0;if(s){var f=o;o=t(a),a=t(f)}else o=t(o),a=t(a);o>a&&(a+=n);var p=Math.atan2(u,c);return 0>p&&(p+=n),p>=o&&a>=p||p+n>=o&&a>=p+n}}}),t("zrender/contain/util",[ge],function(){var e=2*Math.PI;return{normalizeRadian:function(t){return t%=e,0>t&&(t+=e),t}}}),t("zrender/contain/windingLine",[],function(){return function(e,t,n,i,r,o){if(o>t&&o>i||t>o&&i>o)return 0;if(i===t)return 0;var a=t>i?1:-1,s=(o-t)/(i-t),l=s*(n-e)+e;return l>r?a:0}}),t("echarts/chart/bar/barItemStyle",[ge,"../../model/mixin/makeStyleMapper"],function(e){return{getBarItemStyle:e("../../model/mixin/makeStyleMapper")([["fill","color"],[m,"borderColor"],["lineWidth","borderWidth"],[m,"barBorderColor"],["lineWidth","barBorderWidth"],[A],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}}),t("zrender/graphic/helper/roundRect",[ge],function(){return{buildPath:function(e,t){var n,i,r,o,a=t.x,s=t.y,l=t.width,c=t[ae],u=t.r;0>l&&(a+=l,l=-l),0>c&&(s+=c,c=-c),typeof u===F?n=i=r=o=u:u instanceof Array?1===u[J]?n=i=r=o=u[0]:2===u[J]?(n=r=u[0],i=o=u[1]):3===u[J]?(n=u[0],i=o=u[1],r=u[2]):(n=u[0],i=u[1],r=u[2],o=u[3]):n=i=r=o=0;var d;n+i>l&&(d=n+i,n*=l/d,i*=l/d),r+o>l&&(d=r+o,r*=l/d,o*=l/d),i+r>c&&(d=i+r,i*=c/d,r*=c/d),n+o>c&&(d=n+o,n*=c/d,o*=c/d),e.moveTo(a+n,s),e.lineTo(a+l-i,s),0!==i&&e.quadraticCurveTo(a+l,s,a+l,s+i),e.lineTo(a+l,s+c-r),0!==r&&e.quadraticCurveTo(a+l,s+c,a+l-r,s+c),e.lineTo(a+o,s+c),0!==o&&e.quadraticCurveTo(a,s+c,a,s+c-o),e.lineTo(a,s+n),0!==n&&e.quadraticCurveTo(a,s,a+n,s)}}}),t("zrender/core/LRU",[ge],function(){var e=function(){this.head=null,this.tail=null,this._len=0},t=e[fe];t.insert=function(e){var t=new n(e);return this.insertEntry(t),t},t.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,this.tail=e):this.head=this.tail=e,this._len++},t[ne]=function(e){var t=e.prev,n=e.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,e.next=e.prev=null,this._len--},t.len=function(){return this._len};var n=function(e){this.value=e,this.next,this.prev},i=function(t){this._list=new e,this._map={},this._maxSize=t||10},r=i[fe];return r.put=function(e,t){var n=this._list,i=this._map;if(null==i[e]){var r=n.len();if(r>=this._maxSize&&r>0){var o=n.head;n[ne](o),delete i[o.key]}var a=n.insert(t);a.key=e,i[e]=a}},r.get=function(e){var t=this._map[e],n=this._list;return null!=t?(t!==n.tail&&(n[ne](t),n.insertEntry(t)),t.value):void 0},r.clear=function(){this._list.clear(),this._map={}},i}),t("zrender/graphic/helper/poly",[ge,"./smoothSpline","./smoothBezier"],function(e){var t=e("./smoothSpline"),n=e("./smoothBezier");return{buildPath:function(e,i,r){var o=i.points,a=i.smooth;if(o&&o[J]>=2){if(a&&"spline"!==a){var s=n(o,a,r,i.smoothConstraint);e.moveTo(o[0][0],o[0][1]);for(var l=o[J],c=0;(r?l:l-1)>c;c++){var u=s[2*c],d=s[2*c+1],h=o[(c+1)%l];e.bezierCurveTo(u[0],u[1],d[0],d[1],h[0],h[1])}}else{"spline"===a&&(o=t(o,r)),e.moveTo(o[0][0],o[0][1]);for(var c=1,f=o[J];f>c;c++)e.lineTo(o[c][0],o[c][1])}r&&e.closePath()}}}}),t("zrender/graphic/helper/smoothSpline",[ge,"../../core/vector"],function(e){function t(e,t,n,i,r,o,a){var s=.5*(n-e),l=.5*(i-t);return(2*(t-n)+s+l)*a+(-3*(t-n)-2*s-l)*o+s*r+t}var n=e("../../core/vector");return function(e,i){for(var r=e[J],o=[],a=0,s=1;r>s;s++)a+=n.distance(e[s-1],e[s]);var l=a/2;l=r>l?r:l;for(var s=0;l>s;s++){var c,u,d,h=s/(l-1)*(i?r:r-1),f=Math.floor(h),p=h-f,m=e[f%r];i?(c=e[(f-1+r)%r],u=e[(f+1)%r],d=e[(f+2)%r]):(c=e[0===f?f:f-1],u=e[f>r-2?r-1:f+1],d=e[f>r-3?r-1:f+2]);var g=p*p,v=p*g;o.push([t(c[0],m[0],u[0],d[0],p,g,v),t(c[1],m[1],u[1],d[1],p,g,v)])}return o}}),t("zrender/graphic/helper/smoothBezier",[ge,"../../core/vector"],function(e){var t=e("../../core/vector"),n=t.min,i=t.max,r=t.scale,o=t.distance,a=t.add;return function(e,s,l,c){var u,d,h,f,p=[],m=[],g=[],v=[];if(c){h=[1/0,1/0],f=[-1/0,-1/0];for(var b=0,y=e[J];y>b;b++)n(h,h,e[b]),i(f,f,e[b]);n(h,h,c[0]),i(f,f,c[1])}for(var b=0,y=e[J];y>b;b++){var x=e[b];if(l)u=e[b?b-1:y-1],d=e[(b+1)%y];else{if(0===b||b===y-1){p.push(t.clone(e[b]));continue}u=e[b-1],d=e[b+1]}t.sub(m,d,u),r(m,m,s);var w=o(x,u),_=o(x,d),k=w+_;0!==k&&(w/=k,_/=k),r(g,m,-w),r(v,m,_);var C=a([],x,g),S=a([],x,v);c&&(i(C,C,h),n(C,C,f),i(S,S,h),n(S,S,f)),p.push(C),p.push(S)}return l&&p.push(p.shift()),p}}),t("zrender/Handler",[ge,"./core/env","./core/event","./core/util","./mixin/Draggable","./core/GestureMgr","./mixin/Eventful"],function(e){function t(e,t,n){return{type:e,event:n,target:t,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta}}function n(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var r=i.recognize(t,e.findHover(t.zrX,t.zrY,null));if("end"===n&&i.clear(),r){var o=r.type;t.gestureEvent=o,e._dispatchProxy(r[X],o,r.event)}}function i(e){function t(e,t){return function(){return t._touching?void 0:e.apply(t,arguments)}}for(var n=g[_](v),i=0;i<n[J];i++){var r=n[i];e._handlers[r]=d.bind(k[r],e)}for(var i=0;i<m[J];i++){var r=m[i];e._handlers[r]=t(k[r],e)}}function r(e,t,n){if(e[e.rectHover?"rectContain":T](t,n)){for(var i=e;i;){if(i.silent||i.clipPath&&!i.clipPath[T](t,n))return!1;i=i.parent}return!0}return!1}function o(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}function a(){return!1}function s(){return c.touchEventsSupported}function l(e){return"mousewheel"===e&&c.browser.firefox?"DOMMouseScroll":e}var c=e("./core/env"),u=e("./core/event"),d=e("./core/util"),h=e("./mixin/Draggable"),f=e("./core/GestureMgr"),p=e("./mixin/Eventful"),m=["click","dblclick","mousewheel",G];!a()&&m.push("mouseup","mousedown","mousemove");var g=["touchstart","touchend","touchmove"],v=["pointerdown","pointerup","pointermove"],b=300,y=u.addEventListener,x=u.removeEventListener,w=u.normalizeEvent,k={mousemove:function(e){e=w(this.root,e);var t=e.zrX,n=e.zrY,i=this.findHover(t,n,null),r=this._hovered;this._hovered=i,this.root.style.cursor=i?i.cursor:this._defaultCursorStyle,r&&i!==r&&r.__zr&&this._dispatchProxy(r,G,e),this._dispatchProxy(i,"mousemove",e),i&&i!==r&&this._dispatchProxy(i,Z,e)},mouseout:function(e){e=w(this.root,e);var t=e.toElement||e.relatedTarget;if(t!=this.root)for(;t&&9!=t.nodeType;){if(t===this.root)return;t=t.parentNode}this._dispatchProxy(this._hovered,G,e),this.trigger("globalout",{event:e})},touchstart:function(e){e=w(this.root,e),this._lastTouchMoment=new Date,n(this,e,"start"),k.mousemove.call(this,e),k.mousedown.call(this,e),o(this)},touchmove:function(e){e=w(this.root,e),n(this,e,"change"),k.mousemove.call(this,e),o(this)},touchend:function(e){e=w(this.root,e),n(this,e,"end"),k.mouseup.call(this,e),+new Date-this._lastTouchMoment<b&&k.click.call(this,e),o(this)}};d.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){k[e]=function(t){t=w(this.root,t);var n=this.findHover(t.zrX,t.zrY,null);if("mousedown"===e)this._downel=n,this._upel=n;else if("mosueup"===e)this._upel=n;else if("click"===e&&this._downel!==this._upel)return;this._dispatchProxy(n,e,t)}});var C=function(e,t,n){function r(t,n){d.each(t,function(t){y(e,l(t),n._handlers[t])},n)}p.call(this),this.root=e,this.storage=t,this.painter=n,this._hovered,this._lastTouchMoment,this._lastX,this._lastY,this._defaultCursorStyle="default",this._gestureMgr=new f,this._handlers=[],this._touching=!1,this._touchTimer,i(this),a()?r(v,this):s()&&r(g,this),r(m,this),h.call(this)};return C[fe]={constructor:C,resize:function(){this._hovered=null},dispatch:function(e,t){var n=this._handlers[e];n&&n.call(this,t)},dispose:function(){for(var e=this.root,t=m[_](g),n=0;n<t[J];n++){var i=t[n];x(e,l(i),this._handlers[i])}this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(e){this._defaultCursorStyle=e},_dispatchProxy:function(e,n,i){for(var r="on"+n,o=t(n,e,i),a=e;a&&(a[r]&&(o.cancelBubble=a[r].call(a,o)),a.trigger(n,o),a=a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer(function(e){typeof e[r]==H&&e[r].call(e,o),e.trigger&&e.trigger(n,o)}))},findHover:function(e,t,n){for(var i=this.storage.getDisplayList(),o=i[J]-1;o>=0;o--)if(!i[o].silent&&i[o]!==n&&!i[o][le]&&r(i[o],e,t))return i[o]}},d.mixin(C,p),d.mixin(C,h),C}),t("zrender/Storage",[ge,"./core/util","./container/Group"],function(e){function t(e,t){return e[U]===t[U]?e.z===t.z?e.z2===t.z2?e.__renderidx-t.__renderidx:e.z2-t.z2:e.z-t.z:e[U]-t[U]}var n=e("./core/util"),i=e("./container/Group"),r=function(){this._elements={},this._roots=[],this._displayList=[],this._displayListLen=0};return r[fe]={constructor:r,getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var n=this._roots,i=this._displayList,r=0,o=n[J];o>r;r++)this._updateAndAddDisplayable(n[r],null,e);i[J]=this._displayListLen;for(var r=0,o=i[J];o>r;r++)i[r].__renderidx=r;i.sort(t)},_updateAndAddDisplayable:function(e,t,n){if(!e[le]||n){e.beforeUpdate(),e[re](),e.afterUpdate();var i=e.clipPath;if(i&&(i.parent=e,i.updateTransform(),t?(t=t.slice(),t.push(i)):t=[i]),"group"==e.type){for(var r=e._children,o=0;o<r[J];o++){var a=r[o];a.__dirty=e.__dirty||a.__dirty,this._updateAndAddDisplayable(a,t,n)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){this._elements[e.id]||(e instanceof i&&e.addChildrenToStorage(this),this.addToMap(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots[J];t++){var r=this._roots[t];r instanceof i&&r.delChildrenFromStorage(this)}return this._elements={},this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array)for(var t=0,o=e[J];o>t;t++)this.delRoot(e[t]);else{var a;a=typeof e==he?this._elements[e]:e;var s=n[q](this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots[Q](s,1),a instanceof i&&a.delChildrenFromStorage(this))}},addToMap:function(e){return e instanceof i&&(e.__storage=this),e.dirty(),this._elements[e.id]=e,this},get:function(e){return this._elements[e]},delFromMap:function(e){var t=this._elements,n=t[e];return n&&(delete t[e],n instanceof i&&(n.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}},r}),t("zrender/animation/Animation",[ge,d,"../core/event","./Animator"],function(e){var t=e(d),n=e("../core/event").Dispatcher,i=typeof window!==l&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},r=e("./Animator"),o=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time=0,n.call(this)};return o[fe]={constructor:o,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e[f]=this;for(var t=e.getClips(),n=0;n<t[J];n++)this.addClip(t[n])},removeClip:function(e){var n=t[q](this._clips,e);n>=0&&this._clips[Q](n,1)},removeAnimator:function(e){for(var t=e.getClips(),n=0;n<t[J];n++)this.removeClip(t[n]);e[f]=null},_update:function(){for(var e=(new Date).getTime(),t=e-this._time,n=this._clips,i=n[J],r=[],o=[],a=0;i>a;a++){var s=n[a],l=s.step(e);l&&(r.push(l),o.push(s))}for(var a=0;i>a;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;i=r[J];for(var a=0;i>a;a++)o[a].fire(r[a]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage[re]&&this.stage[re]()},start:function(){function e(){t._running&&(i(e),t._update())}var t=this;this._running=!0,this._time=(new Date).getTime(),i(e)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new r(e,t.loop,t.getter,t.setter);return n}},t.mixin(o,n),o}),t("zrender/Painter",[ge,"./config","./core/util","./core/log","./core/BoundingRect","./Layer","./graphic/Image"],function(e){function t(e){return parseInt(e,10)}function n(e){return e?e.isBuildin?!0:typeof e.resize!==H||typeof e.refresh!==H?!1:!0:!1}function i(e){e.__unusedCount++}function r(e){e.__dirty=!1,1==e.__unusedCount&&e.clear()}function o(e,t,n){return p.copy(e[N]()),e.transform&&p[g](e.transform),m.width=t,m[ae]=n,!p.intersect(m)}function a(e,t){if(!e||!t||e[J]!==t[J])return!0;for(var n=0;n<e[J];n++)if(e[n]!==t[n])return!0}function s(e,t){for(var n=0;n<e[J];n++){var i,r=e[n];r.transform&&(i=r.transform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5]));var o=r.path;o.beginPath(t),r.buildPath(o,r.shape),t.clip(),r.transform&&(i=r.invTransform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5]))}}var l=e("./config"),c=e("./core/util"),u=e("./core/log"),d=e("./core/BoundingRect"),f=e("./Layer"),p=new d(0,0,0,0),m=new d(0,0,0,0),v=function(e,t,n){var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();n=n||{},this.dpr=n.devicePixelRatio||l.devicePixelRatio,this._singleCanvas=i,this.root=e;var r=e.style;if(r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t,i){var o=e.width,a=e[ae];this._width=o,this._height=a;var s=new f(e,this,1);s.initContext(),this._layers={0:s},this._zlevelList=[0]}else{var o=this._getWidth(),a=this._getHeight();this._width=o,this._height=a;var c=document.createElement("div");this._domRoot=c;var u=c.style;u[E]="relative",u.overflow="hidden",u.width=this._width+"px",u[ae]=this._height+"px",e.appendChild(c),this._layers={},this._zlevelList=[]}this._layerConfig={},this.pathToImage=this._createPathToImage()};return v[fe]={constructor:v,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(e){var t=this.storage.getDisplayList(!0),n=this._zlevelList;this._paintList(t,e);for(var i=0;i<n[J];i++){var r=n[i],o=this._layers[r];!o.isBuildin&&o.refresh&&o.refresh()}return this},_paintList:function(e,t){null==t&&(t=!1),this._updateLayerStatus(e);var n,l,c,d=this._width,h=this._height;this.eachBuildinLayer(i);for(var f=null,p=0,m=e[J];m>p;p++){var g=e[p],v=this._singleCanvas?0:g[U];if(l!==v&&(l=v,n=this.getLayer(l),n.isBuildin||u("ZLevel "+l+" has been used by unkown layer "+n.id),c=n.ctx,n.__unusedCount=0,(n.__dirty||t)&&n.clear()),(n.__dirty||t)&&!g.invisible&&0!==g.style[A]&&g.scale[0]&&g.scale[1]&&(!g.culling||!o(g,d,h))){var b=g.__clipPaths;a(b,f)&&(f&&c.restore(),b&&(c.save(),s(b,c)),f=b),g.beforeBrush&&g.beforeBrush(c),g.brush(c,!1),g.afterBrush&&g.afterBrush(c)}g.__dirty=!1}f&&c.restore(),this.eachBuildinLayer(r)},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];return t||(t=new f("zr_"+e,this,this.dpr),t.isBuildin=!0,this._layerConfig[e]&&c.merge(t,this._layerConfig[e],!0),this.insertLayer(e,t),t.initContext()),t},insertLayer:function(e,t){var i=this._layers,r=this._zlevelList,o=r[J],a=null,s=-1,l=this._domRoot;if(i[e])return void u("ZLevel "+e+" has been used already");if(!n(t))return void u("Layer of zlevel "+e+" is not valid");if(o>0&&e>r[0]){for(s=0;o-1>s&&!(r[s]<e&&r[s+1]>e);s++);a=i[r[s]]}if(r[Q](s+1,0,e),a){var c=a.dom;c.nextSibling?l.insertBefore(t.dom,c.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom);i[e]=t},eachLayer:function(e,t){var n,i,r=this._zlevelList;for(i=0;i<r[J];i++)n=r[i],e.call(t,this._layers[n],n)},eachBuildinLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o[J];r++)i=o[r],n=this._layers[i],n.isBuildin&&e.call(t,n,i)},eachOtherLayer:function(e,t){var n,i,r,o=this._zlevelList;for(r=0;r<o[J];r++)i=o[r],n=this._layers[i],n.isBuildin||e.call(t,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers,n={};this.eachBuildinLayer(function(e,t){n[t]=e.elCount,e.elCount=0});for(var i=0,r=e[J];r>i;i++){var o=e[i],a=this._singleCanvas?0:o[U],s=t[a];if(s){if(s.elCount++,s.__dirty)continue;s.__dirty=o.__dirty}}this.eachBuildinLayer(function(e,t){n[t]!==e.elCount&&(e.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;n[e]?c.merge(n[e],t,!0):n[e]=t;var i=this._layers[e];i&&c.merge(i,n[e],!0)}},delLayer:function(e){var t=this._layers,n=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],n[Q](c[q](n,e),1))},resize:function(e,t){var n=this._domRoot;if(n.style.display="none",e=e||this._getWidth(),t=t||this._getHeight(),n.style.display="",this._width!=e||t!=this._height){n.style.width=e+"px",n.style[ae]=t+"px";for(var i in this._layers)this._layers[i].resize(e,t);this.refresh(!0)}return this._width=e,this._height=t,this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas)return this._layers[0].dom;var t=new f("image",this,e.pixelRatio||this.dpr);t.initContext();var n=t.ctx;t.clearColor=e.backgroundColor,t.clear();for(var i=this.storage.getDisplayList(!0),r=0;r<i[J];r++){var o=i[r];o.invisible||(o.beforeBrush&&o.beforeBrush(n),o.brush(n,!1),o.afterBrush&&o.afterBrush(n))}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientWidth||t(n.width)||t(e.style.width))-(t(n.paddingLeft)||0)-(t(n.paddingRight)||0)|0},_getHeight:function(){var e=this.root,n=document.defaultView.getComputedStyle(e);return(e.clientHeight||t(n[ae])||t(e.style[ae]))-(t(n.paddingTop)||0)-(t(n.paddingBottom)||0)|0},_pathToImage:function(t,n,i,r,o){var a=document.createElement("canvas"),s=a[h]("2d");a.width=i*o,a[ae]=r*o,s.clearRect(0,0,i*o,r*o);var l={position:n[E],rotation:n.rotation,scale:n.scale};n[E]=[0,0,0],n.rotation=0,n.scale=[1,1],n&&n.brush(s);var c=e("./graphic/Image"),u=new c({id:t,style:{x:0,y:0,image:a}});return null!=l[E]&&(u[E]=n[E]=l[E]),null!=l.rotation&&(u.rotation=n.rotation=l.rotation),null!=l.scale&&(u.scale=n.scale=l.scale),u},_createPathToImage:function(){var e=this;return function(t,n,i,r){return e._pathToImage(t,n,i,r,e.dpr)}}},v}),t("echarts/component/axis/AxisView",[ge,me,r,"./AxisBuilder",i],function(e){function t(e,t){function n(e){var t=i.getAxis(e);return t.toGlobalCoord(t.dataToCoord(0))}var i=e[j],r=t.axis,o={},a=r[E],s=r.onZero?"onZero":a,l=r.dim,c=i.getRect(),u=[c.x,c.x+c.width,c.y,c.y+c[ae]],d={x:{top:u[2],bottom:u[3]},y:{left:u[0],right:u[1]}};d.x.onZero=Math.max(Math.min(n("y"),d.x[se]),d.x.top),d.y.onZero=Math.max(Math.min(n("x"),d.y.right),d.y.left),o[E]=["y"===l?d.y[s]:u[0],"x"===l?d.x[s]:u[3]];var h={x:0,y:1};o.rotation=Math.PI/2*h[l];var f={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=f[a],r.onZero&&(o.labelOffset=d[l][a]-d[l].onZero),t[de]("axisTick").get(p)&&(o.tickDirection=-o.tickDirection),t[de]("axisLabel").get(p)&&(o.labelDirection=-o.labelDirection);var m=t[de]("axisLabel").get("rotate");return o.labelRotation="top"===s?-m:m,o.labelInterval=r.getLabelInterval(),o.z2=1,o}var n=e(me),o=e(r),a=e("./AxisBuilder"),s=a.ifIgnoreOnTick,l=a.getInterval,c=["axisLine","axisLabel","axisTick","axisName"],u=["splitLine","splitArea"],d=e(i).extendComponentView({
type:"axis",render:function(e,i){if(this.group[z](),e.get("show")){var r=i.getComponent("grid",e.get("gridIndex")),o=t(r,e),s=new a(e,o);n.each(c,s.add,s),this.group.add(s.getGroup()),n.each(u,function(t){e.get(t+".show")&&this["_"+t](e,r,o.labelInterval)},this)}},_splitLine:function(e,t,i){var r=e.axis,a=e[de]("splitLine"),c=a[de]("lineStyle"),u=c.get("width"),d=c.get("color"),h=l(a,i);d=n[W](d)?d:[d];for(var f=t[j].getRect(),p=r.isHorizontal(),m=[],g=0,v=r.getTicksCoords(),b=[],y=[],x=0;x<v[J];x++)if(!s(r,x,h)){var w=r.toGlobalCoord(v[x]);p?(b[0]=w,b[1]=f.y,y[0]=w,y[1]=f.y+f[ae]):(b[0]=f.x,b[1]=w,y[0]=f.x+f.width,y[1]=w);var _=g++%d[J];m[_]=m[_]||[],m[_].push(new o.Line(o.subPixelOptimizeLine({shape:{x1:b[0],y1:b[1],x2:y[0],y2:y[1]},style:{lineWidth:u},silent:!0})))}for(var k=c.getLineStyle(),x=0;x<m[J];x++)this.group.add(o.mergePath(m[x],{style:n[ee]({stroke:d[x%d[J]]},k),silent:!0}))},_splitArea:function(e,t,i){var r=e.axis,a=e[de]("splitArea"),c=a[de]("areaStyle"),u=c.get("color"),d=t[j].getRect(),h=r.getTicksCoords(),f=r.toGlobalCoord(h[0]),p=r.toGlobalCoord(h[0]),m=[],g=0,v=l(a,i);u=n[W](u)?u:[u];for(var b=1;b<h[J];b++)if(!s(r,b,v)){var y,x,w,_,k=r.toGlobalCoord(h[b]);r.isHorizontal()?(y=f,x=d.y,w=k-y,_=d[ae]):(y=d.x,x=p,w=d.width,_=k-x);var C=g++%u[J];m[C]=m[C]||[],m[C].push(new o.Rect({shape:{x:y,y:x,width:w,height:_},silent:!0})),f=y+w,p=x+_}for(var S=c.getAreaStyle(),b=0;b<m[J];b++)this.group.add(o.mergePath(m[b],{style:n[ee]({fill:u[b%u[J]]},S),silent:!0}))}});d[te]({type:"xAxis"}),d[te]({type:"yAxis"})}),t("zrender/core/event",[ge,"../mixin/Eventful"],function(e){function t(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function n(e,n){if(n=n||window.event,null!=n.zrX)return n;var i=n.type,r=i&&i[q]("touch")>=0;if(r){var o="touchend"!=i?n.targetTouches[0]:n.changedTouches[0];if(o){var a=t(e);n.zrX=o.clientX-a.left,n.zrY=o.clientY-a.top}}else{var s=t(e);n.zrX=n.clientX-s.left,n.zrY=n.clientY-s.top,n.zrDelta=n.wheelDelta?n.wheelDelta/120:-(n.detail||0)/3}return n}function i(e,t,n){a?e.addEventListener(t,n):e.attachEvent("on"+t,n)}function r(e,t,n){a?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}var o=e("../mixin/Eventful"),a=typeof window!==l&&!!window.addEventListener,s=a?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};return{normalizeEvent:n,addEventListener:i,removeEventListener:r,stop:s,Dispatcher:o}}),t("zrender/mixin/Draggable",[ge],function(){function e(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}return e[fe]={constructor:e,_dragStart:function(e){var t=e[X];t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this._dispatchProxy(t,"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,i=e.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,t.drift(r,o,e),this._dispatchProxy(t,"drag",e.event);var a=this.findHover(n,i,t),s=this._dropTarget;this._dropTarget=a,t!==a&&(s&&a!==s&&this._dispatchProxy(s,"dragleave",e.event),a&&a!==s&&this._dispatchProxy(a,"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this._dispatchProxy(t,"dragend",e.event),this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},e}),t("zrender/core/GestureMgr",[ge],function(){function e(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function t(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var n=function(){this._track=[]};n[fe]={constructor:n,recognize:function(e,t){return this._doTrack(e,t),this._recognize(e)},clear:function(){return this._track[J]=0,this},_doTrack:function(e,t){var n=e.touches;if(n){for(var i={points:[],touches:[],target:t,event:e},r=0,o=n[J];o>r;r++){var a=n[r];i.points.push([a.clientX,a.clientY]),i.touches.push(a)}this._track.push(i)}},_recognize:function(e){for(var t in i)if(i.hasOwnProperty(t)){var n=i[t](this._track,e);if(n)return n}}};var i={pinch:function(n,i){var r=n[J];if(r){var o=(n[r-1]||{}).points,a=(n[r-2]||{}).points||o;if(a&&a[J]>1&&o&&o[J]>1){var s=e(o)/e(a);!isFinite(s)&&(s=1),i.pinchScale=s;var l=t(o);return i.pinchX=l[0],i.pinchY=l[1],{type:"pinch",target:n[0][X],event:i}}}}};return n}),t("echarts/component/axis/AxisBuilder",[ge,me,r,"../../model/Model","../../util/number"],function(e){function t(e){var t={componentType:e.mainType};return t[e.mainType+"Index"]=e.componentIndex,t}function n(e,t,n){var i,r,o=d(t-e.rotation);return h(o)?(r=n>0?"top":se,i=M):h(o-f)?(r=n>0?se:"top",i=M):(r=P,i=o>0&&f>o?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,verticalAlign:r}}function i(e,t,n){var i,r,o=d(-e.rotation),a=n[0]>n[1],s="start"===t&&!a||"start"!==t&&a;return h(o-f/2)?(r=s?se:"top",i=M):h(o-1.5*f)?(r=s?"top":se,i=M):(r=P,i=1.5*f>o&&o>f/2?s?"left":"right":s?"right":"left"),{rotation:o,textAlign:i,verticalAlign:r}}var o=e(me),l=e(r),c=e("../../model/Model"),u=e("../../util/number"),d=u.remRadian,h=u.isRadianAroundZero,f=Math.PI,p=function(e,t){this.opt=t,this.axisModel=e,o[ee](t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new l.Group({position:t[E].slice(),rotation:t.rotation})};p[fe]={constructor:p,hasBuilder:function(e){return!!m[e]},add:function(e){m[e].call(this)},getGroup:function(){return this.group}};var m={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis[k]();this.group.add(new l.Line({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:o[te]({lineCap:"round"},t[de]("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold,silent:!!e.axisLineSilent,z2:1}))}},axisTick:function(){var e=this.axisModel;if(e.get("axisTick.show")){for(var t=e.axis,n=e[de]("axisTick"),i=this.opt,r=n[de]("lineStyle"),o=n.get(J),a=b(n,i.labelInterval),s=t.getTicksCoords(),c=[],u=0;u<s[J];u++)if(!v(t,u,a)){var d=s[u];c.push(new l.Line(l.subPixelOptimizeLine({shape:{x1:d,y1:0,x2:d,y2:i.tickDirection*o},style:{lineWidth:r.get("width")},silent:!0})))}this.group.add(l.mergePath(c,{style:r.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function e(e,t){var n=e&&e[N]().clone(),i=t&&t[N]().clone();return n&&i?(n[g](e.getLocalTransform()),i[g](t.getLocalTransform()),n.intersect(i)):void 0}var i=this.axisModel;if(i.get("axisLabel.show")){var r=this.opt,o=i.axis,a=i[de]("axisLabel"),u=a[de](L),d=a.get("margin"),h=o.scale[C](),p=i.getFormattedLabels(),m=r.labelRotation;null==m&&(m=a.get("rotate")||0),m=m*f/180;for(var b=n(r,m,r.labelDirection),y=i.get("data"),x=[],_=i.get("silent"),k=0;k<h[J];k++)if(!v(o,k,r.labelInterval)){var S=u;y&&y[k]&&y[k][L]&&(S=new c(y[k][L],u,i[w]));var T=S[R](),D=o.dataToCoord(h[k]),A=[D,r.labelOffset+r.labelDirection*d],E=o.scale.getLabel(h[k]),M=new l.Text({style:{text:p[k],textAlign:S.get("align",!0)||b[O],textVerticalAlign:S.get("baseline",!0)||b.verticalAlign,textFont:S[I](),fill:typeof T===H?T(E):T},position:A,rotation:b.rotation,silent:_,z2:10});M.eventData=t(i),M.eventData.targetType="axisLabel",M.eventData.value=E,x.push(M),this.group.add(M)}if(o.type!==s){if(i.getMin?i.getMin():i.get("min")){var P=x[0],j=x[1];e(P,j)&&(P[le]=!0)}if(i.getMax?i.getMax():i.get("max")){var z=x[x[J]-1],B=x[x[J]-2];e(B,z)&&(z[le]=!0)}}}},axisName:function(){var e=this.opt,r=this.axisModel,o=this.opt.axisName;if(null==o&&(o=r.get("name")),o){var a,s=r.get("nameLocation"),c=e.nameDirection,u=r[de]("nameTextStyle"),d=r.get("nameGap")||0,h=this.axisModel.axis[k](),f=h[0]>h[1]?-1:1,p=["start"===s?h[0]-f*d:"end"===s?h[1]+f*d:(h[0]+h[1])/2,s===P?e.labelOffset+c*d:0];a=s===P?n(e,e.rotation,c):i(e,s,h);var m=new l.Text({style:{text:o,textFont:u[I](),fill:u[R]()||r.get("axisLine.lineStyle.color"),textAlign:a[O],textVerticalAlign:a.verticalAlign},position:p,rotation:a.rotation,silent:r.get("silent"),z2:1});m.eventData=t(r),m.eventData.targetType="axisName",m.eventData.name=o,this.group.add(m)}}},v=p.ifIgnoreOnTick=function(e,t,n){var i,r=e.scale;return r.type===a&&(typeof n===H?(i=r[C]()[t],!n(i,r.getLabel(i))):t%(n+1))},b=p.getInterval=function(e,t){var n=e.get("interval");return(null==n||"auto"==n)&&(n=t),n};return p}),t("zrender/Layer",[ge,"./core/util","./config"],function(e){function t(){return!1}function n(e,t,n,i){var r=document.createElement(t),o=n[ue](),a=n[ce](),s=r.style;return s[E]="absolute",s.left=0,s.top=0,s.width=o+"px",s[ae]=a+"px",r.width=o*i,r[ae]=a*i,r.setAttribute("data-zr-dom-id",e),r}var i=e("./core/util"),r=e("./config"),o=function(e,o,a){var s;a=a||r.devicePixelRatio,typeof e===he?s=n(e,"canvas",o,a):i[ie](e)&&(s=e,e=s.id),this.id=e,this.dom=s;var l=s.style;l&&(s.onselectstart=t,l["-webkit-user-select"]="none",l["user-select"]="none",l["-webkit-touch-callout"]="none",l["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"),this.domBack=null,this.ctxBack=null,this.painter=o,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=a};return o[fe]={constructor:o,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom[h]("2d");var e=this.dpr;1!=e&&this.ctx.scale(e,e)},createBackBuffer:function(){var e=this.dpr;this.domBack=n("back-"+this.id,"canvas",this.painter,e),this.ctxBack=this.domBack[h]("2d"),1!=e&&this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r.width=e+"px",r[ae]=t+"px",i.width=e*n,i[ae]=t*n,1!=n&&this.ctx.scale(n,n),o&&(o.width=e*n,o[ae]=t*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(e){var t=this.dom,n=this.ctx,i=t.width,r=t[ae],o=this.clearColor,a=this.motionBlur&&!e,s=this.lastFrameAlpha,l=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/l,r/l)),n.clearRect(0,0,i/l,r/l),o&&(n.save(),n.fillStyle=this.clearColor,n.fillRect(0,0,i/l,r/l),n.restore()),a){var c=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(c,0,0,i/l,r/l),n.restore()}}},o}),t("echarts/preprocessor/helper/compatStyle",[ge,me],function(e){function t(e){var t=e&&e.itemStyle;t&&n.each(i,function(i){var r=t[b],o=t.emphasis;r&&r[i]&&(e[i]=e[i]||{},e[i][b]?n.merge(e[i][b],r[i]):e[i][b]=r[i],r[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?n.merge(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)})}var n=e(me),i=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];return function(e){if(e){t(e),t(e.markPoint),t(e.markLine);var i=e.data;if(i){for(var r=0;r<i[J];r++)t(i[r]);var o=e.markPoint;if(o&&o.data)for(var a=o.data,r=0;r<a[J];r++)t(a[r]);var s=e.markLine;if(s&&s.data)for(var l=s.data,r=0;r<l[J];r++)n[W](l[r])?(t(l[r][0]),t(l[r][1])):t(l[r])}}}}),t("echarts/chart/helper/SymbolDraw",[ge,r,"./Symbol"],function(e){function t(e){this.group=new i.Group,this._symbolCtor=e||o}function n(e,t,n){var i=e.getItemLayout(t);return!(!i||isNaN(i[0])||isNaN(i[1])||n&&n(t)||"none"===e[y](t,"symbol"))}var i=e(r),o=e("./Symbol"),a=t[fe];return a.updateData=function(e,t){var r=this.group,o=e.hostModel,a=this._data,s=this._symbolCtor;e.diff(a).add(function(i){var o=e.getItemLayout(i);if(n(e,i,t)){var a=new s(e,i);a.attr(E,o),e.setItemGraphicEl(i,a),r.add(a)}})[re](function(l,c){var u=a[v](c),d=e.getItemLayout(l);return n(e,l,t)?(u?(u.updateData(e,l),i.updateProps(u,{position:d},o)):(u=new s(e,l),u.attr(E,d)),r.add(u),void e.setItemGraphicEl(l,u)):void r[ne](u)})[ne](function(e){var t=a[v](e);t&&t.fadeOut(function(){r[ne](t)})}).execute(),this._data=e},a.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,n){t.attr(E,e.getItemLayout(n))})},a[ne]=function(e){var t=this.group,n=this._data;n&&(e?n.eachItemGraphicEl(function(e){e.fadeOut(function(){t[ne](e)})}):t[z]())},t}),t("echarts/chart/helper/Symbol",[ge,me,"../../util/symbol",r,"../../util/number"],function(e){function t(e){return s[W](e)||(e=[+e,+e]),e}function n(e,t){d.Group.call(this),this.updateData(e,t)}function i(e,t){this.parent.drift(e,t)}var s=e(me),l=e("../../util/symbol"),d=e(r),h=e("../../util/number"),f=n[fe];f._createSymbol=function(e,n,r){this[z]();var o=n.hostModel,a=n[y](r,"color"),s=l.createSymbol(e,-.5,-.5,1,1,a);s.attr({z2:100,culling:!0,scale:[0,0]}),s.drift=i;var c=t(n[y](r,"symbolSize"));d.initProps(s,{scale:c},o,r),this._symbolType=e,this.add(s)},f.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},f.getScale=function(){return this.childAt(0).scale},f.highlight=function(){this.childAt(0).trigger("emphasis")},f.downplay=function(){this.childAt(0).trigger(b)},f.setZ=function(e,t){var n=this.childAt(0);n[U]=e,n.z=t},f.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":"pointer"},f.updateData=function(e,n){var i=e[y](n,"symbol")||"circle",r=e.hostModel,o=t(e[y](n,"symbolSize"));if(i!==this._symbolType)this._createSymbol(i,e,n);else{var a=this.childAt(0);d.updateProps(a,{scale:o},r,n)}this._updateCommon(e,n,o),this._seriesModel=r};var p=["itemStyle",b],m=["itemStyle","emphasis"],g=["label",b],v=["label","emphasis"];return f._updateCommon=function(e,n,i){var r=this.childAt(0),l=e.hostModel,f=e[u](n),x=f[de](p),w=e[y](n,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var _=r.style,k=f[de](m).getItemStyle();r.rotation=f.getShallow("symbolRotate")*Math.PI/180||0;var C=f.getShallow("symbolOffset");if(C){var S=r[E];S[0]=h[c](C[0],i[0]),S[1]=h[c](C[1],i[1])}r.setColor(w),s[te](_,x.getItemStyle(["color"]));var T=e[y](n,A);null!=T&&(_[A]=T);for(var D,M=f[de](g),P=f[de](v),N=e[o].slice(),R=N.pop();(D=e.getDimensionInfo(R).type)===a||"time"===D;)R=N.pop();M.get("show")?(d.setText(_,M,w),_.text=s.retrieve(l.getFormattedLabel(n,b),e.get(R,n))):_.text="",P.getShallow("show")?(d.setText(k,P,w),k.text=s.retrieve(l.getFormattedLabel(n,"emphasis"),e.get(R,n))):k.text="";var I=t(e[y](n,"symbolSize"));if(r.off(Z).off(G).off("emphasis").off(b),d.setHoverStyle(r,k),f.getShallow("hoverAnimation")){var O=function(){var e=I[1]/I[0];this.animateTo({scale:[Math.max(1.1*I[0],I[0]+3),Math.max(1.1*I[1],I[1]+3*e)]},400,"elasticOut")},L=function(){this.animateTo({scale:I},400,"elasticOut")};r.on(Z,O).on(G,L).on("emphasis",O).on(b,L)}},f.fadeOut=function(e){var t=this.childAt(0);t.style.text="",d.updateProps(t,{scale:[0,0]},this._seriesModel,this[$],e)},s[B](n,d.Group),n}),t("echarts/chart/line/lineAnimationDiff",[ge],function(){function e(e){return e>=0?1:-1}function t(t,i,r){for(var o,a=t.getBaseAxis(),s=t.getOtherAxis(a),l=a.onZero?0:s.scale[k]()[0],c=s.dim,u="x"===c||c===n?1:0,d=i.stackedOn,h=i.get(c,r);d&&e(d.get(c,r))===e(h);){o=d;break}var f=[];return f[u]=i.get(a.dim,r),f[1-u]=o?o.get(c,r,!0):l,t.dataToPoint(f)}function i(e,t){var n=[];return t.diff(e).add(function(e){n.push({cmd:"+",idx:e})})[re](function(e,t){n.push({cmd:"=",idx:t,idx1:e})})[ne](function(e){n.push({cmd:"-",idx:e})}).execute(),n}return function(e,n,r,a,s,l){for(var c=i(e,n),u=[],d=[],h=[],f=[],p=[],m=[],g=[],v=l[o],b=0;b<c[J];b++){var y=c[b],x=!0;switch(y.cmd){case"=":var w=e.getItemLayout(y.idx),_=n.getItemLayout(y.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=_.slice()),u.push(w),d.push(_),h.push(r[y.idx]),f.push(a[y.idx1]),g.push(n.getRawIndex(y.idx1));break;case"+":var k=y.idx;u.push(s.dataToPoint([n.get(v[0],k,!0),n.get(v[1],k,!0)])),d.push(n.getItemLayout(k).slice()),h.push(t(s,n,k)),f.push(a[k]),g.push(n.getRawIndex(k));break;case"-":var k=y.idx,C=e.getRawIndex(k);C!==k?(u.push(e.getItemLayout(k)),d.push(l.dataToPoint([e.get(v[0],k,!0),e.get(v[1],k,!0)])),h.push(r[k]),f.push(t(l,e,k)),g.push(C)):x=!1}x&&(p.push(y),m.push(m[J]))}m.sort(function(e,t){return g[e]-g[t]});for(var S=[],T=[],D=[],A=[],E=[],b=0;b<m[J];b++){var k=m[b];S[b]=u[k],T[b]=d[k],D[b]=h[k],A[b]=f[k],E[b]=p[k]}return{current:S,next:T,stackedOnCurrent:D,stackedOnNext:A,status:E}}}),t("echarts/chart/line/poly",[ge,"zrender/graphic/Path","zrender/core/vector"],function(e){function t(e){return isNaN(e[0])||isNaN(e[1])}function n(e,n,i,r,f,p,m,g,v,b,y){for(var x=0,w=i,_=0;r>_;_++){var k=n[w];if(w>=f||0>w)break;if(t(k)){if(y){w+=p;continue}break}if(w===i)e[p>0?"moveTo":"lineTo"](k[0],k[1]),c(d,k);else if(v>0){var C=w+p,S=n[C];if(y)for(;S&&t(n[C]);)C+=p,S=n[C];var T=.5,D=n[x],S=n[C];if(!S||t(S))c(h,k);else{t(S)&&!y&&(S=k),o.sub(u,S,D);var A,E;if("x"===b||"y"===b){var M="x"===b?0:1;A=Math.abs(k[M]-D[M]),E=Math.abs(k[M]-S[M])}else A=o.dist(k,D),E=o.dist(k,S);T=E/(E+A),l(h,k,u,-v*(1-T))}a(d,d,g),s(d,d,m),a(h,h,g),s(h,h,m),e.bezierCurveTo(d[0],d[1],h[0],h[1],k[0],k[1]),l(d,k,u,v*T)}else e.lineTo(k[0],k[1]);x=w,w+=p}return _}function i(e,t){var n=[1/0,1/0],i=[-1/0,-1/0];if(t)for(var r=0;r<e[J];r++){var o=e[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:t?n:i,max:t?i:n}}var r=e("zrender/graphic/Path"),o=e("zrender/core/vector"),a=o.min,s=o.max,l=o.scaleAndAdd,c=o.copy,u=[],d=[],h=[];return{Polyline:r[te]({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(e,r){var o=r.points,a=0,s=o[J],l=i(o,r.smoothConstraint);if(r.connectNulls){for(;s>0&&t(o[s-1]);s--);for(;s>a&&t(o[a]);a++);}for(;s>a;)a+=n(e,o,a,s,s,1,l.min,l.max,r.smooth,r.smoothMonotone,r.connectNulls)+1}}),Polygon:r[te]({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(e,r){var o=r.points,a=r.stackedOnPoints,s=0,l=o[J],c=r.smoothMonotone,u=i(o,r.smoothConstraint),d=i(a,r.smoothConstraint);if(r.connectNulls){for(;l>0&&t(o[l-1]);l--);for(;l>s&&t(o[s]);s++);}for(;l>s;){var h=n(e,o,s,l,l,1,u.min,u.max,r.smooth,c,r.connectNulls);n(e,a,s+h-1,h,l,-1,d.min,d.max,r.stackedOnSmooth,c,r.connectNulls),s+=h+1,e.closePath()}}})}}),t("echarts/chart/helper/dataSelectableMixin",[ge,me],function(e){var t=e(me);return{updateSelectedMap:function(){var e=this[S];this._dataOptMap=t.reduce(e.data,function(e,t){return e[t.name]=t,e},{})},select:function(e){var n=this._dataOptMap,i=n[e],r=this.get("selectedMode");"single"===r&&t.each(n,function(e){e.selected=!1}),i&&(i.selected=!0)},unSelect:function(e){var t=this._dataOptMap[e];t&&(t.selected=!1)},toggleSelected:function(e){var t=this._dataOptMap[e];return null!=t?(this[t.selected?"unSelect":"select"](e),t.selected):void 0},isSelected:function(e){var t=this._dataOptMap[e];return t&&t.selected}}}),t("echarts/util/symbol",[ge,"./graphic","zrender/core/BoundingRect"],function(e){var t=e("./graphic"),n=e("zrender/core/BoundingRect"),i=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t[ae]/2;e.moveTo(n,i-o),e.lineTo(n+r,i+o),e.lineTo(n-r,i+o),e.closePath()}}),r=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,i=t.cy,r=t.width/2,o=t[ae]/2;e.moveTo(n,i-o),e.lineTo(n+r,i),e.lineTo(n,i+o),e.lineTo(n-r,i),e.closePath()}}),o=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,i=t.y,r=t.width/5*3,o=Math.max(r,t[ae]),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,d=Math.sin(c),h=Math.cos(c);e.arc(n,l,a,Math.PI-c,2*Math.PI+c);var f=.6*a,p=.7*a;e.bezierCurveTo(n+u-d*f,l+s+h*f,n,i-p,n,i),e.bezierCurveTo(n,i-p,n-u+d*f,l+s+h*f,n-u,l+s),e.closePath()}}),a=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t[ae],i=t.width,r=t.x,o=t.y,a=i/3*2;e.moveTo(r,o),e.lineTo(r+a,o+n),e.lineTo(r,o+n/4*3),e.lineTo(r-a,o+n),e.lineTo(r,o),e.closePath()}}),s={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:r,pin:o,arrow:a,triangle:i},l={line:function(e,t,n,i,r){r.x1=e,r.y1=t+i/2,r.x2=e+n,r.y2=t+i/2},rect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r[ae]=i},roundRect:function(e,t,n,i,r){r.x=e,r.y=t,r.width=n,r[ae]=i,r.r=Math.min(n,i)/4},square:function(e,t,n,i,r){var o=Math.min(n,i);r.x=e,r.y=t,r.width=o,r[ae]=o},circle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.r=Math.min(n,i)/2},diamond:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r[ae]=i},pin:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r[ae]=i},arrow:function(e,t,n,i,r){r.x=e+n/2,r.y=t+i/2,r.width=n,r[ae]=i},triangle:function(e,t,n,i,r){r.cx=e+n/2,r.cy=t+i/2,r.width=n,r[ae]=i}},c={};for(var u in s)c[u]=new s[u];var d=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style,t=this.shape;"pin"===t.symbolType&&e.textPosition===p&&(e.textPosition=["50%","40%"],e[O]=M,e.textVerticalAlign=P)},buildPath:function(e,t){var n=t.symbolType,i=c[n];"none"!==t.symbolType&&(i||(n="rect",i=c[n]),l[n](t.x,t.y,t.width,t[ae],i.shape),i.buildPath(e,i.shape))}}),h=function(e){if("image"!==this.type){var t=this.style,n=this.shape;n&&"line"===n.symbolType?t[m]=e:this.__isEmptyBrush?(t[m]=e,t.fill="#fff"):(t.fill&&(t.fill=e),t[m]&&(t[m]=e)),this.dirty()}},f={createSymbol:function(e,i,r,o,a,s){var l=0===e[q]("empty");l&&(e=e.substr(5,1)[pe]()+e.substr(6));var c;return c=0===e[q]("image://")?new t.Image({style:{image:e.slice(8),x:i,y:r,width:o,height:a}}):0===e[q]("path://")?t.makePath(e.slice(7),{},new n(i,r,o,a)):new d({shape:{symbolType:e,x:i,y:r,width:o,height:a}}),c.__isEmptyBrush=l,c.setColor=h,c.setColor(s),c}};return f}),t("echarts/component/tooltip/TooltipContent",[ge,me,"zrender/tool/color","zrender/core/event","../../util/format"],function(e){function t(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+e+"s "+t+",top "+e+"s "+t;return s.map(f,function(e){return e+"transition:"+n}).join(";")}function i(e){var t=[],n=e.get("fontSize"),i=e[R]();return i&&t.push("color:"+i),t.push("font:"+e[I]()),n&&t.push("line-height:"+Math.round(3*n/2)+"px"),d(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)}),t.join(";")}function r(e){e=e;var r=[],o=e.get("transitionDuration"),a=e.get("backgroundColor"),s=e[de](L),c=e.get("padding");return o&&r.push(t(o)),a&&(r.push("background-Color:"+l.toHex(a)),r.push("filter:alpha(opacity=70)"),r.push("background-Color:"+a)),d(["width","color",n],function(t){var n="border-"+t,i=h(n),o=e.get(i);null!=o&&r.push(n+":"+o+("color"===t?"":"px"))}),r.push(i(s)),null!=c&&r.push("padding:"+u.normalizeCssArray(c).join("px ")+"px"),r.join(";")+";"}function o(e,t){var n=document.createElement("div"),i=t.getZr();this.el=n,this._x=t[ue]()/2,this._y=t[ce]()/2,e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var r=this;n.onmouseenter=function(){r.enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},n.onmousemove=function(t){if(!r.enterable){var n=i.handler;c.normalizeEvent(e,t),n.dispatch("mousemove",t)}},n.onmouseleave=function(){r.enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1},a(n,e)}function a(e,t){function n(e){i(e[X])&&e.preventDefault()}function i(n){for(;n&&n!==t;){if(n===e)return!0;n=n.parentNode}}c.addEventListener(t,"touchstart",n),c.addEventListener(t,"touchmove",n),c.addEventListener(t,"touchend",n)}var s=e(me),l=e("zrender/tool/color"),c=e("zrender/core/event"),u=e("../../util/format"),d=s.each,h=u.toCamelCase,f=["","-webkit-","-moz-","-o-"],p="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";return o[fe]={constructor:o,enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),n=e.style;"absolute"!==n[E]&&"absolute"!==t[E]&&(n[E]="relative")},show:function(e){clearTimeout(this._hideTimeout),this.el.style.cssText=p+r(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||""),this._show=!0},setContent:function(e){var t=this.el;t.innerHTML=e,t.style.display=e?"block":"none"},moveTo:function(e,t){var n=this.el.style;n.left=e+"px",n.top=t+"px",this._x=e,this._y=t},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this.enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(s.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show}},o}),t("echarts/chart/pie/labelLayout",[ge,"zrender/contain/text"],function(e){function t(e,t,n,i,r,o,a){function s(t,n,i){for(var r=t;n>r;r++)if(e[r].y+=i,r>t&&n>r+1&&e[r+1].y>e[r].y+e[r][ae])return void l(r,i/2);l(n-1,i/2)}function l(t,n){for(var i=t;i>=0&&(e[i].y-=n,!(i>0&&e[i].y>e[i-1].y+e[i-1][ae]));i--);}function c(e,t,n,i,r,o){for(var a=o>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,s=0,l=e[J];l>s;s++)if(e[s][E]!==M){var c=Math.abs(e[s].y-i),u=e[s].len,d=e[s].len2,h=r+u>c?Math.sqrt((r+u+d)*(r+u+d)-c*c):Math.abs(e[s].x-n);t&&h>=a&&(h=a-10),!t&&a>=h&&(h=a+10),e[s].x=n+h*o,a=h}}e.sort(function(e,t){return e.y-t.y});for(var u,d=0,h=e[J],f=[],p=[],m=0;h>m;m++)u=e[m].y-d,0>u&&s(m,h,-u,r),d=e[m].y+e[m][ae];0>a-d&&l(h-1,d-a);for(var m=0;h>m;m++)e[m].y>=n?p.push(e[m]):f.push(e[m]);c(f,!1,t,n,i,r),c(p,!0,t,n,i,r)}function n(e,n,i,r,o,a){for(var s=[],l=[],c=0;c<e[J];c++)e[c].x<n?s.push(e[c]):l.push(e[c]);t(l,n,i,r,1,o,a),t(s,n,i,r,-1,o,a);for(var c=0;c<e[J];c++){var u=e[c].linePoints;if(u){var d=u[1][0]-u[2][0];u[2][0]=e[c].x<n?e[c].x+3:e[c].x-3,u[1][1]=u[2][1]=e[c].y,u[1][0]=u[2][0]+d}}}var i=e("zrender/contain/text");return function(e,t,r,o){var a,s,l=e[K](),c=[],d=!1;l.each(function(n){var r,o,h,f,m=l.getItemLayout(n),g=l[u](n),v=g[de]("label.normal"),y=v.get(E)||g.get("label.emphasis.position"),w=g[de]("labelLine.normal"),_=w.get(J),k=w.get("length2"),C=(m.startAngle+m.endAngle)/2,S=Math.cos(C),T=Math.sin(C);a=m.cx,s=m.cy;var D=y===p||"inner"===y;if(y===M)r=m.cx,o=m.cy,f=M;else{var A=(D?(m.r+m.r0)/2*S:m.r*S)+a,P=(D?(m.r+m.r0)/2*T:m.r*T)+s;if(r=A+3*S,o=P+3*T,!D){var R=A+S*(_+t-m.r),O=P+T*(_+t-m.r),j=R+(0>S?-1:1)*k,z=O;r=j+(0>S?-5:5),o=z,h=[[A,P],[R,O],[j,z]]}f=D?M:S>0?"left":"right"}var B=v[de](L)[I](),F=v.get("rotate")?0>S?-C+Math.PI:-C:0,H=e.getFormattedLabel(n,b)||l[x](n),q=i[N](H,B,f,"top");d=!!F,m.label={x:r,y:o,position:y,height:q[ae],len:_,len2:k,linePoints:h,textAlign:f,verticalAlign:"middle",font:B,rotation:F},D||c.push(m.label)}),!d&&e.get("avoidLabelOverlap")&&n(c,a,s,t,r,o)}}),t("echarts/component/helper/listComponent",[ge,"../../util/layout","../../util/format",r],function(e){function t(e,t,i){n.positionGroup(e,t.getBoxLayoutParams(),{width:i[ue](),height:i[ce]()},t.get("padding"))}var n=e("../../util/layout"),i=e("../../util/format"),o=e(r);return{layout:function(e,i,r){var o=n.getLayoutRect(i.getBoxLayoutParams(),{width:r[ue](),height:r[ce]()},i.get("padding"));n.box(i.get("orient"),e,i.get("itemGap"),o.width,o[ae]),t(e,i,r)},addBackground:function(e,t){var n=i.normalizeCssArray(t.get("padding")),r=e[N](),a=t.getItemStyle(["color",A]);a.fill=t.get("backgroundColor");var s=new o.Rect({shape:{x:r.x-n[3],y:r.y-n[0],width:r.width+n[1]+n[3],height:r[ae]+n[0]+n[2]},style:a,silent:!0,z2:-1});o.subPixelOptimizeRect(s),e.add(s)}}}),t("zrender",["zrender/zrender"],function(e){return e}),t("echarts",["echarts/echarts"],function(e){return e});var ve=e("echarts");return ve.graphic=e("echarts/util/graphic"),ve.number=e("echarts/util/number"),ve.format=e("echarts/util/format"),e("echarts/chart/bar"),e("echarts/chart/line"),e("echarts/chart/pie"),e("echarts/component/grid"),e("echarts/component/title"),e("echarts/component/legend"),e("echarts/component/tooltip"),ve}),function(e,t){"function"==typeof define&&define.amd?define(["exports","echarts"],t):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports,require("echarts")):t({},e.echarts)}(this,function(e,t){var n=function(e){"undefined"!=typeof console&&console&&console.error&&console.error(e)};if(!t)return void n("ECharts is not Loaded");var i=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],r={color:i,title:{textStyle:{fontWeight:"normal"}},grid:{x:60,y:14,y2:50,x2:30},legend:{y:"bottom",padding:[0,0,10,0],itemWidth:10,itemHeight:10,textStyle:{color:"#999",fontSize:9}},calculable:!0,categoryAxis:{axisLabel:{textStyle:{fontSize:9,color:"#999"}},splitLine:{lineStyle:{color:["#eee"],width:1,type:"solid"}}},valueAxis:{axisLabel:{textStyle:{fontSize:9,color:"#999"}},splitLine:{lineStyle:{color:["#eee"],width:1,type:"solid"}}},line:{itemStyle:{normal:{lineStyle:{width:20,type:"dashed"}}},smooth:!0,showAllSymbol:!0,symbolSize:5},visualMap:{color:["#1790cf","#a2d4e6"]},toolbox:{iconStyle:{normal:{borderColor:"#06467c"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.6)",trigger:"axis"},dataZoom:{dataBackgroundColor:"#dedede",fillerColor:"rgba(154,217,247,0.2)",handleColor:"#005eaa"},timeline:{lineStyle:{color:"#005eaa"},controlStyle:{normal:{color:"#005eaa",borderColor:"#005eaa"}}},candlestick:{itemStyle:{normal:{color:"#c12e34",color0:"#2b821d",lineStyle:{width:1,color:"#c12e34",color0:"#2b821d"}}}},graph:{color:i},map:{label:{normal:{textStyle:{color:"#c12e34"}},emphasis:{textStyle:{color:"#c12e34"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#e6b600"}}},gauge:{axisLine:{show:!0,lineStyle:{color:[[.2,"#2b821d"],[.8,"#005eaa"],[1,"#c12e34"]],width:5}},axisTick:{splitNumber:10,length:8,lineStyle:{color:"auto"}},axisLabel:{textStyle:{color:"auto"}},splitLine:{length:12,lineStyle:{color:"auto"}},pointer:{length:"90%",width:3,color:"auto"},title:{textStyle:{color:"#333"}},detail:{textStyle:{color:"auto"}}}};t.registerTheme("teamcrop",r)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";function t(e){var t={};if(void 0===e.selectionStart){e.focus();var n=document.selection.createRange();t.length=n.text.length,n.moveStart("character",-e.value.length),t.end=n.text.length,t.start=t.end-t.length}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start;return t}function n(e,t,n){if(void 0===e.selectionStart){e.focus();var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i.select()}else e.selectionStart=t,e.selectionEnd=n}function i(t,n){e.each(n,function(e,i){"function"==typeof i?n[e]=i(t,n,e):"function"==typeof t.autoNumeric[i]&&(n[e]=t.autoNumeric[i](t,n,e))})}function r(e,t){"string"==typeof e[t]&&(e[t]*=1)}function o(e,t){i(e,t),t.tagList=["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"];var n=t.vMax.toString().split("."),o=t.vMin||0===t.vMin?t.vMin.toString().split("."):[];if(r(t,"vMax"),r(t,"vMin"),r(t,"mDec"),t.mDec="CHF"===t.mRound?"2":t.mDec,t.allowLeading=!0,t.aNeg=t.vMin<0?"-":"",n[0]=n[0].replace("-",""),o[0]=o[0].replace("-",""),t.mInt=Math.max(n[0].length,o[0].length,1),null===t.mDec){var a=0,s=0;n[1]&&(a=n[1].length),o[1]&&(s=o[1].length),t.mDec=Math.max(a,s)}null===t.altDec&&t.mDec>0&&("."===t.aDec&&","!==t.aSep?t.altDec=",":","===t.aDec&&"."!==t.aSep&&(t.altDec="."));var l=t.aNeg?"([-\\"+t.aNeg+"]?)":"(-?)";t.aNegRegAutoStrip=l,t.skipFirstAutoStrip=new RegExp(l+"[^-"+(t.aNeg?"\\"+t.aNeg:"")+"\\"+t.aDec+"\\d].*?(\\d|\\"+t.aDec+"\\d)"),t.skipLastAutoStrip=new RegExp("(\\d\\"+t.aDec+"?)[^\\"+t.aDec+"\\d]\\D*$");var c="-"+t.aNum+"\\"+t.aDec;return t.allowedAutoStrip=new RegExp("[^"+c+"]","gi"),t.numRegAutoStrip=new RegExp(l+"(?:\\"+t.aDec+"?(\\d+\\"+t.aDec+"\\d+)|(\\d*(?:\\"+t.aDec+"\\d*)?))"),t}function a(e,t,n){if(t.aSign)for(;e.indexOf(t.aSign)>-1;)e=e.replace(t.aSign,"");e=e.replace(t.skipFirstAutoStrip,"$1$2"),e=e.replace(t.skipLastAutoStrip,"$1"),e=e.replace(t.allowedAutoStrip,""),t.altDec&&(e=e.replace(t.altDec,t.aDec));var i=e.match(t.numRegAutoStrip);if(e=i?[i[1],i[2],i[3]].join(""):"",("allow"===t.lZero||"keep"===t.lZero)&&"strip"!==n){var r=[],o="";r=e.split(t.aDec),-1!==r[0].indexOf("-")&&(o="-",r[0]=r[0].replace("-","")),r[0].length>t.mInt&&"0"===r[0].charAt(0)&&(r[0]=r[0].slice(1)),e=o+r.join(t.aDec);
}if(n&&"deny"===t.lZero||n&&"allow"===t.lZero&&t.allowLeading===!1){var a="^"+t.aNegRegAutoStrip+"0*(\\d"+("leading"===n?")":"|$)");a=new RegExp(a),e=e.replace(a,"$1$2")}return e}function s(e,t){if("p"===t.pSign){var n=t.nBracket.split(",");t.hasFocus||t.removeBrackets?(t.hasFocus&&e.charAt(0)===n[0]||t.removeBrackets&&e.charAt(0)===n[0])&&(e=e.replace(n[0],t.aNeg),e=e.replace(n[1],"")):(e=e.replace(t.aNeg,""),e=n[0]+e+n[1])}return e}function l(e,t){if(e){var n=+e;if(1e-6>n&&n>-1)e=+e,1e-6>e&&e>0&&(e=(e+10).toString(),e=e.substring(1)),0>e&&e>-1&&(e=(e-10).toString(),e="-"+e.substring(2)),e=e.toString();else{var i=e.split(".");void 0!==i[1]&&(0===+i[1]?e=i[0]:(i[1]=i[1].replace(/0*$/,""),e=i.join(".")))}}return"keep"===t.lZero?e:e.replace(/^0*(\d)/,"$1")}function c(e,t,n){return t&&"."!==t&&(e=e.replace(t,".")),n&&"-"!==n&&(e=e.replace(n,"-")),e.match(/\d/)||(e+="0"),e}function u(e,t,n){return n&&"-"!==n&&(e=e.replace("-",n)),t&&"."!==t&&(e=e.replace(".",t)),e}function d(e,t,n){return""===e||e===t.aNeg?"zero"===t.wEmpty?e+"0":"sign"===t.wEmpty||n?e+t.aSign:e:null}function h(e,t){e=a(e,t);var n=e.replace(",","."),i=d(e,t,!0);if(null!==i)return i;var r="";r=2===t.dGroup?/(\d)((\d)(\d{2}?)+)$/:4===t.dGroup?/(\d)((\d{4}?)+)$/:/(\d)((\d{3}?)+)$/;var o=e.split(t.aDec);t.altDec&&1===o.length&&(o=e.split(t.altDec));var l=o[0];if(t.aSep)for(;r.test(l);)l=l.replace(r,"$1"+t.aSep+"$2");if(0!==t.mDec&&o.length>1?(o[1].length>t.mDec&&(o[1]=o[1].substring(0,t.mDec)),e=l+t.aDec+o[1]):e=l,t.aSign){var c=-1!==e.indexOf(t.aNeg);e=e.replace(t.aNeg,""),e="p"===t.pSign?t.aSign+e:e+t.aSign,c&&(e=t.aNeg+e)}return 0>n&&null!==t.nBracket&&(e=s(e,t)),e}function f(e,t){e=""===e?"0":e.toString(),r(t,"mDec"),"CHF"===t.mRound&&(e=(Math.round(20*e)/20).toString());var n="",i=0,o="",a="boolean"==typeof t.aPad||null===t.aPad?t.aPad?t.mDec:0:+t.aPad,s=function(e){var t=0===a?/(\.(?:\d*[1-9])?)0*$/:1===a?/(\.\d(?:\d*[1-9])?)0*$/:new RegExp("(\\.\\d{"+a+"}(?:\\d*[1-9])?)0*$");return e=e.replace(t,"$1"),0===a&&(e=e.replace(/\.$/,"")),e};"-"===e.charAt(0)&&(o="-",e=e.replace("-","")),e.match(/^\d/)||(e="0"+e),"-"===o&&0===+e&&(o=""),(+e>0&&"keep"!==t.lZero||e.length>0&&"allow"===t.lZero)&&(e=e.replace(/^0*(\d)/,"$1"));var l=e.lastIndexOf("."),c=-1===l?e.length-1:l,u=e.length-1-c;if(u<=t.mDec){if(n=e,a>u){-1===l&&(n+=t.aDec);for(var d="000000";a>u;)d=d.substring(0,a-u),n+=d,u+=d.length}else u>a?n=s(n):0===u&&0===a&&(n=n.replace(/\.$/,""));if("CHF"!==t.mRound)return 0===+n?n:o+n;"CHF"===t.mRound&&(l=n.lastIndexOf("."),e=n)}var h=l+t.mDec,f=+e.charAt(h+1),p=e.substring(0,h+1).split(""),m="."===e.charAt(h)?e.charAt(h-1)%2:e.charAt(h)%2,g=!0;if(1!==m&&(m=0===m&&e.substring(h+2,e.length)>0?1:0),f>4&&"S"===t.mRound||f>4&&"A"===t.mRound&&""===o||f>5&&"A"===t.mRound&&"-"===o||f>5&&"s"===t.mRound||f>5&&"a"===t.mRound&&""===o||f>4&&"a"===t.mRound&&"-"===o||f>5&&"B"===t.mRound||5===f&&"B"===t.mRound&&1===m||f>0&&"C"===t.mRound&&""===o||f>0&&"F"===t.mRound&&"-"===o||f>0&&"U"===t.mRound||"CHF"===t.mRound)for(i=p.length-1;i>=0;i-=1)if("."!==p[i]){if("CHF"===t.mRound&&p[i]<=2&&g){p[i]=0,g=!1;break}if("CHF"===t.mRound&&p[i]<=7&&g){p[i]=5,g=!1;break}if("CHF"===t.mRound&&g?(p[i]=10,g=!1):p[i]=+p[i]+1,p[i]<10)break;i>0&&(p[i]="0")}return p=p.slice(0,h+1),n=s(p.join("")),0===+n?n:o+n}function p(e,t,n){var i=t.aDec,r=t.mDec;if(e="paste"===n?f(e,t):e,i&&r){var o=e.split(i);o[1]&&o[1].length>r&&(r>0?(o[1]=o[1].substring(0,r),e=o.join(i)):e=o[0])}return e}function m(e,t){e=a(e,t),e=p(e,t),e=c(e,t.aDec,t.aNeg);var n=+e;return n>=t.vMin&&n<=t.vMax}function g(t,n){this.settings=n,this.that=t,this.$that=e(t),this.formatted=!1,this.settingsClone=o(this.$that,this.settings),this.value=t.value}function v(t){return"string"==typeof t&&(t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),t="#"+t.replace(/(:|\.)/g,"\\$1")),e(t)}function b(e,t,n){var i=e.data("autoNumeric");i||(i={},e.data("autoNumeric",i));var r=i.holder;return(void 0===r&&t||n)&&(r=new g(e.get(0),t),i.holder=r),r}g.prototype={init:function(e){this.value=this.that.value,this.settingsClone=o(this.$that,this.settings),this.ctrlKey=e.ctrlKey,this.cmdKey=e.metaKey,this.shiftKey=e.shiftKey,this.selection=t(this.that),("keydown"===e.type||"keyup"===e.type)&&(this.kdCode=e.keyCode),this.which=e.which,this.processed=!1,this.formatted=!1},setSelection:function(e,t,i){e=Math.max(e,0),t=Math.min(t,this.that.value.length),this.selection={start:e,end:t,length:t-e},(void 0===i||i)&&n(this.that,e,t)},setPosition:function(e,t){this.setSelection(e,e,t)},getBeforeAfter:function(){var e=this.value,t=e.substring(0,this.selection.start),n=e.substring(this.selection.end,e.length);return[t,n]},getBeforeAfterStriped:function(){var e=this.getBeforeAfter();return e[0]=a(e[0],this.settingsClone),e[1]=a(e[1],this.settingsClone),e},normalizeParts:function(e,t){var n=this.settingsClone;t=a(t,n);var i=t.match(/^\d/)?!0:"leading";e=a(e,n,i),""!==e&&e!==n.aNeg||"deny"!==n.lZero||t>""&&(t=t.replace(/^0*(\d)/,"$1"));var r=e+t;if(n.aDec){var o=r.match(new RegExp("^"+n.aNegRegAutoStrip+"\\"+n.aDec));o&&(e=e.replace(o[1],o[1]+"0"),r=e+t)}return"zero"!==n.wEmpty||r!==n.aNeg&&""!==r||(e+="0"),[e,t]},setValueParts:function(e,t,n){var i=this.settingsClone,r=this.normalizeParts(e,t),o=r.join(""),a=r[0].length;return m(o,i)?(o=p(o,i,n),a>o.length&&(a=o.length),this.value=o,this.setPosition(a,!1),!0):!1},signPosition:function(){var e=this.settingsClone,t=e.aSign,n=this.that;if(t){var i=t.length;if("p"===e.pSign){var r=e.aNeg&&n.value&&n.value.charAt(0)===e.aNeg;return r?[1,i+1]:[0,i]}var o=n.value.length;return[o-i,o]}return[1e3,-1]},expandSelectionOnSign:function(e){var t=this.signPosition(),n=this.selection;n.start<t[1]&&n.end>t[0]&&((n.start<t[0]||n.end>t[1])&&this.value.substring(Math.max(n.start,t[0]),Math.min(n.end,t[1])).match(/^\s*$/)?n.start<t[0]?this.setSelection(n.start,t[0],e):this.setSelection(t[1],n.end,e):this.setSelection(Math.min(n.start,t[0]),Math.max(n.end,t[1]),e))},checkPaste:function(){if(void 0!==this.valuePartsBeforePaste){var e=this.getBeforeAfter(),t=this.valuePartsBeforePaste;delete this.valuePartsBeforePaste,e[0]=e[0].substr(0,t[0].length)+a(e[0].substr(t[0].length),this.settingsClone),this.setValueParts(e[0],e[1],"paste")||(this.value=t.join(""),this.setPosition(t[0].length,!1))}},skipAllways:function(e){var t=this.kdCode,n=this.which,i=this.ctrlKey,r=this.cmdKey,o=this.shiftKey;if((i||r)&&"keyup"===e.type&&void 0!==this.valuePartsBeforePaste||o&&45===t)return this.checkPaste(),!1;if(t>=112&&123>=t||t>=91&&93>=t||t>=9&&31>=t||8>t&&(0===n||n===t)||144===t||145===t||45===t||224===t)return!0;if((i||r)&&65===t)return!0;if((i||r)&&(67===t||86===t||88===t))return"keydown"===e.type&&this.expandSelectionOnSign(),(86===t||45===t)&&("keydown"===e.type||"keypress"===e.type?void 0===this.valuePartsBeforePaste&&(this.valuePartsBeforePaste=this.getBeforeAfter()):this.checkPaste()),"keydown"===e.type||"keypress"===e.type||67===t;if(i||r)return!0;if(37===t||39===t){var a=this.settingsClone.aSep,s=this.selection.start,l=this.that.value;return"keydown"===e.type&&a&&!this.shiftKey&&(37===t&&l.charAt(s-2)===a?this.setPosition(s-1):39===t&&l.charAt(s+1)===a&&this.setPosition(s+1)),!0}return t>=34&&40>=t?!0:!1},processAllways:function(){var e;return 8===this.kdCode||46===this.kdCode?(this.selection.length?(this.expandSelectionOnSign(!1),e=this.getBeforeAfterStriped(),this.setValueParts(e[0],e[1])):(e=this.getBeforeAfterStriped(),8===this.kdCode?e[0]=e[0].substring(0,e[0].length-1):e[1]=e[1].substring(1,e[1].length),this.setValueParts(e[0],e[1])),!0):!1},processKeypress:function(){var e=this.settingsClone,t=String.fromCharCode(this.which),n=this.getBeforeAfterStriped(),i=n[0],r=n[1];return t===e.aDec||e.altDec&&t===e.altDec||("."===t||","===t)&&110===this.kdCode?e.mDec&&e.aDec?e.aNeg&&r.indexOf(e.aNeg)>-1?!0:i.indexOf(e.aDec)>-1?!0:r.indexOf(e.aDec)>0?!0:(0===r.indexOf(e.aDec)&&(r=r.substr(1)),this.setValueParts(i+e.aDec,r),!0):!0:"-"===t||"+"===t?e.aNeg?(""===i&&r.indexOf(e.aNeg)>-1&&(i=e.aNeg,r=r.substring(1,r.length)),i=i.charAt(0)===e.aNeg?i.substring(1,i.length):"-"===t?e.aNeg+i:i,this.setValueParts(i,r),!0):!0:t>="0"&&"9">=t?(e.aNeg&&""===i&&r.indexOf(e.aNeg)>-1&&(i=e.aNeg,r=r.substring(1,r.length)),e.vMax<=0&&e.vMin<e.vMax&&-1===this.value.indexOf(e.aNeg)&&"0"!==t&&(i=e.aNeg+i),this.setValueParts(i+t,r),!0):!0},formatQuick:function(){var e=this.settingsClone,t=this.getBeforeAfterStriped(),n=this.value;if((""===e.aSep||""!==e.aSep&&-1===n.indexOf(e.aSep))&&(""===e.aSign||""!==e.aSign&&-1===n.indexOf(e.aSign))){var i=[],r="";i=n.split(e.aDec),i[0].indexOf("-")>-1&&(r="-",i[0]=i[0].replace("-",""),t[0]=t[0].replace("-","")),i[0].length>e.mInt&&"0"===t[0].charAt(0)&&(t[0]=t[0].slice(1)),t[0]=r+t[0]}var o=h(this.value,this.settingsClone),a=o.length;if(o){var s=t[0].split(""),l=0;for(l;l<s.length;l+=1)s[l].match("\\d")||(s[l]="\\"+s[l]);var c=new RegExp("^.*?"+s.join(".*?")),u=o.match(c);u?(a=u[0].length,(0===a&&o.charAt(0)!==e.aNeg||1===a&&o.charAt(0)===e.aNeg)&&e.aSign&&"p"===e.pSign&&(a=this.settingsClone.aSign.length+("-"===o.charAt(0)?1:0))):e.aSign&&"s"===e.pSign&&(a-=e.aSign.length)}this.that.value=o,this.setPosition(a),this.formatted=!0}};var y={init:function(t){return this.each(function(){var i=e(this),r=i.data("autoNumeric"),o=i.data(),l=i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");if("object"==typeof r)return this;r=e.extend({},e.fn.autoNumeric.defaults,o,t,{aNum:"0123456789",hasFocus:!1,removeBrackets:!1,runOnce:!1,tagList:["b","caption","cite","code","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","ins","kdb","label","li","output","p","q","s","sample","span","strong","td","th","u","var"]}),r.aDec===r.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+r.aDec+"' and thousand separator aSep: '"+r.aSep+"' are the same character"),i.data("autoNumeric",r);var p=b(i,r);if(l||"input"!==i.prop("tagName").toLowerCase()||e.error('The input type "'+i.prop("type")+'" is not supported by autoNumeric()'),-1===e.inArray(i.prop("tagName").toLowerCase(),r.tagList)&&"input"!==i.prop("tagName").toLowerCase()&&e.error("The <"+i.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),r.runOnce===!1&&r.aForm){if(l){var g=!0;""===i[0].value&&"empty"===r.wEmpty&&(i[0].value="",g=!1),""===i[0].value&&"sign"===r.wEmpty&&(i[0].value=r.aSign,g=!1),g&&""!==i.val()&&(null===r.anDefault&&i[0].value===i.prop("defaultValue")||null!==r.anDefault&&r.anDefault.toString()===i.val())&&i.autoNumeric("set",i.val())}-1!==e.inArray(i.prop("tagName").toLowerCase(),r.tagList)&&""!==i.text()&&i.autoNumeric("set",i.text())}r.runOnce=!0,i.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")&&(i.on("keydown.autoNumeric",function(t){return p=b(i),p.settings.aDec===p.settings.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+p.settings.aDec+"' and thousand separator aSep: '"+p.settings.aSep+"' are the same character"),p.that.readOnly?(p.processed=!0,!0):(p.init(t),p.skipAllways(t)?(p.processed=!0,!0):p.processAllways()?(p.processed=!0,p.formatQuick(),t.preventDefault(),!1):(p.formatted=!1,!0))}),i.on("keypress.autoNumeric",function(e){p=b(i);var t=p.processed;return p.init(e),p.skipAllways(e)?!0:t?(e.preventDefault(),!1):p.processAllways()||p.processKeypress()?(p.formatQuick(),e.preventDefault(),!1):void(p.formatted=!1)}),i.on("keyup.autoNumeric",function(e){p=b(i),p.init(e);var t=p.skipAllways(e);return p.kdCode=0,delete p.valuePartsBeforePaste,i[0].value===p.settings.aSign&&("s"===p.settings.pSign?n(this,0,0):n(this,p.settings.aSign.length,p.settings.aSign.length)),t?!0:""===this.value?!0:void(p.formatted||p.formatQuick())}),i.on("focusin.autoNumeric",function(){p=b(i);var e=p.settingsClone;if(e.hasFocus=!0,null!==e.nBracket){var t=i.val();i.val(s(t,e))}p.inVal=i.val();var n=d(p.inVal,e,!0);null!==n&&""!==n&&i.val(n)}),i.on("focusout.autoNumeric",function(){p=b(i);var e=p.settingsClone,t=i.val(),n=t;e.hasFocus=!1;var r="";"allow"===e.lZero&&(e.allowLeading=!1,r="leading"),""!==t&&(t=a(t,e,r),null===d(t,e)&&m(t,e,i[0])?(t=c(t,e.aDec,e.aNeg),t=f(t,e),t=u(t,e.aDec,e.aNeg)):t="");var o=d(t,e,!1);null===o&&(o=h(t,e)),(o!==p.inVal||o!==n)&&(i.val(o),i.change(),delete p.inVal)}))})},destroy:function(){return e(this).each(function(){var t=e(this);t.off(".autoNumeric"),t.removeData("autoNumeric")})},update:function(t){return e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric");"object"!=typeof i&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'update' method");var r=n.autoNumeric("get");return i=e.extend(i,t),b(n,i,!0),i.aDec===i.aSep&&e.error("autoNumeric will not function properly when the decimal character aDec: '"+i.aDec+"' and thousand separator aSep: '"+i.aSep+"' are the same character"),n.data("autoNumeric",i),""!==n.val()||""!==n.text()?n.autoNumeric("set",r):void 0})},set:function(t){return null!==t?e(this).each(function(){var n=v(e(this)),i=n.data("autoNumeric"),r=t.toString(),o=t.toString(),a=n.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])");return"object"!=typeof i&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'set' method"),o!==n.attr("value")&&o!==n.text()||i.runOnce!==!1||(r=r.replace(",",".")),e.isNumeric(+r)||e.error("The value ("+r+") being 'set' is not numeric and has caused a error to be thrown"),r=l(r,i),i.setEvent=!0,r.toString(),""!==r&&(r=f(r,i)),r=u(r,i.aDec,i.aNeg),m(r,i)||(r=f("",i)),r=h(r,i),a?n.val(r):-1!==e.inArray(n.prop("tagName").toLowerCase(),i.tagList)?n.text(r):!1}):void 0},get:function(){var t=v(e(this)),n=t.data("autoNumeric");"object"!=typeof n&&e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'get' method");var i="";return t.is("input[type=text], input[type=hidden], input[type=tel], input:not([type])")?i=t.eq(0).val():-1!==e.inArray(t.prop("tagName").toLowerCase(),n.tagList)?i=t.eq(0).text():e.error("The <"+t.prop("tagName").toLowerCase()+"> is not supported by autoNumeric()"),""===i&&"empty"===n.wEmpty||i===n.aSign&&("sign"===n.wEmpty||"empty"===n.wEmpty)?"":(""!==i&&null!==n.nBracket&&(n.removeBrackets=!0,i=s(i,n),n.removeBrackets=!1),(n.runOnce||n.aForm===!1)&&(i=a(i,n)),i=c(i,n.aDec,n.aNeg),0===+i&&"keep"!==n.lZero&&(i="0"),"keep"===n.lZero?i:i=l(i,n))},getString:function(){var t=!1,n=v(e(this)),i=n.serialize(),r=i.split("&"),o=e("form").index(n),a=e("form:eq("+o+")"),s=[],l=[],c=/^(?:submit|button|image|reset|file)$/i,u=/^(?:input|select|textarea|keygen)/i,d=/^(?:checkbox|radio)$/i,h=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,f=0;return e.each(a[0],function(e,t){""===t.name||!u.test(t.localName)||c.test(t.type)||t.disabled||!t.checked&&d.test(t.type)?l.push(-1):(l.push(f),f+=1)}),f=0,e.each(a[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(s.push(-1),"input"===t.localName&&h.test(t.type)&&(f+=1)):(s.push(f),f+=1)}),e.each(r,function(n,i){i=r[n].split("=");var a=e.inArray(n,l);if(a>-1&&s[a]>-1){var c=e("form:eq("+o+") input:eq("+s[a]+")"),u=c.data("autoNumeric");"object"==typeof u&&null!==i[1]&&(i[1]=e("form:eq("+o+") input:eq("+s[a]+")").autoNumeric("get").toString(),r[n]=i.join("="),t=!0)}}),t||e.error("You must initialize autoNumeric('init', {options}) prior to calling the 'getString' method"),r.join("&")},getArray:function(){var t=!1,n=v(e(this)),i=n.serializeArray(),r=e("form").index(n),o=e("form:eq("+r+")"),a=[],s=[],l=/^(?:submit|button|image|reset|file)$/i,c=/^(?:input|select|textarea|keygen)/i,u=/^(?:checkbox|radio)$/i,d=/^(?:button|checkbox|color|date|datetime|datetime-local|email|file|image|month|number|password|radio|range|reset|search|submit|time|url|week)/i,h=0;return e.each(o[0],function(e,t){""===t.name||!c.test(t.localName)||l.test(t.type)||t.disabled||!t.checked&&u.test(t.type)?s.push(-1):(s.push(h),h+=1)}),h=0,e.each(o[0],function(e,t){"input"!==t.localName||""!==t.type&&"text"!==t.type&&"hidden"!==t.type&&"tel"!==t.type?(a.push(-1),"input"===t.localName&&d.test(t.type)&&(h+=1)):(a.push(h),h+=1)}),e.each(i,function(n,i){var o=e.inArray(n,s);if(o>-1&&a[o]>-1){var l=e("form:eq("+r+") input:eq("+a[o]+")"),c=l.data("autoNumeric");"object"==typeof c&&(i.value=e("form:eq("+r+") input:eq("+a[o]+")").autoNumeric("get").toString(),t=!0)}}),t||e.error("None of the successful form inputs are initialized by autoNumeric."),i},getSettings:function(){var t=v(e(this));return t.eq(0).data("autoNumeric")}};e.fn.autoNumeric=function(t){return y[t]?y[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Method "'+t+'" is not supported by autoNumeric()'):y.init.apply(this,arguments)},e.fn.autoNumeric.defaults={aSep:",",dGroup:"3",aDec:".",altDec:null,aSign:"",pSign:"p",vMax:"9999999999999.99",vMin:"-9999999999999.99",mDec:null,mRound:"S",aPad:!0,nBracket:null,wEmpty:"empty",lZero:"allow",sNumber:!0,aForm:!0,anDefault:null}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";function n(t,n,i,r){for(var o=[],a=0;a<t.length;a++){var s=t[a];if(s){var l=tinycolor(s),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,s)?" sp-thumb-active":"";var u=l.toString(r.preferredFormat||"rgb"),d=g?"background-color:"+l.toRgbString():"filter:"+l.toFilter();o.push('<span title="'+u+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+d+';" /></span>')}else{var h="sp-clear-display";o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+o.join("")+"</div>"}function i(){for(var e=0;e<p.length;e++)p[e]&&p[e].hide()}function r(t,n){var i=e.extend({},f,t);return i.callbacks={move:c(i.move,n),change:c(i.change,n),show:c(i.show,n),hide:c(i.hide,n),beforeShow:c(i.beforeShow,n)},i}function o(o,s){function c(){if(Y.showPaletteOnly&&(Y.showPalette=!0),ze.text(Y.showPaletteOnly?Y.togglePaletteMoreText:Y.togglePaletteLessText),Y.palette){fe=Y.palette.slice(0),pe=e.isArray(fe[0])?fe:[fe],me={};for(var t=0;t<pe.length;t++)for(var n=0;n<pe[t].length;n++){var i=tinycolor(pe[t][n]).toRgbString();me[i]=!0}}ke.toggleClass("sp-flat",$),ke.toggleClass("sp-input-disabled",!Y.showInput),ke.toggleClass("sp-alpha-enabled",Y.showAlpha),ke.toggleClass("sp-clear-enabled",Ze),ke.toggleClass("sp-buttons-disabled",!Y.showButtons),ke.toggleClass("sp-palette-buttons-disabled",!Y.togglePaletteOnly),ke.toggleClass("sp-palette-disabled",!Y.showPalette),ke.toggleClass("sp-palette-only",Y.showPaletteOnly),ke.toggleClass("sp-initial-disabled",!Y.showInitial),ke.addClass(Y.className).addClass(Y.containerClassName),F()}function f(){function t(t){return t.data&&t.data.ignore?(R(e(t.target).closest(".sp-thumb-el").data("color")),L()):(R(e(t.target).closest(".sp-thumb-el").data("color")),L(),B(!0),Y.hideAfterPaletteSelect&&P()),!1}if(m&&ke.find("*:not(input)").attr("unselectable","on"),c(),He&&we.after(qe).hide(),Ze||Le.hide(),$)we.after(ke).hide();else{var n="parent"===Y.appendTo?we.parent():e(Y.appendTo);1!==n.length&&(n=e("body")),n.append(ke)}y(),We.bind("click.spectrum touchstart.spectrum",function(t){_e||D(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()}),(we.is(":disabled")||Y.disabled===!0)&&V(),ke.click(l),Ne.change(T),Ne.bind("paste",function(){setTimeout(T,1)}),Ne.keydown(function(e){13==e.keyCode&&T()}),Oe.text(Y.cancelText),Oe.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),N(),P()}),Le.attr("title",Y.clearText),Le.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Ge=!0,L(),$&&B(!0)}),je.text(Y.chooseText),je.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),m&&Ne.is(":focus")&&Ne.trigger("change"),O()&&(B(!0),P())}),ze.text(Y.showPaletteOnly?Y.togglePaletteMoreText:Y.togglePaletteLessText),ze.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Y.showPaletteOnly=!Y.showPaletteOnly,Y.showPaletteOnly||$||ke.css("left","-="+(Ce.outerWidth(!0)+5)),c()}),u(Me,function(e,t,n){he=e/ae,Ge=!1,n.shiftKey&&(he=Math.round(10*he)/10),L()},C,S),u(De,function(e,t){ce=parseFloat(t/re),Ge=!1,Y.showAlpha||(he=1),L()},C,S),u(Se,function(e,t,n){if(n.shiftKey){if(!ye){var i=ue*te,r=ne-de*ne,o=Math.abs(e-i)>Math.abs(t-r);ye=o?"x":"y"}}else ye=null;var a=!ye||"x"===ye,s=!ye||"y"===ye;a&&(ue=parseFloat(e/te)),s&&(de=parseFloat((ne-t)/ne)),Ge=!1,Y.showAlpha||(he=1),L()},C,S),Ue?(R(Ue),j(),$e=Y.preferredFormat||tinycolor(Ue).format,x(Ue)):j(),$&&A();var i=m?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Re.delegate(".sp-thumb-el",i,t),Ie.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},t)}function y(){if(G&&window.localStorage){try{var t=window.localStorage[G].split(",#");t.length>1&&(delete window.localStorage[G],e.each(t,function(e,t){x(t)}))}catch(n){}try{ge=window.localStorage[G].split(";")}catch(n){}}}function x(t){if(X){var n=tinycolor(t).toRgbString();if(!me[n]&&-1===e.inArray(n,ge))for(ge.push(n);ge.length>ve;)ge.shift();if(G&&window.localStorage)try{window.localStorage[G]=ge.join(";")}catch(i){}}}function w(){var e=[];if(Y.showPalette)for(var t=0;t<ge.length;t++){var n=tinycolor(ge[t]).toRgbString();me[n]||e.push(ge[t])}return e.reverse().slice(0,Y.maxSelectionSize)}function _(){var t=I(),i=e.map(pe,function(e,i){return n(e,t,"sp-palette-row sp-palette-row-"+i,Y)});y(),ge&&i.push(n(w(),t,"sp-palette-row sp-palette-row-selection",Y)),Re.html(i.join(""))}function k(){if(Y.showInitial){var e=Ye,t=I();Ie.html(n([e,t],t,"sp-palette-row-initial",Y))}}function C(){(0>=ne||0>=te||0>=re)&&F(),ee=!0,ke.addClass(be),ye=null,we.trigger("dragstart.spectrum",[I()])}function S(){ee=!1,ke.removeClass(be),we.trigger("dragstop.spectrum",[I()])}function T(){var e=Ne.val();if(null!==e&&""!==e||!Ze){var t=tinycolor(e);t.isValid()?(R(t),B(!0)):Ne.addClass("sp-validation-error")}else R(null),B(!0)}function D(){J?P():A()}function A(){var t=e.Event("beforeShow.spectrum");return J?void F():(we.trigger(t,[I()]),void(K.beforeShow(I())===!1||t.isDefaultPrevented()||(i(),J=!0,e(xe).bind("keydown.spectrum",E),e(xe).bind("click.spectrum",M),e(window).bind("resize.spectrum",Q),qe.addClass("sp-active"),ke.removeClass("sp-hidden"),F(),j(),Ye=I(),k(),K.show(Ye),we.trigger("show.spectrum",[Ye]))))}function E(e){27===e.keyCode&&P()}function M(e){2!=e.button&&(ee||(Xe?B(!0):N(),P()))}function P(){J&&!$&&(J=!1,e(xe).unbind("keydown.spectrum",E),e(xe).unbind("click.spectrum",M),e(window).unbind("resize.spectrum",Q),qe.removeClass("sp-active"),ke.addClass("sp-hidden"),K.hide(I()),we.trigger("hide.spectrum",[I()]))}function N(){R(Ye,!0)}function R(e,t){if(tinycolor.equals(e,I()))return void j();var n,i;!e&&Ze?Ge=!0:(Ge=!1,n=tinycolor(e),i=n.toHsv(),ce=i.h%360/360,ue=i.s,de=i.v,he=i.a),j(),n&&n.isValid()&&!t&&($e=Y.preferredFormat||n.getFormat())}function I(e){return e=e||{},Ze&&Ge?null:tinycolor.fromRatio({h:ce,s:ue,v:de,a:Math.round(100*he)/100},{format:e.format||$e})}function O(){return!Ne.hasClass("sp-validation-error")}function L(){j(),K.move(I()),we.trigger("move.spectrum",[I()])}function j(){Ne.removeClass("sp-validation-error"),z();var e=tinycolor.fromRatio({h:ce,s:1,v:1});Se.css("background-color",e.toHexString());var t=$e;1>he&&(0!==he||"name"!==t)&&("hex"===t||"hex3"===t||"hex6"===t||"name"===t)&&(t="rgb");var n=I({format:t}),i="";if(Ve.removeClass("sp-clear-display"),Ve.css("background-color","transparent"),!n&&Ze)Ve.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(g||1===n.alpha?Ve.css("background-color",o):(Ve.css("background-color","transparent"),Ve.css("filter",n.toFilter())),Y.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),l="linear-gradient(left, "+s+", "+r+")";m?Ee.css("filter",tinycolor(s).toFilter({gradientType:1},r)):(Ee.css("background","-webkit-"+l),Ee.css("background","-moz-"+l),Ee.css("background","-ms-"+l),Ee.css("background","linear-gradient(to right, "+s+", "+r+")"))}i=n.toString(t)}Y.showInput&&Ne.val(i),Y.showPalette&&_(),k()}function z(){var e=ue,t=de;if(Ze&&Ge)Pe.hide(),Ae.hide(),Te.hide();else{Pe.show(),Ae.show(),Te.show();var n=e*te,i=ne-t*ne;n=Math.max(-ie,Math.min(te-ie,n-ie)),i=Math.max(-ie,Math.min(ne-ie,i-ie)),Te.css({top:i+"px",left:n+"px"});var r=he*ae;Pe.css({left:r-se/2+"px"});var o=ce*re;Ae.css({top:o-le+"px"})}}function B(e){var t=I(),n="",i=!tinycolor.equals(t,Ye);t&&(n=t.toString($e),x(t)),Be&&we.val(n),e&&i&&(K.change(t),we.trigger("change",[t]))}function F(){J&&(te=Se.width(),ne=Se.height(),ie=Te.height(),oe=De.width(),re=De.height(),le=Ae.height(),ae=Me.width(),se=Pe.width(),$||(ke.css("position","absolute"),Y.offset?ke.offset(Y.offset):ke.offset(a(ke,We))),z(),Y.showPalette&&_(),we.trigger("reflow.spectrum"))}function H(){we.show(),We.unbind("click.spectrum touchstart.spectrum"),ke.remove(),qe.remove(),p[Ke.id]=null}function q(n,i){return n===t?e.extend({},Y):i===t?Y[n]:(Y[n]=i,"preferredFormat"===n&&($e=Y.preferredFormat),void c())}function W(){_e=!1,we.attr("disabled",!1),We.removeClass("sp-disabled")}function V(){P(),_e=!0,we.attr("disabled",!0),We.addClass("sp-disabled")}function U(e){Y.offset=e,F()}var Y=r(s,o),$=Y.flat,X=Y.showSelectionPalette,G=Y.localStorageKey,Z=Y.theme,K=Y.callbacks,Q=d(F,10),J=!1,ee=!1,te=0,ne=0,ie=0,re=0,oe=0,ae=0,se=0,le=0,ce=0,ue=0,de=0,he=1,fe=[],pe=[],me={},ge=Y.selectionPalette.slice(0),ve=Y.maxSelectionSize,be="sp-dragging",ye=null,xe=o.ownerDocument,we=(xe.body,e(o)),_e=!1,ke=e(b,xe).addClass(Z),Ce=ke.find(".sp-picker-container"),Se=ke.find(".sp-color"),Te=ke.find(".sp-dragger"),De=ke.find(".sp-hue"),Ae=ke.find(".sp-slider"),Ee=ke.find(".sp-alpha-inner"),Me=ke.find(".sp-alpha"),Pe=ke.find(".sp-alpha-handle"),Ne=ke.find(".sp-input"),Re=ke.find(".sp-palette"),Ie=ke.find(".sp-initial"),Oe=ke.find(".sp-cancel"),Le=ke.find(".sp-clear"),je=ke.find(".sp-choose"),ze=ke.find(".sp-palette-toggle"),Be=we.is("input"),Fe=Be&&"color"===we.attr("type")&&h(),He=Be&&!$,qe=He?e(v).addClass(Z).addClass(Y.className).addClass(Y.replacerClassName):e([]),We=He?qe:we,Ve=qe.find(".sp-preview-inner"),Ue=Y.color||Be&&we.val(),Ye=!1,$e=Y.preferredFormat,Xe=!Y.showButtons||Y.clickoutFiresChange,Ge=!Ue,Ze=Y.allowEmpty&&!Fe;f();var Ke={show:A,hide:P,toggle:D,reflow:F,option:q,enable:W,disable:V,offset:U,set:function(e){R(e),B()},get:I,destroy:H,container:ke};return Ke.id=p.push(Ke)-1,Ke}function a(t,n){var i=0,r=t.outerWidth(),o=t.outerHeight(),a=n.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=n.offset(),h=d.left,f=d.top;return f+=a,h-=Math.min(h,h+r>c&&c>r?Math.abs(h+r-c):0),f-=Math.min(f,f+o>u&&u>o?Math.abs(o+a-i):i),{top:f,bottom:d.bottom,left:h,right:d.right,width:d.width,height:d.height}}function s(){}function l(e){e.stopPropagation()}function c(e,t){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return e.apply(t,i.concat(n.call(arguments)))}}function u(t,n,i,r){function o(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function a(e){if(u){if(m&&c.documentMode<9&&!e.button)return l();var i=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],r=i&&i.pageX||e.pageX,a=i&&i.pageY||e.pageY,s=Math.max(0,Math.min(r-d.left,f)),g=Math.max(0,Math.min(a-d.top,h));p&&o(e),n.apply(t,[s,g,e])}}function s(n){var r=n.which?3==n.which:2==n.button;r||u||i.apply(t,arguments)!==!1&&(u=!0,h=e(t).height(),f=e(t).width(),d=e(t).offset(),e(c).bind(g),e(c.body).addClass("sp-dragging"),a(n),o(n))}function l(){u&&(e(c).unbind(g),e(c.body).removeClass("sp-dragging"),setTimeout(function(){r.apply(t,arguments)},0)),u=!1}n=n||function(){},i=i||function(){},r=r||function(){};var c=document,u=!1,d={},h=0,f=0,p="ontouchstart"in window,g={};g.selectstart=o,g.dragstart=o,g["touchmove mousemove"]=a,g["touchend mouseup"]=l,e(t).bind("touchstart mousedown",s)}function d(e,t,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,e.apply(r,o)};n&&clearTimeout(i),(n||!i)&&(i=setTimeout(a,t))}}function h(){return e.fn.spectrum.inputTypeColorSupport()}var f={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},p=[],m=!!/msie/i.exec(window.navigator.userAgent),g=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div"),n=t.style;return n.cssText="background-color:rgba(0,0,0,.5)",e(n.backgroundColor,"rgba")||e(n.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),b=function(){var e="";if(m)for(var t=1;6>=t;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),y="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var i=this,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=p[e(this).data(y)];if(n){var o=n[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=n.get():"container"==t?i=n.container:"option"==t?i=n.option.apply(n,r):"destroy"==t?(n.destroy(),e(this).removeData(y)):o.apply(n,r)}}),i}return this.spectrum("destroy").each(function(){var n=e.extend({},t,e(this).data()),i=o(this,n);e(this).data(y,i.id)})},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=u,e.fn.spectrum.defaults=f,e.fn.spectrum.inputTypeColorSupport=function x(){if("undefined"==typeof x._cachedResult){var t=e("<input type='color'/>")[0];x._cachedResult="color"===t.type&&""!==t.value}return x._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!h()&&t.spectrum({preferredFormat:"hex6"})},function(){function e(e){var n={r:0,g:0,b:0},r=1,a=!1,s=!1;return"string"==typeof e&&(e=N(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(n=t(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=E(e.s),
e.v=E(e.v),n=o(e.h,e.s,e.v),a=!0,s="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=E(e.s),e.l=E(e.l),n=i(e.h,e.s,e.l),a=!0,s="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=_(r),{ok:a,format:e.format||s,r:z(255,B(n.r,0)),g:z(255,B(n.g,0)),b:z(255,B(n.b,0)),a:r}}function t(e,t,n){return{r:255*k(e,255),g:255*k(t,255),b:255*k(n,255)}}function n(e,t,n){e=k(e,255),t=k(t,255),n=k(n,255);var i,r,o=B(e,t,n),a=z(e,t,n),s=(o+a)/2;if(o==a)i=r=0;else{var l=o-a;switch(r=s>.5?l/(2-o-a):l/(o+a),o){case e:i=(t-n)/l+(n>t?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:s}}function i(e,t,n){function i(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e}var r,o,a;if(e=k(e,360),t=k(t,100),n=k(n,100),0===t)r=o=a=n;else{var s=.5>n?n*(1+t):n+t-n*t,l=2*n-s;r=i(l,s,e+1/3),o=i(l,s,e),a=i(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*a}}function r(e,t,n){e=k(e,255),t=k(t,255),n=k(n,255);var i,r,o=B(e,t,n),a=z(e,t,n),s=o,l=o-a;if(r=0===o?0:l/o,o==a)i=0;else{switch(o){case e:i=(t-n)/l+(n>t?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:s}}function o(e,t,n){e=6*k(e,360),t=k(t,100),n=k(n,100);var i=L.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=i%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}function a(e,t,n,i){var r=[A(j(e).toString(16)),A(j(t).toString(16)),A(j(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function s(e,t,n,i){var r=[A(M(i)),A(j(e).toString(16)),A(j(t).toString(16)),A(j(n).toString(16))];return r.join("")}function l(e,t){t=0===t?0:t||10;var n=H(e).toHsl();return n.s-=t/100,n.s=C(n.s),H(n)}function c(e,t){t=0===t?0:t||10;var n=H(e).toHsl();return n.s+=t/100,n.s=C(n.s),H(n)}function u(e){return H(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var n=H(e).toHsl();return n.l+=t/100,n.l=C(n.l),H(n)}function h(e,t){t=0===t?0:t||10;var n=H(e).toRgb();return n.r=B(0,z(255,n.r-j(255*-(t/100)))),n.g=B(0,z(255,n.g-j(255*-(t/100)))),n.b=B(0,z(255,n.b-j(255*-(t/100)))),H(n)}function f(e,t){t=0===t?0:t||10;var n=H(e).toHsl();return n.l-=t/100,n.l=C(n.l),H(n)}function p(e,t){var n=H(e).toHsl(),i=(j(n.h)+t)%360;return n.h=0>i?360+i:i,H(n)}function m(e){var t=H(e).toHsl();return t.h=(t.h+180)%360,H(t)}function g(e){var t=H(e).toHsl(),n=t.h;return[H(e),H({h:(n+120)%360,s:t.s,l:t.l}),H({h:(n+240)%360,s:t.s,l:t.l})]}function v(e){var t=H(e).toHsl(),n=t.h;return[H(e),H({h:(n+90)%360,s:t.s,l:t.l}),H({h:(n+180)%360,s:t.s,l:t.l}),H({h:(n+270)%360,s:t.s,l:t.l})]}function b(e){var t=H(e).toHsl(),n=t.h;return[H(e),H({h:(n+72)%360,s:t.s,l:t.l}),H({h:(n+216)%360,s:t.s,l:t.l})]}function y(e,t,n){t=t||6,n=n||30;var i=H(e).toHsl(),r=360/n,o=[H(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(H(i));return o}function x(e,t){t=t||6;for(var n=H(e).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/t;t--;)a.push(H({h:i,s:r,v:o})),o=(o+s)%1;return a}function w(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _(e){return e=parseFloat(e),(isNaN(e)||0>e||e>1)&&(e=1),e}function k(e,t){T(e)&&(e="100%");var n=D(e);return e=z(t,B(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),L.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function C(e){return z(1,B(0,e))}function S(e){return parseInt(e,16)}function T(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function D(e){return"string"==typeof e&&-1!=e.indexOf("%")}function A(e){return 1==e.length?"0"+e:""+e}function E(e){return 1>=e&&(e=100*e+"%"),e}function M(e){return Math.round(255*parseFloat(e)).toString(16)}function P(e){return S(e)/255}function N(e){e=e.replace(R,"").replace(I,"").toLowerCase();var t=!1;if(q[e])e=q[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=V.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=V.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=V.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=V.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=V.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=V.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=V.hex8.exec(e))?{a:P(n[1]),r:S(n[2]),g:S(n[3]),b:S(n[4]),format:t?"name":"hex8"}:(n=V.hex6.exec(e))?{r:S(n[1]),g:S(n[2]),b:S(n[3]),format:t?"name":"hex"}:(n=V.hex3.exec(e))?{r:S(n[1]+""+n[1]),g:S(n[2]+""+n[2]),b:S(n[3]+""+n[3]),format:t?"name":"hex"}:!1}var R=/^[\s,#]+/,I=/\s+$/,O=0,L=Math,j=L.round,z=L.min,B=L.max,F=L.random,H=function(t,n){if(t=t?t:"",n=n||{},t instanceof H)return t;if(!(this instanceof H))return new H(t,n);var i=e(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=j(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=j(this._r)),this._g<1&&(this._g=j(this._g)),this._b<1&&(this._b=j(this._b)),this._ok=i.ok,this._tc_id=O++};H.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=_(e),this._roundA=j(100*this._a)/100,this},toHsv:function(){var e=r(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r(this._r,this._g,this._b),t=j(360*e.h),n=j(100*e.s),i=j(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n(this._r,this._g,this._b),t=j(360*e.h),i=j(100*e.s),r=j(100*e.l);return 1==this._a?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return a(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return s(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:j(this._r),g:j(this._g),b:j(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+j(this._r)+", "+j(this._g)+", "+j(this._b)+")":"rgba("+j(this._r)+", "+j(this._g)+", "+j(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:j(100*k(this._r,255))+"%",g:j(100*k(this._g,255))+"%",b:j(100*k(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+j(100*k(this._r,255))+"%, "+j(100*k(this._g,255))+"%, "+j(100*k(this._b,255))+"%)":"rgba("+j(100*k(this._r,255))+"%, "+j(100*k(this._g,255))+"%, "+j(100*k(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":this._a<1?!1:W[a(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+s(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=H(e);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!t&&i&&("hex"===e||"hex6"===e||"hex3"===e||"name"===e);return r?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(y,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(b,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},H.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&("a"===i?n[i]=e[i]:n[i]=E(e[i]));e=n}return H(e,t)},H.equals=function(e,t){return e&&t?H(e).toRgbString()==H(t).toRgbString():!1},H.random=function(){return H.fromRatio({r:F(),g:F(),b:F()})},H.mix=function(e,t,n){n=0===n?0:n||50;var i,r=H(e).toRgb(),o=H(t).toRgb(),a=n/100,s=2*a-1,l=o.a-r.a;i=s*l==-1?s:(s+l)/(1+s*l),i=(i+1)/2;var c=1-i,u={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*a+r.a*(1-a)};return H(u)},H.readability=function(e,t){var n=H(e),i=H(t),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},H.isReadable=function(e,t){var n=H.readability(e,t);return n.brightness>125&&n.color>500},H.mostReadable=function(e,t){for(var n=null,i=0,r=!1,o=0;o<t.length;o++){var a=H.readability(e,t[o]),s=a.brightness>125&&a.color>500,l=3*(a.brightness/125)+a.color/500;(s&&!r||s&&r&&l>i||!s&&!r&&l>i)&&(r=s,i=l,n=H(t[o]))}return n};var q=H.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=H.hexNames=w(q),V=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();window.tinycolor=H}(),e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})}),function(e){var t=0,n={iframe:"iframe",popup:"popup"},i={strict:"strict",loose:"loose",html5:"html5"},r={mode:n.iframe,standard:i.html5,popHt:500,popWd:400,popX:200,popY:200,popTitle:"",popClose:!1,extraCss:"",extraHead:"",retainAttr:["id","class","style"]},o={};e.fn.printArea=function(n){e.extend(o,r,n),t++;var i="printArea_";e("[id^="+i+"]").remove(),o.id=i+t;var s=e(this),l=a.getPrintWindow();a.write(l.doc,s),setTimeout(function(){a.print(l)},1e3)};var a={print:function(t){var i=t.win;e(t.doc).ready(function(){i.focus(),i.print(),o.mode==n.popup&&o.popClose&&setTimeout(function(){i.close()},2e3)})},write:function(e,t){e.open(),e.write(a.docType()+"<html>"+a.getHead()+a.getBody(t)+"</html>"),e.close()},docType:function(){if(o.mode==n.iframe)return"";if(o.standard==i.html5)return"<!DOCTYPE html>";var e=o.standard==i.loose?" Transitional":"",t=o.standard==i.loose?"loose":"strict";return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01'+e+'//EN" "http://www.w3.org/TR/html4/'+t+'.dtd">'},getHead:function(){var t="",n="";return o.extraHead&&o.extraHead.replace(/([^,]+)/g,function(e){t+=e}),e(document).find("link").filter(function(){var t=e(this).attr("rel");return"undefined"===e.type(t)==0&&"stylesheet"==t.toLowerCase()}).filter(function(){var t=e(this).attr("media");return"undefined"===e.type(t)||""==t||"print"==t.toLowerCase()||"all"==t.toLowerCase()}).each(function(){n+='<link type="text/css" rel="stylesheet" href="'+e(this).attr("href")+'" >'}),o.extraCss&&o.extraCss.replace(/([^,\s]+)/g,function(e){n+='<link type="text/css" rel="stylesheet" href="'+e+'">'}),"<head><title>"+o.popTitle+"</title>"+t+n+"</head>"},getBody:function(t){var n="",i=o.retainAttr;return t.each(function(){for(var t=a.getFormData(e(this)),r="",o=0;o<i.length;o++){var s=e(t).attr(i[o]);s&&(r+=(r.length>0?" ":"")+i[o]+"='"+s+"'")}n+="<div "+r+">"+e(t).html()+"</div>"}),"<body>"+n+"</body>"},getFormData:function(t){var n=t.clone(),i=e("input,select,textarea",n);return e("input,select,textarea",t).each(function(t){var n=e(this).attr("type");"undefined"===e.type(n)&&(n=e(this).is("select")?"select":e(this).is("textarea")?"textarea":"");var r=i.eq(t);"radio"==n||"checkbox"==n?r.attr("checked",e(this).is(":checked")):"text"==n?r.attr("value",e(this).val()):"select"==n?e(this).find("option").each(function(t){e(this).is(":selected")&&e("option",r).eq(t).attr("selected",!0)}):"textarea"==n&&r.text(e(this).val())}),n},getPrintWindow:function(){switch(o.mode){case n.iframe:var e=new a.Iframe;return{win:e.contentWindow||e,doc:e.doc};case n.popup:var t=new a.Popup;return{win:t,doc:t.doc}}},Iframe:function(){var t,n=o.id,i="border:0;position:absolute;width:0px;height:0px;right:0px;top:0px;";try{t=document.createElement("iframe"),document.body.appendChild(t),e(t).attr({style:i,id:n,src:"#"+(new Date).getTime()}),t.doc=null,t.doc=t.contentDocument?t.contentDocument:t.contentWindow?t.contentWindow.document:t.document}catch(r){throw r+". iframes may not be supported in this browser."}if(null==t.doc)throw"Cannot find document.";return t},Popup:function(){var e="location=yes,statusbar=no,directories=no,menubar=no,titlebar=no,toolbar=no,dependent=no";e+=",width="+o.popWd+",height="+o.popHt,e+=",resizable=yes,screenX="+o.popX+",screenY="+o.popY+",personalbar=no,scrollbars=yes";var t=window.open("","_blank",e);return t.doc=t.document,t}}}(jQuery),function(e){function t(){var e=Error.apply(this,arguments);e.name=this.name="FlashError",this.stack=e.stack,this.message=e.message}function i(){var e=Error.apply(this,arguments);e.name=this.name="WebcamError",this.stack=e.stack,this.message=e.message}var r,o=function(){};o.prototype=Error.prototype,t.prototype=new o,i.prototype=new o;var a={version:"1.0.25",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:t,WebcamError:i},hooks:{},init:function(){var t=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(e){return new Promise(function(t,n){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,e,t,n)})}}:null,e.URL=e.URL||e.webkitURL||e.mozURL||e.msURL,this.userMedia=this.userMedia&&!!this.mediaDevices&&!!e.URL,this.iOS&&(this.userMedia=null),navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null),this.userMedia&&e.addEventListener("beforeunload",function(e){t.reset()})},exifOrientation:function(e){var t=new DataView(e);if(255!=t.getUint8(0)||216!=t.getUint8(1))return console.log("Not a valid JPEG file"),0;for(var i=2,r=null;i<e.byteLength;){if(255!=t.getUint8(i))return console.log("Not a valid marker at offset "+i+", found: "+t.getUint8(i)),0;if(r=t.getUint8(i+1),225==r){i+=4;var o="";for(n=0;n<4;n++)o+=String.fromCharCode(t.getUint8(i+n));if("Exif"!=o)return console.log("Not valid EXIF data found"),0;i+=6;var a=null;if(18761==t.getUint16(i))a=!1;else{if(19789!=t.getUint16(i))return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;a=!0}if(42!=t.getUint16(i+2,!a))return console.log("Not valid TIFF data! (no 0x002A)"),0;var s=t.getUint32(i+4,!a);if(8>s)return console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(i+4,!a)),0;for(var l=i+s,c=t.getUint16(l,!a),u=0;c>u;u++){var d=l+12*u+2;if(274==t.getUint16(d,!a)){var h=t.getUint16(d+2,!a),f=t.getUint32(d+4,!a);if(3!=h&&1!=f)return console.log("Invalid EXIF orientation value type ("+h+") or count ("+f+")"),0;var p=t.getUint16(d+8,!a);return 1>p||p>8?(console.log("Invalid EXIF orientation value ("+p+")"),0):p}}}else i+=2+t.getUint16(i+2)}return 0},fixOrientation:function(e,t,n){var i=new Image;i.addEventListener("load",function(e){var r=document.createElement("canvas"),o=r.getContext("2d");switch(5>t?(r.width=i.width,r.height=i.height):(r.width=i.height,r.height=i.width),t){case 2:o.transform(-1,0,0,1,i.width,0);break;case 3:o.transform(-1,0,0,-1,i.width,i.height);break;case 4:o.transform(1,0,0,-1,0,i.height);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i.height,0);break;case 7:o.transform(0,-1,-1,0,i.height,i.width);break;case 8:o.transform(0,-1,1,0,0,i.width)}o.drawImage(i,0,0),n.src=r.toDataURL()},!1),i.src=e},attach:function(t){if("string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t)return this.dispatch("error",new i("Could not locate DOM element to attach to."));this.container=t,t.innerHTML="";var n=document.createElement("div");if(t.appendChild(n),this.peg=n,this.params.width||(this.params.width=t.offsetWidth),this.params.height||(this.params.height=t.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new i("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width),this.params.dest_height||(this.params.dest_height=this.params.height),this.userMedia=void 0===r?this.userMedia:r,this.params.force_flash&&(r=this.userMedia,this.userMedia=null),"number"!=typeof this.params.fps&&(this.params.fps=30);var o=this.params.width/this.params.dest_width,s=this.params.height/this.params.dest_height;if(this.userMedia){var l=document.createElement("video");l.setAttribute("autoplay","autoplay"),l.style.width=""+this.params.dest_width+"px",l.style.height=""+this.params.dest_height+"px",(1!=o||1!=s)&&(t.style.overflow="hidden",l.style.webkitTransformOrigin="0px 0px",l.style.mozTransformOrigin="0px 0px",l.style.msTransformOrigin="0px 0px",l.style.oTransformOrigin="0px 0px",l.style.transformOrigin="0px 0px",l.style.webkitTransform="scaleX("+o+") scaleY("+s+")",l.style.mozTransform="scaleX("+o+") scaleY("+s+")",l.style.msTransform="scaleX("+o+") scaleY("+s+")",l.style.oTransform="scaleX("+o+") scaleY("+s+")",l.style.transform="scaleX("+o+") scaleY("+s+")"),t.appendChild(l),this.video=l;var c=this;this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(t){l.onloadedmetadata=function(e){c.stream=t,c.loaded=!0,c.live=!0,c.dispatch("load"),c.dispatch("live"),c.flip()},"srcObject"in l?l.srcObject=t:l.src=e.URL.createObjectURL(t)})["catch"](function(e){c.params.enable_flash&&c.detectFlash()?setTimeout(function(){c.params.force_flash=1,c.attach(t)},1):c.dispatch("error",e)})}else if(this.iOS){var u=document.createElement("div");u.id=this.container.id+"-ios_div",u.className="webcamjs-ios-placeholder",u.style.width=""+this.params.width+"px",u.style.height=""+this.params.height+"px",u.style.textAlign="center",u.style.display="table-cell",u.style.verticalAlign="middle",u.style.backgroundRepeat="no-repeat",u.style.backgroundSize="contain",u.style.backgroundPosition="center";var d=document.createElement("span");d.className="webcamjs-ios-text",d.innerHTML=this.params.iosPlaceholderText,u.appendChild(d);var h=document.createElement("img");h.id=this.container.id+"-ios_img",h.style.width=""+this.params.dest_width+"px",h.style.height=""+this.params.dest_height+"px",h.style.display="none",u.appendChild(h);var f=document.createElement("input");f.id=this.container.id+"-ios_input",f.setAttribute("type","file"),f.setAttribute("accept","image/*"),f.setAttribute("capture","camera");var c=this,p=this.params;f.addEventListener("change",function(e){if(e.target.files.length>0&&0==e.target.files[0].type.indexOf("image/")){var t=URL.createObjectURL(e.target.files[0]),n=new Image;n.addEventListener("load",function(e){var t=document.createElement("canvas");t.width=p.dest_width,t.height=p.dest_height;var i=t.getContext("2d");ratio=Math.min(n.width/p.dest_width,n.height/p.dest_height);var r=p.dest_width*ratio,o=p.dest_height*ratio,a=(n.width-r)/2,s=(n.height-o)/2;i.drawImage(n,a,s,r,o,0,0,p.dest_width,p.dest_height);var l=t.toDataURL();h.src=l,u.style.backgroundImage="url('"+l+"')"},!1);var i=new FileReader;i.addEventListener("load",function(e){var i=c.exifOrientation(e.target.result);i>1?c.fixOrientation(t,i,n):n.src=t},!1);var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="blob",r.onload=function(e){(200==this.status||0===this.status)&&i.readAsArrayBuffer(this.response)},r.send()}},!1),f.style.display="none",t.appendChild(f),u.addEventListener("click",function(e){p.user_callback?c.snap(p.user_callback,p.user_canvas):(f.style.display="block",f.focus(),f.click(),f.style.display="none")},!1),t.appendChild(u),this.loaded=!0,this.live=!0}else if(this.params.enable_flash&&this.detectFlash()){e.Webcam=a;var u=document.createElement("div");u.innerHTML=this.getSWFHTML(),t.appendChild(u)}else this.dispatch("error",new i(this.params.noInterfaceFoundText));if(this.params.crop_width&&this.params.crop_height){var m=Math.floor(this.params.crop_width*o),g=Math.floor(this.params.crop_height*s);t.style.width=""+m+"px",t.style.height=""+g+"px",t.style.overflow="hidden",t.scrollLeft=Math.floor(this.params.width/2-m/2),t.scrollTop=Math.floor(this.params.height/2-g/2)}else t.style.width=""+this.params.width+"px",t.style.height=""+this.params.height+"px"},reset:function(){if(this.preview_active&&this.unfreeze(),this.unflip(),this.userMedia){if(this.stream)if(this.stream.getVideoTracks){var e=this.stream.getVideoTracks();e&&e[0]&&e[0].stop&&e[0].stop()}else this.stream.stop&&this.stream.stop();delete this.stream,delete this.video}if(this.userMedia!==!0&&this.loaded&&!this.iOS){var t=this.getMovie();t&&t._releaseCamera&&t._releaseCamera()}this.container&&(this.container.innerHTML="",delete this.container),this.loaded=!1,this.live=!1},set:function(){if(1==arguments.length)for(var e in arguments[0])this.params[e]=arguments[0][e];else this.params[arguments[0]]=arguments[1]},on:function(e,t){e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(t)},off:function(e,t){if(e=e.replace(/^on/i,"").toLowerCase(),this.hooks[e])if(t){var n=this.hooks[e].indexOf(t);n>-1&&this.hooks[e].splice(n,1)}else this.hooks[e]=[]},dispatch:function(){var n=arguments[0].replace(/^on/i,"").toLowerCase(),r=Array.prototype.slice.call(arguments,1);if(this.hooks[n]&&this.hooks[n].length){for(var o=0,a=this.hooks[n].length;a>o;o++){var s=this.hooks[n][o];"function"==typeof s?s.apply(this,r):"object"==typeof s&&2==s.length?s[0][s[1]].apply(s[0],r):e[s]&&e[s].apply(e,r)}return!0}if("error"==n){var l;l=r[0]instanceof t||r[0]instanceof i?r[0].message:"Could not access webcam: "+r[0].name+": "+r[0].message+" "+r[0].toString(),alert("Webcam.js Error: "+l)}return!1},setSWFLocation:function(e){this.set("swfURL",e)},detectFlash:function(){var t="Shockwave Flash",n="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",r=e,o=navigator,a=!1;if("undefined"!=typeof o.plugins&&"object"==typeof o.plugins[t]){var s=o.plugins[t].description;s&&"undefined"!=typeof o.mimeTypes&&o.mimeTypes[i]&&o.mimeTypes[i].enabledPlugin&&(a=!0)}else if("undefined"!=typeof r.ActiveXObject)try{var l=new ActiveXObject(n);if(l){var c=l.GetVariable("$version");c&&(a=!0)}}catch(u){}return a},getSWFHTML:function(){var n="",i=this.params.swfURL;if(location.protocol.match(/file/))return this.dispatch("error",new t("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.</h3>';if(!this.detectFlash())return this.dispatch("error",new t("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"</h3>";if(!i){for(var r="",o=document.getElementsByTagName("script"),a=0,s=o.length;s>a;a++){var l=o[a].getAttribute("src");l&&l.match(/\/webcam(\.min)?\.js/)&&(r=l.replace(/\/webcam(\.min)?\.js.*$/,""),a=s)}i=r?r+"/webcam.swf":"webcam.swf"}e.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));var c="";for(var u in this.params)c&&(c+="&"),c+=u+"="+escape(this.params[u]);return n+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+i+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+c+'"/><embed id="webcam_movie_embed" src="'+i+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+c+'"></embed></object>'},getMovie:function(){if(!this.loaded)return this.dispatch("error",new t("Flash Movie is not loaded yet"));var e=document.getElementById("webcam_movie_obj");return e&&e._snap||(e=document.getElementById("webcam_movie_embed")),e||this.dispatch("error",new t("Cannot locate Flash movie in DOM")),e},freeze:function(){var e=this,t=this.params;this.preview_active&&this.unfreeze();var n=this.params.width/this.params.dest_width,i=this.params.height/this.params.dest_height;this.unflip();var r=t.crop_width||t.dest_width,o=t.crop_height||t.dest_height,a=document.createElement("canvas");a.width=r,a.height=o;var s=a.getContext("2d");this.preview_canvas=a,this.preview_context=s,(1!=n||1!=i)&&(a.style.webkitTransformOrigin="0px 0px",a.style.mozTransformOrigin="0px 0px",a.style.msTransformOrigin="0px 0px",a.style.oTransformOrigin="0px 0px",a.style.transformOrigin="0px 0px",a.style.webkitTransform="scaleX("+n+") scaleY("+i+")",a.style.mozTransform="scaleX("+n+") scaleY("+i+")",a.style.msTransform="scaleX("+n+") scaleY("+i+")",a.style.oTransform="scaleX("+n+") scaleY("+i+")",a.style.transform="scaleX("+n+") scaleY("+i+")"),this.snap(function(){a.style.position="relative",a.style.left=""+e.container.scrollLeft+"px",a.style.top=""+e.container.scrollTop+"px",e.container.insertBefore(a,e.peg),e.container.style.overflow="hidden",e.preview_active=!0},a)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(-1)",e.mozTransform="scaleX(-1)",e.msTransform="scaleX(-1)",e.oTransform="scaleX(-1)",e.transform="scaleX(-1)",e.filter="FlipH",e.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var e=this.container.style;e.webkitTransform="scaleX(1)",e.mozTransform="scaleX(1)",e.msTransform="scaleX(1)",e.oTransform="scaleX(1)",e.transform="scaleX(1)",e.filter="",e.msFilter=""}},savePreview:function(e,t){var n=this.params,i=this.preview_canvas,r=this.preview_context;if(t){var o=t.getContext("2d");o.drawImage(i,0,0)}e(t?null:i.toDataURL("image/"+n.image_format,n.jpeg_quality/100),i,r),this.params.unfreeze_snap&&this.unfreeze()},snap:function(e,t){e||(e=this.params.user_callback),t||(t=this.params.user_canvas);var n=this.params;if(!this.loaded)return this.dispatch("error",new i("Webcam is not loaded yet"));if(!e)return this.dispatch("error",new i("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(e,t),null;var r=document.createElement("canvas");r.width=this.params.dest_width,r.height=this.params.dest_height;var o=r.getContext("2d");this.params.flip_horiz&&(o.translate(n.dest_width,0),o.scale(-1,1));var a=function(){if(this.src&&this.width&&this.height&&o.drawImage(this,0,0,n.dest_width,n.dest_height),n.crop_width&&n.crop_height){var i=document.createElement("canvas");i.width=n.crop_width,i.height=n.crop_height;var a=i.getContext("2d");a.drawImage(r,Math.floor(n.dest_width/2-n.crop_width/2),Math.floor(n.dest_height/2-n.crop_height/2),n.crop_width,n.crop_height,0,0,n.crop_width,n.crop_height),
o=a,r=i}if(t){var s=t.getContext("2d");s.drawImage(r,0,0)}e(t?null:r.toDataURL("image/"+n.image_format,n.jpeg_quality/100),r,o)};if(this.userMedia)o.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),a();else if(this.iOS){var s=document.getElementById(this.container.id+"-ios_div"),l=document.getElementById(this.container.id+"-ios_img"),c=document.getElementById(this.container.id+"-ios_input");iFunc=function(e){a.call(l),l.removeEventListener("load",iFunc),s.style.backgroundImage="none",l.removeAttribute("src"),c.value=null},c.value?iFunc(null):(l.addEventListener("load",iFunc),c.style.display="block",c.focus(),c.click(),c.style.display="none")}else{var u=this.getMovie()._snap(),l=new Image;l.onload=a,l.src="data:image/"+this.params.image_format+";base64,"+u}return null},configure:function(e){e||(e="camera"),this.getMovie()._configure(e)},flashNotify:function(e,n){switch(e){case"flashLoadComplete":this.loaded=!0,this.dispatch("load");break;case"cameraLive":this.live=!0,this.dispatch("live");break;case"error":this.dispatch("error",new t(n))}},b64ToUint6:function(e){return e>64&&91>e?e-65:e>96&&123>e?e-71:e>47&&58>e?e+4:43===e?62:47===e?63:0},base64DecToArr:function(e,t){for(var n,i,r=e.replace(/[^A-Za-z0-9\+\/]/g,""),o=r.length,a=t?Math.ceil((3*o+1>>2)/t)*t:3*o+1>>2,s=new Uint8Array(a),l=0,c=0,u=0;o>u;u++)if(i=3&u,l|=this.b64ToUint6(r.charCodeAt(u))<<18-6*i,3===i||o-u===1){for(n=0;3>n&&a>c;n++,c++)s[c]=l>>>(16>>>n&24)&255;l=0}return s},upload:function(e,t,n){var i=this.params.upload_name||"webcam",r="";if(!e.match(/^data\:image\/(\w+)/))throw"Cannot locate image format in Data URI";r=RegExp.$1;var o=e.replace(/^data\:image\/\w+\;base64\,/,""),s=new XMLHttpRequest;s.open("POST",t,!0),s.upload&&s.upload.addEventListener&&s.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;a.dispatch("uploadProgress",t,e)}},!1);var l=this;s.onload=function(){n&&n.apply(l,[s.status,s.responseText,s.statusText]),a.dispatch("uploadComplete",s.status,s.responseText,s.statusText)};var c=new Blob([this.base64DecToArr(o)],{type:"image/"+r}),u=new FormData;u.append(i,c,i+"."+r.replace(/e/,"")),s.send(u)}};a.init(),"function"==typeof define&&define.amd?define(function(){return a}):"object"==typeof module&&module.exports?module.exports=a:e.Webcam=a}(window),!function(e,t,n){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(i){"use strict";function r(e,t,n,r){this.id=n,this.target=e,this.tooltip=P,this.elements={target:e},this._id=V+"-"+n,this.timers={img:{}},this.options=t,this.plugins={},this.cache={event:{},target:i(),disabled:M,attr:r,onTooltip:M,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=M}function o(e){return e===P||"object"!==i.type(e)}function a(e){return!(i.isFunction(e)||e&&e.attr||e.length||"object"===i.type(e)&&(e.jquery||e.then))}function s(e){var t,n,r,s;return o(e)?M:(o(e.metadata)&&(e.metadata={type:e.metadata}),"content"in e&&(t=e.content,o(t)||t.jquery||t.done?(n=a(t)?M:t,t=e.content={text:n}):n=t.text,"ajax"in t&&(r=t.ajax,s=r&&r.once!==M,delete t.ajax,t.text=function(e,t){var o=n||i(this).attr(t.options.content.attr)||"Loading...",a=i.ajax(i.extend({},r,{context:t})).then(r.success,P,r.error).then(function(e){return e&&s&&t.set("content.text",e),e},function(e,n,i){t.destroyed||0===e.status||t.set("content.text",n+": "+i)});return s?o:(t.set("content.text",o),a)}),"title"in t&&(i.isPlainObject(t.title)&&(t.button=t.title.button,t.title=t.title.text),a(t.title||M)&&(t.title=M))),"position"in e&&o(e.position)&&(e.position={my:e.position,at:e.position}),"show"in e&&o(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===E?{ready:E}:{event:e.show}),"hide"in e&&o(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide}),"style"in e&&o(e.style)&&(e.style={classes:e.style}),i.each(W,function(){this.sanitize&&this.sanitize(e)}),e)}function l(e,t){for(var n,i=0,r=e,o=t.split(".");r=r[o[i++]];)i<o.length&&(n=r);return[n||e,o.pop()]}function c(e,t){var n,i,r;for(n in this.checks)if(this.checks.hasOwnProperty(n))for(i in this.checks[n])this.checks[n].hasOwnProperty(i)&&(r=new RegExp(i,"i").exec(e))&&(t.push(r),("builtin"===n||this.plugins[n])&&this.checks[n][i].apply(this.plugins[n]||this,t))}function u(e){return $.concat("").join(e?"-"+e+" ":" ")}function d(e,t){return t>0?setTimeout(i.proxy(e,this),t):void e.call(this)}function h(e){this.tooltip.hasClass(ee)||(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=d.call(this,function(){this.toggle(E,e)},this.options.show.delay))}function f(e){if(!this.tooltip.hasClass(ee)&&!this.destroyed){var t=i(e.relatedTarget),n=t.closest(X)[0]===this.tooltip[0],r=t[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==t[0]&&"mouse"===this.options.position.target&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||r))try{e.preventDefault(),e.stopImmediatePropagation()}catch(o){}else this.timers.hide=d.call(this,function(){this.toggle(M,e)},this.options.hide.delay,this)}}function p(e){!this.tooltip.hasClass(ee)&&this.options.hide.inactive&&(clearTimeout(this.timers.inactive),this.timers.inactive=d.call(this,function(){this.hide(e)},this.options.hide.inactive))}function m(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function g(e,n,r){i(t.body).delegate(e,(n.split?n:n.join("."+V+" "))+"."+V,function(){var e=C.api[i.attr(this,Y)];e&&!e.disabled&&r.apply(e,arguments)})}function v(e,n,o){var a,l,c,u,d,h=i(t.body),f=e[0]===t?h:e,p=e.metadata?e.metadata(o.metadata):P,m="html5"===o.metadata.type&&p?p[o.metadata.name]:P,g=e.data(o.metadata.name||"qtipopts");try{g="string"==typeof g?i.parseJSON(g):g}catch(v){}if(u=i.extend(E,{},C.defaults,o,"object"==typeof g?s(g):P,s(m||p)),l=u.position,u.id=n,"boolean"==typeof u.content.text){if(c=e.attr(u.content.attr),u.content.attr===M||!c)return M;u.content.text=c}if(l.container.length||(l.container=h),l.target===M&&(l.target=f),u.show.target===M&&(u.show.target=f),u.show.solo===E&&(u.show.solo=l.container.closest("body")),u.hide.target===M&&(u.hide.target=f),u.position.viewport===E&&(u.position.viewport=l.container),l.container=l.container.eq(0),l.at=new T(l.at,E),l.my=new T(l.my),e.data(V))if(u.overwrite)e.qtip("destroy",!0);else if(u.overwrite===M)return M;return e.attr(U,n),u.suppress&&(d=e.attr("title"))&&e.removeAttr("title").attr(ne,d).attr("title",""),a=new r(e,u,n,!!c),e.data(V,a),a}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function y(e,t){var i,r,o=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+we.join(o+" ")+o).split(" "),s=0;if(xe[t])return e.css(xe[t]);for(;i=a[s++];)if((r=e.css(i))!==n)return xe[t]=i,r}function x(e,t){return Math.ceil(parseFloat(y(e,t)))}function w(e,t){this._ns="tip",this.options=t,this.offset=t.offset,this.size=[t.width,t.height],this.qtip=e,this.init(e)}function _(e,t){this.options=t,this._ns="-modal",this.qtip=e,this.init(e)}function k(e){this._ns="ie6",this.qtip=e,this.init(e)}var C,S,T,D,A,E=!0,M=!1,P=null,N="x",R="y",I="width",O="height",L="top",j="left",z="bottom",B="right",F="center",H="flipinvert",q="shift",W={},V="qtip",U="data-hasqtip",Y="data-qtip-id",$=["ui-widget","ui-tooltip"],X="."+V,G="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Z=V+"-fixed",K=V+"-default",Q=V+"-focus",J=V+"-hover",ee=V+"-disabled",te="_replacedByqTip",ne="oldtitle",ie={ie:function(){var e,n;for(e=4,n=t.createElement("div");(n.innerHTML="<!--[if gt IE "+e+"]><i></i><![endif]-->")&&n.getElementsByTagName("i")[0];e+=1);return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||M};S=r.prototype,S._when=function(e){return i.when.apply(i,e)},S.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,n=this.options,r=this.cache,o=this.elements,a=n.content.text,s=n.content.title,l=n.content.button,c=n.position,u=[];return i.attr(this.target[0],"aria-describedby",this._id),r.posClass=this._createPosClass((this.position={my:c.my,at:c.at}).my),this.tooltip=o.tooltip=i("<div/>",{id:this._id,"class":[V,K,n.style.classes,r.posClass].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:"mouse"===c.target&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":M,"aria-describedby":this._id+"-content","aria-hidden":E}).toggleClass(ee,this.disabled).attr(Y,this.id).data(V,this).appendTo(c.container).append(o.content=i("<div />",{"class":V+"-content",id:this._id+"-content","aria-atomic":E})),this.rendered=-1,this.positioning=E,s&&(this._createTitle(),i.isFunction(s)||u.push(this._updateTitle(s,M))),l&&this._createButton(),i.isFunction(a)||u.push(this._updateContent(a,M)),this.rendered=E,this._setWidget(),i.each(W,function(e){var n;"render"===this.initialize&&(n=this(t))&&(t.plugins[e]=n)}),this._unassignEvents(),this._assignEvents(),this._when(u).then(function(){t._trigger("render"),t.positioning=M,t.hiddenDuringWait||!n.show.ready&&!e||t.toggle(E,r.event,M),t.hiddenDuringWait=M}),C.api[this.id]=this,this},S.destroy=function(e){function t(){if(!this.destroyed){this.destroyed=E;var e,t=this.target,n=t.attr(ne);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),i.each(this.plugins,function(){this.destroy&&this.destroy()});for(e in this.timers)this.timers.hasOwnProperty(e)&&clearTimeout(this.timers[e]);t.removeData(V).removeAttr(Y).removeAttr(U).removeAttr("aria-describedby"),this.options.suppress&&n&&t.attr("title",n).removeAttr(ne),this._unassignEvents(),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=P,delete C.api[this.id]}}return this.destroyed?this.target:(e===E&&"hide"!==this.triggering||!this.rendered?t.call(this):(this.tooltip.one("tooltiphidden",i.proxy(t,this)),!this.triggering&&this.hide()),this.target)},D=S.checks={builtin:{"^id$":function(e,t,n,r){var o=n===E?C.nextid:n,a=V+"-"+o;o!==M&&o.length>0&&!i("#"+a).length?(this._id=a,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):e[t]=r},"^prerender":function(e,t,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,n){this._updateContent(n)},"^content.attr$":function(e,t,n,i){this.options.content.text===this.target.attr(i)&&this._updateContent(this.target.attr(n))},"^content.title$":function(e,t,n){return n?(n&&!this.elements.title&&this._createTitle(),void this._updateTitle(n)):this._removeTitle()},"^content.button$":function(e,t,n){this._updateButton(n)},"^content.title.(text|button)$":function(e,t,n){this.set("content."+t,n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(this.position[t]=e[t]=new T(n,"at"===t))},"^position.container$":function(e,t,n){this.rendered&&this.tooltip.appendTo(n)},"^show.ready$":function(e,t,n){n&&(!this.rendered&&this.render(E)||this.toggle(E))},"^style.classes$":function(e,t,n,i){this.rendered&&this.tooltip.removeClass(i).addClass(n)},"^style.(width|height)":function(e,t,n){this.rendered&&this.tooltip.css(t,n)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(e,t,n){this.rendered&&this.tooltip.toggleClass(K,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){this.rendered&&this.tooltip[(i.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var e=this.options.position;this.tooltip.attr("tracking","mouse"===e.target&&e.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},S.get=function(e){if(this.destroyed)return this;var t=l(this.options,e.toLowerCase()),n=t[0][t[1]];return n.precedance?n.string():n};var re=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,oe=/^prerender|show\.ready/i;S.set=function(e,t){if(this.destroyed)return this;var n,r=this.rendered,o=M,a=this.options;return"string"==typeof e?(n=e,e={},e[n]=t):e=i.extend({},e),i.each(e,function(t,n){if(r&&oe.test(t))return void delete e[t];var s,c=l(a,t.toLowerCase());s=c[0][c[1]],c[0][c[1]]=n&&n.nodeType?i(n):n,o=re.test(t)||o,e[t]=[c[0],c[1],n,s]}),s(a),this.positioning=E,i.each(e,i.proxy(c,this)),this.positioning=M,this.rendered&&this.tooltip[0].offsetWidth>0&&o&&this.reposition("mouse"===a.position.target?P:this.cache.event),this},S._update=function(e,t){var n=this,r=this.cache;return this.rendered&&e?(i.isFunction(e)&&(e=e.call(this.elements.target,r.event,this)||""),i.isFunction(e.then)?(r.waiting=E,e.then(function(e){return r.waiting=M,n._update(e,t)},P,function(e){return n._update(e,t)})):e===M||!e&&""!==e?M:(e.jquery&&e.length>0?t.empty().append(e.css({display:"block",visibility:"visible"})):t.html(e),this._waitForContent(t).then(function(e){n.rendered&&n.tooltip[0].offsetWidth>0&&n.reposition(r.event,!e.length)}))):M},S._waitForContent=function(e){var t=this.cache;return t.waiting=E,(i.fn.imagesLoaded?e.imagesLoaded():(new i.Deferred).resolve([])).done(function(){t.waiting=M}).promise()},S._updateContent=function(e,t){this._update(e,this.elements.content,t)},S._updateTitle=function(e,t){this._update(e,this.elements.title,t)===M&&this._removeTitle(M)},S._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle(),e.titlebar=i("<div />",{"class":V+"-titlebar "+(this.options.style.widget?u("header"):"")}).append(e.title=i("<div />",{id:t,"class":V+"-title","aria-atomic":E})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){i(this).toggleClass("ui-state-active ui-state-focus","down"===e.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(e){i(this).toggleClass("ui-state-hover","mouseover"===e.type)}),this.options.content.button&&this._createButton()},S._removeTitle=function(e){var t=this.elements;t.title&&(t.titlebar.remove(),t.titlebar=t.title=t.button=P,e!==M&&this.reposition())},S._createPosClass=function(e){return V+"-pos-"+(e||this.options.position.my).abbrev()},S.reposition=function(n,r){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=E;var o,a,s,l,c=this.cache,u=this.tooltip,d=this.options.position,h=d.target,f=d.my,p=d.at,m=d.viewport,g=d.container,v=d.adjust,b=v.method.split(" "),y=u.outerWidth(M),x=u.outerHeight(M),w=0,_=0,k=u.css("position"),C={left:0,top:0},S=u[0].offsetWidth>0,T=n&&"scroll"===n.type,D=i(e),A=g[0].ownerDocument,P=this.mouse;if(i.isArray(h)&&2===h.length)p={x:j,y:L},C={left:h[0],top:h[1]};else if("mouse"===h)p={x:j,y:L},(!v.mouse||this.options.hide.distance)&&c.origin&&c.origin.pageX?n=c.origin:!n||n&&("resize"===n.type||"scroll"===n.type)?n=c.event:P&&P.pageX&&(n=P),"static"!==k&&(C=g.offset()),A.body.offsetWidth!==(e.innerWidth||A.documentElement.clientWidth)&&(a=i(t.body).offset()),C={left:n.pageX-C.left+(a&&a.left||0),top:n.pageY-C.top+(a&&a.top||0)},v.mouse&&T&&P&&(C.left-=(P.scrollX||0)-D.scrollLeft(),C.top-=(P.scrollY||0)-D.scrollTop());else{if("event"===h?n&&n.target&&"scroll"!==n.type&&"resize"!==n.type?c.target=i(n.target):n.target||(c.target=this.elements.target):"event"!==h&&(c.target=i(h.jquery?h:this.elements.target)),h=c.target,h=i(h).eq(0),0===h.length)return this;h[0]===t||h[0]===e?(w=ie.iOS?e.innerWidth:h.width(),_=ie.iOS?e.innerHeight:h.height(),h[0]===e&&(C={top:(m||h).scrollTop(),left:(m||h).scrollLeft()})):W.imagemap&&h.is("area")?o=W.imagemap(this,h,p,W.viewport?b:M):W.svg&&h&&h[0].ownerSVGElement?o=W.svg(this,h,p,W.viewport?b:M):(w=h.outerWidth(M),_=h.outerHeight(M),C=h.offset()),o&&(w=o.width,_=o.height,a=o.offset,C=o.position),C=this.reposition.offset(h,C,g),(ie.iOS>3.1&&ie.iOS<4.1||ie.iOS>=4.3&&ie.iOS<4.33||!ie.iOS&&"fixed"===k)&&(C.left-=D.scrollLeft(),C.top-=D.scrollTop()),(!o||o&&o.adjustable!==M)&&(C.left+=p.x===B?w:p.x===F?w/2:0,C.top+=p.y===z?_:p.y===F?_/2:0)}return C.left+=v.x+(f.x===B?-y:f.x===F?-y/2:0),C.top+=v.y+(f.y===z?-x:f.y===F?-x/2:0),W.viewport?(s=C.adjusted=W.viewport(this,C,d,w,_,y,x),a&&s.left&&(C.left+=a.left),a&&s.top&&(C.top+=a.top),s.my&&(this.position.my=s.my)):C.adjusted={left:0,top:0},c.posClass!==(l=this._createPosClass(this.position.my))&&(c.posClass=l,u.removeClass(c.posClass).addClass(l)),this._trigger("move",[C,m.elem||m],n)?(delete C.adjusted,r===M||!S||isNaN(C.left)||isNaN(C.top)||"mouse"===h||!i.isFunction(d.effect)?u.css(C):i.isFunction(d.effect)&&(d.effect.call(u,this,i.extend({},C)),u.queue(function(e){i(this).css({opacity:"",height:""}),ie.ie&&this.style.removeAttribute("filter"),e()})),this.positioning=M,this):this},S.reposition.offset=function(e,n,r){function o(e,t){n.left+=t*e.scrollLeft(),n.top+=t*e.scrollTop()}if(!r[0])return n;var a,s,l,c,u=i(e[0].ownerDocument),d=!!ie.ie&&"CSS1Compat"!==t.compatMode,h=r[0];do"static"!==(s=i.css(h,"position"))&&("fixed"===s?(l=h.getBoundingClientRect(),o(u,-1)):(l=i(h).position(),l.left+=parseFloat(i.css(h,"borderLeftWidth"))||0,l.top+=parseFloat(i.css(h,"borderTopWidth"))||0),n.left-=l.left+(parseFloat(i.css(h,"marginLeft"))||0),n.top-=l.top+(parseFloat(i.css(h,"marginTop"))||0),a||"hidden"===(c=i.css(h,"overflow"))||"visible"===c||(a=i(h)));while(h=h.offsetParent);return a&&(a[0]!==u[0]||d)&&o(a,1),n};var ae=(T=S.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,F).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!t;var n=e.charAt(0);this.precedance="t"===n||"b"===n?R:N}).prototype;ae.invert=function(e,t){this[e]=this[e]===j?B:this[e]===B?j:t||this[e]},ae.string=function(e){var t=this.x,n=this.y,i=t!==n?"center"===t||"center"!==n&&(this.precedance===R||this.forceY)?[n,t]:[t,n]:[t];return e!==!1?i.join(" "):i},ae.abbrev=function(){var e=this.string(!1);return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")},ae.clone=function(){return new T(this.string(),this.forceY)},S.toggle=function(e,n){var r=this.cache,o=this.options,a=this.tooltip;if(n){if(/over|enter/.test(n.type)&&r.event&&/out|leave/.test(r.event.type)&&o.show.target.add(n.target).length===o.show.target.length&&a.has(n.relatedTarget).length)return this;r.event=i.event.fix(n)}if(this.waiting&&!e&&(this.hiddenDuringWait=E),!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var s,l,c,u=e?"show":"hide",d=this.options[u],h=this.options.position,f=this.options.content,p=this.tooltip.css("width"),m=this.tooltip.is(":visible"),g=e||1===d.target.length,v=!n||d.target.length<2||r.target[0]===n.target;return(typeof e).search("boolean|number")&&(e=!m),s=!a.is(":animated")&&m===e&&v,l=s?P:!!this._trigger(u,[90]),this.destroyed?this:(l!==M&&e&&this.focus(n),!l||s?this:(i.attr(a[0],"aria-hidden",!e),e?(this.mouse&&(r.origin=i.event.fix(this.mouse)),i.isFunction(f.text)&&this._updateContent(f.text,M),i.isFunction(f.title)&&this._updateTitle(f.title,M),!A&&"mouse"===h.target&&h.adjust.mouse&&(i(t).bind("mousemove."+V,this._storeMouse),A=E),p||a.css("width",a.outerWidth(M)),this.reposition(n,arguments[2]),p||a.css("width",""),d.solo&&("string"==typeof d.solo?i(d.solo):i(X,d.solo)).not(a).not(d.target).qtip("hide",new i.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete r.origin,A&&!i(X+'[tracking="true"]:visible',d.solo).not(a).length&&(i(t).unbind("mousemove."+V),A=M),this.blur(n)),c=i.proxy(function(){e?(ie.ie&&a[0].style.removeAttribute("filter"),a.css("overflow",""),"string"==typeof d.autofocus&&i(this.options.show.autofocus,a).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):a.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(e?"visible":"hidden")},this),d.effect===M||g===M?(a[u](),c()):i.isFunction(d.effect)?(a.stop(1,1),d.effect.call(a,this),a.queue("fx",function(e){c(),e()})):a.fadeTo(90,e?1:0,c),e&&d.target.trigger("qtip-"+this.id+"-inactive"),this))},S.show=function(e){return this.toggle(E,e)},S.hide=function(e){return this.toggle(M,e)},S.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=i(X),n=this.tooltip,r=parseInt(n[0].style.zIndex,10),o=C.zindex+t.length;return n.hasClass(Q)||this._trigger("focus",[o],e)&&(r!==o&&(t.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),t.filter("."+Q).qtip("blur",e)),n.addClass(Q)[0].style.zIndex=o),this},S.blur=function(e){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(Q),this._trigger("blur",[this.tooltip.css("zIndex")],e),this)},S.disable=function(e){return this.destroyed?this:("toggle"===e?e=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof e&&(e=E),this.rendered&&this.tooltip.toggleClass(ee,e).attr("aria-disabled",e),this.disabled=!!e,this)},S.enable=function(){return this.disable(M)},S._createButton=function(){var e=this,t=this.elements,n=t.tooltip,r=this.options.content.button,o="string"==typeof r,a=o?r:"Close tooltip";t.button&&t.button.remove(),r.jquery?t.button=r:t.button=i("<a />",{"class":"qtip-close "+(this.options.style.widget?"":V+"-icon"),title:a,"aria-label":a}).prepend(i("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),t.button.appendTo(t.titlebar||n).attr("role","button").click(function(t){return n.hasClass(ee)||e.hide(t),M})},S._updateButton=function(e){if(!this.rendered)return M;var t=this.elements.button;e?this._createButton():t.remove()},S._setWidget=function(){var e=this.options.style.widget,t=this.elements,n=t.tooltip,i=n.hasClass(ee);n.removeClass(ee),ee=e?"ui-state-disabled":"qtip-disabled",n.toggleClass(ee,i),n.toggleClass("ui-helper-reset "+u(),e).toggleClass(K,this.options.style.def&&!e),t.content&&t.content.toggleClass(u("content"),e),t.titlebar&&t.titlebar.toggleClass(u("header"),e),t.button&&t.button.toggleClass(V+"-icon",!e)},S._storeMouse=function(e){return(this.mouse=i.event.fix(e)).type="mousemove",this},S._bind=function(e,t,n,r,o){if(e&&n&&t.length){var a="."+this._id+(r?"-"+r:"");return i(e).bind((t.split?t:t.join(a+" "))+a,i.proxy(n,o||this)),this}},S._unbind=function(e,t){return e&&i(e).unbind("."+this._id+(t?"-"+t:"")),this},S._trigger=function(e,t,n){var r=new i.Event("tooltip"+e);return r.originalEvent=n&&i.extend({},n)||this.cache.event||P,this.triggering=e,this.tooltip.trigger(r,[this].concat(t||[])),this.triggering=M,!r.isDefaultPrevented()},S._bindEvents=function(e,t,n,r,o,a){var s=n.filter(r).add(r.filter(n)),l=[];s.length&&(i.each(t,function(t,n){var r=i.inArray(n,e);r>-1&&l.push(e.splice(r,1)[0])}),l.length&&(this._bind(s,l,function(e){var t=this.rendered?this.tooltip[0].offsetWidth>0:!1;(t?a:o).call(this,e)}),n=n.not(s),r=r.not(s))),this._bind(n,e,o),this._bind(r,t,a)},S._assignInitialEvents=function(e){function t(e){return this.disabled||this.destroyed?M:(this.cache.event=e&&i.event.fix(e),this.cache.target=e&&i(e.target),clearTimeout(this.timers.show),void(this.timers.show=d.call(this,function(){this.render("object"==typeof e||n.show.ready)},n.prerender?0:n.show.delay)))}var n=this.options,r=n.show.target,o=n.hide.target,a=n.show.event?i.trim(""+n.show.event).split(" "):[],s=n.hide.event?i.trim(""+n.hide.event).split(" "):[];this._bind(this.elements.target,["remove","removeqtip"],function(){this.destroy(!0)},"destroy"),/mouse(over|enter)/i.test(n.show.event)&&!/mouse(out|leave)/i.test(n.hide.event)&&s.push("mouseleave"),this._bind(r,"mousemove",function(e){this._storeMouse(e),this.cache.onTarget=E}),this._bindEvents(a,s,r,o,t,function(){return this.timers?void clearTimeout(this.timers.show):M}),(n.show.ready||n.prerender)&&t.call(this,e)},S._assignEvents=function(){var n=this,r=this.options,o=r.position,a=this.tooltip,s=r.show.target,l=r.hide.target,c=o.container,u=o.viewport,d=i(t),g=i(e),v=r.show.event?i.trim(""+r.show.event).split(" "):[],b=r.hide.event?i.trim(""+r.hide.event).split(" "):[];i.each(r.events,function(e,t){n._bind(a,"toggle"===e?["tooltipshow","tooltiphide"]:["tooltip"+e],t,null,a)}),/mouse(out|leave)/i.test(r.hide.event)&&"window"===r.hide.leave&&this._bind(d,["mouseout","blur"],function(e){/select|option/.test(e.target.nodeName)||e.relatedTarget||this.hide(e)}),r.hide.fixed?l=l.add(a.addClass(Z)):/mouse(over|enter)/i.test(r.show.event)&&this._bind(l,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+r.hide.event).indexOf("unfocus")>-1&&this._bind(c.closest("html"),["mousedown","touchstart"],function(e){var t=i(e.target),n=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,r=t.parents(X).filter(this.tooltip[0]).length>0;t[0]===this.target[0]||t[0]===this.tooltip[0]||r||this.target.has(t[0]).length||!n||this.hide(e)}),"number"==typeof r.hide.inactive&&(this._bind(s,"qtip-"+this.id+"-inactive",p,"inactive"),this._bind(l.add(a),C.inactiveEvents,p)),this._bindEvents(v,b,s,l,h,f),this._bind(s.add(a),"mousemove",function(e){if("number"==typeof r.hide.distance){var t=this.cache.origin||{},n=this.options.hide.distance,i=Math.abs;(i(e.pageX-t.pageX)>=n||i(e.pageY-t.pageY)>=n)&&this.hide(e)}this._storeMouse(e)}),"mouse"===o.target&&o.adjust.mouse&&(r.hide.event&&this._bind(s,["mouseenter","mouseleave"],function(e){return this.cache?void(this.cache.onTarget="mouseenter"===e.type):M}),this._bind(d,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})),(o.adjust.resize||u.length)&&this._bind(i.event.special.resize?u:g,"resize",m),o.adjust.scroll&&this._bind(g.add(o.container),"scroll",m)},S._unassignEvents=function(){var n=this.options,r=n.show.target,o=n.hide.target,a=i.grep([this.elements.target[0],this.rendered&&this.tooltip[0],n.position.container[0],n.position.viewport[0],n.position.container.closest("html")[0],e,t],function(e){return"object"==typeof e});r&&r.toArray&&(a=a.concat(r.toArray())),o&&o.toArray&&(a=a.concat(o.toArray())),this._unbind(a)._unbind(a,"destroy")._unbind(a,"inactive")},i(function(){g(X,["mouseenter","mouseleave"],function(e){var t="mouseenter"===e.type,n=i(e.currentTarget),r=i(e.relatedTarget||e.target),o=this.options;t?(this.focus(e),n.hasClass(Z)&&!n.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===o.position.target&&o.position.adjust.mouse&&o.hide.event&&o.show.target&&!r.closest(o.show.target[0]).length&&this.hide(e),n.toggleClass(J,t)}),g("["+Y+"]",G,p)}),C=i.fn.qtip=function(e,t,r){var o=(""+e).toLowerCase(),a=P,l=i.makeArray(arguments).slice(1),c=l[l.length-1],u=this[0]?i.data(this[0],V):P;return!arguments.length&&u||"api"===o?u:"string"==typeof e?(this.each(function(){var e=i.data(this,V);if(!e)return E;if(c&&c.timeStamp&&(e.cache.event=c),!t||"option"!==o&&"options"!==o)e[o]&&e[o].apply(e,l);else{if(r===n&&!i.isPlainObject(t))return a=e.get(t),M;e.set(t,r)}}),a!==P?a:this):"object"!=typeof e&&arguments.length?void 0:(u=s(i.extend(E,{},e)),this.each(function(e){var t,n;return n=i.isArray(u.id)?u.id[e]:u.id,n=!n||n===M||n.length<1||C.api[n]?C.nextid++:n,t=v(i(this),n,u),t===M?E:(C.api[n]=t,i.each(W,function(){"initialize"===this.initialize&&this(t)}),void t._assignInitialEvents(c))}))},i.qtip=r,C.api={},i.each({attr:function(e,t){if(this.length){var n=this[0],r="title",o=i.data(n,"qtip");if(e===r&&o&&o.options&&"object"==typeof o&&"object"==typeof o.options&&o.options.suppress)return arguments.length<2?i.attr(n,ne):(o&&o.options.content.attr===r&&o.cache.attr&&o.set("content.text",t),this.attr(ne,t))}return i.fn["attr"+te].apply(this,arguments)},clone:function(e){var t=i.fn["clone"+te].apply(this,arguments);return e||t.filter("["+ne+"]").attr("title",function(){return i.attr(this,ne)}).removeAttr(ne),t}},function(e,t){if(!t||i.fn[e+te])return E;var n=i.fn[e+te]=i.fn[e];i.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}}),i.ui||(i["cleanData"+te]=i.cleanData,i.cleanData=function(e){for(var t,n=0;(t=i(e[n])).length;n++)if(t.attr(U))try{t.triggerHandler("removeqtip")}catch(r){}i["cleanData"+te].apply(this,arguments)}),C.version="3.0.3",C.nextid=0,C.inactiveEvents=G,C.zindex=15e3,C.defaults={prerender:M,id:M,overwrite:E,suppress:E,content:{text:E,attr:"title",title:M,button:M},position:{my:"top left",at:"bottom right",target:M,container:M,viewport:M,adjust:{x:0,y:0,mouse:E,scroll:E,resize:E,method:"flipinvert flipinvert"},effect:function(e,t){i(this).animate(t,{duration:200,queue:M})}},show:{target:M,event:"mouseenter",effect:E,delay:90,solo:M,ready:M,autofocus:M},hide:{target:M,event:"mouseleave",effect:E,delay:0,fixed:M,inactive:M,leave:"window",distance:M},style:{classes:"",widget:M,width:M,height:M,def:E},events:{render:P,move:P,show:P,hide:P,toggle:P,visible:P,hidden:P,focus:P,blur:P}};var se,le,ce,ue,de,he="margin",fe="border",pe="color",me="background-color",ge="transparent",ve=" !important",be=!!t.createElement("canvas").getContext,ye=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,xe={},we=["Webkit","O","Moz","ms"];be?(ue=e.devicePixelRatio||1,de=function(){var e=t.createElement("canvas").getContext("2d");return e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1}(),ce=ue/de):le=function(e,t,n){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'},i.extend(w.prototype,{init:function(e){var t,n;n=this.element=e.elements.tip=i("<div />",{"class":V+"-tip"}).prependTo(e.tooltip),be?(t=i("<canvas />").appendTo(this.element)[0].getContext("2d"),t.lineJoin="miter",t.miterLimit=1e5,t.save()):(t=le("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(t+t),e._bind(i("*",n).add(n),["click","mousedown"],function(e){e.stopPropagation()},this._ns)),e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===L||e.y===F&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(E))},_parseCorner:function(e){var t=this.qtip.options.position.my;return e===M||t===M?e=M:e===E?e=new T(t.string()):e.string||(e=new T(e),e.fixed=E),e},_parseWidth:function(e,t,n){var i=this.qtip.elements,r=fe+b(t)+"Width";return(n?x(n,r):x(i.content,r)||x(this._useTitle(e)&&i.titlebar||i.content,r)||x(i.tooltip,r))||0},_parseRadius:function(e){var t=this.qtip.elements,n=fe+b(e.y)+b(e.x)+"Radius";return ie.ie<9?0:x(this._useTitle(e)&&t.titlebar||t.content,n)||x(t.tooltip,n)||0},_invalidColour:function(e,t,n){var i=e.css(t);return!i||n&&i===e.css(n)||ye.test(i)?M:i},_parseColours:function(e){var t=this.qtip.elements,n=this.element.css("cssText",""),r=fe+b(e[e.precedance])+b(pe),o=this._useTitle(e)&&t.titlebar||t.content,a=this._invalidColour,s=[];return s[0]=a(n,me)||a(o,me)||a(t.content,me)||a(t.tooltip,me)||n.css(me),s[1]=a(n,r,pe)||a(o,r,pe)||a(t.content,r,pe)||a(t.tooltip,r,pe)||t.tooltip.css(r),i("*",n).add(n).css("cssText",me+":"+ge+ve+";"+fe+":0"+ve+";"),s},_calculateSize:function(e){var t,n,i,r=e.precedance===R,o=this.options.width,a=this.options.height,s="c"===e.abbrev(),l=(r?o:a)*(s?.5:1),c=Math.pow,u=Math.round,d=Math.sqrt(c(l,2)+c(a,2)),h=[this.border/l*d,this.border/a*d];return h[2]=Math.sqrt(c(h[0],2)-c(this.border,2)),h[3]=Math.sqrt(c(h[1],2)-c(this.border,2)),t=d+h[2]+h[3]+(s?0:h[0]),n=t/d,i=[u(n*o),u(n*a)],r?i:i.reverse()},_calculateTip:function(e,t,n){n=n||1,t=t||this.size;var i=t[0]*n,r=t[1]*n,o=Math.ceil(i/2),a=Math.ceil(r/2),s={br:[0,0,i,r,i,0],bl:[0,0,i,0,0,r],tr:[0,r,i,0,i,r],tl:[0,0,0,r,i,r],tc:[0,r,o,0,i,r],bc:[0,0,i,0,o,r],rc:[0,0,i,a,0,r],lc:[i,0,i,r,0,a]};return s.lt=s.br,s.rt=s.bl,s.lb=s.tr,s.rb=s.tl,s[e.abbrev()]},
_drawCoords:function(e,t){e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(t[2],t[3]),e.lineTo(t[4],t[5]),e.closePath()},create:function(){var e=this.corner=(be||ie.ie)&&this._parseCorner(this.options.corner);return this.enabled=!!this.corner&&"c"!==this.corner.abbrev(),this.enabled&&(this.qtip.cache.corner=e.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(t,n){if(!this.enabled)return this;var r,o,a,s,l,c,u,d,h=this.qtip.elements,f=this.element,p=f.children(),m=this.options,g=this.size,v=m.mimic,b=Math.round;t||(t=this.qtip.cache.corner||this.corner),v===M?v=t:(v=new T(v),v.precedance=t.precedance,"inherit"===v.x?v.x=t.x:"inherit"===v.y?v.y=t.y:v.x===v.y&&(v[t.precedance]=t[t.precedance])),o=v.precedance,t.precedance===N?this._swapDimensions():this._resetDimensions(),r=this.color=this._parseColours(t),r[1]!==ge?(d=this.border=this._parseWidth(t,t[t.precedance]),m.border&&1>d&&!ye.test(r[1])&&(r[0]=r[1]),this.border=d=m.border!==E?m.border:d):this.border=d=0,u=this.size=this._calculateSize(t),f.css({width:u[0],height:u[1],lineHeight:u[1]+"px"}),c=t.precedance===R?[b(v.x===j?d:v.x===B?u[0]-g[0]-d:(u[0]-g[0])/2),b(v.y===L?u[1]-g[1]:0)]:[b(v.x===j?u[0]-g[0]:0),b(v.y===L?d:v.y===z?u[1]-g[1]-d:(u[1]-g[1])/2)],be?(a=p[0].getContext("2d"),a.restore(),a.save(),a.clearRect(0,0,6e3,6e3),s=this._calculateTip(v,g,ce),l=this._calculateTip(v,this.size,ce),p.attr(I,u[0]*ce).attr(O,u[1]*ce),p.css(I,u[0]).css(O,u[1]),this._drawCoords(a,l),a.fillStyle=r[1],a.fill(),a.translate(c[0]*ce,c[1]*ce),this._drawCoords(a,s),a.fillStyle=r[0],a.fill()):(s=this._calculateTip(v),s="m"+s[0]+","+s[1]+" l"+s[2]+","+s[3]+" "+s[4]+","+s[5]+" xe",c[2]=d&&/^(r|b)/i.test(t.string())?8===ie.ie?2:1:0,p.css({coordsize:u[0]+d+" "+u[1]+d,antialias:""+(v.string().indexOf(F)>-1),left:c[0]-c[2]*Number(o===N),top:c[1]-c[2]*Number(o===R),width:u[0]+d,height:u[1]+d}).each(function(e){var t=i(this);t[t.prop?"prop":"attr"]({coordsize:u[0]+d+" "+u[1]+d,path:s,fillcolor:r[0],filled:!!e,stroked:!e}).toggle(!(!d&&!e)),!e&&t.html(le("stroke",'weight="'+2*d+'px" color="'+r[1]+'" miterlimit="1000" joinstyle="miter"'))})),e.opera&&setTimeout(function(){h.tip.css({display:"inline-block",visibility:"visible"})},1),n!==M&&this.calculate(t,u)},calculate:function(e,t){if(!this.enabled)return M;var n,r,o=this,a=this.qtip.elements,s=this.element,l=this.options.offset,c={};return e=e||this.corner,n=e.precedance,t=t||this._calculateSize(e),r=[e.x,e.y],n===N&&r.reverse(),i.each(r,function(i,r){var s,u,d;r===F?(s=n===R?j:L,c[s]="50%",c[he+"-"+s]=-Math.round(t[n===R?0:1]/2)+l):(s=o._parseWidth(e,r,a.tooltip),u=o._parseWidth(e,r,a.content),d=o._parseRadius(e),c[r]=Math.max(-o.border,i?u:l+(d>s?d:-s)))}),c[e[n]]-=t[n===N?0:1],s.css({margin:"",top:"",bottom:"",left:"",right:""}).css(c),c},reposition:function(e,t,i){function r(e,t,n,i,r){e===q&&c.precedance===t&&u[i]&&c[n]!==F?c.precedance=c.precedance===N?R:N:e!==q&&u[i]&&(c[t]=c[t]===F?u[i]>0?i:r:c[t]===i?r:i)}function o(e,t,r){c[e]===F?m[he+"-"+t]=p[e]=a[he+"-"+t]-u[t]:(s=a[r]!==n?[u[t],-a[t]]:[-u[t],a[t]],(p[e]=Math.max(s[0],s[1]))>s[0]&&(i[t]-=u[t],p[t]=M),m[a[r]!==n?r:t]=p[e])}if(this.enabled){var a,s,l=t.cache,c=this.corner.clone(),u=i.adjusted,d=t.options.position.adjust.method.split(" "),h=d[0],f=d[1]||d[0],p={left:M,top:M,x:0,y:0},m={};this.corner.fixed!==E&&(r(h,N,R,j,B),r(f,R,N,L,z),c.string()===l.corner.string()&&l.cornerTop===u.top&&l.cornerLeft===u.left||this.update(c,M)),a=this.calculate(c),a.right!==n&&(a.left=-a.right),a.bottom!==n&&(a.top=-a.bottom),a.user=this.offset,p.left=h===q&&!!u.left,p.left&&o(N,j,B),p.top=f===q&&!!u.top,p.top&&o(R,L,z),this.element.css(m).toggle(!(p.x&&p.y||c.x===F&&p.y||c.y===F&&p.x)),i.left-=a.left.charAt?a.user:h!==q||p.top||!p.left&&!p.top?a.left+this.border:0,i.top-=a.top.charAt?a.user:f!==q||p.left||!p.left&&!p.top?a.top+this.border:0,l.cornerLeft=u.left,l.cornerTop=u.top,l.corner=c.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),se=W.tip=function(e){return new w(e,e.options.style.tip)},se.initialize="render",se.sanitize=function(e){if(e.style&&"tip"in e.style){var t=e.style.tip;"object"!=typeof t&&(t=e.style.tip={corner:t}),/string|boolean/i.test(typeof t.corner)||(t.corner=E)}},D.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=[e.width,e.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},i.extend(E,C.defaults,{style:{tip:{corner:E,mimic:M,width:6,height:6,border:E,offset:0}}});var _e,ke,Ce="qtip-modal",Se="."+Ce;ke=function(){function e(e){if(i.expr[":"].focusable)return i.expr[":"].focusable;var t,n,r,o=!isNaN(i.attr(e,"tabindex")),a=e.nodeName&&e.nodeName.toLowerCase();return"area"===a?(t=e.parentNode,n=t.name,e.href&&n&&"map"===t.nodeName.toLowerCase()?(r=i("img[usemap=#"+n+"]")[0],!!r&&r.is(":visible")):!1):/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||o:o}function n(e){c.length<1&&e.length?e.not("body").blur():c.first().focus()}function r(e){if(s.is(":visible")){var t,r=i(e.target),a=o.tooltip,l=r.closest(X);t=l.length<1?M:parseInt(l[0].style.zIndex,10)>parseInt(a[0].style.zIndex,10),t||r.closest(X)[0]===a[0]||n(r)}}var o,a,s,l=this,c={};i.extend(l,{init:function(){return s=l.elem=i("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return M}}).hide(),i(t.body).bind("focusin"+Se,r),i(t).bind("keydown"+Se,function(e){o&&o.options.show.modal.escape&&27===e.keyCode&&o.hide(e)}),s.bind("click"+Se,function(e){o&&o.options.show.modal.blur&&o.hide(e)}),l},update:function(t){o=t,c=t.options.show.modal.stealfocus!==M?t.tooltip.find("*").filter(function(){return e(this)}):[]},toggle:function(e,r,c){var u=e.tooltip,d=e.options.show.modal,h=d.effect,f=r?"show":"hide",p=s.is(":visible"),m=i(Se).filter(":visible:not(:animated)").not(u);return l.update(e),r&&d.stealfocus!==M&&n(i(":focus")),s.toggleClass("blurs",d.blur),r&&s.appendTo(t.body),s.is(":animated")&&p===r&&a!==M||!r&&m.length?l:(s.stop(E,M),i.isFunction(h)?h.call(s,r):h===M?s[f]():s.fadeTo(parseInt(c,10)||90,r?1:0,function(){r||s.hide()}),r||s.queue(function(e){s.css({left:"",top:""}),i(Se).length||s.detach(),e()}),a=r,o.destroyed&&(o=P),l)}}),l.init()},ke=new ke,i.extend(_.prototype,{init:function(e){var t=e.tooltip;return this.options.on?(e.elements.overlay=ke.elem,t.addClass(Ce).css("z-index",C.modal_zindex+i(Se).length),e._bind(t,["tooltipshow","tooltiphide"],function(e,n,r){var o=e.originalEvent;if(e.target===t[0])if(o&&"tooltiphide"===e.type&&/mouse(leave|enter)/.test(o.type)&&i(o.relatedTarget).closest(ke.elem[0]).length)try{e.preventDefault()}catch(a){}else(!o||o&&"tooltipsolo"!==o.type)&&this.toggle(e,"tooltipshow"===e.type,r)},this._ns,this),e._bind(t,"tooltipfocus",function(e,n){if(!e.isDefaultPrevented()&&e.target===t[0]){var r=i(Se),o=C.modal_zindex+r.length,a=parseInt(t[0].style.zIndex,10);ke.elem[0].style.zIndex=o-1,r.each(function(){this.style.zIndex>a&&(this.style.zIndex-=1)}),r.filter("."+Q).qtip("blur",e.originalEvent),t.addClass(Q)[0].style.zIndex=o,ke.update(n);try{e.preventDefault()}catch(s){}}},this._ns,this),void e._bind(t,"tooltiphide",function(e){e.target===t[0]&&i(Se).filter(":visible").not(t).last().qtip("focus",e)},this._ns,this)):this},toggle:function(e,t,n){return e&&e.isDefaultPrevented()?this:void ke.toggle(this.qtip,!!t,n)},destroy:function(){this.qtip.tooltip.removeClass(Ce),this.qtip._unbind(this.qtip.tooltip,this._ns),ke.toggle(this.qtip,M),delete this.qtip.elements.overlay}}),_e=W.modal=function(e){return new _(e,e.options.show.modal)},_e.sanitize=function(e){e.show&&("object"!=typeof e.show.modal?e.show.modal={on:!!e.show.modal}:"undefined"==typeof e.show.modal.on&&(e.show.modal.on=E))},C.modal_zindex=C.zindex-200,_e.initialize="render",D.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},i.extend(E,C.defaults,{show:{modal:{on:M,effect:E,blur:E,stealfocus:E,escape:E}}}),W.viewport=function(n,i,r,o,a,s,l){function c(e,t,n,r,o,a,s,l,c){var u=i[o],b=x[e],y=w[e],_=n===q,k=b===o?c:b===a?-c:-c/2,C=y===o?l:y===a?-l:-l/2,S=g[o]+v[o]-(f?0:h[o]),T=S-u,D=u+c-(s===I?p:m)-S,A=k-(x.precedance===e||b===x[t]?C:0)-(y===F?l/2:0);return _?(A=(b===o?1:-1)*k,i[o]+=T>0?T:D>0?-D:0,i[o]=Math.max(-h[o]+v[o],u-A,Math.min(Math.max(-h[o]+v[o]+(s===I?p:m),u+A),i[o],"center"===b?u-k:1e9))):(r*=n===H?2:0,T>0&&(b!==o||D>0)?(i[o]-=A+r,d.invert(e,o)):D>0&&(b!==a||T>0)&&(i[o]-=(b===F?-A:A)+r,d.invert(e,a)),i[o]<g[o]&&-i[o]>D&&(i[o]=u,d=x.clone())),i[o]-u}var u,d,h,f,p,m,g,v,b=r.target,y=n.elements.tooltip,x=r.my,w=r.at,_=r.adjust,k=_.method.split(" "),C=k[0],S=k[1]||k[0],T=r.viewport,D=r.container,A={left:0,top:0};return T.jquery&&b[0]!==e&&b[0]!==t.body&&"none"!==_.method?(h=D.offset()||A,f="static"===D.css("position"),u="fixed"===y.css("position"),p=T[0]===e?T.width():T.outerWidth(M),m=T[0]===e?T.height():T.outerHeight(M),g={left:u?0:T.scrollLeft(),top:u?0:T.scrollTop()},v=T.offset()||A,"shift"===C&&"shift"===S||(d=x.clone()),A={left:"none"!==C?c(N,R,C,_.x,j,B,I,o,s):0,top:"none"!==S?c(R,N,S,_.y,L,z,O,a,l):0,my:d}):A},W.polys={polygon:function(e,t){var n,i,r,o={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:M},a=0,s=[],l=1,c=1,u=0,d=0;for(a=e.length;a--;)n=[parseInt(e[--a],10),parseInt(e[a+1],10)],n[0]>o.position.right&&(o.position.right=n[0]),n[0]<o.position.left&&(o.position.left=n[0]),n[1]>o.position.bottom&&(o.position.bottom=n[1]),n[1]<o.position.top&&(o.position.top=n[1]),s.push(n);if(i=o.width=Math.abs(o.position.right-o.position.left),r=o.height=Math.abs(o.position.bottom-o.position.top),"c"===t.abbrev())o.position={left:o.position.left+o.width/2,top:o.position.top+o.height/2};else{for(;i>0&&r>0&&l>0&&c>0;)for(i=Math.floor(i/2),r=Math.floor(r/2),t.x===j?l=i:t.x===B?l=o.width-i:l+=Math.floor(i/2),t.y===L?c=r:t.y===z?c=o.height-r:c+=Math.floor(r/2),a=s.length;a--&&!(s.length<2);)u=s[a][0]-o.position.left,d=s[a][1]-o.position.top,(t.x===j&&u>=l||t.x===B&&l>=u||t.x===F&&(l>u||u>o.width-l)||t.y===L&&d>=c||t.y===z&&c>=d||t.y===F&&(c>d||d>o.height-c))&&s.splice(a,1);o.position={left:s[0][0],top:s[0][1]}}return o},rect:function(e,t,n,i){return{width:Math.abs(n-e),height:Math.abs(i-t),position:{left:Math.min(e,n),top:Math.min(t,i)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,n,i,r){var o=W.polys._angles[r.abbrev()],a=0===o?0:n*Math.cos(o*Math.PI),s=i*Math.sin(o*Math.PI);return{width:2*n-Math.abs(a),height:2*i-Math.abs(s),position:{left:e+a,top:t+s},adjustable:M}},circle:function(e,t,n,i){return W.polys.ellipse(e,t,n,n,i)}},W.svg=function(e,n,r){for(var o,a,s,l,c,u,d,h,f,p=n[0],m=i(p.ownerSVGElement),g=p.ownerDocument,v=(parseInt(n.css("stroke-width"),10)||0)/2;!p.getBBox;)p=p.parentNode;if(!p.getBBox||!p.parentNode)return M;switch(p.nodeName){case"ellipse":case"circle":h=W.polys.ellipse(p.cx.baseVal.value,p.cy.baseVal.value,(p.rx||p.r).baseVal.value+v,(p.ry||p.r).baseVal.value+v,r);break;case"line":case"polygon":case"polyline":for(d=p.points||[{x:p.x1.baseVal.value,y:p.y1.baseVal.value},{x:p.x2.baseVal.value,y:p.y2.baseVal.value}],h=[],u=-1,l=d.numberOfItems||d.length;++u<l;)c=d.getItem?d.getItem(u):d[u],h.push.apply(h,[c.x,c.y]);h=W.polys.polygon(h,r);break;default:h=p.getBBox(),h={width:h.width,height:h.height,position:{left:h.x,top:h.y}}}return f=h.position,m=m[0],m.createSVGPoint&&(a=p.getScreenCTM(),d=m.createSVGPoint(),d.x=f.left,d.y=f.top,s=d.matrixTransform(a),f.left=s.x,f.top=s.y),g!==t&&"mouse"!==e.position.target&&(o=i((g.defaultView||g.parentWindow).frameElement).offset(),o&&(f.left+=o.left,f.top+=o.top)),g=i(g),f.left+=g.scrollLeft(),f.top+=g.scrollTop(),h},W.imagemap=function(e,t,n){t.jquery||(t=i(t));var r,o,a,s,l,c=(t.attr("shape")||"rect").toLowerCase().replace("poly","polygon"),u=i('img[usemap="#'+t.parent("map").attr("name")+'"]'),d=i.trim(t.attr("coords")),h=d.replace(/,$/,"").split(",");if(!u.length)return M;if("polygon"===c)s=W.polys.polygon(h,n);else{if(!W.polys[c])return M;for(a=-1,l=h.length,o=[];++a<l;)o.push(parseInt(h[a],10));s=W.polys[c].apply(this,o.concat(n))}return r=u.offset(),r.left+=Math.ceil((u.outerWidth(M)-u.width())/2),r.top+=Math.ceil((u.outerHeight(M)-u.height())/2),s.position.left+=r.left,s.position.top+=r.top,s};var Te,De='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';i.extend(k.prototype,{_scroll:function(){var t=this.qtip.elements.overlay;t&&(t[0].style.top=i(e).scrollTop()+"px")},init:function(n){var r=n.tooltip;i("select, object").length<1&&(this.bgiframe=n.elements.bgiframe=i(De).appendTo(r),n._bind(r,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=i("<div/>",{id:V+"-rcontainer"}).appendTo(t.body),n.elements.overlay&&n.elements.overlay.addClass("qtipmodal-ie6fix")&&(n._bind(e,["scroll","resize"],this._scroll,this._ns,this),n._bind(r,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var e,t,n=this.qtip.tooltip,i={height:n.outerHeight(M),width:n.outerWidth(M)},r=this.qtip.plugins.tip,o=this.qtip.elements.tip;t=parseInt(n.css("borderLeftWidth"),10)||0,t={left:-t,top:-t},r&&o&&(e="x"===r.corner.precedance?[I,j]:[O,L],t[e[1]]-=o[e[0]]()),this.bgiframe.css(t).css(i)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var e,t,n,i,r=this.qtip.tooltip,o=this.qtip.options.style,a=this.qtip.options.position.container;return this.qtip.drawing=1,o.height&&r.css(O,o.height),o.width?r.css(I,o.width):(r.css(I,"").appendTo(this.redrawContainer),t=r.width(),1>t%2&&(t+=1),n=r.css("maxWidth")||"",i=r.css("minWidth")||"",e=(n+i).indexOf("%")>-1?a.width()/100:0,n=(n.indexOf("%")>-1?e:1*parseInt(n,10))||t,i=(i.indexOf("%")>-1?e:1*parseInt(i,10))||0,t=n+i?Math.min(Math.max(t,i),n):t,r.css(I,Math.round(t)).appendTo(a)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([e,this.qtip.tooltip],this._ns)}}),Te=W.ie6=function(e){return 6===ie.ie?new k(e):M},Te.initialize="render",D.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function t(){var t,n,i={height:c.innerHeight,width:c.innerWidth};return i.height||(t=l.compatMode,(t||!e.support.boxModel)&&(n="CSS1Compat"===t?u:l.body,i={height:n.clientHeight,width:n.clientWidth})),i}function n(){return{top:c.pageYOffset||u.scrollTop||l.body.scrollTop,left:c.pageXOffset||u.scrollLeft||l.body.scrollLeft}}function i(){if(s.length){var i=0,a=e.map(s,function(e){var t=e.data.selector,n=e.$element;return t?n.find(t):n});for(r=r||t(),o=o||n();i<s.length;i++)if(e.contains(u,a[i][0])){var l=e(a[i]),c={height:l[0].offsetHeight,width:l[0].offsetWidth},d=l.offset(),h=l.data("inview");if(!o||!r)return;d.top+c.height>o.top&&d.top<o.top+r.height&&d.left+c.width>o.left&&d.left<o.left+r.width?h||l.data("inview",!0).trigger("inview",[!0]):h&&l.data("inview",!1).trigger("inview",[!1])}}}var r,o,a,s=[],l=document,c=window,u=l.documentElement;e.event.special.inview={add:function(t){s.push({data:t,$element:e(this),element:this}),!a&&s.length&&(a=setInterval(i,250))},remove:function(e){for(var t=0;t<s.length;t++){var n=s[t];if(n.element===this&&n.data.guid===e.guid){s.splice(t,1);break}}s.length||(clearInterval(a),a=null)}},e(c).on("scroll resize scrollstop",function(){r=o=null}),!u.addEventListener&&u.attachEvent&&u.attachEvent("onfocusin",function(){o=null})}),!function(e){e.idleTimer=function(t,n){var i;"object"==typeof t?(i=t,t=null):"number"==typeof t&&(i={timeout:t},t=null),n=n||document,i=e.extend({idle:!1,timeout:3e4,events:"mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove"},i);var r=e(n),o=r.data("idleTimerObj")||{},a=function(t){var i=e.data(n,"idleTimerObj")||{};i.idle=!i.idle,i.olddate=+new Date;var r=e.Event((i.idle?"idle":"active")+".idleTimer");e(n).trigger(r,[n,e.extend({},i),t])},s=function(t){var i=e.data(n,"idleTimerObj")||{};if(("storage"!==t.type||t.originalEvent.key===i.timerSyncId)&&null==i.remaining){if("mousemove"===t.type){if(t.pageX===i.pageX&&t.pageY===i.pageY)return;if("undefined"==typeof t.pageX&&"undefined"==typeof t.pageY)return;var r=+new Date-i.olddate;if(200>r)return}clearTimeout(i.tId),i.idle&&a(t),i.lastActive=+new Date,i.pageX=t.pageX,i.pageY=t.pageY,"storage"!==t.type&&i.timerSyncId&&"undefined"!=typeof localStorage&&localStorage.setItem(i.timerSyncId,i.lastActive),i.tId=setTimeout(a,i.timeout)}},l=function(){var t=e.data(n,"idleTimerObj")||{};t.idle=t.idleBackup,t.olddate=+new Date,t.lastActive=t.olddate,t.remaining=null,clearTimeout(t.tId),t.idle||(t.tId=setTimeout(a,t.timeout))},c=function(){var t=e.data(n,"idleTimerObj")||{};null==t.remaining&&(t.remaining=t.timeout-(+new Date-t.olddate),clearTimeout(t.tId))},u=function(){var t=e.data(n,"idleTimerObj")||{};null!=t.remaining&&(t.idle||(t.tId=setTimeout(a,t.remaining)),t.remaining=null)},d=function(){var t=e.data(n,"idleTimerObj")||{};clearTimeout(t.tId),r.removeData("idleTimerObj"),r.off("._idleTimer")},h=function(){var t=e.data(n,"idleTimerObj")||{};if(t.idle)return 0;if(null!=t.remaining)return t.remaining;var i=t.timeout-(+new Date-t.lastActive);return 0>i&&(i=0),i};if(null===t&&"undefined"!=typeof o.idle)return l(),r;if(null===t);else{if(null!==t&&"undefined"==typeof o.idle)return!1;if("destroy"===t)return d(),r;if("pause"===t)return c(),r;if("resume"===t)return u(),r;if("reset"===t)return l(),r;if("getRemainingTime"===t)return h();if("getElapsedTime"===t)return+new Date-o.olddate;if("getLastActiveTime"===t)return o.lastActive;if("isIdle"===t)return o.idle}return r.on(e.trim((i.events+" ").split(" ").join("._idleTimer ")),function(e){s(e)}),i.timerSyncId&&e(window).bind("storage",s),o=e.extend({},{olddate:+new Date,lastActive:+new Date,idle:i.idle,idleBackup:i.idle,timeout:i.timeout,remaining:null,timerSyncId:i.timerSyncId,tId:null,pageX:null,pageY:null}),o.idle||(o.tId=setTimeout(a,o.timeout)),e.data(n,"idleTimerObj",o),r},e.fn.idleTimer=function(t){return this[0]?e.idleTimer(t,this[0]):this}}(jQuery),function(e){"use strict";e.fn.extend({customSelect:function(t){if("undefined"==typeof document.body.style.maxHeight)return this;var n={customClass:"customSelect",mapClass:!0,mapStyle:!0},t=e.extend(n,t),i=t.customClass,r=function(t,n){var i=t.find(":selected"),r=n.children(":first"),a=i.html()||"&nbsp;";r.html(a),i.attr("disabled")?n.addClass(o("DisabledOption")):n.removeClass(o("DisabledOption")),setTimeout(function(){n.removeClass(o("Open")),e(document).off("mouseup.customSelect")},60)},o=function(e){return i+e};return this.each(function(){var n=e(this),a=e("<span />").addClass(o("Inner")),s=e("<span />");n.after(s.append(a)),s.addClass(i),t.mapClass&&s.addClass(n.attr("class")),t.mapStyle&&s.attr("style",n.attr("style")),n.addClass("hasCustomSelect").on("render.customSelect",function(){r(n,s),n.css("width","");var e=parseInt(n.outerWidth(),10)-(parseInt(s.outerWidth(),10)-parseInt(s.width(),10));s.css({display:"inline-block"});var t=s.outerHeight();n.attr("disabled")?s.addClass(o("Disabled")):s.removeClass(o("Disabled")),a.css({width:e,display:"inline-block"}),n.css({"-webkit-appearance":"menulist-button",width:s.outerWidth(),position:"absolute",opacity:0,height:t,fontSize:s.css("font-size")})}).on("change.customSelect",function(){s.addClass(o("Changed")),r(n,s)}).on("keyup.customSelect",function(e){s.hasClass(o("Open"))?(13==e.which||27==e.which)&&r(n,s):(n.trigger("blur.customSelect"),n.trigger("focus.customSelect"))}).on("mousedown.customSelect",function(){s.removeClass(o("Changed"))}).on("mouseup.customSelect",function(t){s.hasClass(o("Open"))||(e("."+o("Open")).not(s).length>0&&"undefined"!=typeof InstallTrigger?n.trigger("focus.customSelect"):(s.addClass(o("Open")),t.stopPropagation(),e(document).one("mouseup.customSelect",function(t){t.target!=n.get(0)&&e.inArray(t.target,n.find("*").get())<0?n.trigger("blur.customSelect"):r(n,s)})))}).on("focus.customSelect",function(){s.removeClass(o("Changed")).addClass(o("Focus"))}).on("blur.customSelect",function(){s.removeClass(o("Focus")+" "+o("Open"))}).on("mouseenter.customSelect",function(){s.addClass(o("Hover"))}).on("mouseleave.customSelect",function(){s.removeClass(o("Hover"))}).trigger("render.customSelect")})}})}(jQuery),!function(e){"use strict";var t=function(t,n){this.el=e(t),this.options=e.extend({},e.fn.typed.defaults,n),this.isInput=this.el.is("input"),this.attr=this.options.attr,this.showCursor=this.isInput?!1:this.options.showCursor,this.elContent=this.attr?this.el.attr(this.attr):this.el.text(),this.contentType=this.options.contentType,this.typeSpeed=this.options.typeSpeed,this.startDelay=this.options.startDelay,this.backSpeed=this.options.backSpeed,this.backDelay=this.options.backDelay,this.stringsElement=this.options.stringsElement,this.strings=this.options.strings,this.strPos=0,this.arrayPos=0,this.stopNum=0,this.loop=this.options.loop,this.loopCount=this.options.loopCount,this.curLoop=0,this.stop=!1,this.cursorChar=this.options.cursorChar,this.shuffle=this.options.shuffle,this.sequence=[],this.build()};t.prototype={constructor:t,init:function(){var e=this;e.timeout=setTimeout(function(){for(var t=0;t<e.strings.length;++t)e.sequence[t]=t;e.shuffle&&(e.sequence=e.shuffleArray(e.sequence)),e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos)},e.startDelay)},build:function(){var t=this;if(this.showCursor===!0&&(this.cursor=e('<span class="typed-cursor">'+this.cursorChar+"</span>"),this.el.after(this.cursor)),this.stringsElement){t.strings=[],this.stringsElement.hide();var n=this.stringsElement.find("p");e.each(n,function(n,i){t.strings.push(e(i).html())})}this.init()},typewrite:function(e,t){if(this.stop!==!0){var n=Math.round(70*Math.random())+this.typeSpeed,i=this;i.timeout=setTimeout(function(){var n=0,r=e.substr(t);if("^"===r.charAt(0)){var o=1;/^\^\d+/.test(r)&&(r=/\d+/.exec(r)[0],o+=r.length,n=parseInt(r)),e=e.substring(0,t)+e.substring(t+o)}if("html"===i.contentType){var a=e.substr(t).charAt(0);if("<"===a||"&"===a){var s="",l="";for(l="<"===a?">":";";e.substr(t).charAt(0)!==l;)s+=e.substr(t).charAt(0),t++;t++,s+=l}}i.timeout=setTimeout(function(){if(t===e.length){if(i.options.onStringTyped(i.arrayPos),i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,i.loop===!1||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(e,t)},i.backDelay)}else{0===t&&i.options.preStringTyped(i.arrayPos);var n=e.substr(0,t+1);i.attr?i.el.attr(i.attr,n):i.isInput?i.el.val(n):"html"===i.contentType?i.el.html(n):i.el.text(n),t++,i.typewrite(e,t)}},n)},n)}},backspace:function(e,t){if(this.stop!==!0){var n=Math.round(70*Math.random())+this.backSpeed,i=this;i.timeout=setTimeout(function(){if("html"===i.contentType&&">"===e.substr(t).charAt(0)){for(var n="";"<"!==e.substr(t).charAt(0);)n-=e.substr(t).charAt(0),t--;t--,n+="<"}var r=e.substr(0,t);i.attr?i.el.attr(i.attr,r):i.isInput?i.el.val(r):"html"===i.contentType?i.el.html(r):i.el.text(r),t>i.stopNum?(t--,i.backspace(e,t)):t<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],t))},n)}},shuffleArray:function(e){var t,n,i=e.length;if(i)for(;--i;)n=Math.floor(Math.random()*(i+1)),t=e[n],e[n]=e[i],e[i]=t;return e},reset:function(){var e=this;clearInterval(e.timeout);var t=this.el.attr("id");this.el.after('<span id="'+t+'"/>'),this.el.remove(),"undefined"!=typeof this.cursor&&this.cursor.remove(),e.options.resetCallback()}},e.fn.typed=function(n){return this.each(function(){var i=e(this),r=i.data("typed"),o="object"==typeof n&&n;r||i.data("typed",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function(e){"use strict";function t(t){return!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=u),void 0!==t.click&&void 0===t.tap&&(t.tap=t.click),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var i=e(this),r=i.data(A);r||(r=new n(this,t),i.data(A,r))})}function n(t,n){function i(t){if(!(ce()||e(t.target).closest(n.excludedElements,Ue).length>0)){var i=t.originalEvent?t.originalEvent:t;if(!i.pointerType||"mouse"!=i.pointerType||0!=n.fallbackToMouseEvents){var r,o=i.touches,a=o?o[0]:i;return Ye=w,o?$e=o.length:n.preventDefaultEvents!==!1&&t.preventDefault(),Oe=0,Le=null,je=null,We=null,ze=0,Be=0,Fe=0,He=1,qe=0,Ve=ge(),se(),de(0,a),!o||$e===n.fingers||n.fingers===y||W()?(Ge=Se(),2==$e&&(de(1,o[1]),Be=Fe=ye(Xe[0].start,Xe[1].start)),(n.swipeStatus||n.pinchStatus)&&(r=O(i,Ye))):r=!1,r===!1?(Ye=C,O(i,Ye),r):(n.hold&&(tt=setTimeout(e.proxy(function(){Ue.trigger("hold",[i.target]),n.hold&&(r=n.hold.call(Ue,i,i.target))},this),n.longTapThreshold)),ue(!0),null)}}}function E(e){var t=e.originalEvent?e.originalEvent:e;if(Ye!==k&&Ye!==C&&!le()){var i,r=t.touches,o=r?r[0]:t,a=he(o);if(Ze=Se(),r&&($e=r.length),n.hold&&clearTimeout(tt),Ye=_,2==$e&&(0==Be?(de(1,r[1]),Be=Fe=ye(Xe[0].start,Xe[1].start)):(he(r[1]),Fe=ye(Xe[0].end,Xe[1].end),We=we(Xe[0].end,Xe[1].end)),He=xe(Be,Fe),qe=Math.abs(Be-Fe)),$e===n.fingers||n.fingers===y||!r||W()){if(Le=Ce(a.start,a.end),je=Ce(a.last,a.end),H(e,je),Oe=_e(a.start,a.end),ze=be(),pe(Le,Oe),i=O(t,Ye),!n.triggerOnTouchEnd||n.triggerOnTouchLeave){var s=!0;if(n.triggerOnTouchLeave){var l=Te(this);s=De(a.end,l)}!n.triggerOnTouchEnd&&s?Ye=I(_):n.triggerOnTouchLeave&&!s&&(Ye=I(k)),Ye!=C&&Ye!=k||O(t,Ye)}}else Ye=C,O(t,Ye);i===!1&&(Ye=C,O(t,Ye))}}function M(e){var t=e.originalEvent?e.originalEvent:e,i=t.touches;if(i){if(i.length&&!le())return ae(t),!0;if(i.length&&le())return!0}return le()&&($e=Qe),Ze=Se(),ze=be(),z()||!j()?(Ye=C,O(t,Ye)):n.triggerOnTouchEnd||n.triggerOnTouchEnd===!1&&Ye===_?(n.preventDefaultEvents!==!1&&e.preventDefault(),Ye=k,O(t,Ye)):!n.triggerOnTouchEnd&&Z()?(Ye=k,L(t,Ye,p)):Ye===_&&(Ye=C,O(t,Ye)),ue(!1),null}function P(){$e=0,Ze=0,Ge=0,Be=0,Fe=0,He=1,se(),ue(!1)}function N(e){var t=e.originalEvent?e.originalEvent:e;n.triggerOnTouchLeave&&(Ye=I(k),O(t,Ye))}function R(){Ue.unbind(Me,i),Ue.unbind(Ie,P),Ue.unbind(Pe,E),Ue.unbind(Ne,M),Re&&Ue.unbind(Re,N),ue(!1)}function I(e){var t=e,i=F(),r=j(),o=z();return!i||o?t=C:!r||e!=_||n.triggerOnTouchEnd&&!n.triggerOnTouchLeave?!r&&e==k&&n.triggerOnTouchLeave&&(t=C):t=k,t}function O(e,t){var n,i=e.touches;return($()||Y())&&(n=L(e,t,h)),(V()||W())&&n!==!1&&(n=L(e,t,f)),re()&&n!==!1?n=L(e,t,m):oe()&&n!==!1?n=L(e,t,g):ie()&&n!==!1&&(n=L(e,t,p)),t===C&&P(e),t===k&&(i?i.length||P(e):P(e)),n}function L(t,i,u){var d;if(u==h){if(Ue.trigger("swipeStatus",[i,Le||null,Oe||0,ze||0,$e,Xe,je]),n.swipeStatus&&(d=n.swipeStatus.call(Ue,t,i,Le||null,Oe||0,ze||0,$e,Xe,je),d===!1))return!1;if(i==k&&U()){if(clearTimeout(et),clearTimeout(tt),Ue.trigger("swipe",[Le,Oe,ze,$e,Xe,je]),n.swipe&&(d=n.swipe.call(Ue,t,Le,Oe,ze,$e,Xe,je),d===!1))return!1;switch(Le){case r:Ue.trigger("swipeLeft",[Le,Oe,ze,$e,Xe,je]),n.swipeLeft&&(d=n.swipeLeft.call(Ue,t,Le,Oe,ze,$e,Xe,je));break;case o:Ue.trigger("swipeRight",[Le,Oe,ze,$e,Xe,je]),n.swipeRight&&(d=n.swipeRight.call(Ue,t,Le,Oe,ze,$e,Xe,je));break;case a:Ue.trigger("swipeUp",[Le,Oe,ze,$e,Xe,je]),n.swipeUp&&(d=n.swipeUp.call(Ue,t,Le,Oe,ze,$e,Xe,je));break;case s:Ue.trigger("swipeDown",[Le,Oe,ze,$e,Xe,je]),n.swipeDown&&(d=n.swipeDown.call(Ue,t,Le,Oe,ze,$e,Xe,je))}}}if(u==f){if(Ue.trigger("pinchStatus",[i,We||null,qe||0,ze||0,$e,He,Xe]),n.pinchStatus&&(d=n.pinchStatus.call(Ue,t,i,We||null,qe||0,ze||0,$e,He,Xe),d===!1))return!1;if(i==k&&q())switch(We){case l:Ue.trigger("pinchIn",[We||null,qe||0,ze||0,$e,He,Xe]),n.pinchIn&&(d=n.pinchIn.call(Ue,t,We||null,qe||0,ze||0,$e,He,Xe));break;case c:Ue.trigger("pinchOut",[We||null,qe||0,ze||0,$e,He,Xe]),n.pinchOut&&(d=n.pinchOut.call(Ue,t,We||null,qe||0,ze||0,$e,He,Xe))}}return u==p?i!==C&&i!==k||(clearTimeout(et),clearTimeout(tt),K()&&!ee()?(Je=Se(),et=setTimeout(e.proxy(function(){Je=null,Ue.trigger("tap",[t.target]),n.tap&&(d=n.tap.call(Ue,t,t.target))},this),n.doubleTapThreshold)):(Je=null,Ue.trigger("tap",[t.target]),n.tap&&(d=n.tap.call(Ue,t,t.target)))):u==m?i!==C&&i!==k||(clearTimeout(et),clearTimeout(tt),Je=null,Ue.trigger("doubletap",[t.target]),n.doubleTap&&(d=n.doubleTap.call(Ue,t,t.target))):u==g&&(i!==C&&i!==k||(clearTimeout(et),Je=null,Ue.trigger("longtap",[t.target]),n.longTap&&(d=n.longTap.call(Ue,t,t.target)))),d}function j(){var e=!0;return null!==n.threshold&&(e=Oe>=n.threshold),e}function z(){var e=!1;return null!==n.cancelThreshold&&null!==Le&&(e=me(Le)-Oe>=n.cancelThreshold),e}function B(){return null!==n.pinchThreshold?qe>=n.pinchThreshold:!0}function F(){var e;return e=n.maxTimeThreshold?!(ze>=n.maxTimeThreshold):!0}function H(e,t){if(n.preventDefaultEvents!==!1)if(n.allowPageScroll===u)e.preventDefault();else{var i=n.allowPageScroll===d;switch(t){case r:(n.swipeLeft&&i||!i&&n.allowPageScroll!=v)&&e.preventDefault();break;case o:(n.swipeRight&&i||!i&&n.allowPageScroll!=v)&&e.preventDefault();break;case a:(n.swipeUp&&i||!i&&n.allowPageScroll!=b)&&e.preventDefault();break;case s:(n.swipeDown&&i||!i&&n.allowPageScroll!=b)&&e.preventDefault();break;case u:}}}function q(){var e=X(),t=G(),n=B();return e&&t&&n}function W(){return!!(n.pinchStatus||n.pinchIn||n.pinchOut)}function V(){return!(!q()||!W())}function U(){var e=F(),t=j(),n=X(),i=G(),r=z(),o=!r&&i&&n&&t&&e;return o}function Y(){return!!(n.swipe||n.swipeStatus||n.swipeLeft||n.swipeRight||n.swipeUp||n.swipeDown)}function $(){return!(!U()||!Y())}function X(){return $e===n.fingers||n.fingers===y||!S}function G(){return 0!==Xe[0].end.x}function Z(){return!!n.tap}function K(){return!!n.doubleTap}function Q(){return!!n.longTap}function J(){if(null==Je)return!1;var e=Se();return K()&&e-Je<=n.doubleTapThreshold}function ee(){return J()}function te(){return(1===$e||!S)&&(isNaN(Oe)||Oe<n.threshold)}function ne(){return ze>n.longTapThreshold&&x>Oe}function ie(){return!(!te()||!Z())}function re(){return!(!J()||!K())}function oe(){return!(!ne()||!Q())}function ae(e){Ke=Se(),Qe=e.touches.length+1}function se(){Ke=0,Qe=0}function le(){var e=!1;if(Ke){var t=Se()-Ke;t<=n.fingerReleaseThreshold&&(e=!0)}return e}function ce(){return!(Ue.data(A+"_intouch")!==!0)}function ue(e){Ue&&(e===!0?(Ue.bind(Pe,E),Ue.bind(Ne,M),Re&&Ue.bind(Re,N)):(Ue.unbind(Pe,E,!1),Ue.unbind(Ne,M,!1),Re&&Ue.unbind(Re,N,!1)),Ue.data(A+"_intouch",e===!0))}function de(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,Xe[e]=n,n}function he(e){var t=void 0!==e.identifier?e.identifier:0,n=fe(t);return null===n&&(n=de(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n}function fe(e){return Xe[e]||null}function pe(e,t){e!=u&&(t=Math.max(t,me(e)),Ve[e].distance=t)}function me(e){return Ve[e]?Ve[e].distance:void 0}function ge(){var e={};return e[r]=ve(r),e[o]=ve(o),e[a]=ve(a),e[s]=ve(s),e}function ve(e){return{direction:e,distance:0}}function be(){return Ze-Ge;
}function ye(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function xe(e,t){var n=t/e*1;return n.toFixed(2)}function we(){return 1>He?c:l}function _e(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function ke(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),o=Math.round(180*r/Math.PI);return 0>o&&(o=360-Math.abs(o)),o}function Ce(e,t){if(Ae(e,t))return u;var n=ke(e,t);return 45>=n&&n>=0?r:360>=n&&n>=315?r:n>=135&&225>=n?o:n>45&&135>n?s:a}function Se(){var e=new Date;return e.getTime()}function Te(t){t=e(t);var n=t.offset(),i={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return i}function De(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}function Ae(e,t){return e.x==t.x&&e.y==t.y}var n=e.extend({},n),Ee=S||D||!n.fallbackToMouseEvents,Me=Ee?D?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Pe=Ee?D?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",Ne=Ee?D?T?"MSPointerUp":"pointerup":"touchend":"mouseup",Re=Ee?D?"mouseleave":null:"mouseleave",Ie=D?T?"MSPointerCancel":"pointercancel":"touchcancel",Oe=0,Le=null,je=null,ze=0,Be=0,Fe=0,He=1,qe=0,We=0,Ve=null,Ue=e(t),Ye="start",$e=0,Xe={},Ge=0,Ze=0,Ke=0,Qe=0,Je=0,et=null,tt=null;try{Ue.bind(Me,i),Ue.bind(Ie,P)}catch(nt){e.error("events not supported "+Me+","+Ie+" on jQuery.swipe")}this.enable=function(){return this.disable(),Ue.bind(Me,i),Ue.bind(Ie,P),Ue},this.disable=function(){return R(),Ue},this.destroy=function(){R(),Ue.data(A,null),Ue=null},this.option=function(t,i){if("object"==typeof t)n=e.extend(n,t);else if(void 0!==n[t]){if(void 0===i)return n[t];n[t]=i}else{if(!t)return n;e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null}}var i="1.6.18",r="left",o="right",a="up",s="down",l="in",c="out",u="none",d="auto",h="swipe",f="pinch",p="tap",m="doubletap",g="longtap",v="horizontal",b="vertical",y="all",x=10,w="start",_="move",k="end",C="cancel",S="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!S,D=(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!S,A="TouchSwipe",E={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};e.fn.swipe=function(n){var i=e(this),r=i.data(A);if(r&&"string"==typeof n){if(r[n])return r[n].apply(r,Array.prototype.slice.call(arguments,1));e.error("Method "+n+" does not exist on jQuery.swipe")}else if(r&&"object"==typeof n)r.option.apply(r,arguments);else if(!(r||"object"!=typeof n&&n))return t.apply(this,arguments);return i},e.fn.swipe.version=i,e.fn.swipe.defaults=E,e.fn.swipe.phases={PHASE_START:w,PHASE_MOVE:_,PHASE_END:k,PHASE_CANCEL:C},e.fn.swipe.directions={LEFT:r,RIGHT:o,UP:a,DOWN:s,IN:l,OUT:c},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:v,VERTICAL:b,AUTO:d},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:y}}),!function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){"use strict";e.dateRangePickerLanguages={"default":{selected:"Selected:",day:"Day",days:"Days",apply:"Close","week-1":"mo","week-2":"tu","week-3":"we","week-4":"th","week-5":"fr","week-6":"sa","week-7":"su","week-number":"W","month-name":["january","february","march","april","may","june","july","august","september","october","november","december"],shortcuts:"Shortcuts","custom-values":"Custom Values",past:"Past",following:"Following",previous:"Previous","prev-week":"Week","prev-month":"Month","prev-year":"Year",next:"Next","next-week":"Week","next-month":"Month","next-year":"Year","less-than":"Date range should not be more than %d days","more-than":"Date range should not be less than %d days","default-more":"Please select a date range longer than %d days","default-single":"Please select a date","default-less":"Please select a date range less than %d days","default-range":"Please select a date range between %d and %d days","default-default":"Please select a date range",time:"Time",hour:"Hour",minute:"Minute"},az:{selected:"Se\xe7ildi:",day:" g\xfcn",days:" g\xfcn",apply:"t\u0259tbiq","week-1":"1","week-2":"2","week-3":"3","week-4":"4","week-5":"5","week-6":"6","week-7":"7","month-name":["yanvar","fevral","mart","aprel","may","iyun","iyul","avqust","sentyabr","oktyabr","noyabr","dekabr"],shortcuts:"Q\u0131sayollar",past:"Ke\xe7mi\u015f",following:"N\xf6vb\u0259ti",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\xd6nc\u0259ki h\u0259ft\u0259","prev-month":"\xd6nc\u0259ki ay","prev-year":"\xd6nc\u0259ki il",next:"&nbsp;&nbsp;&nbsp;","next-week":"N\xf6vb\u0259ti h\u0259ft\u0259","next-month":"N\xf6vb\u0259ti ay","next-year":"N\xf6vb\u0259ti il","less-than":"Tarix aral\u0131\u011f\u0131 %d g\xfcnd\u0259n \xe7ox olmamal\u0131d\u0131r","more-than":"Tarix aral\u0131\u011f\u0131 %d g\xfcnd\u0259n az olmamal\u0131d\u0131r","default-more":"%d g\xfcnd\u0259n \xe7ox bir tarix se\xe7in","default-single":"Tarix se\xe7in","default-less":"%d g\xfcnd\u0259n az bir tarix se\xe7in","default-range":"%d v\u0259 %d g\xfcn aral\u0131\u011f\u0131nda tarixl\u0259r se\xe7in","default-default":"Tarix aral\u0131\u011f\u0131 se\xe7in"},cn:{selected:"\u5df2\u9009\u62e9:",day:"\u5929",days:"\u5929",apply:"\u786e\u5b9a","week-1":"\u4e00","week-2":"\u4e8c","week-3":"\u4e09","week-4":"\u56db","week-5":"\u4e94","week-6":"\u516d","week-7":"\u65e5","week-number":"\u5468","month-name":["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],shortcuts:"\u5feb\u6377\u9009\u62e9",past:"\u8fc7\u53bb",following:"\u5c06\u6765",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u4e0a\u5468","prev-month":"\u4e0a\u4e2a\u6708","prev-year":"\u53bb\u5e74",next:"&nbsp;&nbsp;&nbsp;","next-week":"\u4e0b\u5468","next-month":"\u4e0b\u4e2a\u6708","next-year":"\u660e\u5e74","less-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5927\u4e8e%d\u5929","more-than":"\u6240\u9009\u65e5\u671f\u8303\u56f4\u4e0d\u80fd\u5c0f\u4e8e%d\u5929","default-more":"\u8bf7\u9009\u62e9\u5927\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-less":"\u8bf7\u9009\u62e9\u5c0f\u4e8e%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-range":"\u8bf7\u9009\u62e9%d\u5929\u5230%d\u5929\u7684\u65e5\u671f\u8303\u56f4","default-single":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f","default-default":"\u8bf7\u9009\u62e9\u4e00\u4e2a\u65e5\u671f\u8303\u56f4",time:"\u65f6\u95f4",hour:"\u5c0f\u65f6",minute:"\u5206\u949f"},cz:{selected:"Vybr\xe1no:",day:"Den",days:"Dny",apply:"Zav\u0159\xedt","week-1":"po","week-2":"\xfat","week-3":"st","week-4":"\u010dt","week-5":"p\xe1","week-6":"so","week-7":"ne","month-name":["leden","\xfanor","b\u0159ezen","duben","kv\u011bten","\u010derven","\u010dervenec","srpen","z\xe1\u0159\xed","\u0159\xedjen","listopad","prosinec"],shortcuts:"Zkratky",past:"po",following:"n\xe1sleduj\xedc\xed",previous:"p\u0159edchoz\xed","prev-week":"t\xfdden","prev-month":"m\u011bs\xedc","prev-year":"rok",next:"dal\u0161\xed","next-week":"t\xfdden","next-month":"m\u011bs\xedc","next-year":"rok","less-than":"Rozsah data by nem\u011bl b\xfdt v\u011bt\u0161\xed ne\u017e %d dn\u016f","more-than":"Rozsah data by nem\u011bl b\xfdt men\u0161\xed ne\u017e %d dn\u016f","default-more":"Pros\xedm zvolte rozsah data v\u011bt\u0161\xed ne\u017e %d dn\u016f","default-single":"Pros\xedm zvolte datum","default-less":"Pros\xedm zvolte rozsah data men\u0161\xed ne\u017e %d dn\u016f","default-range":"Pros\xedm zvolte rozsah data mezi %d a %d dny","default-default":"Pros\xedm zvolte rozsah data"},de:{selected:"Auswahl:",day:"Tag",days:"Tage",apply:"Schlie\xdfen","week-1":"mo","week-2":"di","week-3":"mi","week-4":"do","week-5":"fr","week-6":"sa","week-7":"so","month-name":["januar","februar","m\xe4rz","april","mai","juni","juli","august","september","oktober","november","dezember"],shortcuts:"Schnellwahl",past:"Vorherige",following:"Folgende",previous:"Vorherige","prev-week":"Woche","prev-month":"Monat","prev-year":"Jahr",next:"N\xe4chste","next-week":"Woche","next-month":"Monat","next-year":"Jahr","less-than":"Datumsbereich darf nicht gr\xf6\xdfer sein als %d Tage","more-than":"Datumsbereich darf nicht kleiner sein als %d Tage","default-more":"Bitte mindestens %d Tage ausw\xe4hlen","default-single":"Bitte ein Datum ausw\xe4hlen","default-less":"Bitte weniger als %d Tage ausw\xe4hlen","default-range":"Bitte einen Datumsbereich zwischen %d und %d Tagen ausw\xe4hlen","default-default":"Bitte ein Start- und Enddatum ausw\xe4hlen",Time:"Zeit",hour:"Stunde",minute:"Minute"},es:{selected:"Seleccionado:",day:"D\xeda",days:"D\xedas",apply:"Cerrar","week-1":"lu","week-2":"ma","week-3":"mi","week-4":"ju","week-5":"vi","week-6":"sa","week-7":"do","month-name":["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortcuts:"Accesos directos",past:"Pasado",following:"Siguiente",previous:"Anterior","prev-week":"Semana","prev-month":"Mes","prev-year":"A\xf1o",next:"Siguiente","next-week":"Semana","next-month":"Mes","next-year":"A\xf1o","less-than":"El rango no deber\xeda ser mayor de %d d\xedas","more-than":"El rango no deber\xeda ser menor de %d d\xedas","default-more":"Por favor selecciona un rango mayor a %d d\xedas","default-single":"Por favor selecciona un d\xeda","default-less":"Por favor selecciona un rango menor a %d d\xedas","default-range":"Por favor selecciona un rango entre %d y %d d\xedas","default-default":"Por favor selecciona un rango de fechas."},fr:{selected:"S\xe9lection:",day:"Jour",days:"Jours",apply:"Fermer","week-1":"lu","week-2":"ma","week-3":"me","week-4":"je","week-5":"ve","week-6":"sa","week-7":"di","month-name":["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],shortcuts:"Raccourcis",past:"Pass\xe9",following:"Suivant",previous:"Pr\xe9c\xe9dent","prev-week":"Semaine","prev-month":"Mois","prev-year":"Ann\xe9e",next:"Suivant","next-week":"Semaine","next-month":"Mois","next-year":"Ann\xe9e","less-than":"L'intervalle ne doit pas \xeatre sup\xe9rieure \xe0 %d jours","more-than":"L'intervalle ne doit pas \xeatre inf\xe9rieure \xe0 %d jours","default-more":"Merci de choisir une intervalle sup\xe9rieure \xe0 %d jours","default-single":"Merci de choisir une date","default-less":"Merci de choisir une intervalle inf\xe9rieure %d jours","default-range":"Merci de choisir une intervalle comprise entre %d et %d jours","default-default":"Merci de choisir une date"},hu:{selected:"Kiv\xe1lasztva:",day:"Nap",days:"Nap",apply:"Ok","week-1":"h","week-2":"k","week-3":"sz","week-4":"cs","week-5":"p","week-6":"sz","week-7":"v","month-name":["janu\xe1r","febru\xe1r","m\xe1rcius","\xe1prilis","m\xe1jus","j\xfanius","j\xfalius","augusztus","szeptember","okt\xf3ber","november","december"],shortcuts:"Gyorsv\xe1laszt\xf3",past:"M\xfalt",following:"K\xf6vetkez\u0151",previous:"El\u0151z\u0151","prev-week":"H\xe9t","prev-month":"H\xf3nap","prev-year":"\xc9v",next:"K\xf6vetkez\u0151","next-week":"H\xe9t","next-month":"H\xf3nap","next-year":"\xc9v","less-than":"A kiv\xe1laszt\xe1s nem lehet t\xf6bb %d napn\xe1l","more-than":"A kiv\xe1laszt\xe1s nem lehet t\xf6bb %d napn\xe1l","default-more":"V\xe1lassz ki egy id\u0151szakot ami hosszabb mint %d nap","default-single":"V\xe1lassz egy napot","default-less":"V\xe1lassz ki egy id\u0151szakot ami r\xf6videbb mint %d nap","default-range":"V\xe1lassz ki egy %d - %d nap hossz\xfa id\u0151szakot","default-default":"V\xe1lassz ki egy id\u0151szakot"},it:{selected:"Selezionati:",day:"Giorno",days:"Giorni",apply:"Chiudi","week-1":"lu","week-2":"ma","week-3":"me","week-4":"gi","week-5":"ve","week-6":"sa","week-7":"do","month-name":["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],shortcuts:"Scorciatoie",past:"Scorso",following:"Successivo",previous:"Precedente","prev-week":"Settimana","prev-month":"Mese","prev-year":"Anno",next:"Prossimo","next-week":"Settimana","next-month":"Mese","next-year":"Anno","less-than":"L'intervallo non dev'essere maggiore di %d giorni","more-than":"L'intervallo non dev'essere minore di %d giorni","default-more":"Seleziona un intervallo maggiore di %d giorni","default-single":"Seleziona una data","default-less":"Seleziona un intervallo minore di %d giorni","default-range":"Seleziona un intervallo compreso tra i %d e i %d giorni","default-default":"Seleziona un intervallo di date"},ko:{selected:"\uae30\uac04:",day:"\uc77c",days:"\uc77c\uac04",apply:"\ub2eb\uae30","week-1":"\uc6d4","week-2":"\ud654","week-3":"\uc218","week-4":"\ubaa9","week-5":"\uae08","week-6":"\ud1a0","week-7":"\uc77c","week-number":"\uc8fc","month-name":["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],shortcuts:"\ub2e8\ucd95\ud0a4\ub4e4",past:"\uc9c0\ub09c(\uc624\ub298\uae30\uc900)",following:"\uc774\ud6c4(\uc624\ub298\uae30\uc900)",previous:"\uc774\uc804","prev-week":"1\uc8fc","prev-month":"1\ub2ec","prev-year":"1\ub144",next:"\ub2e4\uc74c","next-week":"1\uc8fc","next-month":"1\ub2ec","next-year":"1\ub144","less-than":"\ub0a0\uc9dc \ubc94\uc704\ub294 %d \uc77c\ubcf4\ub2e4 \ub9ce\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","more-than":"\ub0a0\uc9dc \ubc94\uc704\ub294 %d \uc77c\ubcf4\ub2e4 \uc791\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","default-more":"\ub0a0\uc9dc \ubc94\uc704\ub97c %d \uc77c\ubcf4\ub2e4 \uae38\uac8c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-single":"\ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-less":"%d \uc77c\ubcf4\ub2e4 \uc791\uc740 \ub0a0\uc9dc\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-range":"%d\uc640 %d \uc77c \uc0ac\uc774\uc758 \ub0a0\uc9dc \ubc94\uc704\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694","default-default":"\ub0a0\uc9dc \ubc94\uc704\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694",time:"\uc2dc\uac01",hour:"\uc2dc",minute:"\ubd84"},no:{selected:"Valgt:",day:"Dag",days:"Dager",apply:"Lukk","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"l\xf8","week-7":"s\xf8","month-name":["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember"],shortcuts:"Snarveier","custom-values":"Egendefinerte Verdier",past:"Over",following:"F\xf8lger",previous:"Forrige","prev-week":"Uke","prev-month":"M\xe5ned","prev-year":"\xc5r",next:"Neste","next-week":"Uke","next-month":"M\xe5ned","next-year":"\xc5r","less-than":"Datoperioden skal ikkje v\xe6re lengre enn %d dager","more-than":"Datoperioden skal ikkje v\xe6re kortere enn %d dager","default-more":"Vennligst velg ein datoperiode lengre enn %d dager","default-single":"Vennligst velg ein dato","default-less":"Vennligst velg ein datoperiode mindre enn %d dager","default-range":"Vennligst velg ein datoperiode mellom %d og %d dager","default-default":"Vennligst velg ein datoperiode",time:"Tid",hour:"Time",minute:"Minutter"},nl:{selected:"Geselecteerd:",day:"Dag",days:"Dagen",apply:"Ok","week-1":"ma","week-2":"di","week-3":"wo","week-4":"do","week-5":"vr","week-6":"za","week-7":"zo","month-name":["januari","februari","maart","april","mei","juni","juli","augustus","september","october","november","december"],shortcuts:"Snelkoppelingen","custom-values":"Aangepaste waarden",past:"Verleden",following:"Komend",previous:"Vorige","prev-week":"Week","prev-month":"Maand","prev-year":"Jaar",next:"Volgende","next-week":"Week","next-month":"Maand","next-year":"Jaar","less-than":"Interval moet langer dan %d dagen zijn","more-than":"Interval mag niet minder dan %d dagen zijn","default-more":"Selecteer een interval langer dan %dagen","default-single":"Selecteer een datum","default-less":"Selecteer een interval minder dan %d dagen","default-range":"Selecteer een interval tussen %d en %d dagen","default-default":"Selecteer een interval",time:"Tijd",hour:"Uur",minute:"Minuut"},ru:{selected:"\u0412\u044b\u0431\u0440\u0430\u043d\u043e:",day:"\u0414\u0435\u043d\u044c",days:"\u0414\u043d\u0435\u0439",apply:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","week-1":"\u043f\u043d","week-2":"\u0432\u0442","week-3":"\u0441\u0440","week-4":"\u0447\u0442","week-5":"\u043f\u0442","week-6":"\u0441\u0431","week-7":"\u0432\u0441","month-name":["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"],shortcuts:"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440",past:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435",following:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u041d\u0435\u0434\u0435\u043b\u044f","prev-month":"\u041c\u0435\u0441\u044f\u0446","prev-year":"\u0413\u043e\u0434",next:"&nbsp;&nbsp;&nbsp;","next-week":"\u041d\u0435\u0434\u0435\u043b\u044f","next-month":"\u041c\u0435\u0441\u044f\u0446","next-year":"\u0413\u043e\u0434","less-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","more-than":"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-more":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0431\u043e\u043b\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-single":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443","default-less":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u043d\u044c\u0448\u0435 %d \u0434\u043d\u0435\u0439","default-range":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u043c\u0435\u0436\u0434\u0443 %d \u0438 %d \u0434\u043d\u044f\u043c\u0438","default-default":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d"},pl:{selected:"Wybrany:",day:"Dzie\u0144",days:"Dni",apply:"Zamknij","week-1":"pon","week-2":"wt","week-3":"\u015br","week-4":"czw","week-5":"pt","week-6":"so","week-7":"nd","month-name":["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],shortcuts:"Skr\xf3ty","custom-values":"Niestandardowe warto\u015bci",past:"Przesz\u0142e",following:"Nast\u0119pne",previous:"Poprzednie","prev-week":"tydzie\u0144","prev-month":"miesi\u0105c","prev-year":"rok",next:"Nast\u0119pny","next-week":"tydzie\u0144","next-month":"miesi\u0105c","next-year":"rok","less-than":"Okres nie powinien by\u0107 d\u0142u\u017cszy ni\u017c %d dni","more-than":"Okres nie powinien by\u0107 kr\xf3tszy ni\u017c  %d ni","default-more":"Wybierz okres d\u0142u\u017cszy ni\u017c %d dni","default-single":"Wybierz dat\u0119","default-less":"Wybierz okres kr\xf3tszy ni\u017c %d dni","default-range":"Wybierz okres trwaj\u0105cy od %d do %d dni","default-default":"Wybierz okres",time:"Czas",hour:"Godzina",minute:"Minuta"},se:{selected:"Vald:",day:"dag",days:"dagar",apply:"godk\xe4nn","week-1":"ma","week-2":"ti","week-3":"on","week-4":"to","week-5":"fr","week-6":"l\xf6","week-7":"s\xf6","month-name":["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],shortcuts:"genv\xe4gar","custom-values":"Anpassade v\xe4rden",past:"\xf6ver",following:"f\xf6ljande",previous:"f\xf6rra","prev-week":"vecka","prev-month":"m\xe5nad","prev-year":"\xe5r",next:"n\xe4sta","next-week":"vecka","next-month":"m\xe5ned","next-year":"\xe5r","less-than":"Datumintervall b\xf6r inte vara mindre \xe4n %d dagar","more-than":"Datumintervall b\xf6r inte vara mer \xe4n %d dagar","default-more":"V\xe4lj ett datumintervall l\xe4ngre \xe4n %d dagar","default-single":"V\xe4lj ett datum","default-less":"V\xe4lj ett datumintervall mindre \xe4n %d dagar","default-range":"V\xe4lj ett datumintervall mellan %d och %d dagar","default-default":"V\xe4lj ett datumintervall",time:"tid",hour:"timme",minute:"minut"},pt:{selected:"Selecionado:",day:"Dia",days:"Dias",apply:"Fechar","week-1":"seg","week-2":"ter","week-3":"qua","week-4":"qui","week-5":"sex","week-6":"sab","week-7":"dom","week-number":"N","month-name":["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],shortcuts:"Atalhos","custom-values":"Valores Personalizados",past:"Passado",following:"Seguinte",previous:"Anterior","prev-week":"Semana","prev-month":"M\xeas","prev-year":"Ano",next:"Pr\xf3ximo","next-week":"Pr\xf3xima Semana","next-month":"Pr\xf3ximo M\xeas","next-year":"Pr\xf3ximo Ano","less-than":"O per\xedodo selecionado n\xe3o deve ser maior que %d dias","more-than":"O per\xedodo selecionado n\xe3o deve ser menor que %d dias","default-more":"Selecione um per\xedodo superior a %d dias","default-single":"Selecione uma data","default-less":"Selecione um per\xedodo inferior a %d dias","default-range":"Selecione um per\xedodo de %d a %d dias","default-default":"Selecione um per\xedodo",time:"Tempo",hour:"Hora",minute:"Minuto"},tc:{selected:"\u5df2\u9078\u64c7:",day:"\u5929",days:"\u5929",apply:"\u78ba\u5b9a","week-1":"\u4e00","week-2":"\u4e8c","week-3":"\u4e09","week-4":"\u56db","week-5":"\u4e94","week-6":"\u516d","week-7":"\u65e5","week-number":"\u5468","month-name":["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],shortcuts:"\u5feb\u901f\u9078\u64c7",past:"\u904e\u53bb",following:"\u5c07\u4f86",previous:"&nbsp;&nbsp;&nbsp;","prev-week":"\u4e0a\u9031","prev-month":"\u4e0a\u500b\u6708","prev-year":"\u53bb\u5e74",next:"&nbsp;&nbsp;&nbsp;","next-week":"\u4e0b\u5468","next-month":"\u4e0b\u500b\u6708","next-year":"\u660e\u5e74","less-than":"\u6240\u9078\u65e5\u671f\u7bc4\u570d\u4e0d\u80fd\u5927\u65bc%d\u5929","more-than":"\u6240\u9078\u65e5\u671f\u7bc4\u570d\u4e0d\u80fd\u5c0f\u65bc%d\u5929","default-more":"\u8acb\u9078\u64c7\u5927\u65bc%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-less":"\u8acb\u9078\u64c7\u5c0f\u65bc%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-range":"\u8acb\u9078\u64c7%d\u5929\u5230%d\u5929\u7684\u65e5\u671f\u7bc4\u570d","default-single":"\u8acb\u9078\u64c7\u4e00\u500b\u65e5\u671f","default-default":"\u8acb\u9078\u64c7\u4e00\u500b\u65e5\u671f\u7bc4\u570d",time:"\u65e5\u671f",hour:"\u5c0f\u6642",minute:"\u5206\u9418"}},e.fn.dateRangePicker=function(n){function i(t,n){return n.contains(t.target)||t.target==n||void 0!=n.childNodes&&e.inArray(t.target,n.childNodes)>=0}function r(){function r(t){var i=e(t).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=F(r),!n.singleMonth&&!n.singleDate&&!i&&z(r,n.month2)>=0||Y(r)||(P(r,i?"month2":"month1"),O())}function a(e){var t=F(n.month1),i=F(n.month2);Y(i)||!n.singleDate&&z(t,i)>=0||(P(t,"month1"),P(i,"month2"),M())}function s(t){var i=e(t).parents("table").hasClass("month2"),r=i?n.month2:n.month1;r=H(r),i&&z(r,n.month1)<=0||Y(r)||(P(r,i?"month2":"month1"),O())}function l(e){var t=H(n.month1),i=H(n.month2);Y(t)||!n.singleDate&&z(i,t)<=0||(P(i,"month2"),P(t,"month1"),M())}var c=this;if(e(this).data("date-picker-opened"))return void L();e(this).data("date-picker-opened",!0),re=W().hide(),re.append('<div class="date-range-length-tip"></div>'),re.delegate(".day","mouseleave",function(){re.find(".date-range-length-tip").hide(),n.singleDate&&k()}),e(n.container).append(re),n.inline?re.addClass("inline-wrapper"):o(),n.alwaysOpen&&re.find(".apply-btn").hide();var d=ne();if(ie(d),n.time.enabled)if(n.startDate&&n.endDate||n.start&&n.end)N(t(n.start||n.startDate).toDate(),"time1"),N(t(n.end||n.endDate).toDate(),"time2");else{var h=n.defaultEndTime?n.defaultEndTime:d;N(d,"time1"),N(h,"time2")}var f="";f=te(n.singleDate?"default-single":n.minDays&&n.maxDays?"default-range":n.minDays?"default-more":n.maxDays?"default-less":"default-default"),re.find(".default-top").html(f.replace(/\%d/,n.minDays).replace(/\%d/,n.maxDays)),n.singleMonth?re.addClass("single-month"):re.addClass("two-months"),setTimeout(function(){u(),se=!0},0),re.click(function(e){e.stopPropagation()}),e(document).bind("click.datepicker",function(e){i(e,c[0])||re.is(":visible")&&L()}),re.find(".next").click(function(){n.stickyMonths?a(this):r(this)}),re.find(".prev").click(function(){n.stickyMonths?l(this):s(this)}),re.delegate(".day","click",function(t){b(e(this))}),re.delegate(".day","mouseenter",function(t){_(e(this))}),re.delegate(".week-number","click",function(t){y(e(this))}),re.attr("unselectable","on").css("user-select","none").bind("selectstart",function(e){return e.preventDefault(),!1}),re.find(".apply-btn").click(function(){L();var t=I(new Date(n.start))+n.separator+I(new Date(n.end));e(c).trigger("datepicker-apply",{value:t,date1:new Date(n.start),date2:new Date(n.end)})}),re.find("[custom]").click(function(){var t=e(this).attr("custom");n.start=!1,n.end=!1,re.find(".day.checked").removeClass("checked"),n.setValue.call(ce,t),S(),T(!0),M(),n.autoClose&&L()}),re.find("[shortcut]").click(function(){var t,i=e(this).attr("shortcut"),r=new Date,o=!1;if(-1!=i.indexOf("day")){var a=parseInt(i.split(",",2)[1],10);o=new Date((new Date).getTime()+864e5*a),r=new Date(r.getTime()+864e5*(a>0?1:-1))}else if(-1!=i.indexOf("week")){t=-1!=i.indexOf("prev,")?-1:1;var s;for(s=1==t?"monday"==n.startOfWeek?1:0:"monday"==n.startOfWeek?0:6,r=new Date(r.getTime()-864e5);r.getDay()!=s;)r=new Date(r.getTime()+864e5*t);o=new Date(r.getTime()+864e5*t*6)}else if(-1!=i.indexOf("month"))t=-1!=i.indexOf("prev,")?-1:1,o=1==t?F(r):H(r),o.setDate(1),r=F(o),r.setDate(1),r=new Date(r.getTime()-864e5);else if(-1!=i.indexOf("year"))t=-1!=i.indexOf("prev,")?-1:1,o=new Date,o.setFullYear(r.getFullYear()+t),o.setMonth(0),o.setDate(1),r.setFullYear(r.getFullYear()+t),r.setMonth(11),r.setDate(31);else if("custom"==i){var l=e(this).html();if(n.customShortcuts&&n.customShortcuts.length>0)for(var c=0;c<n.customShortcuts.length;c++){var u=n.customShortcuts[c];if(u.name==l){var d=[];if(d=u.dates.call(),d&&2==d.length&&(o=d[0],r=d[1]),d&&1==d.length){var h=d[0];P(h,"month1"),P(F(h),"month2"),O()}break}}}o&&r&&(A(o,r),S())}),re.find(".time1 input[type=range]").bind("change touchmove mousemove",function(t){var n=t.target,i="hour"==n.name?e(n).val().replace(/^(\d{1})$/,"0$1"):void 0,r="minute"==n.name?e(n).val().replace(/^(\d{1})$/,"0$1"):void 0;p("time1",i,r)}),re.find(".time2 input[type=range]").bind("change touchmove mousemove",function(t){var n=t.target,i="hour"==n.name?e(n).val().replace(/^(\d{1})$/,"0$1"):void 0,r="minute"==n.name?e(n).val().replace(/^(\d{1})$/,"0$1"):void 0;p("time2",i,r)})}function o(){if(!n.inline){var t=e(le).offset();if("relative"==e(n.container).css("position")){var i=e(n.container).offset();re.css({top:t.top-i.top+e(le).outerHeight()+4,left:t.left-i.left})}else t.left<460?re.css({top:t.top+e(le).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left}):re.css({top:t.top+e(le).outerHeight()+parseInt(e("body").css("border-top")||0,10),left:t.left+e(le).width()-re.width()-16})}}function a(){return re}function s(t){o(),j(),l(),n.customOpenAnimation?n.customOpenAnimation.call(re.get(0),function(){e(le).trigger("datepicker-opened",{relatedTarget:re})}):re.slideDown(t,function(){e(le).trigger("datepicker-opened",{relatedTarget:re})}),e(le).trigger("datepicker-open",{relatedTarget:re}),O(),u()}function l(){var e=n.getValue.call(ce),i=e?e.split(n.separator):"";if(i&&(1==i.length&&n.singleDate||i.length>=2)){var r=n.format;r.match(/Do/)&&(r=r.replace(/Do/,"D"),i[0]=i[0].replace(/(\d+)(th|nd|st)/,"$1"),i.length>=2&&(i[1]=i[1].replace(/(\d+)(th|nd|st)/,"$1"))),se=!1,i.length>=2?A(c(i[0],r,t.locale(n.language)),c(i[1],r,t.locale(n.language))):1==i.length&&n.singleDate&&E(c(i[0],r,t.locale(n.language))),se=!0}}function c(e,n,i){return t(e,n,i).isValid()?t(e,n,i).toDate():t().toDate()}function u(){var e=re.find(".gap").css("margin-left");e&&(e=parseInt(e));var t=re.find(".month1").width(),n=re.find(".gap").width()+(e?2*e:0),i=re.find(".month2").width();re.find(".month-wrapper").width(t+n+i)}function d(e,n){re.find("."+e+" input[type=range].hour-range").val(t(n).hours()),re.find("."+e+" input[type=range].minute-range").val(t(n).minutes()),p(e,t(n).format("HH"),t(n).format("mm"))}function h(e,i){n[e]=parseInt(t(parseInt(i)).startOf("day").add(t(n[e+"Time"]).format("HH"),"h").add(t(n[e+"Time"]).format("mm"),"m").valueOf())}function f(){d("time1",n.start),d("time2",n.end)}function p(e,i,r){function o(e,t){var o=t.format("HH"),a=t.format("mm");n[e]=t.startOf("day").add(i||o,"h").add(r||a,"m").valueOf()}switch(i&&re.find("."+e+" .hour-val").text(i),r&&re.find("."+e+" .minute-val").text(r),e){case"time1":n.start&&o("start",t(n.start)),o("startTime",t(n.startTime||t().valueOf()));break;case"time2":n.end&&o("end",t(n.end)),o("endTime",t(n.endTime||t().valueOf()))}S(),T(),M()}function m(){n.start=!1,n.end=!1,re.find(".day.checked").removeClass("checked"),re.find(".day.last-date-selected").removeClass("last-date-selected"),re.find(".day.first-date-selected").removeClass("first-date-selected"),n.setValue.call(ce,""),S(),T(),M()}function g(e){var i=e;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?t(parseInt(e)).startOf("isoweek").valueOf():t(parseInt(e)).startOf("week").valueOf():"month-range"===n.batchMode&&(i=t(parseInt(e)).startOf("month").valueOf()),i}function v(e){var i=e;return"week-range"===n.batchMode?i="monday"===n.startOfWeek?t(parseInt(e)).endOf("isoweek").valueOf():t(parseInt(e)).endOf("week").valueOf():"month-range"===n.batchMode&&(i=t(parseInt(e)).endOf("month").valueOf()),i}function b(i){if(!i.hasClass("invalid")){var r=i.attr("time");if(i.addClass("checked"),n.singleDate?(n.start=r,n.end=!1):"week"===n.batchMode?"monday"===n.startOfWeek?(n.start=t(parseInt(r)).startOf("isoweek").valueOf(),n.end=t(parseInt(r)).endOf("isoweek").valueOf()):(n.end=t(parseInt(r)).endOf("week").valueOf(),n.start=t(parseInt(r)).startOf("week").valueOf()):"workweek"===n.batchMode?(n.start=t(parseInt(r)).day(1).valueOf(),n.end=t(parseInt(r)).day(5).valueOf()):"weekend"===n.batchMode?(n.start=t(parseInt(r)).day(6).valueOf(),n.end=t(parseInt(r)).day(7).valueOf()):"month"===n.batchMode?(n.start=t(parseInt(r)).startOf("month").valueOf(),n.end=t(parseInt(r)).endOf("month").valueOf()):n.start&&n.end||!n.start&&!n.end?(n.start=g(r),n.end=!1):n.start&&(n.end=v(r),n.time.enabled&&h("end",n.end)),n.time.enabled&&(n.start&&h("start",n.start),n.end&&h("end",n.end)),!n.singleDate&&n.start&&n.end&&n.start>n.end){var o=n.end;n.end=v(n.start),n.start=g(o),n.time.enabled&&n.swapTime&&f();
}n.start=parseInt(n.start),n.end=parseInt(n.end),k(),n.start&&!n.end&&(e(le).trigger("datepicker-first-date-selected",{date1:new Date(n.start)}),_(i)),w(r),S(),T(),M(),C()}}function y(e){var i,r,o=parseInt(e.attr("data-start-time"),10);n.startWeek?(re.find(".week-number-selected").removeClass("week-number-selected"),i=new Date(o<n.startWeek?o:n.startWeek),r=new Date(o<n.startWeek?n.startWeek:o),n.startWeek=!1,n.start=t(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=t(r).day("monday"==n.startOfWeek?7:6).valueOf()):(n.startWeek=o,e.addClass("week-number-selected"),i=new Date(o),n.start=t(i).day("monday"==n.startOfWeek?1:0).valueOf(),n.end=t(i).day("monday"==n.startOfWeek?7:6).valueOf()),w(),S(),T(),M(),C()}function x(e){if(e=parseInt(e,10),n.startDate&&B(e,n.startDate)<0)return!1;if(n.endDate&&B(e,n.endDate)>0)return!1;if(n.start&&!n.end&&!n.singleDate){if(n.maxDays>0&&D(e,n.start)>n.maxDays)return!1;if(n.minDays>0&&D(e,n.start)<n.minDays)return!1;if(n.selectForward&&e<n.start)return!1;if(n.selectBackward&&e>n.start)return!1;if(n.beforeShowDay&&"function"==typeof n.beforeShowDay){for(var t=!0,i=e;D(i,n.start)>1;){var r=n.beforeShowDay(new Date(i));if(!r[0]){t=!1;break}if(Math.abs(i-n.start)<864e5)break;i>n.start&&(i-=864e5),i<n.start&&(i+=864e5)}if(!t)return!1}}return!0}function w(){return re.find(".day.invalid.tmp").removeClass("tmp invalid").addClass("valid"),n.start&&!n.end&&re.find(".day.toMonth.valid").each(function(){var t=parseInt(e(this).attr("time"),10);x(t)?e(this).addClass("valid tmp").removeClass("invalid"):e(this).addClass("invalid tmp").removeClass("valid")}),!0}function _(t){var i=parseInt(t.attr("time")),r="";if(t.hasClass("has-tooltip")&&t.attr("data-tooltip"))r='<span style="white-space:nowrap">'+t.attr("data-tooltip")+"</span>";else if(!t.hasClass("invalid"))if(n.singleDate)re.find(".day.hovering").removeClass("hovering"),t.addClass("hovering");else if(re.find(".day").each(function(){var t=parseInt(e(this).attr("time"));n.start,n.end,t==i?e(this).addClass("hovering"):e(this).removeClass("hovering"),n.start&&!n.end&&(n.start<t&&i>=t||n.start>t&&t>=i)?e(this).addClass("hovering"):e(this).removeClass("hovering")}),n.start&&!n.end){var o=D(i,n.start);n.hoveringTooltip&&("function"==typeof n.hoveringTooltip?r=n.hoveringTooltip(o,n.start,i):n.hoveringTooltip===!0&&o>1&&(r=o+" "+te("days")))}if(r){var a=t.offset(),s=re.offset(),l=a.left-s.left,c=a.top-s.top;l+=t.width()/2;var u=re.find(".date-range-length-tip"),d=u.css({visibility:"hidden",display:"none"}).html(r).width(),h=u.height();l-=d/2,c-=h,setTimeout(function(){u.css({left:l,top:c,display:"block",visibility:"visible"})},10)}else re.find(".date-range-length-tip").hide()}function k(){re.find(".day.hovering").removeClass("hovering"),re.find(".date-range-length-tip").hide()}function C(){n.singleDate===!0?se&&n.start&&n.autoClose&&L():se&&n.start&&n.end&&n.autoClose&&L()}function S(){var e=Math.ceil((n.end-n.start)/864e5)+1;n.singleDate?n.start&&!n.end?re.find(".drp_top-bar").removeClass("error").addClass("normal"):re.find(".drp_top-bar").removeClass("error").removeClass("normal"):n.maxDays&&e>n.maxDays?(n.start=!1,n.end=!1,re.find(".day").removeClass("checked"),re.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(te("less-than").replace("%d",n.maxDays))):n.minDays&&e<n.minDays?(n.start=!1,n.end=!1,re.find(".day").removeClass("checked"),re.find(".drp_top-bar").removeClass("normal").addClass("error").find(".error-top").html(te("more-than").replace("%d",n.minDays))):n.start||n.end?re.find(".drp_top-bar").removeClass("error").addClass("normal"):re.find(".drp_top-bar").removeClass("error").removeClass("normal"),n.singleDate&&n.start&&!n.end||!n.singleDate&&n.start&&n.end?re.find(".apply-btn").removeClass("disabled"):re.find(".apply-btn").addClass("disabled"),n.batchMode&&(n.start&&n.startDate&&B(n.start,n.startDate)<0||n.end&&n.endDate&&B(n.end,n.endDate)>0)&&(n.start=!1,n.end=!1,re.find(".day").removeClass("checked"))}function T(t,i){re.find(".start-day").html("..."),re.find(".end-day").html("..."),re.find(".selected-days").hide(),n.start&&re.find(".start-day").html(I(new Date(parseInt(n.start)))),n.end&&re.find(".end-day").html(I(new Date(parseInt(n.end))));var r;n.start&&n.singleDate?(re.find(".apply-btn").removeClass("disabled"),r=I(new Date(n.start)),n.setValue.call(ce,r,I(new Date(n.start)),I(new Date(n.end))),se&&!i&&e(le).trigger("datepicker-change",{value:r,date1:new Date(n.start)})):n.start&&n.end?(re.find(".selected-days").show().find(".selected-days-num").html(D(n.end,n.start)),re.find(".apply-btn").removeClass("disabled"),r=I(new Date(n.start))+n.separator+I(new Date(n.end)),n.setValue.call(ce,r,I(new Date(n.start)),I(new Date(n.end))),se&&!i&&e(le).trigger("datepicker-change",{value:r,date1:new Date(n.start),date2:new Date(n.end)})):t?re.find(".apply-btn").removeClass("disabled"):re.find(".apply-btn").addClass("disabled")}function D(e,t){return Math.abs(Z(e)-Z(t))+1}function A(e,t,i){if(e.getTime()>t.getTime()){var r=t;t=e,e=r,r=null}var o=!0;return n.startDate&&B(e,n.startDate)<0&&(o=!1),n.endDate&&B(t,n.endDate)>0&&(o=!1),o?(n.start=e.getTime(),n.end=t.getTime(),n.time.enabled&&(d("time1",e),d("time2",t)),(n.stickyMonths||B(e,t)>0&&0===z(e,t))&&(n.lookBehind?e=H(t):t=F(e)),n.stickyMonths&&n.endDate!==!1&&z(t,n.endDate)>0&&(e=H(e),t=H(t)),n.stickyMonths||0===z(e,t)&&(n.lookBehind?e=H(t):t=F(e)),P(e,"month1"),P(t,"month2"),O(),S(),T(!1,i),void C()):(P(n.startDate,"month1"),P(F(n.startDate),"month2"),void O())}function E(e){var t=!0;if(n.startDate&&B(e,n.startDate)<0&&(t=!1),n.endDate&&B(e,n.endDate)>0&&(t=!1),!t)return void P(n.startDate,"month1");if(n.start=e.getTime(),n.time.enabled&&d("time1",e),P(e,"month1"),n.singleMonth!==!0){var i=F(e);P(i,"month2")}O(),T(),C()}function M(){(n.start||n.end)&&(re.find(".day").each(function(){var i=parseInt(e(this).attr("time")),r=n.start,o=n.end;n.time.enabled&&(i=t(i).startOf("day").valueOf(),r=t(r||t().valueOf()).startOf("day").valueOf(),o=t(o||t().valueOf()).startOf("day").valueOf()),n.start&&n.end&&o>=i&&i>=r||n.start&&!n.end&&t(r).format("YYYY-MM-DD")==t(i).format("YYYY-MM-DD")?e(this).addClass("checked"):e(this).removeClass("checked"),n.start&&t(r).format("YYYY-MM-DD")==t(i).format("YYYY-MM-DD")?e(this).addClass("first-date-selected"):e(this).removeClass("first-date-selected"),n.end&&t(o).format("YYYY-MM-DD")==t(i).format("YYYY-MM-DD")?e(this).addClass("last-date-selected"):e(this).removeClass("last-date-selected")}),re.find(".week-number").each(function(){e(this).attr("data-start-time")==n.startWeek&&e(this).addClass("week-number-selected")}))}function P(e,i){e=t(e).toDate();var r=R(e.getMonth());re.find("."+i+" .month-name").html(r+" "+e.getFullYear()),re.find("."+i+" tbody").html(Q(e)),n[i]=e,w()}function N(e,t){re.find("."+t).append(q()),d(t,e)}function R(e){return te("month-name")[e]}function I(e){return t(e).format(n.format)}function O(){M();var e=parseInt(t(n.month1).format("YYYYMM")),i=parseInt(t(n.month2).format("YYYYMM")),r=Math.abs(e-i),o=r>1&&89!=r;o?re.addClass("has-gap").removeClass("no-gap").find(".gap").css("visibility","visible"):re.removeClass("has-gap").addClass("no-gap").find(".gap").css("visibility","hidden");var a=re.find("table.month1").height(),s=re.find("table.month2").height();re.find(".gap").height(Math.max(a,s)+10)}function L(){if(!n.alwaysOpen){var t=function(){e(le).data("date-picker-opened",!1),e(le).trigger("datepicker-closed",{relatedTarget:re})};n.customCloseAnimation?n.customCloseAnimation.call(re.get(0),t):e(re).slideUp(n.duration,t),e(le).trigger("datepicker-close",{relatedTarget:re})}}function j(){P(n.month1,"month1"),P(n.month2,"month2")}function z(e,n){var i=parseInt(t(e).format("YYYYMM"))-parseInt(t(n).format("YYYYMM"));return i>0?1:0===i?0:-1}function B(e,n){var i=parseInt(t(e).format("YYYYMMDD"))-parseInt(t(n).format("YYYYMMDD"));return i>0?1:0===i?0:-1}function F(e){return t(e).add(1,"months").toDate()}function H(e){return t(e).add(-1,"months").toDate()}function q(){return"<div><span>"+te("Time")+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour"><label>'+te("Hour")+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute"><label>'+te("Minute")+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function W(){var t='<div class="date-picker-wrapper';n.extraClass&&(t+=" "+n.extraClass+" "),n.singleDate&&(t+=" single-date "),n.showShortcuts||(t+=" no-shortcuts "),n.showTopbar||(t+=" no-topbar "),n.customTopBar&&(t+=" custom-topbar "),t+='">',n.showTopbar&&(t+='<div class="drp_top-bar">',n.customTopBar?("function"==typeof n.customTopBar&&(n.customTopBar=n.customTopBar()),t+='<div class="custom-top">'+n.customTopBar+"</div>"):(t+='<div class="normal-top"><span style="color:#333">'+te("selected")+' </span> <b class="start-day">...</b>',n.singleDate||(t+=' <span class="separator-day">'+n.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+te("days")+")</i>"),t+="</div>",t+='<div class="error-top">error</div><div class="default-top">default</div>'),t+='<input type="button" class="apply-btn disabled'+V()+'" value="'+te("apply")+'" />',t+="</div>");var i=n.showWeekNumbers?6:5;if(t+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+i+'" class="month-name"></th><th style="width:27px;">'+(n.singleDate||!n.stickyMonths?'<span class="next">&gt;</span>':"")+'</th></tr><tr class="week-name">'+U()+"</thead><tbody></tbody></table>",X()&&(t+='<div class="gap">'+$()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(n.stickyMonths?"":'<span class="prev">&lt;</span>')+'</th><th colspan="'+i+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+U()+"</thead><tbody></tbody></table>"),t+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>',n.singleDate||(t+='<div class="time2"></div>'),t+='</div><div style="clear:both;height:0;font-size:0;"></div></div>',t+='<div class="footer">',n.showShortcuts){t+='<div class="shortcuts"><b>'+te("shortcuts")+"</b>";var r=n.shortcuts;if(r){var o;if(r["prev-days"]&&r["prev-days"].length>0){t+='&nbsp;<span class="prev-days">'+te("past");for(var a=0;a<r["prev-days"].length;a++)o=r["prev-days"][a],o+=te(r["prev-days"][a]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,-'+r["prev-days"][a]+'">'+o+"</a>";t+="</span>"}if(r["next-days"]&&r["next-days"].length>0){t+='&nbsp;<span class="next-days">'+te("following");for(var a=0;a<r["next-days"].length;a++)o=r["next-days"][a],o+=te(r["next-days"][a]>1?"days":"day"),t+=' <a href="javascript:;" shortcut="day,'+r["next-days"][a]+'">'+o+"</a>";t+="</span>"}if(r.prev&&r.prev.length>0){t+='&nbsp;<span class="prev-buttons">'+te("previous");for(var a=0;a<r.prev.length;a++)o=te("prev-"+r.prev[a]),t+=' <a href="javascript:;" shortcut="prev,'+r.prev[a]+'">'+o+"</a>";t+="</span>"}if(r.next&&r.next.length>0){t+='&nbsp;<span class="next-buttons">'+te("next");for(var a=0;a<r.next.length;a++)o=te("next-"+r.next[a]),t+=' <a href="javascript:;" shortcut="next,'+r.next[a]+'">'+o+"</a>";t+="</span>"}}if(n.customShortcuts)for(var a=0;a<n.customShortcuts.length;a++){var s=n.customShortcuts[a];t+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+s.name+"</a></span>"}t+="</div>"}if(n.showCustomValues&&(t+='<div class="customValues"><b>'+(n.customValueLabel||te("custom-values"))+"</b>",n.customValues))for(var a=0;a<n.customValues.length;a++){var l=n.customValues[a];t+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+l.value+'">'+l.name+"</a></span>"}return t+="</div></div>",e(t)}function V(){var e="";return n.autoClose===!0&&(e+=" hide"),""!==n.applyBtnClass&&(e+=" "+n.applyBtnClass),e}function U(){var e=n.showWeekNumbers?"<th>"+te("week-number")+"</th>":"";return"monday"==n.startOfWeek?e+"<th>"+te("week-1")+"</th><th>"+te("week-2")+"</th><th>"+te("week-3")+"</th><th>"+te("week-4")+"</th><th>"+te("week-5")+"</th><th>"+te("week-6")+"</th><th>"+te("week-7")+"</th>":e+"<th>"+te("week-7")+"</th><th>"+te("week-1")+"</th><th>"+te("week-2")+"</th><th>"+te("week-3")+"</th><th>"+te("week-4")+"</th><th>"+te("week-5")+"</th><th>"+te("week-6")+"</th>"}function Y(e){return e=t(e),!(!n.startDate||!e.endOf("month").isBefore(n.startDate))||!(!n.endDate||!e.startOf("month").isAfter(n.endDate))}function $(){for(var e=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'],t=0;20>t;t++)e.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>');return e.push("</div>"),e.join("")}function X(){return!n.singleMonth}function G(t,n,i){var r=e.extend(!0,{},t);e.each(n,function(e,t){var n=t(i);for(var o in n)r.hasOwnProperty(o)?r[o]+=n[o]:r[o]=n[o]});var o="";for(var a in r)r.hasOwnProperty(a)&&(o+=a+'="'+r[a]+'" ');return o}function Z(e){return Math.floor(K(e)/864e5)}function K(e){return t.isMoment(e)&&(e=e.toDate().getTime()),"object"==typeof e&&e.getTime&&(e=e.getTime()),"string"!=typeof e||e.match(/\d{13}/)||(e=t(e,n.format).toDate().getTime()),e=parseInt(e,10)-60*(new Date).getTimezoneOffset()*1e3}function Q(e){var i=[];e.setDate(1);var r=(new Date(e.getTime()-864e5),new Date),o=e.getDay();0===o&&"monday"===n.startOfWeek&&(o=7);var a,s;if(o>0)for(var l=o;l>0;l--){var c=new Date(e.getTime()-864e5*l);s=x(c.getTime()),n.startDate&&B(c,n.startDate)<0&&(s=!1),n.endDate&&B(c,n.endDate)>0&&(s=!1),i.push({date:c,type:"lastMonth",day:c.getDate(),time:c.getTime(),valid:s})}for(var u=e.getMonth(),l=0;40>l;l++)a=t(e).add(l,"days").toDate(),s=x(a.getTime()),n.startDate&&B(a,n.startDate)<0&&(s=!1),n.endDate&&B(a,n.endDate)>0&&(s=!1),i.push({date:a,type:a.getMonth()==u?"toMonth":"nextMonth",day:a.getDate(),time:a.getTime(),valid:s});for(var d=[],h=0;6>h&&"nextMonth"!=i[7*h].type;h++){d.push("<tr>");for(var c=0;7>c;c++){var f="monday"==n.startOfWeek?c+1:c;a=i[7*h+f];var p=t(a.time).format("L")==t(r).format("L");if(a.extraClass="",a.tooltip="",a.valid&&n.beforeShowDay&&"function"==typeof n.beforeShowDay){var m=n.beforeShowDay(t(a.time).toDate());a.valid=m[0],a.extraClass=m[1]||"",a.tooltip=m[2]||"",""!==a.tooltip&&(a.extraClass+=" has-tooltip ")}var g={time:a.time,"data-tooltip":a.tooltip,"class":"day "+a.type+" "+a.extraClass+" "+(a.valid?"valid":"invalid")+" "+(p?"real-today":"")};0===c&&n.showWeekNumbers&&d.push('<td><div class="week-number" data-start-time="'+a.time+'">'+n.getWeekNumber(a.date)+"</div></td>"),d.push("<td "+G({},n.dayTdAttrs,a)+"><div "+G(g,n.dayDivAttrs,a)+">"+J(a.time,a.day)+"</div></td>")}d.push("</tr>")}return d.join("")}function J(e,t){return n.showDateFilter&&"function"==typeof n.showDateFilter?n.showDateFilter(e,t):t}function ee(){if("auto"==n.language){var t=navigator.language?navigator.language:navigator.browserLanguage;if(!t)return e.dateRangePickerLanguages["default"];t=t.toLowerCase();for(var i in e.dateRangePickerLanguages)if(-1!==t.indexOf(i))return e.dateRangePickerLanguages[i];return e.dateRangePickerLanguages["default"]}return n.language&&n.language in e.dateRangePickerLanguages?e.dateRangePickerLanguages[n.language]:e.dateRangePickerLanguages["default"]}function te(t){var n=t.toLowerCase(),i=t in ae?ae[t]:n in ae?ae[n]:null,r=e.dateRangePickerLanguages["default"];return null==i&&(i=t in r?r[t]:n in r?r[n]:""),i}function ne(){var e=n.defaultTime?n.defaultTime:new Date;return n.lookBehind?(n.startDate&&z(e,n.startDate)<0&&(e=F(t(n.startDate).toDate())),n.endDate&&z(e,n.endDate)>0&&(e=t(n.endDate).toDate())):(n.startDate&&z(e,n.startDate)<0&&(e=t(n.startDate).toDate()),n.endDate&&z(F(e),n.endDate)>0&&(e=H(t(n.endDate).toDate()))),n.singleDate&&(n.startDate&&z(e,n.startDate)<0&&(e=t(n.startDate).toDate()),n.endDate&&z(e,n.endDate)>0&&(e=t(n.endDate).toDate())),e}function ie(e){e||(e=ne()),n.lookBehind?(P(H(e),"month1"),P(e,"month2")):(P(e,"month1"),P(F(e),"month2")),n.singleDate&&P(e,"month1"),M(),O()}n||(n={}),n=e.extend(!0,{autoClose:!1,format:"YYYY-MM-DD",separator:" to ",language:"auto",startOfWeek:"sunday",getValue:function(){return e(this).val()},setValue:function(t){e(this).attr("readonly")||e(this).is(":disabled")||t==e(this).val()||e(this).val(t)},startDate:!1,endDate:!1,time:{enabled:!1},minDays:0,maxDays:0,showShortcuts:!1,shortcuts:{},customShortcuts:[],inline:!1,container:"body",alwaysOpen:!1,singleDate:!1,lookBehind:!1,batchMode:!1,duration:200,stickyMonths:!1,dayDivAttrs:[],dayTdAttrs:[],selectForward:!1,selectBackward:!1,applyBtnClass:"",singleMonth:"auto",hoveringTooltip:function(e,t,n){return e>1?e+" "+te("days"):""},showTopbar:!0,swapTime:!1,showWeekNumbers:!1,getWeekNumber:function(e){return t(e).format("w")},customOpenAnimation:null,customCloseAnimation:null},n),n.start=!1,n.end=!1,n.startWeek=!1,n.isTouchDevice="ontouchstart"in window||navigator.msMaxTouchPoints,n.isTouchDevice&&(n.hoveringTooltip=!1),"auto"==n.singleMonth&&(n.singleMonth=e(window).width()<480),n.singleMonth&&(n.stickyMonths=!1),n.showTopbar||(n.autoClose=!0),n.startDate&&"string"==typeof n.startDate&&(n.startDate=t(n.startDate,n.format).toDate()),n.endDate&&"string"==typeof n.endDate&&(n.endDate=t(n.endDate,n.format).toDate());var re,oe,ae=ee(),se=!1,le=this,ce=e(le).get(0);return e(this).unbind(".datepicker").bind("click.datepicker",function(e){var t=re.is(":visible");t||s(n.duration)}).bind("change.datepicker",function(e){l()}).bind("keyup.datepicker",function(){try{clearTimeout(oe)}catch(e){}oe=setTimeout(function(){l()},2e3)}),r.call(this),n.alwaysOpen&&s(0),e(this).data("dateRangePicker",{setDateRange:function(e,i,r){"string"==typeof e&&"string"==typeof i&&(e=t(e,n.format).toDate(),i=t(i,n.format).toDate()),A(e,i,r)},clear:m,close:L,open:s,redraw:j,getDatePicker:a,resetMonthsView:ie,destroy:function(){e(le).unbind(".datepicker"),e(le).data("dateRangePicker",""),e(le).data("date-picker-opened",null),re.remove(),e(window).unbind("resize.datepicker",o),e(document).unbind("click.datepicker",L)}}),e(window).bind("resize.datepicker",o),this}}),function(e,t){var n,i,r,o,a,s,l,c,u=function(){if(!(t(".dialog-wrap").length>0)){switch(clearTimeout(l),clearTimeout(c),s.onBeforeShow(),t("body").append(dialogWrapper=t('<div class="dialog-wrap '+s.dialogClass+'"></div>')),dialogWrapper.append(n=t('<div class="dialog-overlay"></div>'),i=t('<div class="dialog-content dialog-content-animate"></div>')),solveTapBug=t('<div class="solve-tap-bug" style="margin:0;padding:0;border:none;background:rgba(255,255,255,0.01); -webkit-tap-highlight-color:rgba(0,0,0,0); width:100%; height:100%; position:fixed; top:0px; left:0px;"></div>').insertBefore(dialogWrapper),s.type){case"alert":s.showTitle&&i.append(r=t('<div class="dialog-content-hd"><h4 class="dialog-content-title">'+s.titleText+"</h4></div>")),i.append(contentBd=t('<div class="dialog-content-bd">'+s.contentHtml+"</div>")),i.append(contentFt=t('<div class="dialog-content-ft"></div>')),contentFt.append(a=t('<button class="dialog-btn dialog-btn-ok '+s.buttonClass.ok+'" >'+s.buttonText.ok+"</button>"));break;case"confirm":s.showTitle&&i.append(r=t('<div class="dialog-content-hd"><h4 class="dialog-content-title">'+s.titleText+"</h4></div>")),i.append(contentBd=t('<div class="dialog-content-bd">'+s.contentHtml+"</div>")),i.append(contentFt=t('<div class="dialog-content-ft"></div>')),contentFt.append(o=t('<button class="dialog-btn dialog-btn-cancel '+s.buttonClass.cancel+'" >'+s.buttonText.cancel+"</button>"),a=t('<button class="dialog-btn dialog-btn-ok '+s.buttonClass.ok+'" >'+s.buttonText.ok+"</button>"));break;case"info":var e=s.contentHtml||'<img class="info-icon" src="'+s.infoIcon+'" alt="'+s.infoText+'" /><p class="info-text">'+s.infoText+"</p>";i.append(contentBd=t('<div class="dialog-content-bd">'+e+"</div>")),dialogWrapper.addClass("dialog-wrap-info"),i.addClass("dialog-content-info").removeClass("dialog-content-animate");break;case"tips":var u=s.contentHtml||(s.infoIcon?'<img class="info-icon" src="'+s.infoIcon+'" alt="'+s.infoText+'" />':"")+'<span class="info-text">'+s.infoText+"</span>";i.append(contentBd=t('<div class="dialog-content-bd">'+u+"</div>")),dialogWrapper.addClass("dialog-wrap-tips"),i.addClass("dialog-content-tips").removeClass("dialog-content-animate")}setTimeout(function(){dialogWrapper.addClass("dialog-wrap-show"),s.onShow(),p()},20),setTimeout(function(){f()},100)}},d=function(){g.tap(t(a),function(){return s.onClickOk(),t.dialog.close(),!1}),g.tap(t(o),function(){return s.onClickCancel(),t.dialog.close(),!1}),s.overlayClose&&g.tap(t(n),function(){t.dialog.close()}),s.autoClose>0&&h(),t(document).on("touchmove",function(e){return t(dialogWrapper).find(t(e.target)).length?!1:!0}),m()},h=function(){clearTimeout(c),c=window.setTimeout(function(){t.dialog.close()},s.autoClose)},f=function(){var e=t(window).height();if(t(contentBd).removeAttr("style"),t(i).height()>=e-10){var n=t(r).height()+parseInt(t(r).css("margin-top"))+parseInt(t(r).css("margin-bottom"))+parseInt(t(r).css("padding-top"))+parseInt(t(r).css("padding-bottom")),o=t(contentFt).height()+parseInt(t(contentFt).css("margin-top"))+parseInt(t(contentFt).css("margin-bottom"))+parseInt(t(contentFt).css("padding-top"))+parseInt(t(contentFt).css("padding-bottom")),a=parseInt(t(contentBd).css("margin-top"))+parseInt(t(contentBd).css("margin-bottom"))+parseInt(t(contentBd).css("padding-top"))+parseInt(t(contentBd).css("padding-bottom")),s=e-n-o-a-50;t(contentBd).css({"max-height":s,"overflow-y":"auto"})}},p=function(){t(window).on("resize",function(){clearTimeout(e);var e=window.setTimeout(function(){f()},100)})},m=function(){var e={x:0,y:0,top:0,left:0};t(contentBd).on("touchstart",function(n){e.x=event.changedTouches[0].clientX,e.y=event.changedTouches[0].clientY,0==e.top&&(e.top=t(this).scrollTop()),0==e.left&&(e.left=t(this).scrollLeft())}).on("touchmove",function(n){t(this).scrollTop(e.top-event.changedTouches[0].clientY+e.y),t(this).scrollLeft(e.left-event.changedTouches[0].clientX+e.x)}).on("touchend",function(t){(0!=e.x||0!=e.y)&&(e={x:0,y:0,top:0,left:0}),t.preventDefault()})},g={tap:function(e,t){if("ontouchstart"in window||"ontouchstart"in document)var n=!0;else if(window.navigator.msPointerEnabled)var n=!0;if(n){var i,r;e.on("touchstart",function(e){var t=e.touches?e.touches[0]:e.originalEvent.touches[0];i=t.clientX,r=t.clientY}),e.on("touchend",function(e){var n=e.changedTouches?e.changedTouches[0]:e.originalEvent.changedTouches[0];endTx=n.clientX,endTy=n.clientY,Math.abs(i-endTx)<6&&Math.abs(r-endTy)<6&&t(),e.preventDefault()})}else e.on("click",function(e){t()})}};t.dialog=function(e){return s=t.extend({},t.fn.dialog.defaults,e),t.dialog.init(),this},t.dialog.init=function(){u(),d()},t.dialog.close=function(){s.onBeforeClosed(),dialogWrapper.removeClass("dialog-wrap-show"),l=setTimeout(function(){dialogWrapper.remove(),s.onClosed()},100),t(document).on("touchmove",function(e){return!0}),setTimeout(function(){solveTapBug.remove()},350)},t.dialog.update=function(e){e.infoText&&i.find(".info-text").html(e.infoText),e.infoIcon&&i.find(".info-icon").attr("src",e.infoIcon),e.autoClose>0&&window.setTimeout(function(){e.onBeforeClosed&&e.onBeforeClosed(),t.dialog.close(),e.onClosed&&e.onClosed()},e.autoClose)},t.fn.dialog=function(e){return this},t.fn.dialog.defaults={type:"alert",titleText:"Title Text",showTitle:!0,contentHtml:"",dialogClass:"",autoClose:0,overlayClose:!1,drag:!1,buttonText:{ok:"Okey",cancel:"Cancel","delete":"Delete"},buttonClass:{ok:"",cancel:"","delete":""},infoText:"",infoIcon:"",onClickOk:function(){},onClickCancel:function(){},onClickClose:function(){},onBeforeShow:function(){},onShow:function(){},onBeforeClosed:function(){},onClosed:function(){}}}(window,window.Zepto||window.jQuery),"undefined"!=typeof google&&(google.maps.Marker.prototype.animateTo=function(e,t){defaultOptions={duration:1e3,easing:"linear",complete:null},t=t||{};for(key in defaultOptions)t[key]=t[key]||defaultOptions[key];if("linear"!=t.easing&&("undefined"==typeof jQuery||!jQuery.easing[t.easing]))throw'"'+t.easing+"\" easing function doesn't exist. Include jQuery and/or the jQuery easing plugin and use the right function name.";window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame,this.AT_startPosition_lat=this.getPosition().lat(),this.AT_startPosition_lng=this.getPosition().lng();var n=e.lat(),i=e.lng();Math.abs(i-this.AT_startPosition_lng)>180&&(i>this.AT_startPosition_lng?i-=360:i+=360);var r=function(o,a){var s=(new Date).getTime()-a,l=s/t.duration,c=l;if("linear"!==t.easing&&(c=jQuery.easing[t.easing](l,s,0,1,t.duration)),1>l){var u=new google.maps.LatLng(o.AT_startPosition_lat+(n-o.AT_startPosition_lat)*c,o.AT_startPosition_lng+(i-o.AT_startPosition_lng)*c);o.setPosition(u),window.requestAnimationFrame?o.AT_animationHandler=window.requestAnimationFrame(function(){r(o,a)}):o.AT_animationHandler=setTimeout(function(){r(o,a)},17)}else o.setPosition(e),"function"==typeof t.complete&&t.complete()};window.cancelAnimationFrame?window.cancelAnimationFrame(this.AT_animationHandler):clearTimeout(this.AT_animationHandler),r(this,(new Date).getTime())}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e,t){"use strict";if(!e.jstree){var n=0,i=!1,r=!1,o=!1,a=[],s=e("script:last").attr("src"),l=window.document;e.jstree={version:"3.3.3",defaults:{plugins:[]},plugins:{},path:s&&-1!==s.indexOf("/")?s.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,i){var r=new e.jstree.core(++n),o=i;return i=e.extend(!0,{},e.jstree.defaults,i),o&&o.plugins&&(i.plugins=o.plugins),e.each(i.plugins,function(e,t){"core"!==e&&(r=r.plugin(t,i[t]))}),e(t).data("jstree",r),r.init(t,i),r},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var n=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=e(t)}catch(r){}if(!i||!i.length)try{i=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(r){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?n=i:e(".jstree").each(function(){var i=e(this).data("jstree");return i&&i._model.data[t]?(n=i,!1):void 0}),n},e.fn.jstree=function(n){var i="string"==typeof n,r=Array.prototype.slice.call(arguments,1),o=null;return n!==!0||this.length?(this.each(function(){var a=e.jstree.reference(this),s=i&&a?a[n]:null;return o=i&&s?s.apply(a,r):null,a||i||n!==t&&!e.isPlainObject(n)||e.jstree.create(this,n),(a&&!i||n===!0)&&(o=a||!1),null!==o&&o!==t?!1:void 0}),null!==o&&o!==t?o:this):!1},e.expr.pseudos.jstree=e.expr.createPseudo(function(n){return function(n){return e(n).hasClass("jstree")&&e(n).data("jstree")!==t}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},e.jstree.core.prototype={plugin:function(t,n){var i=e.jstree.plugins[t];return i?(this._data[t]={},i.prototype=this,new i(n,this)):this},init:function(t,n){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=n,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(t){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,n=l.createElement("LI");return n.setAttribute("role","treeitem"),e=l.createElement("I"),e.className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),n.appendChild(e),e=l.createElement("A"),e.className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),t=l.createElement("I"),t.className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),n.appendChild(e),e=t=null,n},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var t="",n=null,i=0;this.element.on("dblclick.jstree",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(n){}}}).on("mousedown.jstree",e.proxy(function(e){e.target===this.element[0]&&(e.preventDefault(),i=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(e){e.preventDefault()}).on("click.jstree",".jstree-ocl",e.proxy(function(e){this.toggle_node(e.target)},this)).on("dblclick.jstree",".jstree-anchor",e.proxy(function(e){return e.target.tagName&&"input"===e.target.tagName.toLowerCase()?!0:void(this.settings.core.dblclick_toggle&&this.toggle_node(e.target))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).focus(),this.activate_node(t.currentTarget,t)},this)).on("keydown.jstree",".jstree-anchor",e.proxy(function(t){if(t.target.tagName&&"input"===t.target.tagName.toLowerCase())return!0;if(32!==t.which&&13!==t.which&&(t.shiftKey||t.ctrlKey||t.altKey||t.metaKey))return!0;var n=null;switch(this._data.core.rtl&&(37===t.which?t.which=39:39===t.which&&(t.which=37)),t.which){case 32:t.ctrlKey&&(t.type="click",e(t.currentTarget).trigger(t));break;case 13:t.type="click",e(t.currentTarget).trigger(t);break;case 37:t.preventDefault(),this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(n=this.get_parent(t.currentTarget),n&&n.id!==e.jstree.root&&this.get_node(n,!0).children(".jstree-anchor").focus());break;case 38:t.preventDefault(),
n=this.get_prev_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 39:t.preventDefault(),this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(e){this.get_node(e,!0).children(".jstree-anchor").focus()}):this.is_open(t.currentTarget)&&(n=this.get_node(t.currentTarget,!0).children(".jstree-children")[0],n&&e(this._firstChild(n)).children(".jstree-anchor").focus());break;case 40:t.preventDefault(),n=this.get_next_dom(t.currentTarget),n&&n.length&&n.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:t.preventDefault(),n=this._firstChild(this.get_container_ul()[0]),n&&e(n).children(".jstree-anchor").filter(":visible").focus();break;case 35:t.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:t.preventDefault(),this.edit(t.currentTarget)}},this)).on("load_node.jstree",e.proxy(function(t,n){n.status&&(n.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(e.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,n,i=[];for(t=0,n=this._data.core.selected.length;n>t;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(i=e.vakata.array_unique(i),t=0,n=i.length;n>t;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",e.proxy(function(i){if(i.target.tagName&&"input"===i.target.tagName.toLowerCase())return!0;n&&clearTimeout(n),n=setTimeout(function(){t=""},500);var r=String.fromCharCode(i.which).toLowerCase(),o=this.element.find(".jstree-anchor").filter(":visible"),a=o.index(l.activeElement)||0,s=!1;if(t+=r,t.length>1){if(o.slice(a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a).each(e.proxy(function(n,i){return 0===e(i).text().toLowerCase().indexOf(t)?(e(i).focus(),s=!0,!1):void 0},this)),s)return}if(new RegExp("^"+r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(o.slice(a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return;if(o.slice(0,a+1).each(e.proxy(function(t,n){return e(n).text().toLowerCase().charAt(0)===r?(e(n).focus(),s=!0,!1):void 0},this)),s)return}},this)).on("init.jstree",e.proxy(function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)},this)).on("loading.jstree",e.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",e.proxy(function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",e.proxy(function(t){var n=this.get_node(t.currentTarget);n&&n.id&&(this._data.core.focused=n.id),this.element.find(".jstree-hovered").not(t.currentTarget).mouseleave(),e(t.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",e.proxy(function(){if(+new Date-i>500&&!this._data.core.focused){i=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",e.proxy(function(e){this.hover_node(e.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var n=this.settings.core.strings;return e.isFunction(n)?n.call(this,t):n&&n[t]?n[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,n){t&&t.id&&(t=t.id);var i;try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(i=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else if((i=e(t,this.element)).length&&this._model.data[i.closest(".jstree-node").attr("id")])t=this._model.data[i.closest(".jstree-node").attr("id")];else{if(!(i=e(t,this.element)).length||!i.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return n&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(r){return!1}},get_path:function(t,n,i){if(t=t.parents?t:this.get_node(t),!t||t.id===e.jstree.root||!t.parents)return!1;var r,o,a=[];for(a.push(i?t.id:t.text),r=0,o=t.parents.length;o>r;r++)a.push(i?t.parents[r]:this.get_text(t.parents[r]));return a=a.reverse().slice(1),n?a.join(n):a},get_next_dom:function(t,n){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this._firstChild(this.get_container_ul()[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);return i?e(i):!1}if(!t||!t.length)return!1;if(n){i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return i?e(i):!1}if(t.hasClass("jstree-open")){for(i=this._firstChild(t.children(".jstree-children")[0]);i&&0===i.offsetHeight;)i=this._nextSibling(i);if(null!==i)return e(i)}i=t[0];do i=this._nextSibling(i);while(i&&0===i.offsetHeight);return null!==i?e(i):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,n){var i;if(t=this.get_node(t,!0),t[0]===this.element[0]){for(i=this.get_container_ul()[0].lastChild;i&&0===i.offsetHeight;)i=this._previousSibling(i);return i?e(i):!1}if(!t||!t.length)return!1;if(n){i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);return i?e(i):!1}i=t[0];do i=this._previousSibling(i);while(i&&0===i.offsetHeight);if(null!==i){for(t=e(i);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return i=t[0].parentNode.parentNode,i&&i.className&&-1!==i.className.indexOf("jstree-node")?e(i):!1},get_parent:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.parent:!1},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):e&&e.length?e.children(".jstree-children").children(".jstree-node"):!1},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,n){var i,r,o,a,s;if(e.isArray(t))return this._load_nodes(t.slice(),n),!0;if(t=this.get_node(t),!t)return n&&n.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,o=0,a=t.parents.length;a>o;o++)this._model.data[t.parents[o]].children_d=e.vakata.array_filter(this._model.data[t.parents[o]].children_d,function(n){return-1===e.inArray(n,t.children_d)});for(i=0,r=t.children_d.length;r>i;i++)this._model.data[t.children_d[i]].state.selected&&(s=!0),delete this._model.data[t.children_d[i]];s&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(n){return-1===e.inArray(n,t.children_d)})),t.children=[],t.children_d=[],s&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,this.get_node(t,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(t,e.proxy(function(e){t=this._model.data[t.id],t.state.loading=!1,t.state.loaded=e,t.state.failed=!t.state.loaded;var i=this.get_node(t,!0),r=0,o=0,a=this._model.data,s=!1;for(r=0,o=t.children.length;o>r;r++)if(a[t.children[r]]&&!a[t.children[r]].state.hidden){s=!0;break}t.state.loaded&&i&&i.length&&(i.removeClass("jstree-closed jstree-open jstree-leaf"),s?"#"!==t.id&&i.addClass(t.state.opened?"jstree-open":"jstree-closed"):i.addClass("jstree-leaf")),i.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:t,status:e}),n&&n.call(this,t,e)},this)),!0},_load_nodes:function(e,t,n,i){var r,o,a=!0,s=function(){this._load_nodes(e,t,!0)},l=this._model.data,c=[];for(r=0,o=e.length;o>r;r++)l[e[r]]&&(!l[e[r]].state.loaded&&!l[e[r]].state.failed||!n&&i)&&(this.is_loading(e[r])||this.load_node(e[r],s),a=!1);if(a){for(r=0,o=e.length;o>r;r++)l[e[r]]&&l[e[r]].state.loaded&&c.push(e[r]);t&&!t.done&&(t.call(this,c),t.done=!0)}},load_all:function(t,n){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var i,r,o=[],a=this._model.data,s=a[t.id].children_d;for(t.state&&!t.state.loaded&&o.push(t.id),i=0,r=s.length;r>i;i++)a[s[i]]&&a[s[i]].state&&!a[s[i]].state.loaded&&o.push(s[i]);o.length?this._load_nodes(o,function(){this.load_all(t,n)}):(n&&n.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,n){var i,r=this.settings.core.data,o=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?e.isFunction(r)?r.call(this,t,e.proxy(function(i){i===!1?n.call(this,!1):this["string"==typeof i?"_append_html_data":"_append_json_data"](t,"string"==typeof i?e(e.parseHTML(i)).filter(o):i,function(e){n.call(this,e)})},this)):"object"==typeof r?r.url?(r=e.extend(!0,{},r),e.isFunction(r.url)&&(r.url=r.url.call(this,t)),e.isFunction(r.data)&&(r.data=r.data.call(this,t)),e.ajax(r).done(e.proxy(function(i,r,a){var s=a.getResponseHeader("Content-Type");return s&&-1!==s.indexOf("json")||"object"==typeof i?this._append_json_data(t,i,function(e){n.call(this,e)}):s&&-1!==s.indexOf("html")||"string"==typeof i?this._append_html_data(t,e(e.parseHTML(i)).filter(o),function(e){n.call(this,e)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))},this)).fail(e.proxy(function(e){n.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(i=e.isArray(r)||e.isPlainObject(r)?JSON.parse(JSON.stringify(r)):r,t.id===e.jstree.root?this._append_json_data(t,i,function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1))):"string"==typeof r?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(r)).filter(o),function(e){n.call(this,e)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),n.call(this,!1)):n.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(e){n.call(this,e)}):n.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&this._model.changed.push(e.id)},_append_html_data:function(t,n,i){t=this.get_node(t),t.children=[],t.children_d=[];var r,o,a,s=n.is("ul")?n.children():n,l=t.id,c=[],u=[],d=this._model.data,h=d[l],f=this._data.core.selected.length;for(s.each(e.proxy(function(t,n){r=this._parse_model_from_html(e(n),l,h.parents.concat()),r&&(c.push(r),u.push(r),d[r].children_d.length&&(u=u.concat(d[r].children_d)))},this)),h.children=c,h.children_d=u,o=0,a=h.parents.length;a>o;o++)d[h.parents[o]].children_d=d[h.parents[o]].children_d.concat(u);this.trigger("model",{nodes:u,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)},_append_json_data:function(t,n,i,r){if(null!==this.element){t=this.get_node(t),t.children=[],t.children_d=[],n.d&&(n=n.d,"string"==typeof n&&(n=JSON.parse(n))),e.isArray(n)||(n=[n]);var o=null,a={df:this._model.default_state,dat:n,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},s=function(e,t){e.data&&(e=e.data);var n,i,r,o,a=e.dat,s=e.par,l=[],c=[],u=[],d=e.df,h=e.t_id,f=e.t_cnt,p=e.m,m=p[s],g=e.sel,v=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c={id:l,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(c.state[r]=d[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(c.icon=e.data.jstree.icon),(c.icon===t||null===c.icon||""===c.icon)&&(c.icon=!0),e&&e.data&&(c.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(c.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(c.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(c.li_attr[r]=e.li_attr[r]);if(c.li_attr.id||(c.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(c.a_attr[r]=e.a_attr[r]);for(e&&e.children&&e.children===!0&&(c.state.loaded=!1,c.children=[],c.children_d=[]),p[c.id]=c,r=0,o=c.children.length;o>r;r++)a=v(p[c.children[r]],c.id,i),s=p[a],c.children_d.push(a),s.children_d.length&&(c.children_d=c.children_d.concat(s.children_d));return delete e.data,delete e.children,p[c.id].original=e,c.state.selected&&u.push(c.id),c.id},b=function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1;do c="j"+h+"_"+ ++f;while(p[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(l.state[r]=d[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)a=b(e.children[r],l.id,i),s=p[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,p[l.id]=l,l.state.selected&&u.push(l.id),l.id};if(a.length&&a[0].id!==t&&a[0].parent!==t){for(i=0,r=a.length;r>i;i++)a[i].children||(a[i].children=[]),p[a[i].id.toString()]=a[i];for(i=0,r=a.length;r>i;i++)p[a[i].parent.toString()].children.push(a[i].id.toString()),m.children_d.push(a[i].id.toString());for(i=0,r=m.children.length;r>i;i++)n=v(p[m.children[i]],s,m.parents.concat()),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d));for(i=0,r=m.parents.length;r>i;i++)p[m.parents[i]].children_d=p[m.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:g,par:s,dpc:c,add:u}}else{for(i=0,r=a.length;r>i;i++)n=b(a[i],s,m.parents.concat()),n&&(l.push(n),c.push(n),p[n].children_d.length&&(c=c.concat(p[n].children_d)));for(m.children=l,m.children_d=c,i=0,r=m.parents.length;r>i;i++)p[m.parents[i]].children_d=p[m.parents[i]].children_d.concat(c);o={cnt:f,mod:p,sel:g,par:s,dpc:c,add:u}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?o:void postMessage(o)},l=function(t,n){if(null!==this.element){this._cnt=t.cnt;var r,o=this._model.data;for(r in o)o.hasOwnProperty(r)&&o[r].state&&o[r].state.loading&&t.mod[r]&&(t.mod[r].state.loading=!0);if(this._model.data=t.mod,n){var a,s=t.add,l=t.sel,c=this._data.core.selected.slice();if(o=this._model.data,l.length!==c.length||e.vakata.array_unique(l.concat(c)).length!==l.length){for(r=0,a=l.length;a>r;r++)-1===e.inArray(l[r],s)&&-1===e.inArray(l[r],c)&&(o[l[r]].state.selected=!1);for(r=0,a=c.length;a>r;r++)-1===e.inArray(c[r],l)&&(o[c[r]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),i.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"}))),!this._data.core.working||r?(this._data.core.working=!0,o=new window.Worker(this._wrk),o.onmessage=e.proxy(function(e){l.call(this,e.data,!0);try{o.terminate(),o=null}catch(t){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),a.par?o.postMessage(a):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,n,i,!0])}catch(c){l.call(this,s(a),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else l.call(this,s(a),!1)}},_parse_model_from_html:function(n,i,r){r=r?[].concat(r):[],i&&r.unshift(i);var o,a,s,l,c,u=this._model.data,d={id:!1,text:!1,icon:!0,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in this._model.default_state)this._model.default_state.hasOwnProperty(s)&&(d.state[s]=this._model.default_state[s]);if(l=e.vakata.attributes(n,!0),e.each(l,function(t,n){return n=e.trim(n),n.length?(d.li_attr[t]=n,void("id"===t&&(d.id=n.toString()))):!0}),l=n.children("a").first(),l.length&&(l=e.vakata.attributes(l,!0),e.each(l,function(t,n){n=e.trim(n),n.length&&(d.a_attr[t]=n)})),l=n.children("a").first().length?n.children("a").first().clone():n.clone(),l.children("ins, i, ul").remove(),l=l.html(),l=e("<div />").html(l),d.text=this.settings.core.force_text?l.text():l.html(),l=n.data(),d.data=l?e.extend(!0,{},l):null,d.state.opened=n.hasClass("jstree-open"),d.state.selected=n.children("a").hasClass("jstree-clicked"),d.state.disabled=n.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(s in d.data.jstree)d.data.jstree.hasOwnProperty(s)&&(d.state[s]=d.data.jstree[s]);l=n.children("a").children(".jstree-themeicon"),l.length&&(d.icon=l.hasClass("jstree-themeicon-hidden")?!1:l.attr("rel")),d.state.icon!==t&&(d.icon=d.state.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),l=n.children("ul").children("li");do c="j"+this._id+"_"+ ++this._cnt;while(u[c]);return d.id=d.li_attr.id?d.li_attr.id.toString():c,l.length?(l.each(e.proxy(function(t,n){o=this._parse_model_from_html(e(n),d.id,r),a=this._model.data[o],d.children.push(o),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d))},this)),d.children_d=d.children_d.concat(d.children)):n.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr["class"]&&(d.li_attr["class"]=d.li_attr["class"].replace("jstree-closed","").replace("jstree-open","")),d.a_attr["class"]&&(d.a_attr["class"]=d.a_attr["class"].replace("jstree-clicked","").replace("jstree-disabled","")),u[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l=e.id.toString(),c=this._model.data,u=this._model.default_state,d={id:l,text:e.text||"",icon:e.icon!==t?e.icon:!0,parent:n,parents:i,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in u)u.hasOwnProperty(r)&&(d.state[r]=u[r]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),(d.icon===t||null===d.icon||""===d.icon)&&(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(d.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(d.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(d.li_attr[r]=e.li_attr[r]);if(d.li_attr.id||(d.li_attr.id=l),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(d.a_attr[r]=e.a_attr[r]);for(e&&e.children&&e.children===!0&&(d.state.loaded=!1,d.children=[],d.children_d=[]),c[d.id]=d,r=0,o=d.children.length;o>r;r++)a=this._parse_model_from_flat_json(c[d.children[r]],d.id,i),s=c[a],d.children_d.push(a),s.children_d.length&&(d.children_d=d.children_d.concat(s.children_d));return delete e.data,delete e.children,c[d.id].original=e,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(e,n,i){i=i?i.concat():[],n&&i.unshift(n);var r,o,a,s,l,c=!1,u=this._model.data,d=this._model.default_state;do c="j"+this._id+"_"+ ++this._cnt;while(u[c]);l={id:!1,text:"string"==typeof e?e:"",icon:"object"==typeof e&&e.icon!==t?e.icon:!0,parent:n,parents:i,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(r in d)d.hasOwnProperty(r)&&(l.state[r]=d[r]);if(e&&e.id&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),(l.icon===t||null===l.icon||""===l.icon)&&(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(r in e.data.jstree)e.data.jstree.hasOwnProperty(r)&&(l.state[r]=e.data.jstree[r]);if(e&&"object"==typeof e.state)for(r in e.state)e.state.hasOwnProperty(r)&&(l.state[r]=e.state[r]);if(e&&"object"==typeof e.li_attr)for(r in e.li_attr)e.li_attr.hasOwnProperty(r)&&(l.li_attr[r]=e.li_attr[r]);if(l.li_attr.id&&!l.id&&(l.id=l.li_attr.id.toString()),l.id||(l.id=c),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(r in e.a_attr)e.a_attr.hasOwnProperty(r)&&(l.a_attr[r]=e.a_attr[r]);if(e&&e.children&&e.children.length){for(r=0,o=e.children.length;o>r;r++)a=this._parse_model_from_json(e.children[r],l.id,i),s=u[a],l.children.push(a),s.children_d.length&&(l.children_d=l.children_d.concat(s.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&e.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,u[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,n,i,r=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),o=l.createElement("UL"),a=this._data.core.focused;for(n=0,i=r.length;i>n;n++)t=this.redraw_node(r[n],!0,this._model.force_full_redraw),t&&this._model.force_full_redraw&&o.appendChild(t);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","group"),this.element.empty().append(o)),null!==a&&(t=this.get_node(a,!0),t&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:r})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var n=this.get_node(t),i=!1,r=!1,o=!1,a=l;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(t=this.get_node(t,!0),!t||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],n.children.length&&n.state.loaded){for(o=a.createElement("UL"),o.setAttribute("role","group"),o.className="jstree-children",i=0,r=n.children.length;r>i;i++)o.appendChild(this.redraw_node(n.children[i],!0,!0));t.appendChild(o)}},redraw_node:function(t,n,i,r){var o=this.get_node(t),a=!1,s=!1,c=!1,u=!1,d=!1,h=!1,f="",p=l,m=this._model.data,g=!1,v=null,b=0,y=0,x=!1,w=!1;if(!o)return!1;if(o.id===e.jstree.root)return this.redraw(!0);if(n=n||0===o.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(o.id[0])?"\\3"+o.id[0]+" "+o.id.substr(1).replace(e.jstree.idregex,"\\$&"):o.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(o.id))t=e(t),i||(a=t.parent().parent()[0],a===this.element[0]&&(a=null),s=t.index()),n||!o.children.length||t.children(".jstree-children").length||(n=!0),n||(c=t.children(".jstree-children")[0]),g=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(n=!0,!i){if(a=o.parent!==e.jstree.root?e("#"+o.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===a||a&&m[o.parent].state.opened))return!1;s=e.inArray(o.id,null===a?m[e.jstree.root].children:m[o.parent].children)}t=this._data.core.node.cloneNode(!0),f="jstree-node ";for(u in o.li_attr)if(o.li_attr.hasOwnProperty(u)){if("id"===u)continue;"class"!==u?t.setAttribute(u,o.li_attr[u]):f+=o.li_attr[u]}for(o.a_attr.id||(o.a_attr.id=o.id+"_anchor"),t.setAttribute("aria-selected",!!o.state.selected),t.setAttribute("aria-level",o.parents.length),t.setAttribute("aria-labelledby",o.a_attr.id),o.state.disabled&&t.setAttribute("aria-disabled",!0),u=0,d=o.children.length;d>u;u++)if(!m[o.children[u]].state.hidden){x=!0;break}if(null!==o.parent&&m[o.parent]&&!o.state.hidden&&(u=e.inArray(o.id,m[o.parent].children),w=o.id,-1!==u))for(u++,d=m[o.parent].children.length;d>u&&(m[m[o.parent].children[u]].state.hidden||(w=m[o.parent].children[u]),w===o.id);u++);o.state.hidden&&(f+=" jstree-hidden"),o.state.loaded&&!x?f+=" jstree-leaf":(f+=o.state.opened&&o.state.loaded?" jstree-open":" jstree-closed",t.setAttribute("aria-expanded",o.state.opened&&o.state.loaded)),w===o.id&&(f+=" jstree-last"),t.id=o.id,t.className=f,f=(o.state.selected?" jstree-clicked":"")+(o.state.disabled?" jstree-disabled":"");for(d in o.a_attr)if(o.a_attr.hasOwnProperty(d)){if("href"===d&&"#"===o.a_attr[d])continue;"class"!==d?t.childNodes[1].setAttribute(d,o.a_attr[d]):f+=" "+o.a_attr[d]}if(f.length&&(t.childNodes[1].className="jstree-anchor "+f),(o.icon&&o.icon!==!0||o.icon===!1)&&(o.icon===!1?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===o.icon.indexOf("/")&&-1===o.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+o.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+o.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(p.createTextNode(o.text)):t.childNodes[1].innerHTML+=o.text,n&&o.children.length&&(o.state.opened||r)&&o.state.loaded){for(h=p.createElement("UL"),h.setAttribute("role","group"),h.className="jstree-children",u=0,d=o.children.length;d>u;u++)h.appendChild(this.redraw_node(o.children[u],n,!0));t.appendChild(h)}if(c&&t.appendChild(c),!i){for(a||(a=this.element[0]),u=0,d=a.childNodes.length;d>u;u++)if(a.childNodes[u]&&a.childNodes[u].className&&-1!==a.childNodes[u].className.indexOf("jstree-children")){v=a.childNodes[u];break}v||(v=p.createElement("UL"),v.setAttribute("role","group"),v.className="jstree-children",a.appendChild(v)),a=v,s<a.childNodes.length?a.insertBefore(t,a.childNodes[s]):a.appendChild(t),g&&(b=this.element[0].scrollTop,y=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=b,this.element[0].scrollLeft=y)}return o.state.opened&&!o.state.loaded&&(o.state.opened=!1,setTimeout(e.proxy(function(){this.open_node(o.id,!1,0)},this),0)),t},open_node:function(n,i,r){var o,a,s,l;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;a>o;o++)this.open_node(n[o],i,r);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?(r=r===t?this.settings.core.animation:r,this.is_closed(n)?this.is_loaded(n)?(s=this.get_node(n,!0),l=this,s.length&&(r&&s.children(".jstree-children").length&&s.children(".jstree-children").stop(!0,!0),n.children.length&&!this._firstChild(s.children(".jstree-children")[0])&&this.draw_children(n),r?(this.trigger("before_open",{node:n}),s.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",l.element&&l.trigger("after_open",{node:n})})):(this.trigger("before_open",{node:n}),s[0].className=s[0].className.replace("jstree-closed","jstree-open"),s[0].setAttribute("aria-expanded",!0))),n.state.opened=!0,i&&i.call(this,n,!0),s.length||this.trigger("before_open",{node:n}),this.trigger("open_node",{node:n}),r&&s.length||this.trigger("after_open",{node:n}),!0):this.is_loading(n)?setTimeout(e.proxy(function(){this.open_node(n,i,r)},this),500):void this.load_node(n,function(e,t){return t?this.open_node(e,i,r):i?i.call(this,e,!1):!1}):(i&&i.call(this,n,!1),!1)):!1},_open_to:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var n,i,r=t.parents;for(n=0,i=r.length;i>n;n+=1)n!==e.jstree.root&&this.open_node(r[n],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(n,i){var r,o,a,s;if(e.isArray(n)){for(n=n.slice(),r=0,o=n.length;o>r;r++)this.close_node(n[r],i);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?this.is_closed(n)?!1:(i=i===t?this.settings.core.animation:i,a=this,s=this.get_node(n,!0),n.state.opened=!1,this.trigger("close_node",{node:n}),void(s.length?i?s.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(i,function(){this.style.display="",s.children(".jstree-children").remove(),a.element&&a.trigger("after_close",{node:n})}):(s[0].className=s[0].className.replace("jstree-open","jstree-closed"),s.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:n})):this.trigger("after_close",{node:n}))):!1},toggle_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.toggle_node(t[n]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,n,i){if(t||(t=e.jstree.root),
t=this.get_node(t),!t)return!1;var r,o,a,s=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!s.length){for(r=0,o=t.children_d.length;o>r;r++)this.is_closed(this._model.data[t.children_d[r]])&&(this._model.data[t.children_d[r]].state.opened=!0);return this.trigger("open_all",{node:t})}i=i||s,a=this,s=this.is_closed(t)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){a.open_node(this,function(e,t){t&&this.is_parent(e)&&this.open_all(e,n,i)},n||0)}),0===i.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(i)})},close_all:function(t,n){if(t||(t=e.jstree.root),t=this.get_node(t),!t)return!1;var i,r,o=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),a=this;for(o.length&&(o=this.is_open(t)?o.find(".jstree-open").addBack():o.find(".jstree-open"),e(o.get().reverse()).each(function(){a.close_node(this,n||0)})),i=0,r=t.children_d.length;r>i;i++)this._model.data[t.children_d[i]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.enable_node(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:t})):!1},disable_node:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.disable_node(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:t})):!1},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.hide_node(t[i],!0);return n||this.redraw(),!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?void(t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),n||this.redraw(),this.trigger("hide_node",{node:t}))):!1},show_node:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.show_node(t[i],!0);return n||this.redraw(),!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?void(t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),n||this.redraw(),this.trigger("show_node",{node:t}))):!1},hide_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&!i[n].state.hidden&&(i[n].state.hidden=!0,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:r}),r},show_all:function(t){var n,i=this._model.data,r=[];for(n in i)i.hasOwnProperty(n)&&n!==e.jstree.root&&i[n].state.hidden&&(i[n].state.hidden=!1,r.push(n));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:r}),r},activate_node:function(e,n){if(this.is_disabled(e))return!1;if(n&&"object"==typeof n||(n={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&(!n.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(n.shiftKey){var i,r,o=this.get_node(e).id,a=this._data.core.last_clicked.id,s=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(i=0,r=s.length;r>i;i+=1)s[i]===o&&(l=!l),s[i]===a&&(l=!l),this.is_disabled(s[i])||!l&&s[i]!==o&&s[i]!==a?this.deselect_node(s[i],!0,n):this.is_hidden(s[i])||this.select_node(s[i],!0,!1,n);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:n})}else this.is_selected(e)?this.deselect_node(e,!1,n):this.select_node(e,!1,!1,n);else!this.settings.core.multiple&&(n.metaKey||n.ctrlKey||n.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,n):(this.deselect_all(!0),this.select_node(e,!1,!1,n),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:n})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),n=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){n.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){return e=this.get_node(e,!0),e&&e.length&&e.children(".jstree-hovered").length?(e.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(e)})):!1},select_node:function(t,n,i,r){var o,a,s;if(e.isArray(t)){for(t=t.slice(),a=0,s=t.length;s>a;a++)this.select_node(t[a],n,i,r);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(o=this.get_node(t,!0),void(t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),i||(o=this._open_to(t)),o&&o.length&&o.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:r}),n||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:r})))):!1},deselect_node:function(t,n,i){var r,o,a;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.deselect_node(t[r],n,i);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(a=this.get_node(t,!0),void(t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),a.length&&a.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:i}),n||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:i})))):!1},select_all:function(t){var n,i,r=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),n=0,i=this._data.core.selected.length;i>n;n++)this._model.data[this._data.core.selected[n]]&&(this._model.data[this._data.core.selected[n]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:r})},deselect_all:function(e){var t,n,i=this._data.core.selected.concat([]);for(t=0,n=this._data.core.selected.length;n>t;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:i}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.state.selected:!1},get_selected:function(t){return t?e.map(this._data.core.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.core.selected.slice()},get_top_selected:function(t){var n,i,r,o,a=this.get_selected(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];a=[];for(n in s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},get_bottom_selected:function(t){var n,i,r=this.get_selected(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},get_state:function(){var t,n={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.opened&&n.core.open.push(t),this._model.data[t].state.selected&&n.core.selected.push(t));return n},set_state:function(n,i){if(n){if(n.core){var r,o;if(n.core.open)return e.isArray(n.core.open)&&n.core.open.length?this._load_nodes(n.core.open,function(e){this.open_node(e,!1,0),delete n.core.open,this.set_state(n,i)}):(delete n.core.open,this.set_state(n,i)),!1;if(n.core.scroll)return n.core.scroll&&n.core.scroll.left!==t&&this.element.scrollLeft(n.core.scroll.left),n.core.scroll&&n.core.scroll.top!==t&&this.element.scrollTop(n.core.scroll.top),delete n.core.scroll,this.set_state(n,i),!1;if(n.core.selected)return r=this,this.deselect_all(),e.each(n.core.selected,function(e,t){r.select_node(t,!1,!0)}),delete n.core.selected,this.set_state(n,i),!1;for(o in n)n.hasOwnProperty(o)&&"core"!==o&&-1===e.inArray(o,this.settings.plugins)&&delete n[o];if(e.isEmptyObject(n.core))return delete n.core,this.set_state(n,i),!1}return e.isEmptyObject(n)?(n=null,i&&i.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,n){this._data.core.state=n===!0?{}:this.get_state(),n&&e.isFunction(n)&&(this._data.core.state=n.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var i=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+i+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(t,n){n&&(this.get_container_ul()[0].className=i,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(t){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var n=[],i=[],r=this._data.core.selected.concat([]);i.push(t.id),t.state.opened===!0&&n.push(t.id),this.get_node(t,!0).find(".jstree-open").each(function(){i.push(this.id),n.push(this.id)}),this._load_nodes(i,e.proxy(function(e){this.open_node(n,!1,0),this.select_node(r),this.trigger("refresh_node",{node:t,nodes:e})},this),!1,!0)},set_id:function(t,n){if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;var i,r,o=this._model.data,a=t.id;for(n=n.toString(),o[t.parent].children[e.inArray(t.id,o[t.parent].children)]=n,i=0,r=t.parents.length;r>i;i++)o[t.parents[i]].children_d[e.inArray(t.id,o[t.parents[i]].children_d)]=n;for(i=0,r=t.children.length;r>i;i++)o[t.children[i]].parent=n;for(i=0,r=t.children_d.length;r>i;i++)o[t.children_d[i]].parents[e.inArray(t.id,o[t.children_d[i]].parents)]=n;return i=e.inArray(t.id,this._data.core.selected),-1!==i&&(this._data.core.selected[i]=n),i=this.get_node(t.id,!0),i&&(i.attr("id",n),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",n)),delete o[t.id],t.id=n,t.li_attr.id=n,o[n]=t,this.trigger("set_id",{node:t,"new":t.id,old:a}),!0},get_text:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.text:!1},set_text:function(t,n){var i,r;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.set_text(t[i],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(t.text=n,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:n}),!0):!1},get_json:function(t,n,i){if(t=this.get_node(t||e.jstree.root),!t)return!1;n&&n.flat&&!i&&(i=[]);var r,o,a={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:n&&n.no_data?!1:e.extend(!0,{},t.data)};if(n&&n.flat?a.parent=t.parent:a.children=[],n&&n.no_state)delete a.state;else for(r in t.state)t.state.hasOwnProperty(r)&&(a.state[r]=t.state[r]);if(n&&n.no_li_attr&&delete a.li_attr,n&&n.no_a_attr&&delete a.a_attr,n&&n.no_id&&(delete a.id,a.li_attr&&a.li_attr.id&&delete a.li_attr.id,a.a_attr&&a.a_attr.id&&delete a.a_attr.id),n&&n.flat&&t.id!==e.jstree.root&&i.push(a),!n||!n.no_children)for(r=0,o=t.children.length;o>r;r++)n&&n.flat?this.get_json(t.children[r],n,i):a.children.push(this.get_json(t.children[r],n));return n&&n.flat?i:t.id===e.jstree.root?a.children:a},create_node:function(n,i,r,o,a){if(null===n&&(n=e.jstree.root),n=this.get_node(n),!n)return!1;if(r=r===t?"last":r,!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(n))return this.load_node(n,function(){this.create_node(n,i,r,o,!0)});i||(i={text:this.get_string("New node")}),"string"==typeof i&&(i={text:i}),i.text===t&&(i.text=this.get_string("New node"));var s,l,c,u;switch(n.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":s=this.get_node(n.parent),r=e.inArray(n.id,s.children),n=s;break;case"after":s=this.get_node(n.parent),r=e.inArray(n.id,s.children)+1,n=s;break;case"inside":case"first":r=0;break;case"last":r=n.children.length;break;default:r||(r=0)}if(r>n.children.length&&(r=n.children.length),i.id||(i.id=!0),!this.check("create_node",i,n,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.id===!0&&delete i.id,i=this._parse_model_from_json(i,n.id,n.parents.concat()),!i)return!1;for(s=this.get_node(i),l=[],l.push(i),l=l.concat(s.children_d),this.trigger("model",{nodes:l,parent:n.id}),n.children_d=n.children_d.concat(l),c=0,u=n.parents.length;u>c;c++)this._model.data[n.parents[c]].children_d=this._model.data[n.parents[c]].children_d.concat(l);for(i=s,s=[],c=0,u=n.children.length;u>c;c++)s[c>=r?c+1:c]=n.children[c];return s[r]=i.id,n.children=s,this.redraw_node(n,!0),o&&o.call(this,this.get_node(i)),this.trigger("create_node",{node:this.get_node(i),parent:n.id,position:r}),i.id},rename_node:function(t,n){var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.rename_node(t[i],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(o=t.text,this.check("rename_node",t,this.get_parent(t),n)?(this.set_text(t,n),this.trigger("rename_node",{node:t,text:n,old:o}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1)):!1},delete_node:function(t){var n,i,r,o,a,s,l,c,u,d,h,f;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.delete_node(t[n]);return!0}if(t=this.get_node(t),!t||t.id===e.jstree.root)return!1;if(r=this.get_node(t.parent),o=e.inArray(t.id,r.children),d=!1,!this.check("delete_node",t,r,o))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==o&&(r.children=e.vakata.array_remove(r.children,o)),a=t.children_d.concat([]),a.push(t.id),s=0,l=t.parents.length;l>s;s++)this._model.data[t.parents[s]].children_d=e.vakata.array_filter(this._model.data[t.parents[s]].children_d,function(t){return-1===e.inArray(t,a)});for(c=0,u=a.length;u>c;c++)if(this._model.data[a[c]].state.selected){d=!0;break}for(d&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(t){return-1===e.inArray(t,a)})),this.trigger("delete_node",{node:t,parent:r.id}),d&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:r.id}),c=0,u=a.length;u>c;c++)delete this._model.data[a[c]];return-1!==e.inArray(this._data.core.focused,a)&&(this._data.core.focused=null,h=this.element[0].scrollTop,f=this.element[0].scrollLeft,r.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(r,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=h,this.element[0].scrollLeft=f),this.redraw_node(r,!0),!0},check:function(t,n,i,r,o){n=n&&n.id?n:this.get_node(n),i=i&&i.id?i:this.get_node(i);var a=t.match(/^move_node|copy_node|create_node$/i)?i:n,s=this.settings.core.check_callback;return"move_node"!==t&&"copy_node"!==t||o&&o.is_multi||n.id!==i.id&&("move_node"!==t||e.inArray(n.id,i.children)!==r)&&-1===e.inArray(i.id,n.children_d)?(a&&a.data&&(a=a.data),a&&a.functions&&(a.functions[t]===!1||a.functions[t]===!0)?(a.functions[t]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})}),a.functions[t]):s===!1||e.isFunction(s)&&s.call(this,t,n,i,r,o)===!1||s&&s[t]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:r,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})},!1):!0):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:r,obj:n&&n.id?n.id:!1,par:i&&i.id?i.id:!1})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(n,i,r,o,a,s,l){var c,u,d,h,f,p,m,g,v,b,y,x,w,_;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.move_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,u=n.length;u>c;c++)(v=this.move_node(n[c],i,r,o,a,!1,l))&&(i=v,r="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||n.id===e.jstree.root)return!1;if(d=(n.parent||e.jstree.root).toString(),f=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,p=l?l:this._model.data[n.id]?this:e.jstree.reference(n.id),m=!p||!p._id||this._id!==p._id,h=p&&p._id&&d&&p._model.data[d]&&p._model.data[d].children?e.inArray(n.id,p._model.data[d].children):-1,p&&p._id&&(n=p._model.data[n.id]),m)return(v=this.copy_node(n,i,r,o,a,!1,l))?(p&&p.delete_node(n),v):!1;switch(i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,f.children);break;case"after":r=e.inArray(i.id,f.children)+1;break;case"inside":case"first":r=0;break;case"last":r=f.children.length;break;default:r||(r=0)}if(r>f.children.length&&(r=f.children.length),!this.check("move_node",n,f,r,{core:!0,origin:l,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(n.parent===f.id){for(g=f.children.concat(),v=e.inArray(n.id,g),-1!==v&&(g=e.vakata.array_remove(g,v),r>v&&r--),v=[],b=0,y=g.length;y>b;b++)v[b>=r?b+1:b]=g[b];v[r]=n.id,f.children=v,this._node_changed(f.id),this.redraw(f.id===e.jstree.root)}else{for(v=n.children_d.concat(),v.push(n.id),b=0,y=n.parents.length;y>b;b++){for(g=[],_=p._model.data[n.parents[b]].children_d,x=0,w=_.length;w>x;x++)-1===e.inArray(_[x],v)&&g.push(_[x]);p._model.data[n.parents[b]].children_d=g}for(p._model.data[d].children=e.vakata.array_remove_item(p._model.data[d].children,n.id),b=0,y=f.parents.length;y>b;b++)this._model.data[f.parents[b]].children_d=this._model.data[f.parents[b]].children_d.concat(v);for(g=[],b=0,y=f.children.length;y>b;b++)g[b>=r?b+1:b]=f.children[b];for(g[r]=n.id,f.children=g,f.children_d.push(n.id),f.children_d=f.children_d.concat(n.children_d),n.parent=f.id,v=f.parents.concat(),v.unshift(f.id),_=n.parents.length,n.parents=v,v=v.concat(),b=0,y=n.children_d.length;y>b;b++)this._model.data[n.children_d[b]].parents=this._model.data[n.children_d[b]].parents.slice(0,-1*_),Array.prototype.push.apply(this._model.data[n.children_d[b]].parents,v);(d===e.jstree.root||f.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(d),this._node_changed(f.id)),s||this.redraw()}return o&&o.call(this,n,f,r),this.trigger("move_node",{node:n,parent:f.id,position:r,old_parent:d,old_position:h,is_multi:p&&p._id&&p._id!==this._id,is_foreign:!p||!p._id,old_instance:p,new_instance:this}),n.id},copy_node:function(n,i,r,o,a,s,l){var c,u,d,h,f,p,m,g,v,b,y;if(i=this.get_node(i),r=r===t?0:r,!i)return!1;if(!r.toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return this.load_node(i,function(){this.copy_node(n,i,r,o,!0,!1,l)});if(e.isArray(n)){if(1!==n.length){for(c=0,u=n.length;u>c;c++)(h=this.copy_node(n[c],i,r,o,a,!0,l))&&(i=h,r="after");return this.redraw(),!0}n=n[0]}if(n=n&&n.id?n:this.get_node(n),!n||n.id===e.jstree.root)return!1;switch(g=(n.parent||e.jstree.root).toString(),v=r.toString().match(/^(before|after)$/)&&i.id!==e.jstree.root?this.get_node(i.parent):i,b=l?l:this._model.data[n.id]?this:e.jstree.reference(n.id),y=!b||!b._id||this._id!==b._id,b&&b._id&&(n=b._model.data[n.id]),i.id===e.jstree.root&&("before"===r&&(r="first"),"after"===r&&(r="last")),r){case"before":r=e.inArray(i.id,v.children);break;case"after":r=e.inArray(i.id,v.children)+1;break;case"inside":case"first":r=0;break;case"last":r=v.children.length;break;default:r||(r=0)}if(r>v.children.length&&(r=v.children.length),!this.check("copy_node",n,v,r,{core:!0,origin:l,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(m=b?b.get_json(n,{no_id:!0,no_data:!0,no_state:!0}):n,!m)return!1;if(m.id===!0&&delete m.id,m=this._parse_model_from_json(m,v.id,v.parents.concat()),!m)return!1;for(h=this.get_node(m),n&&n.state&&n.state.loaded===!1&&(h.state.loaded=!1),d=[],d.push(m),d=d.concat(h.children_d),this.trigger("model",{nodes:d,parent:v.id}),f=0,p=v.parents.length;p>f;f++)this._model.data[v.parents[f]].children_d=this._model.data[v.parents[f]].children_d.concat(d);for(d=[],f=0,p=v.children.length;p>f;f++)d[f>=r?f+1:f]=v.children[f];return d[r]=h.id,v.children=d,v.children_d.push(h.id),v.children_d=v.children_d.concat(h.children_d),v.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(v.id),s||this.redraw(v.id===e.jstree.root),o&&o.call(this,h,v,r),this.trigger("copy_node",{node:h,original:n,parent:v.id,position:r,old_parent:g,old_position:b&&b._id&&g&&b._model.data[g]&&b._model.data[g].children?e.inArray(n.id,b._model.data[g].children):-1,is_multi:b&&b._id&&b._id!==this._id,is_foreign:!b||!b._id,old_instance:b,new_instance:this}),h.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,s,l=[];for(a=0,s=t.length;s>a;a++)n=this.get_node(t[a]),n&&n.id&&n.id!==e.jstree.root&&l.push(n);return l.length?(i=l,o=this,r="move_node",void this.trigger("cut",{node:t})):!1},copy:function(t){if(t||(t=this._data.core.selected.concat()),e.isArray(t)||(t=[t]),!t.length)return!1;var n,a,s,l=[];for(a=0,s=t.length;s>a;a++)n=this.get_node(t[a]),n&&n.id&&n.id!==e.jstree.root&&l.push(n);return l.length?(i=l,o=this,r="copy_node",void this.trigger("copy",{node:t})):!1},get_buffer:function(){return{mode:r,node:i,inst:o}},can_paste:function(){return r!==!1&&i!==!1},paste:function(e,t){return e=this.get_node(e),e&&r&&r.match(/^(copy_node|move_node)$/)&&i?(this[r](i,e,t,!1,!1,!1,o)&&this.trigger("paste",{parent:e.id,node:i,mode:r}),i=!1,r=!1,void(o=!1)):!1},clear_buffer:function(){i=!1,r=!1,o=!1,this.trigger("clear_buffer")},edit:function(t,n,i){var r,o,a,s,c,u,d,h,f,p=!1;return(t=this.get_node(t))?this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(f=t,n="string"==typeof n?n:t.text,this.set_text(t,""),t=this._open_to(t),f.text=n,r=this._data.core.rtl,o=this.element.width(),this._data.core.focused=f.id,a=t.children(".jstree-anchor").focus(),s=e("<span>"),c=n,u=e("<div />",{css:{position:"absolute",top:"-200px",left:r?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),d=e("<input />",{value:c,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:e.proxy(function(n){n.stopImmediatePropagation(),n.preventDefault();var r,o=s.children(".jstree-rename-input"),l=o.val(),h=this.settings.core.force_text;""===l&&(l=c),u.remove(),s.replaceWith(a),s.remove(),c=h?c:e("<div></div>").append(e.parseHTML(c)).html(),this.set_text(t,c),r=!!this.rename_node(t,h?e("<div></div>").text(l).text():e("<div></div>").append(e.parseHTML(l)).html()),r||this.set_text(t,c),this._data.core.focused=f.id,setTimeout(e.proxy(function(){var e=this.get_node(f.id,!0);e.length&&(this._data.core.focused=f.id,e.children(".jstree-anchor").focus())},this),0),i&&i.call(this,f,r,p),d=null},this),keydown:function(e){var t=e.which;27===t&&(p=!0,this.value=c),(27===t||13===t||37===t||38===t||39===t||40===t||32===t)&&e.stopImmediatePropagation(),(27===t||13===t)&&(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){d.width(Math.min(u.text("pW"+this.value).width(),o))},keypress:function(e){return 13===e.which?!1:void 0}}),h={fontFamily:a.css("fontFamily")||"",fontSize:a.css("fontSize")||"",fontWeight:a.css("fontWeight")||"",fontStyle:a.css("fontStyle")||"",fontStretch:a.css("fontStretch")||"",fontVariant:a.css("fontVariant")||"",letterSpacing:a.css("letterSpacing")||"",wordSpacing:a.css("wordSpacing")||""},s.attr("class",a.attr("class")).append(a.contents().clone()).append(d),a.replaceWith(s),u.css(h),d.css(h).width(Math.min(u.text("pW"+d[0].value).width(),o))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){d&&t.target!==d&&e(d).blur()})):!1},set_theme:function(t,n){if(!t)return!1;if(n===!0){var i=this.settings.core.themes.dir;i||(i=e.jstree.path+"/themes"),n=i+"/"+t+"/style.css"}n&&-1===e.inArray(n,a)&&(e("head").append('<link rel="stylesheet" href="'+n+'" type="text/css" />'),a.push(n)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(n,i){var r,o,a,s;if(e.isArray(n)){for(n=n.slice(),r=0,o=n.length;o>r;r++)this.set_icon(n[r],i);return!0}return n=this.get_node(n),n&&n.id!==e.jstree.root?(s=n.icon,n.icon=i===!0||null===i||i===t||""===i?!0:i,a=this.get_node(n,!0).children(".jstree-anchor").children(".jstree-themeicon"),i===!1?this.hide_icon(n):i===!0||null===i||i===t||""===i?(a.removeClass("jstree-themeicon-custom "+s).css("background","").removeAttr("rel"),s===!1&&this.show_icon(n)):-1===i.indexOf("/")&&-1===i.indexOf(".")?(a.removeClass(s).css("background",""),a.addClass(i+" jstree-themeicon-custom").attr("rel",i),s===!1&&this.show_icon(n)):(a.removeClass(s).css("background",""),a.addClass("jstree-themeicon-custom").css("background","url('"+i+"') center center no-repeat").attr("rel",i),s===!1&&this.show_icon(n)),!0):!1},get_icon:function(t){return t=this.get_node(t),t&&t.id!==e.jstree.root?t.icon:!1},hide_icon:function(t){var n,i;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.hide_icon(t[n]);return!0}return t=this.get_node(t),t&&t!==e.jstree.root?(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0):!1},show_icon:function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.show_icon(t[n]);return!0}return t=this.get_node(t),t&&t!==e.jstree.root?(r=this.get_node(t,!0),t.icon=r.length?r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0):!1}},e.vakata={},e.vakata.attributes=function(t,n){t=e(t)[0];var i=n?{}:[];return t&&t.attributes&&e.each(t.attributes,function(t,r){-1===e.inArray(r.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==r.value&&""!==e.trim(r.value)&&(n?i[r.name]=r.value:i.push(r.name))}),i},e.vakata.array_unique=function(e){var n,i,r=[],o={};for(n=0,i=e.length;i>n;n++)o[e[n]]===t&&(r.push(e[n]),o[e[n]]=!0);return r},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,n){var i=e.inArray(n,t);return-1!==i?e.vakata.array_remove(t,i):t},e.vakata.array_filter=function(e,t,n,i,r){if(e.filter)return e.filter(t,n);i=[];for(r in e)~~r+""==r+""&&r>=0&&t.call(n,e[r],+r,e)&&i.push(e[r]);return i},e.jstree.plugins.changed=function(e,t){var n=[];this.trigger=function(e,i){var r,o;if(i||(i={}),"changed"===e.replace(".jstree","")){i.changed={selected:[],deselected:[]};var a={};for(r=0,o=n.length;o>r;r++)a[n[r]]=1;for(r=0,o=i.selected.length;o>r;r++)a[i.selected[r]]?a[i.selected[r]]=2:i.changed.selected.push(i.selected[r]);for(r=0,o=n.length;o>r;r++)1===a[n[r]]&&i.changed.deselected.push(n[r]);n=i.selected.slice()}t.trigger.call(this,e,i)},this.refresh=function(e,i){return n=[],t.refresh.apply(this,arguments)}};var c=l.createElement("I");c.className="jstree-icon jstree-checkbox",c.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},e.jstree.plugins.checkbox=function(n,i){this.bind=function(){i.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",e.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,
this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",e.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",e.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",e.proxy(function(e,t){var n,i,r=this._model.data,o=(r[t.parent],t.nodes);for(n=0,i=o.length;i>n;n++)r[o[n]].state.checked=r[o[n]].state.checked||r[o[n]].original&&r[o[n]].original.state&&r[o[n]].original.state.checked,r[o[n]].state.checked&&this._data.checkbox.selected.push(o[n])},this)),(-1!==this.settings.checkbox.cascade.indexOf("up")||-1!==this.settings.checkbox.cascade.indexOf("down"))&&this.element.on("model.jstree",e.proxy(function(t,n){var i,r,o,a,s,l,c=this._model.data,u=c[n.parent],d=n.nodes,h=[],f=this.settings.checkbox.cascade,p=this.settings.checkbox.tie_selection;if(-1!==f.indexOf("down"))if(u.state[p?"selected":"checked"]){for(r=0,o=d.length;o>r;r++)c[d[r]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(d)}else for(r=0,o=d.length;o>r;r++)if(c[d[r]].state[p?"selected":"checked"]){for(a=0,s=c[d[r]].children_d.length;s>a;a++)c[c[d[r]].children_d[a]].state[p?"selected":"checked"]=!0;this._data[p?"core":"checkbox"].selected=this._data[p?"core":"checkbox"].selected.concat(c[d[r]].children_d)}if(-1!==f.indexOf("up")){for(r=0,o=u.children_d.length;o>r;r++)c[u.children_d[r]].children.length||h.push(c[u.children_d[r]].parent);for(h=e.vakata.array_unique(h),a=0,s=h.length;s>a;a++)for(u=c[h[a]];u&&u.id!==e.jstree.root;){for(i=0,r=0,o=u.children.length;o>r;r++)i+=c[u.children[r]].state[p?"selected":"checked"];if(i!==o)break;u.state[p?"selected":"checked"]=!0,this._data[p?"core":"checkbox"].selected.push(u.id),l=this.get_node(u,!0),l&&l.length&&l.attr("aria-selected",!0).children(".jstree-anchor").addClass(p?"jstree-clicked":"jstree-checked"),u=this.get_node(u.parent)}}this._data[p?"core":"checkbox"].selected=e.vakata.array_unique(this._data[p?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",e.proxy(function(t,n){var i,r,o,a,s=n.node,l=this._model.data,c=this.get_node(s.parent),u=this.get_node(s,!0),d=this.settings.checkbox.cascade,h=this.settings.checkbox.tie_selection,f={},p=this._data[h?"core":"checkbox"].selected;for(i=0,r=p.length;r>i;i++)f[p[i]]=!0;if(-1!==d.indexOf("down"))for(i=0,r=s.children_d.length;r>i;i++)f[s.children_d[i]]=!0,a=l[s.children_d[i]],a.state[h?"selected":"checked"]=!0,a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1);if(-1!==d.indexOf("up"))for(;c&&c.id!==e.jstree.root;){for(o=0,i=0,r=c.children.length;r>i;i++)o+=l[c.children[i]].state[h?"selected":"checked"];if(o!==r)break;c.state[h?"selected":"checked"]=!0,f[c.id]=!0,a=this.get_node(c,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}p=[];for(i in f)f.hasOwnProperty(i)&&p.push(i);this._data[h?"core":"checkbox"].selected=p,-1!==d.indexOf("down")&&u.length&&u.find(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",e.proxy(function(t,n){var i,r,o,a=this.get_node(e.jstree.root),s=this._model.data;for(i=0,r=a.children_d.length;r>i;i++)o=s[a.children_d[i]],o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",e.proxy(function(t,n){var i,r,o,a=n.node,s=this.get_node(a,!0),l=this.settings.checkbox.cascade,c=this.settings.checkbox.tie_selection,u=this._data[c?"core":"checkbox"].selected,d={};if(a&&a.original&&a.original.state&&a.original.state.undetermined&&(a.original.state.undetermined=!1),-1!==l.indexOf("down"))for(i=0,r=a.children_d.length;r>i;i++)o=this._model.data[a.children_d[i]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1);if(-1!==l.indexOf("up"))for(i=0,r=a.parents.length;r>i;i++)o=this._model.data[a.parents[i]],o.state[c?"selected":"checked"]=!1,o&&o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=!1),o=this.get_node(a.parents[i],!0),o&&o.length&&o.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked");for(d={},i=0,r=u.length;r>i;i++)-1!==l.indexOf("down")&&-1!==e.inArray(u[i],a.children_d)||-1!==l.indexOf("up")&&-1!==e.inArray(u[i],a.parents)||(d[u[i]]=!0);u=[];for(i in d)d.hasOwnProperty(i)&&u.push(i);this._data[c?"core":"checkbox"].selected=u,-1!==l.indexOf("down")&&s.length&&s.find(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",e.proxy(function(t,n){for(var i,r,o,a,s=this.get_node(n.parent),l=this._model.data,c=this.settings.checkbox.tie_selection;s&&s.id!==e.jstree.root&&!s.state[c?"selected":"checked"];){for(o=0,i=0,r=s.children.length;r>i;i++)o+=l[s.children[i]].state[c?"selected":"checked"];if(!(r>0&&o===r))break;s.state[c?"selected":"checked"]=!0,this._data[c?"core":"checkbox"].selected.push(s.id),a=this.get_node(s,!0),a&&a.length&&a.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked"),s=this.get_node(s.parent)}},this)).on("move_node.jstree",e.proxy(function(t,n){var i,r,o,a,s,l=n.is_multi,c=n.old_parent,u=this.get_node(n.parent),d=this._model.data,h=this.settings.checkbox.tie_selection;if(!l)for(i=this.get_node(c);i&&i.id!==e.jstree.root&&!i.state[h?"selected":"checked"];){for(r=0,o=0,a=i.children.length;a>o;o++)r+=d[i.children[o]].state[h?"selected":"checked"];if(!(a>0&&r===a))break;i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"),i=this.get_node(i.parent)}for(i=u;i&&i.id!==e.jstree.root;){for(r=0,o=0,a=i.children.length;a>o;o++)r+=d[i.children[o]].state[h?"selected":"checked"];if(r===a)i.state[h?"selected":"checked"]||(i.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!0).children(".jstree-anchor").addClass(h?"jstree-clicked":"jstree-checked"));else{if(!i.state[h?"selected":"checked"])break;i.state[h?"selected":"checked"]=!1,this._data[h?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[h?"core":"checkbox"].selected,i.id),s=this.get_node(i,!0),s&&s.length&&s.attr("aria-selected",!1).children(".jstree-anchor").removeClass(h?"jstree-clicked":"jstree-checked")}i=this.get_node(i.parent)}},this))},this._undetermined=function(){if(null!==this.element){var n,i,r,o,a={},s=this._model.data,l=this.settings.checkbox.tie_selection,c=this._data[l?"core":"checkbox"].selected,u=[],d=this;for(n=0,i=c.length;i>n;n++)if(s[c[n]]&&s[c[n]].parents)for(r=0,o=s[c[n]].parents.length;o>r&&a[s[c[n]].parents[r]]===t;r++)s[c[n]].parents[r]!==e.jstree.root&&(a[s[c[n]].parents[r]]=!0,u.push(s[c[n]].parents[r]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var l,c=d.get_node(this);if(c.state.loaded){for(n=0,i=c.children_d.length;i>n;n++)if(l=s[c.children_d[n]],!l.state.loaded&&l.original&&l.original.state&&l.original.state.undetermined&&l.original.state.undetermined===!0)for(a[l.id]===t&&l.id!==e.jstree.root&&(a[l.id]=!0,u.push(l.id)),r=0,o=l.parents.length;o>r;r++)a[l.parents[r]]===t&&l.parents[r]!==e.jstree.root&&(a[l.parents[r]]=!0,u.push(l.parents[r]))}else if(c.original&&c.original.state&&c.original.state.undetermined&&c.original.state.undetermined===!0)for(a[c.id]===t&&c.id!==e.jstree.root&&(a[c.id]=!0,u.push(c.id)),r=0,o=c.parents.length;o>r;r++)a[c.parents[r]]===t&&c.parents[r]!==e.jstree.root&&(a[c.parents[r]]=!0,u.push(c.parents[r]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),n=0,i=u.length;i>n;n++)s[u[n]].state[l?"selected":"checked"]||(c=this.get_node(u[n],!0),c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(t,n,r,o){if(t=i.redraw_node.apply(this,arguments)){var a,s,l=null,u=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(!this.settings.checkbox.tie_selection&&this._model.data[t.id].state.checked&&(l.className+=" jstree-checked"),u=c.cloneNode(!1),this._model.data[t.id].state.checkbox_disabled&&(u.className+=" jstree-checkbox-disabled"),l.insertBefore(u,l.childNodes[0]))}return r||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(e.proxy(this._undetermined,this),50)),t},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var n,i,r=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,a=this._data[o?"core":"checkbox"].selected,s=this._model.data;if(!t||t.state[o?"selected":"checked"]===!0||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&t.original.state.undetermined===!0)return!0;for(n=0,i=t.children_d.length;i>n;n++)if(-1!==e.inArray(t.children_d[n],a)||!s[t.children_d[n]].state.loaded&&s[t.children_d[n]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.disable_checkbox(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(r=this.get_node(t,!0),void(t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t})))):!1},this.enable_checkbox=function(t){var n,i,r;if(e.isArray(t)){for(t=t.slice(),n=0,i=t.length;i>n;n++)this.enable_checkbox(t[n]);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(r=this.get_node(t,!0),void(t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t})))):!1},this.activate_node=function(t,n){return e(n.target).hasClass("jstree-checkbox-disabled")?!1:(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(n.target).hasClass("jstree-checkbox"))&&(n.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(n.target).hasClass("jstree-checkbox")?i.activate_node.call(this,t,n):this.is_disabled(t)?!1:(this.is_checked(t)?this.uncheck_node(t,n):this.check_node(t,n),void this.trigger("activate_node",{node:this.get_node(t)})))},this.check_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),r=0,o=t.length;o>r;r++)this.check_node(t[r],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(i=this.get_node(t,!0),void(t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),i&&i.length&&i.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:n})))):!1},this.uncheck_node=function(t,n){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,n);var i,r,o;if(e.isArray(t)){for(t=t.slice(),i=0,r=t.length;r>i;i++)this.uncheck_node(t[i],n);return!0}return t=this.get_node(t),t&&t.id!==e.jstree.root?(o=this.get_node(t,!0),void(t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:n})))):!1},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,n;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,n=this._data.checkbox.selected.length;n>t;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,n=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;t>e;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:n})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):(t=this.get_node(t),t&&t.id!==e.jstree.root?t.state.checked:!1)},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,e.proxy(function(e){return this.get_node(e)},this)):this._data.checkbox.selected},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var n,i,r,o,a=this.get_checked(!0),s={};for(n=0,i=a.length;i>n;n++)s[a[n].id]=a[n];for(n=0,i=a.length;i>n;n++)for(r=0,o=a[n].children_d.length;o>r;r++)s[a[n].children_d[r]]&&delete s[a[n].children_d[r]];a=[];for(n in s)s.hasOwnProperty(n)&&a.push(n);return t?e.map(a,e.proxy(function(e){return this.get_node(e)},this)):a},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var n,i,r=this.get_checked(!0),o=[];for(n=0,i=r.length;i>n;n++)r[n].children.length||o.push(r[n].id);return t?e.map(o,e.proxy(function(e){return this.get_node(e)},this)):o},this.load_node=function(t,n){var r,o,a,s;if(!e.isArray(t)&&!this.settings.checkbox.tie_selection&&(s=this.get_node(t),s&&s.state.loaded))for(r=0,o=s.children_d.length;o>r;r++)this._model.data[s.children_d[r]].state.checked&&(a=!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,s.children_d[r]));return i.load_node.apply(this,arguments)},this.get_state=function(){var e=i.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?e:(e.checkbox=this._data.checkbox.selected.slice(),e)},this.set_state=function(t,n){var r=i.set_state.apply(this,arguments);if(r&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var o=this;e.each(t.checkbox,function(e,t){o.check_node(t)})}return delete t.checkbox,this.set_state(t,n),!1}return r},this.refresh=function(e,t){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),i.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,n){this.settings.conditionalselect.call(this,this.get_node(e),n)&&t.activate_node.call(this,e,n)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,n){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.create_node(i,{},"last",function(e){setTimeout(function(){n.edit(e)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.edit(i)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.delete_node(n.get_selected()):n.delete_node(i)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.cut(n.get_top_selected()):n.cut(i)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.is_selected(i)?n.copy(n.get_top_selected()):n.copy(i)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var n=e.jstree.reference(t.reference),i=n.get_node(t.reference);n.paste(i)}}}}}}},e.jstree.plugins.contextmenu=function(n,i){this.bind=function(){i.bind.call(this);var t,n,r=0,o=null;this.element.on("contextmenu.jstree",".jstree-anchor",e.proxy(function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),r=e.ctrlKey?+new Date:0,(t||o)&&(r=+new Date+1e4),o&&clearTimeout(o),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))},this)).on("click.jstree",".jstree-anchor",e.proxy(function(t){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&e.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(t=i.originalEvent.changedTouches[0].clientX,n=i.originalEvent.changedTouches[0].clientY,o=setTimeout(function(){e(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(e){o&&e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(Math.abs(t-e.originalEvent.changedTouches[0].clientX)>50||Math.abs(n-e.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(o)}).on("touchend.vakata.jstree",function(e){o&&clearTimeout(o)}),e(l).on("context_hide.vakata.jstree",e.proxy(function(t,n){this._data.contextmenu.visible=!1,e(n.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),i.teardown.call(this)},this.show_contextmenu=function(n,i,r,o){if(n=this.get_node(n),!n||n.id===e.jstree.root)return!1;var a=this.settings.contextmenu,s=this.get_node(n,!0),l=s.children(".jstree-anchor"),c=!1,u=!1;(a.show_at_node||i===t||r===t)&&(c=l.offset(),i=c.left,r=c.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(n)&&this.activate_node(n,o),u=a.items,e.isFunction(u)&&(u=u.call(this,n,e.proxy(function(e){this._show_contextmenu(n,i,r,e)},this))),e.isPlainObject(u)&&this._show_contextmenu(n,i,r,u)},this._show_contextmenu=function(t,n,i,r){var o=this.get_node(t,!0),a=o.children(".jstree-anchor");e(l).one("context_show.vakata.jstree",e.proxy(function(t,n){var i="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(n.element).addClass(i),a.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,e.vakata.context.show(a,{x:n,y:i},r),this.trigger("show_contextmenu",{node:t,x:n,y:i})}},function(e){var t=!1,n={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}})},_execute:function(t){return t=n.items[t],t&&(!t._disabled||e.isFunction(t._disabled)&&!t._disabled({item:t,reference:n.reference,element:n.element}))&&t.action?t.action.call(null,{item:t,reference:n.reference,element:n.element,position:{x:n.position_x,y:n.position_y}}):!1},_parse:function(t,i){if(!t)return!1;i||(n.html="",n.items=[]);var r,o="",a=!1;return i&&(o+="<ul>"),e.each(t,function(t,i){return i?(n.items.push(i),!a&&i.separator_before&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),a=!1,o+="<li class='"+(i._class||"")+(i._disabled===!0||e.isFunction(i._disabled)&&i._disabled({item:i,reference:n.reference,element:n.element})?" vakata-contextmenu-disabled ":"")+"' "+(i.shortcut?" data-shortcut='"+i.shortcut+"' ":"")+">",o+="<a href='#' rel='"+(n.items.length-1)+"' "+(i.title?"title='"+i.title+"'":"")+">",e.vakata.context.settings.icons&&(o+="<i ",i.icon&&(o+=-1!==i.icon.indexOf("/")||-1!==i.icon.indexOf(".")?" style='background:url(\""+i.icon+"\") center center no-repeat' ":" class='"+i.icon+"' "),o+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),o+=(e.isFunction(i.label)?i.label({item:t,reference:n.reference,element:n.element}):i.label)+(i.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+i.shortcut+'">'+(i.shortcut_label||"")+"</span>":"")+"</a>",i.submenu&&(r=e.vakata.context._parse(i.submenu,!0),r&&(o+=r)),o+="</li>",void(i.separator_after&&(o+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",a=!0))):!0}),o=o.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),i&&(o+="</ul>"),i||(n.html=o,e.vakata.context._trigger("parse")),o.length>10?o:!1},_show_submenu:function(n){if(n=e(n),n.length&&n.children("ul").length){var i=n.children("ul"),r=n.offset().left,o=r+n.outerWidth(),a=n.offset().top,s=i.width(),l=i.height(),c=e(window).width()+e(window).scrollLeft(),u=e(window).height()+e(window).scrollTop();t?n[o-(s+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[o+s>c&&r>c-o?"addClass":"removeClass"]("vakata-context-right"),a+l+10>u&&i.css("bottom","-1px"),n.hasClass("vakata-context-right")?s>r&&i.css("margin-right",r-s):s>c-o&&i.css("margin-left",c-o-s),i.show()}},show:function(i,r,o){var a,s,l,c,u,d,h,f,p=!0;switch(n.element&&n.element.length&&n.element.width(""),p){case!r&&!i:return!1;case!!r&&!!i:n.reference=i,n.position_x=r.x,n.position_y=r.y;break;case!r&&!!i:n.reference=i,a=i.offset(),n.position_x=a.left+i.outerHeight(),n.position_y=a.top;break;case!!r&&!i:n.position_x=r.x,n.position_y=r.y}i&&!o&&e(i).data("vakata_contextmenu")&&(o=e(i).data("vakata_contextmenu")),e.vakata.context._parse(o)&&n.element.html(n.html),n.items.length&&(n.element.appendTo("body"),s=n.element,l=n.position_x,c=n.position_y,u=s.width(),d=s.height(),h=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(l-=s.outerWidth()-e(i).outerWidth(),l<e(window).scrollLeft()+20&&(l=e(window).scrollLeft()+20)),l+u+20>h&&(l=h-(u+20)),c+d+20>f&&(c=f-(d+20)),n.element.css({left:l,top:c}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),n.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){n.is_visible&&(n.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),n.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){t="rtl"===e("body").css("direction");var i=!1;n.element=e("<ul class='vakata-context'></ul>"),n.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(i&&clearTimeout(i),n.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(i=setTimeout(function(t){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),e(this).blur().parent().hasClass("vakata-context-disabled")||e.vakata.context._execute(e(this).attr("rel"))===!1||e.vakata.context.hide()}).on("keydown","a",function(t){var i=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:n.is_visible&&(n.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:n.is_visible&&(i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),i.length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:n.is_visible&&(n.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:n.is_visible&&(i=n.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),i.length||(i=n.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),i.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}}).on("keydown",function(e){e.preventDefault();var t=n.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.click()}),e(l).on("mousedown.vakata.jstree",function(t){n.is_visible&&!e.contains(n.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(e,i){n.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&n.element.addClass("vakata-context-rtl").css("direction","rtl"),n.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var u,d;e.jstree.plugins.dnd=function(t,n){this.init=function(e,t){n.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){n.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",e.proxy(function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var n=this.get_node(t.target),i=this.is_selected(n)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,r=i>1?i+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(r=e.vakata.html.escape(r)),n&&n.id&&n.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(this.settings.dnd.is_draggable===!0||e.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,i>1?this.get_top_selected(!0):[n],t))){if(u={jstree:!0,origin:this,obj:this.get_node(n,!0),nodes:i>1?this.get_top_selected():[n.id]},d=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,u,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+r+'<ins class="jstree-copy" style="display:none;">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:d,data:u})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:d,data:u}),!1}).on("drop.jstree",e.proxy(function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:d,data:u}),!1},this))},this.redraw_node=function(e,t,i,r){if(e=n.redraw_node.apply(this,arguments),e&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var o,a,s=null;for(o=0,a=e.childNodes.length;a>o;o++)if(e.childNodes[o]&&e.childNodes[o].className&&-1!==e.childNodes[o].className.indexOf("jstree-anchor")){s=e.childNodes[o];break}s&&s.setAttribute("draggable",!0)}return e}},e(function(){var n=!1,i=!1,r=!1,o=!1,a=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dnd_start.vakata.jstree",function(e,t){n=!1,r=!1,t&&t.data&&t.data.jstree&&a.appendTo("body")}).on("dnd_move.vakata.jstree",function(s,l){if(o&&(l.event&&"dragover"===l.event.type&&l.event.target===r.target||clearTimeout(o)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){r=l.event;var c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S=e.jstree.reference(l.event.target),T=!1,D=!1,A=!1;if(S&&S._data&&S._data.dnd)if(a.attr("class","jstree-"+S.get_theme()+(S.settings.core.themes.responsive?" jstree-dnd-responsive":"")),k=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+S.get_theme()+" jstree-"+S.get_theme()+"-"+S.get_theme_variant()+" "+(S.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[k?"show":"hide"](),l.event.target!==S.element[0]&&l.event.target!==S.get_container_ul()[0]||0!==S.get_container_ul().children().length){if(T=S.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"),T&&T.length&&T.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(D=T.offset(),A=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-D.top,d=T.outerHeight(),p=d/3>A?["b","i","a"]:A>d-d/3?["a","i","b"]:A>d/2?["i","a","b"]:["i","b","a"],e.each(p,function(t,r){switch(r){case"b":c=D.left-6,u=D.top,h=S.get_parent(T),f=T.parent().index();break;case"i":w=S.settings.dnd.inside_pos,_=S.get_node(T.parent()),c=D.left-2,u=D.top+d/2+1,h=_.id,f="first"===w?0:"last"===w?_.children.length:Math.min(w,_.children.length);break;case"a":c=D.left-6,u=D.top+d,h=S.get_parent(T),f=T.parent().index()+1}for(m=!0,g=0,v=l.data.nodes.length;v>g;g++)if(b=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",y=f,"move_node"===b&&"a"===r&&l.data.origin&&l.data.origin===S&&h===S.get_parent(l.data.nodes[g])&&(x=S.get_node(h),
y>e.inArray(l.data.nodes[g],x.children)&&(y-=1)),m=m&&(S&&S.settings&&S.settings.dnd&&S.settings.dnd.check_while_dragging===!1||S.check(b,l.data.origin&&l.data.origin!==S?l.data.origin.get_node(l.data.nodes[g]):l.data.nodes[g],h,y,{dnd:!0,ref:S.get_node(T.parent()),pos:r,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==S,is_foreign:!l.data.origin})),!m){S&&S.last_error&&(i=S.last_error());break}return"i"===r&&T.parent().is(".jstree-closed")&&S.settings.dnd.open_timeout&&(o=setTimeout(function(e,t){return function(){e.open_node(t)}}(S,T),S.settings.dnd.open_timeout)),m?(C=S.get_node(h,!0),C.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),C.addClass("jstree-dnd-parent")),n={ins:S,par:h,pos:"i"!==r||"last"!==w||0!==f||S.is_loaded(_)?f:"last"},a.css({left:c+"px",top:u+"px"}).show(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"),i={},p=!0,!1):void 0}),p===!0))return}else{for(m=!0,g=0,v=l.data.nodes.length;v>g&&(m=m&&S.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==S?l.data.origin.get_node(l.data.nodes[g]):l.data.nodes[g],e.jstree.root,"last",{dnd:!0,ref:S.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==S,is_foreign:!l.data.origin}),m);g++);if(m)return n={ins:S,par:e.jstree.root,pos:"last"},a.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=k?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect="none"),a.hide()}}).on("dnd_scroll.vakata.jstree",function(e,t){t&&t.data&&t.data.jstree&&(a.hide(),n=!1,r=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,s){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),o&&clearTimeout(o),s&&s.data&&s.data.jstree){a.hide().detach();var l,c,u=[];if(n){for(l=0,c=s.data.nodes.length;c>l;l++)u[l]=s.data.origin?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l];n.ins[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node"](u,n.par,n.pos,!1,!1,!1,s.data.origin)}else l=e(s.event.target).closest(".jstree"),l.length&&i&&i.error&&"check"===i.error&&(l=l.jstree(!0),l&&l.settings.core.error.call(this,i));r=!1,n=!1}}).on("keyup.jstree keydown.jstree",function(t,s){s=e.vakata.dnd._get(),s&&s.data&&s.data.jstree&&("keyup"===t.type&&27===t.which?(o&&clearTimeout(o),n=!1,i=!1,r=!1,o=!1,a.hide().detach(),e.vakata.dnd._clean()):(s.helper.find(".jstree-copy").first()[s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div />"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(n,i,r){r===t&&(r=e.vakata.dnd._get()),r.event=i,e(l).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:n.data,element:n.element,helper:n.helper}},_clean:function(){n.helper&&n.helper.remove(),n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),n={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!n.scroll_e||!n.scroll_l&&!n.scroll_t)return n.scroll_i&&(clearInterval(n.scroll_i),n.scroll_i=!1),!1;if(!n.scroll_i)return n.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(t===!0)return!1;var i=n.scroll_e.scrollTop(),r=n.scroll_e.scrollLeft();n.scroll_e.scrollTop(i+n.scroll_t*e.vakata.dnd.settings.scroll_speed),n.scroll_e.scrollLeft(r+n.scroll_l*e.vakata.dnd.settings.scroll_speed),(i!==n.scroll_e.scrollTop()||r!==n.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",n.scroll_e)},start:function(t,i,r){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(o){}return n.init_x=t.pageX,n.init_y=t.pageY,n.data=i,n.is_down=!0,n.element=t.currentTarget,n.target=t.target,n.is_touch="touchstart"===t.type,r!==!1&&(n.helper=e("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_down){if(!n.is_drag){if(!(Math.abs(t.pageX-n.init_x)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-n.init_y)>(n.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;n.helper&&(n.helper.appendTo("body"),n.helper_w=n.helper.outerWidth()),n.is_drag=!0,e(n.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var i=!1,r=!1,o=!1,a=!1,s=!1,c=!1,u=!1,d=!1,h=!1,f=!1;return n.scroll_t=0,n.scroll_l=0,n.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var i=e(this),r=i.offset();return this.scrollHeight>this.offsetHeight&&(r.top+i.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),t.pageY-r.top<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(r.left+i.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),t.pageX-r.left<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1)),n.scroll_t||n.scroll_l?(n.scroll_e=e(this),!1):void 0}),n.scroll_e||(i=e(l),r=e(window),o=i.height(),a=r.height(),s=i.width(),c=r.width(),u=i.scrollTop(),d=i.scrollLeft(),o>a&&t.pageY-u<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=-1),o>a&&a-(t.pageY-u)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_t=1),s>c&&t.pageX-d<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=-1),s>c&&c-(t.pageX-d)<e.vakata.dnd.settings.scroll_proximity&&(n.scroll_l=1),(n.scroll_t||n.scroll_l)&&(n.scroll_e=i)),n.scroll_e&&e.vakata.dnd._scroll(!0),n.helper&&(h=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),f=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),o&&h+25>o&&(h=o-50),s&&f+n.helper_w>s&&(f=s-(n.helper_w+2)),n.helper.css({left:f+"px",top:h+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),n.is_drag)t.target!==n.target&&e(n.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===n.target){var i=setTimeout(function(){e(t.target).click()},100);e(t.target).one("click",function(){i&&clearTimeout(i)})}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,n){this.init=function(e,t){this._data.massload={},n.init.call(this,e,t)},this._load_nodes=function(t,i,r,o){var a,s,l,c=this.settings.massload,u=(JSON.stringify(t),[]),d=this._model.data;if(!r){for(a=0,s=t.length;s>a;a++)(!d[t[a]]||!d[t[a]].state.loaded&&!d[t[a]].state.failed||o)&&(u.push(t[a]),l=this.get_node(t[a],!0),l&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},u.length){if(e.isFunction(c))return c.call(this,u,e.proxy(function(e){var a,s;if(e)for(a in e)e.hasOwnProperty(a)&&(this._data.massload[a]=e[a]);for(a=0,s=t.length;s>a;a++)l=this.get_node(t[a],!0),l&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,o)},this));if("object"==typeof c&&c&&c.url)return c=e.extend(!0,{},c),e.isFunction(c.url)&&(c.url=c.url.call(this,u)),e.isFunction(c.data)&&(c.data=c.data.call(this,u)),e.ajax(c).done(e.proxy(function(e,a,s){var c,u;if(e)for(c in e)e.hasOwnProperty(c)&&(this._data.massload[c]=e[c]);for(c=0,u=t.length;u>c;c++)l=this.get_node(t[c],!0),l&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);n._load_nodes.call(this,t,i,r,o)},this)).fail(e.proxy(function(e){n._load_nodes.call(this,t,i,r,o)},this))}}return n._load_nodes.call(this,t,i,r,o)},this._load_node=function(t,i){var r,o=this._data.massload[t.id],a=null;return o?(a=this["string"==typeof o?"_append_html_data":"_append_json_data"](t,"string"==typeof o?e(e.parseHTML(o)).filter(function(){return 3!==this.nodeType}):o,function(e){i.call(this,e)}),r=this.get_node(t.id,!0),r&&r.length&&r.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],a):n._load_node.call(this,t,i)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(n,i){this.bind=function(){i.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",e.proxy(function(t,n){if(this._data.search.som&&n.res.length){var i,r,o,a,s=this._model.data,l=[];for(i=0,r=n.res.length;r>i;i++)if(s[n.res[i]]&&!s[n.res[i]].state.hidden&&(l.push(n.res[i]),l=l.concat(s[n.res[i]].parents),this._data.search.smc))for(o=0,a=s[n.res[i]].children_d.length;a>o;o++)s[s[n.res[i]].children_d[o]]&&!s[s[n.res[i]].children_d[o]].state.hidden&&l.push(s[n.res[i]].children_d[o]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}},this)).on("clear_search.jstree",e.proxy(function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(n,i,r,o,a,s){if(n===!1||""===e.trim(n.toString()))return this.clear_search();o=this.get_node(o),o=o&&o.id?o.id:null,n=n.toString();var l,c,u=this.settings.search,d=u.ajax?u.ajax:!1,h=this._model.data,f=null,p=[],m=[];if(this._data.search.res.length&&!a&&this.clear_search(),r===t&&(r=u.show_only_matches),s===t&&(s=u.show_only_matches_children),!i&&d!==!1)return e.isFunction(d)?d.call(this,n,e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a,s)})},this),o):(d=e.extend({},d),d.data||(d.data={}),d.data.str=n,o&&(d.data.inside=o),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(d).fail(e.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(d)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(e.proxy(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.isArray(t)?e.vakata.array_unique(t):[],function(){this.search(n,!0,r,o,a,s)})},this)),this._data.search.lastRequest);if(a||(this._data.search.str=n,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=r,this._data.search.smc=s),f=new e.vakata.search(n,!0,{caseSensitive:u.case_sensitive,fuzzy:u.fuzzy}),e.each(h[o?o:e.jstree.root].children_d,function(e,t){var i=h[t];i.text&&!i.state.hidden&&(!u.search_leaves_only||i.state.loaded&&0===i.children.length)&&(u.search_callback&&u.search_callback.call(this,n,i)||!u.search_callback&&f.search(i.text).isMatch)&&(p.push(t),m=m.concat(i.parents))}),p.length){for(m=e.vakata.array_unique(m),l=0,c=m.length;c>l;l++)m[l]!==e.jstree.root&&h[m[l]]&&this.open_node(m[l],null,0)===!0&&this._data.search.opn.push(m[l]);a?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(p))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(p,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=p),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:n,res:this._data.search.res,show_only_matches:r})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,n,r,o){if(t=i.redraw_node.apply(this,arguments),t&&-1!==e.inArray(t.id,this._data.search.res)){var a,s,l=null;for(a=0,s=t.childNodes.length;s>a;a++)if(t.childNodes[a]&&t.childNodes[a].className&&-1!==t.childNodes[a].className.indexOf("jstree-anchor")){l=t.childNodes[a];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,n,i){i=i||{},i=e.extend({},e.vakata.search.defaults,i),i.fuzzy!==!1&&(i.fuzzy=!0),t=i.caseSensitive?t:t.toLowerCase();var r,o,a,s,l=i.location,c=i.distance,u=i.threshold,d=t.length;return d>32&&(i.fuzzy=!1),i.fuzzy&&(r=1<<d-1,o=function(){var e={},n=0;for(n=0;d>n;n++)e[t.charAt(n)]=0;for(n=0;d>n;n++)e[t.charAt(n)]|=1<<d-n-1;return e}(),a=function(e,t){var n=e/d,i=Math.abs(l-t);return c?n+i/c:i?1:n}),s=function(e){if(e=i.caseSensitive?e:e.toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var n,s,c,h,f,p,m,g,v,b=e.length,y=u,x=e.indexOf(t,l),w=d+b,_=1,k=[];for(-1!==x&&(y=Math.min(a(0,x),y),x=e.lastIndexOf(t,l+d),-1!==x&&(y=Math.min(a(0,x),y))),x=-1,n=0;d>n;n++){for(c=0,h=w;h>c;)a(n,l+h)<=y?c=h:w=h,h=Math.floor((w-c)/2+c);for(w=h,p=Math.max(1,l-h+1),m=Math.min(l+h,b)+d,g=new Array(m+2),g[m+1]=(1<<n)-1,s=m;s>=p;s--)if(v=o[e.charAt(s-1)],0===n?g[s]=(g[s+1]<<1|1)&v:g[s]=(g[s+1]<<1|1)&v|((f[s+1]|f[s])<<1|1)|f[s+1],g[s]&r&&(_=a(n,s-1),y>=_)){if(y=_,x=s-1,k.push(x),!(x>l))break;p=Math.max(1,2*l-x)}if(a(n+1,l)>y)break;f=g}return{isMatch:x>=0,score:_}},n===!0?{search:s}:s(n)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("model.jstree",e.proxy(function(e,t){this.sort(t.parent,!0)},this)).on("rename_node.jstree create_node.jstree",e.proxy(function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",e.proxy(function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)},this))},this.sort=function(t,n){var i,r;if(t=this.get_node(t),t&&t.children&&t.children.length&&(t.children.sort(e.proxy(this.settings.sort,this)),n))for(i=0,r=t.children_d.length;r>i;i++)this.sort(t.children_d[i],!1)}};var h=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},e.jstree.plugins.state=function(t,n){this.bind=function(){n.bind.call(this);var t=e.proxy(function(){this.element.on(this.settings.state.events,e.proxy(function(){h&&clearTimeout(h),h=setTimeout(e.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",e.proxy(function(e,n){this.element.one("restore_state.jstree",t),this.restore_state()||t()},this))},this.save_state=function(){var t={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(t))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(n){return!1}return t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl?!1:(t&&t.state&&(t=t.state),t&&e.isFunction(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),t?(this.element.one("set_state.jstree",function(n,i){i.instance.trigger("restore_state",{state:e.extend(!0,{},t)})}),this.set_state(t),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={"default":{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(n,i){this.init=function(n,r){var o,a;if(r&&r.types&&r.types["default"])for(o in r.types)if("default"!==o&&o!==e.jstree.root&&r.types.hasOwnProperty(o))for(a in r.types["default"])r.types["default"].hasOwnProperty(a)&&r.types[o][a]===t&&(r.types[o][a]=r.types["default"][a]);i.init.call(this,n,r),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,n){i.refresh.call(this,t,n),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",e.proxy(function(n,i){var r,o,a,s=this._model.data,l=i.nodes,c=this.settings.types,u="default";for(r=0,o=l.length;o>r;r++){if(u="default",s[l[r]].original&&s[l[r]].original.type&&c[s[l[r]].original.type]&&(u=s[l[r]].original.type),s[l[r]].data&&s[l[r]].data.jstree&&s[l[r]].data.jstree.type&&c[s[l[r]].data.jstree.type]&&(u=s[l[r]].data.jstree.type),s[l[r]].type=u,s[l[r]].icon===!0&&c[u].icon!==t&&(s[l[r]].icon=c[u].icon),c[u].li_attr!==t&&"object"==typeof c[u].li_attr)for(a in c[u].li_attr)if(c[u].li_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[r]].li_attr[a]===t?s[l[r]].li_attr[a]=c[u].li_attr[a]:"class"===a&&(s[l[r]].li_attr["class"]=c[u].li_attr["class"]+" "+s[l[r]].li_attr["class"])}if(c[u].a_attr!==t&&"object"==typeof c[u].a_attr)for(a in c[u].a_attr)if(c[u].a_attr.hasOwnProperty(a)){if("id"===a)continue;s[l[r]].a_attr[a]===t?s[l[r]].a_attr[a]=c[u].a_attr[a]:"href"===a&&"#"===s[l[r]].a_attr[a]?s[l[r]].a_attr.href=c[u].a_attr.href:"class"===a&&(s[l[r]].a_attr["class"]=c[u].a_attr["class"]+" "+s[l[r]].a_attr["class"])}}s[e.jstree.root].type=e.jstree.root},this)),i.bind.call(this)},this.get_json=function(t,n,r){var o,a,s=this._model.data,l=n?e.extend(!0,{},n,{no_id:!1}):{},c=i.get_json.call(this,t,l,r);if(c===!1)return!1;if(e.isArray(c))for(o=0,a=c.length;a>o;o++)c[o].type=c[o].id&&s[c[o].id]&&s[c[o].id].type?s[c[o].id].type:"default",n&&n.no_id&&(delete c[o].id,c[o].li_attr&&c[o].li_attr.id&&delete c[o].li_attr.id,c[o].a_attr&&c[o].a_attr.id&&delete c[o].a_attr.id);else c.type=c.id&&s[c.id]&&s[c.id].type?s[c.id].type:"default",n&&n.no_id&&(c=this._delete_ids(c));return c},this._delete_ids=function(t){if(e.isArray(t)){for(var n=0,i=t.length;i>n;n++)t[n]=this._delete_ids(t[n]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.isArray(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(n,r,o,a,s){if(i.check.call(this,n,r,o,a,s)===!1)return!1;r=r&&r.id?r:this.get_node(r),o=o&&o.id?o:this.get_node(o);var l,c,u,d,h=r&&r.id?s&&s.origin?s.origin:e.jstree.reference(r.id):null;switch(h=h&&h._model&&h._model.data?h._model.data:null,n){case"create_node":case"move_node":case"copy_node":if("move_node"!==n||-1===e.inArray(r.id,o.children)){if(l=this.get_rules(o),l.max_children!==t&&-1!==l.max_children&&l.max_children===o.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:r&&r.id?r.id:!1,par:o&&o.id?o.id:!1})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(r.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:r&&r.id?r.id:!1,par:o&&o.id?o.id:!1})},!1;if(h&&r.children_d&&r.parents){for(c=0,u=0,d=r.children_d.length;d>u;u++)c=Math.max(c,h[r.children_d[u]].parents.length);c=c-r.parents.length+1}(0>=c||c===t)&&(c=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<c)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+n,data:JSON.stringify({chk:n,pos:a,obj:r&&r.id?r.id:!1,par:o&&o.id?o.id:!1})},!1;o=this.get_node(o.parent),l=this.get_rules(o),c++}while(o)}}return!0},this.get_rules=function(e){if(e=this.get_node(e),!e)return!1;var n=this.get_type(e,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n},this.get_type=function(t,n){return t=this.get_node(t),t?n?e.extend({type:t.type},this.settings.types[t.type]):t.type:!1},this.set_type=function(n,i){var r,o,a,s,l,c,u,d,h=this._model.data;if(e.isArray(n)){for(n=n.slice(),o=0,a=n.length;a>o;o++)this.set_type(n[o],i);return!0}if(r=this.settings.types,n=this.get_node(n),!r[i]||!n)return!1;if(u=this.get_node(n,!0),u&&u.length&&(d=u.children(".jstree-anchor")),s=n.type,l=this.get_icon(n),n.type=i,(l===!0||!r[s]||r[s].icon!==t&&l===r[s].icon)&&this.set_icon(n,r[i].icon!==t?r[i].icon:!0),r[s]&&r[s].li_attr!==t&&"object"==typeof r[s].li_attr)for(c in r[s].li_attr)if(r[s].li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].li_attr["class"]=(h[n.id].li_attr["class"]||"").replace(r[s].li_attr[c],""),u&&u.removeClass(r[s].li_attr[c])):h[n.id].li_attr[c]===r[s].li_attr[c]&&(h[n.id].li_attr[c]=null,u&&u.removeAttr(c))}if(r[s]&&r[s].a_attr!==t&&"object"==typeof r[s].a_attr)for(c in r[s].a_attr)if(r[s].a_attr.hasOwnProperty(c)){if("id"===c)continue;"class"===c?(h[n.id].a_attr["class"]=(h[n.id].a_attr["class"]||"").replace(r[s].a_attr[c],""),d&&d.removeClass(r[s].a_attr[c])):h[n.id].a_attr[c]===r[s].a_attr[c]&&("href"===c?(h[n.id].a_attr[c]="#",d&&d.attr("href","#")):(delete h[n.id].a_attr[c],d&&d.removeAttr(c)))}if(r[i].li_attr!==t&&"object"==typeof r[i].li_attr)for(c in r[i].li_attr)if(r[i].li_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].li_attr[c]===t?(h[n.id].li_attr[c]=r[i].li_attr[c],u&&("class"===c?u.addClass(r[i].li_attr[c]):u.attr(c,r[i].li_attr[c]))):"class"===c&&(h[n.id].li_attr["class"]=r[i].li_attr[c]+" "+h[n.id].li_attr["class"],u&&u.addClass(r[i].li_attr[c]))}if(r[i].a_attr!==t&&"object"==typeof r[i].a_attr)for(c in r[i].a_attr)if(r[i].a_attr.hasOwnProperty(c)){if("id"===c)continue;h[n.id].a_attr[c]===t?(h[n.id].a_attr[c]=r[i].a_attr[c],d&&("class"===c?d.addClass(r[i].a_attr[c]):d.attr(c,r[i].a_attr[c]))):"href"===c&&"#"===h[n.id].a_attr[c]?(h[n.id].a_attr.href=r[i].a_attr.href,d&&d.attr("href",r[i].a_attr.href)):"class"===c&&(h[n.id].a_attr["class"]=r[i].a_attr["class"]+" "+h[n.id].a_attr["class"],d&&d.addClass(r[i].a_attr[c]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(n,i){this.check=function(t,n,r,o,a){if(i.check.call(this,t,n,r,o,a)===!1)return!1;if(n=n&&n.id?n:this.get_node(n),r=r&&r.id?r:this.get_node(r),!r||!r.children)return!0;var s,l,c="rename_node"===t?o:n.text,u=[],d=this.settings.unique.case_sensitive,h=this._model.data;for(s=0,l=r.children.length;l>s;s++)u.push(d?h[r.children[s]].text:h[r.children[s]].text.toLowerCase());switch(d||(c=c.toLowerCase()),t){case"delete_node":return!0;case"rename_node":return s=-1===e.inArray(c,u)||n.text&&n.text[d?"toString":"toLowerCase"]()===c,s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})}),s;case"create_node":return s=-1===e.inArray(c,u),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})}),s;case"copy_node":return s=-1===e.inArray(c,u),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})}),s;case"move_node":return s=n.parent===r.id&&(!a||!a.is_multi)||-1===e.inArray(c,u),s||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:o,obj:n&&n.id?n.id:!1,par:r&&r.id?r.id:!1})}),s}return!0},this.create_node=function(n,r,o,a,s){if(!r||r.text===t){if(null===n&&(n=e.jstree.root),n=this.get_node(n),!n)return i.create_node.call(this,n,r,o,a,s);if(o=o===t?"last":o,!o.toString().match(/^(before|after)$/)&&!s&&!this.is_loaded(n))return i.create_node.call(this,n,r,o,a,s);r||(r={});var l,c,u,d,h,f=this._model.data,p=this.settings.unique.case_sensitive,m=this.settings.unique.duplicate;for(c=l=this.get_string("New node"),u=[],d=0,h=n.children.length;h>d;d++)u.push(p?f[n.children[d]].text:f[n.children[d]].text.toLowerCase());for(d=1;-1!==e.inArray(p?c:c.toLowerCase(),u);)c=m.call(this,l,++d).toString();r.text=c}return i.create_node.call(this,n,r,o,a,s)}};var f=l.createElement("DIV");if(f.setAttribute("unselectable","on"),f.setAttribute("role","presentation"),f.className="jstree-wholerow",f.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,n){this.bind=function(){n.bind.call(this),this.element.on("ready.jstree set_state.jstree",e.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",e.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",e.proxy(function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var n,i,r=!1;for(n=0,i=t.selected.length;i>n;n++)r=this.get_node(t.selected[n],!0),r&&r.length&&r.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",e.proxy(function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",e.proxy(function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",e.proxy(function(t){if(this._data.contextmenu){t.preventDefault();var n=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n)}},this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var n=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",e.proxy(function(t){t.stopImmediatePropagation();var n=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(n).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",e.proxy(function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",e.proxy(function(e){this.dehover_node(e.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),n.teardown.call(this)},this.redraw_node=function(t,i,r,o){if(t=n.redraw_node.apply(this,arguments)){var a=f.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(a.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(a.className+=" jstree-wholerow-hovered"),t.insertBefore(a,t.childNodes[0])}return t}},l.registerElement&&Object&&Object.create){var p=Object.create(HTMLElement.prototype);p.createdCallback=function(){var t,n={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(n.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(n[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(n.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(n)};try{l.registerElement("vakata-jstree",{prototype:p})}catch(m){}}}}),!function(e){"use strict";function t(e){function d(e,t){var n,i,r,o,a,s,l=this;if(!(l instanceof d))return W&&M(26,"constructor call without new",e),new d(e,t);if(null!=t&&V(t,2,64,I,"base")){if(t=0|t,s=e+"",10==t)return l=new d(e instanceof d?e:s),P(l,j+l.e+1,z);if((o="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+b.slice(0,t)+"]+")+"(?:\\."+n+")?$",37>t?"i":"").test(s))return R(l,s,o,t);
o?(l.s=0>1/e?(s=s.slice(1),-1):1,W&&s.replace(/^0\.0*|\./,"").length>15&&M(I,v,e),o=!1):l.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=S(s,10,t,l.s)}else{if(e instanceof d)return l.s=e.s,l.e=e.e,l.c=(e=e.c)?e.slice():e,void(I=0);if((o="number"==typeof e)&&0*e==0){if(l.s=0>1/e?(e=-e,-1):1,e===~~e){for(i=0,r=e;r>=10;r/=10,i++);return l.e=i,l.c=[e],void(I=0)}s=e+""}else{if(!h.test(s=e+""))return R(l,s,o);l.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for((i=s.indexOf("."))>-1&&(s=s.replace(".","")),(r=s.search(/e/i))>0?(0>i&&(i=r),i+=+s.slice(r+1),s=s.substring(0,r)):0>i&&(i=s.length),r=0;48===s.charCodeAt(r);r++);for(a=s.length;48===s.charCodeAt(--a););if(s=s.slice(r,a+1))if(a=s.length,o&&W&&a>15&&(e>w||e!==p(e))&&M(I,v,l.s*e),i=i-r-1,i>q)l.c=l.e=null;else if(H>i)l.c=[l.e=0];else{if(l.e=i,l.c=[],r=(i+1)%x,0>i&&(r+=x),a>r){for(r&&l.c.push(+s.slice(0,r)),a-=x;a>r;)l.c.push(+s.slice(r,r+=x));s=s.slice(r),r=x-s.length}else r-=a;for(;r--;s+="0");l.c.push(+s)}else l.c=[l.e=0];I=0}function S(e,t,n,r){var o,a,l,u,h,f,p,m=e.indexOf("."),g=j,v=z;for(37>n&&(e=e.toLowerCase()),m>=0&&(l=$,$=0,e=e.replace(".",""),p=new d(n),h=p.pow(e.length-m),$=l,p.c=s(c(i(h.c),h.e),10,t),p.e=p.c.length),f=s(e,n,t),a=l=f.length;0==f[--l];f.pop());if(!f[0])return"0";if(0>m?--a:(h.c=f,h.e=a,h.s=r,h=N(h,p,g,v,t),f=h.c,u=h.r,a=h.e),o=a+g+1,m=f[o],l=t/2,u=u||0>o||null!=f[o+1],u=4>v?(null!=m||u)&&(0==v||v==(h.s<0?3:2)):m>l||m==l&&(4==v||u||6==v&&1&f[o-1]||v==(h.s<0?8:7)),1>o||!f[0])e=u?c("1",-g):"0";else{if(f.length=o,u)for(--t;++f[--o]>t;)f[o]=0,o||(++a,f.unshift(1));for(l=f.length;!f[--l];);for(m=0,e="";l>=m;e+=b.charAt(f[m++]));e=c(e,a)}return e}function T(e,t,n,r){var o,a,s,u,h;if(n=null!=n&&V(n,0,8,r,g)?0|n:z,!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)h=i(e.c),h=19==r||24==r&&B>=s?l(h,s):c(h,s);else if(e=P(new d(e),t,n),a=e.e,h=i(e.c),u=h.length,19==r||24==r&&(a>=t||B>=a)){for(;t>u;h+="0",u++);h=l(h,a)}else if(t-=s,h=c(h,a),a+1>u){if(--t>0)for(h+=".";t--;h+="0");}else if(t+=a-u,t>0)for(a+1==u&&(h+=".");t--;h+="0");return e.s<0&&o?"-"+h:h}function D(e,t){var n,i,r=0;for(a(e[0])&&(e=e[0]),n=new d(e[0]);++r<e.length;){if(i=new d(e[r]),!i.s){n=i;break}t.call(n,i)&&(n=i)}return n}function A(e,t,n,i,r){return(t>e||e>n||e!=u(e))&&M(i,(r||"decimal places")+(t>e||e>n?" out of range":" not an integer"),e),!0}function E(e,t,n){for(var i=1,r=t.length;!t[--r];t.pop());for(r=t[0];r>=10;r/=10,i++);return(n=i+n*x-1)>q?e.c=e.e=null:H>n?e.c=[e.e=0]:(e.e=n,e.c=t),e}function M(e,t,n){var i=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw i.name="BigNumber Error",I=0,i}function P(e,t,n,i){var r,o,a,s,l,c,u,d=e.c,h=_;if(d){e:{for(r=1,s=d[0];s>=10;s/=10,r++);if(o=t-r,0>o)o+=x,a=t,l=d[c=0],u=l/h[r-a-1]%10|0;else if(c=f((o+1)/x),c>=d.length){if(!i)break e;for(;d.length<=c;d.push(0));l=u=0,r=1,o%=x,a=o-x+1}else{for(l=s=d[c],r=1;s>=10;s/=10,r++);o%=x,a=o-x+r,u=0>a?0:l/h[r-a-1]%10|0}if(i=i||0>t||null!=d[c+1]||(0>a?l:l%h[r-a-1]),i=4>n?(u||i)&&(0==n||n==(e.s<0?3:2)):u>5||5==u&&(4==n||i||6==n&&(o>0?a>0?l/h[r-a]:0:d[c-1])%10&1||n==(e.s<0?8:7)),1>t||!d[0])return d.length=0,i?(t-=e.e+1,d[0]=h[(x-t%x)%x],e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=c,s=1,c--):(d.length=c+1,s=h[x-o],d[c]=a>0?p(l/h[r-a]%h[a])*s:0),i)for(;;){if(0==c){for(o=1,a=d[0];a>=10;a/=10,o++);for(a=d[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,d[0]==y&&(d[0]=1));break}if(d[c]+=s,d[c]!=y)break;d[c--]=0,s=1}for(o=d.length;0===d[--o];d.pop());}e.e>q?e.c=e.e=null:e.e<H&&(e.c=[e.e=0])}return e}var N,R,I=0,O=d.prototype,L=new d(1),j=20,z=4,B=-7,F=21,H=-1e7,q=1e7,W=!0,V=A,U=!1,Y=1,$=0,X={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"\xa0",fractionGroupSize:0};return d.another=t,d.ROUND_UP=0,d.ROUND_DOWN=1,d.ROUND_CEIL=2,d.ROUND_FLOOR=3,d.ROUND_HALF_UP=4,d.ROUND_HALF_DOWN=5,d.ROUND_HALF_EVEN=6,d.ROUND_HALF_CEIL=7,d.ROUND_HALF_FLOOR=8,d.EUCLID=9,d.config=d.set=function(){var e,t,n=0,i={},r=arguments,s=r[0],l=s&&"object"==typeof s?function(){return s.hasOwnProperty(t)?null!=(e=s[t]):void 0}:function(){return r.length>n?null!=(e=r[n++]):void 0};return l(t="DECIMAL_PLACES")&&V(e,0,C,2,t)&&(j=0|e),i[t]=j,l(t="ROUNDING_MODE")&&V(e,0,8,2,t)&&(z=0|e),i[t]=z,l(t="EXPONENTIAL_AT")&&(a(e)?V(e[0],-C,0,2,t)&&V(e[1],0,C,2,t)&&(B=0|e[0],F=0|e[1]):V(e,-C,C,2,t)&&(B=-(F=0|(0>e?-e:e)))),i[t]=[B,F],l(t="RANGE")&&(a(e)?V(e[0],-C,-1,2,t)&&V(e[1],1,C,2,t)&&(H=0|e[0],q=0|e[1]):V(e,-C,C,2,t)&&(0|e?H=-(q=0|(0>e?-e:e)):W&&M(2,t+" cannot be zero",e))),i[t]=[H,q],l(t="ERRORS")&&(e===!!e||1===e||0===e?(I=0,V=(W=!!e)?A:o):W&&M(2,t+m,e)),i[t]=W,l(t="CRYPTO")&&(e===!0||e===!1||1===e||0===e?e?(e="undefined"==typeof crypto,!e&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?U=!0:W?M(2,"crypto unavailable",e?void 0:crypto):U=!1):U=!1:W&&M(2,t+m,e)),i[t]=U,l(t="MODULO_MODE")&&V(e,0,9,2,t)&&(Y=0|e),i[t]=Y,l(t="POW_PRECISION")&&V(e,0,C,2,t)&&($=0|e),i[t]=$,l(t="FORMAT")&&("object"==typeof e?X=e:W&&M(2,t+" not an object",e)),i[t]=X,i},d.max=function(){return D(arguments,O.lt)},d.min=function(){return D(arguments,O.gt)},d.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return p(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,i,r,o,a,s=0,l=[],c=new d(L);if(e=null!=e&&V(e,0,C,14)?0|e:j,o=f(e/x),U)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(o*=2));o>s;)a=131072*n[s]+(n[s+1]>>>11),a>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),n[s]=i[0],n[s+1]=i[1]):(l.push(a%1e14),s+=2);s=o/2}else if(crypto.randomBytes){for(n=crypto.randomBytes(o*=7);o>s;)a=281474976710656*(31&n[s])+1099511627776*n[s+1]+4294967296*n[s+2]+16777216*n[s+3]+(n[s+4]<<16)+(n[s+5]<<8)+n[s+6],a>=9e15?crypto.randomBytes(7).copy(n,s):(l.push(a%1e14),s+=7);s=o/7}else U=!1,W&&M(14,"crypto unavailable",crypto);if(!U)for(;o>s;)a=t(),9e15>a&&(l[s++]=a%1e14);for(o=l[--s],e%=x,o&&e&&(a=_[x-e],l[s]=p(o/a)*a);0===l[s];l.pop(),s--);if(0>s)l=[r=0];else{for(r=-1;0===l[0];l.shift(),r-=x);for(s=1,a=l[0];a>=10;a/=10,s++);x>s&&(r-=x-s)}return c.e=r,c.c=l,c}}(),N=function(){function e(e,t,n){var i,r,o,a,s=0,l=e.length,c=t%k,u=t/k|0;for(e=e.slice();l--;)o=e[l]%k,a=e[l]/k|0,i=u*o+a*c,r=c*o+i%k*k+s,s=(r/n|0)+(i/k|0)+u*a,e[l]=r%n;return s&&e.unshift(s),e}function t(e,t,n,i){var r,o;if(n!=i)o=n>i?1:-1;else for(r=o=0;n>r;r++)if(e[r]!=t[r]){o=e[r]>t[r]?1:-1;break}return o}function i(e,t,n,i){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*i+e[n]-t[n];for(;!e[0]&&e.length>1;e.shift());}return function(r,o,a,s,l){var c,u,h,f,m,g,v,b,w,_,k,C,S,T,D,A,E,M=r.s==o.s?1:-1,N=r.c,R=o.c;if(!(N&&N[0]&&R&&R[0]))return new d(r.s&&o.s&&(N?!R||N[0]!=R[0]:R)?N&&0==N[0]||!R?0*M:M/0:NaN);for(b=new d(M),w=b.c=[],u=r.e-o.e,M=a+u+1,l||(l=y,u=n(r.e/x)-n(o.e/x),M=M/x|0),h=0;R[h]==(N[h]||0);h++);if(R[h]>(N[h]||0)&&u--,0>M)w.push(1),f=!0;else{for(T=N.length,A=R.length,h=0,M+=2,m=p(l/(R[0]+1)),m>1&&(R=e(R,m,l),N=e(N,m,l),A=R.length,T=N.length),S=A,_=N.slice(0,A),k=_.length;A>k;_[k++]=0);E=R.slice(),E.unshift(0),D=R[0],R[1]>=l/2&&D++;do{if(m=0,c=t(R,_,A,k),0>c){if(C=_[0],A!=k&&(C=C*l+(_[1]||0)),m=p(C/D),m>1)for(m>=l&&(m=l-1),g=e(R,m,l),v=g.length,k=_.length;1==t(g,_,v,k);)m--,i(g,v>A?E:R,v,l),v=g.length,c=1;else 0==m&&(c=m=1),g=R.slice(),v=g.length;if(k>v&&g.unshift(0),i(_,g,k,l),k=_.length,-1==c)for(;t(R,_,A,k)<1;)m++,i(_,k>A?E:R,k,l),k=_.length}else 0===c&&(m++,_=[0]);w[h++]=m,_[0]?_[k++]=N[S]||0:(_=[N[S]],k=1)}while((S++<T||null!=_[0])&&M--);f=null!=_[0],w[0]||w.shift()}if(l==y){for(h=1,M=w[0];M>=10;M/=10,h++);P(b,a+(b.e=h+u*x-1)+1,s,f)}else b.e=u,b.r=+f;return b}}(),R=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,r=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,a,s,l){var c,u=s?a:a.replace(r,"");if(i.test(u))o.s=isNaN(u)?null:0>u?-1:1;else{if(!s&&(u=u.replace(e,function(e,t,n){return c="x"==(n=n.toLowerCase())?16:"b"==n?2:8,l&&l!=c?e:t}),l&&(c=l,u=u.replace(t,"$1").replace(n,"0.$1")),a!=u))return new d(u,c);W&&M(I,"not a"+(l?" base "+l:"")+" number",a),o.s=null}o.c=o.e=null,I=0}}(),O.absoluteValue=O.abs=function(){var e=new d(this);return e.s<0&&(e.s=1),e},O.ceil=function(){return P(new d(this),this.e+1,2)},O.comparedTo=O.cmp=function(e,t){return I=1,r(this,new d(e,t))},O.decimalPlaces=O.dp=function(){var e,t,i=this.c;if(!i)return null;if(e=((t=i.length-1)-n(this.e/x))*x,t=i[t])for(;t%10==0;t/=10,e--);return 0>e&&(e=0),e},O.dividedBy=O.div=function(e,t){return I=3,N(this,new d(e,t),j,z)},O.dividedToIntegerBy=O.divToInt=function(e,t){return I=4,N(this,new d(e,t),0,1)},O.equals=O.eq=function(e,t){return I=5,0===r(this,new d(e,t))},O.floor=function(){return P(new d(this),this.e+1,3)},O.greaterThan=O.gt=function(e,t){return I=6,r(this,new d(e,t))>0},O.greaterThanOrEqualTo=O.gte=function(e,t){return I=7,1===(t=r(this,new d(e,t)))||0===t},O.isFinite=function(){return!!this.c},O.isInteger=O.isInt=function(){return!!this.c&&n(this.e/x)>this.c.length-2},O.isNaN=function(){return!this.s},O.isNegative=O.isNeg=function(){return this.s<0},O.isZero=function(){return!!this.c&&0==this.c[0]},O.lessThan=O.lt=function(e,t){return I=8,r(this,new d(e,t))<0},O.lessThanOrEqualTo=O.lte=function(e,t){return I=9,-1===(t=r(this,new d(e,t)))||0===t},O.minus=O.sub=function(e,t){var i,r,o,a,s=this,l=s.s;if(I=10,e=new d(e,t),t=e.s,!l||!t)return new d(NaN);if(l!=t)return e.s=-t,s.plus(e);var c=s.e/x,u=e.e/x,h=s.c,f=e.c;if(!c||!u){if(!h||!f)return h?(e.s=-t,e):new d(f?s:NaN);if(!h[0]||!f[0])return f[0]?(e.s=-t,e):new d(h[0]?s:3==z?-0:0)}if(c=n(c),u=n(u),h=h.slice(),l=c-u){for((a=0>l)?(l=-l,o=h):(u=c,o=f),o.reverse(),t=l;t--;o.push(0));o.reverse()}else for(r=(a=(l=h.length)<(t=f.length))?l:t,l=t=0;r>t;t++)if(h[t]!=f[t]){a=h[t]<f[t];break}if(a&&(o=h,h=f,f=o,e.s=-e.s),t=(r=f.length)-(i=h.length),t>0)for(;t--;h[i++]=0);for(t=y-1;r>l;){if(h[--r]<f[r]){for(i=r;i&&!h[--i];h[i]=t);--h[i],h[r]+=y}h[r]-=f[r]}for(;0==h[0];h.shift(),--u);return h[0]?E(e,h,u):(e.s=3==z?-1:1,e.c=[e.e=0],e)},O.modulo=O.mod=function(e,t){var n,i,r=this;return I=11,e=new d(e,t),!r.c||!e.s||e.c&&!e.c[0]?new d(NaN):!e.c||r.c&&!r.c[0]?new d(r):(9==Y?(i=e.s,e.s=1,n=N(r,e,0,3),e.s=i,n.s*=i):n=N(r,e,0,Y),r.minus(n.times(e)))},O.negated=O.neg=function(){var e=new d(this);return e.s=-e.s||null,e},O.plus=O.add=function(e,t){var i,r=this,o=r.s;if(I=12,e=new d(e,t),t=e.s,!o||!t)return new d(NaN);if(o!=t)return e.s=-t,r.minus(e);var a=r.e/x,s=e.e/x,l=r.c,c=e.c;if(!a||!s){if(!l||!c)return new d(o/0);if(!l[0]||!c[0])return c[0]?e:new d(l[0]?r:0*o)}if(a=n(a),s=n(s),l=l.slice(),o=a-s){for(o>0?(s=a,i=c):(o=-o,i=l),i.reverse();o--;i.push(0));i.reverse()}for(o=l.length,t=c.length,0>o-t&&(i=c,c=l,l=i,t=o),o=0;t;)o=(l[--t]=l[t]+c[t]+o)/y|0,l[t]=y===l[t]?0:l[t]%y;return o&&(l.unshift(o),++s),E(e,l,s)},O.precision=O.sd=function(e){var t,n,i=this,r=i.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(W&&M(13,"argument"+m,e),e!=!!e&&(e=null)),!r)return null;if(n=r.length-1,t=n*x+1,n=r[n]){for(;n%10==0;n/=10,t--);for(n=r[0];n>=10;n/=10,t++);}return e&&i.e+1>t&&(t=i.e+1),t},O.round=function(e,t){var n=new d(this);return(null==e||V(e,0,C,15))&&P(n,~~e+this.e+1,null!=t&&V(t,0,8,15,g)?0|t:z),n},O.shift=function(e){var t=this;return V(e,-w,w,16,"argument")?t.times("1e"+u(e)):new d(t.c&&t.c[0]&&(-w>e||e>w)?t.s*(0>e?0:1/0):t)},O.squareRoot=O.sqrt=function(){var e,t,r,o,a,s=this,l=s.c,c=s.s,u=s.e,h=j+4,f=new d("0.5");if(1!==c||!l||!l[0])return new d(!c||0>c&&(!l||l[0])?NaN:l?s:1/0);if(c=Math.sqrt(+s),0==c||c==1/0?(t=i(l),(t.length+u)%2==0&&(t+="0"),c=Math.sqrt(t),u=n((u+1)/2)-(0>u||u%2),c==1/0?t="1e"+u:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+u),r=new d(t)):r=new d(c+""),r.c[0])for(u=r.e,c=u+h,3>c&&(c=0);;)if(a=r,r=f.times(a.plus(N(s,a,h,1))),i(a.c).slice(0,c)===(t=i(r.c)).slice(0,c)){if(r.e<u&&--c,t=t.slice(c-3,c+1),"9999"!=t&&(o||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(P(r,r.e+j+2,1),e=!r.times(r).eq(s));break}if(!o&&(P(a,a.e+j+2,0),a.times(a).eq(s))){r=a;break}h+=4,c+=4,o=1}return P(r,r.e+j+1,z,e)},O.times=O.mul=function(e,t){var i,r,o,a,s,l,c,u,h,f,p,m,g,v,b,w=this,_=w.c,C=(I=17,e=new d(e,t)).c;if(!(_&&C&&_[0]&&C[0]))return!w.s||!e.s||_&&!_[0]&&!C||C&&!C[0]&&!_?e.c=e.e=e.s=null:(e.s*=w.s,_&&C?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=n(w.e/x)+n(e.e/x),e.s*=w.s,c=_.length,f=C.length,f>c&&(g=_,_=C,C=g,o=c,c=f,f=o),o=c+f,g=[];o--;g.push(0));for(v=y,b=k,o=f;--o>=0;){for(i=0,p=C[o]%b,m=C[o]/b|0,s=c,a=o+s;a>o;)u=_[--s]%b,h=_[s]/b|0,l=m*u+h*p,u=p*u+l%b*b+g[a]+i,i=(u/v|0)+(l/b|0)+m*h,g[a--]=u%v;g[a]=i}return i?++r:g.shift(),E(e,g,r)},O.toDigits=function(e,t){var n=new d(this);return e=null!=e&&V(e,1,C,18,"precision")?0|e:null,t=null!=t&&V(t,0,8,18,g)?0|t:z,e?P(n,e,t):n},O.toExponential=function(e,t){return T(this,null!=e&&V(e,0,C,19)?~~e+1:null,t,19)},O.toFixed=function(e,t){return T(this,null!=e&&V(e,0,C,20)?~~e+this.e+1:null,t,20)},O.toFormat=function(e,t){var n=T(this,null!=e&&V(e,0,C,21)?~~e+this.e+1:null,t,21);if(this.c){var i,r=n.split("."),o=+X.groupSize,a=+X.secondaryGroupSize,s=X.groupSeparator,l=r[0],c=r[1],u=this.s<0,d=u?l.slice(1):l,h=d.length;if(a&&(i=o,o=a,a=i,h-=i),o>0&&h>0){for(i=h%o||o,l=d.substr(0,i);h>i;i+=o)l+=s+d.substr(i,o);a>0&&(l+=s+d.slice(i)),u&&(l="-"+l)}n=c?l+X.decimalSeparator+((a=+X.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+X.fractionGroupSeparator):c):l}return n},O.toFraction=function(e){var t,n,r,o,a,s,l,c,u,h=W,f=this,p=f.c,m=new d(L),g=n=new d(L),v=l=new d(L);if(null!=e&&(W=!1,s=new d(e),W=h,(!(h=s.isInt())||s.lt(L))&&(W&&M(22,"max denominator "+(h?"out of range":"not an integer"),e),e=!h&&s.c&&P(s,s.e+1,1).gte(L)?s:null)),!p)return f.toString();for(u=i(p),o=m.e=u.length-f.e-1,m.c[0]=_[(a=o%x)<0?x+a:a],e=!e||s.cmp(m)>0?o>0?m:g:s,a=q,q=1/0,s=new d(u),l.c[0]=0;c=N(s,m,0,1),r=n.plus(c.times(v)),1!=r.cmp(e);)n=v,v=r,g=l.plus(c.times(r=g)),l=r,m=s.minus(c.times(r=m)),s=r;return r=N(e.minus(n),v,0,1),l=l.plus(r.times(g)),n=n.plus(r.times(v)),l.s=g.s=f.s,o*=2,t=N(g,v,o,z).minus(f).abs().cmp(N(l,n,o,z).minus(f).abs())<1?[g.toString(),v.toString()]:[l.toString(),n.toString()],q=a,t},O.toNumber=function(){return+this},O.toPower=O.pow=function(e,t){var n,i,r,o=p(0>e?-e:+e),a=this;if(null!=t&&(I=23,t=new d(t)),!V(e,-w,w,23,"exponent")&&(!isFinite(e)||o>w&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return n=Math.pow(+a,e),new d(t?n%t:n);for(t?e>1&&a.gt(L)&&a.isInt()&&t.gt(L)&&t.isInt()?a=a.mod(t):(r=t,t=null):$&&(n=f($/x+2)),i=new d(L);;){if(o%2){if(i=i.times(a),!i.c)break;n?i.c.length>n&&(i.c.length=n):t&&(i=i.mod(t))}if(o=p(o/2),!o)break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):t&&(a=a.mod(t))}return t?i:(0>e&&(i=L.div(i)),r?i.mod(r):n?P(i,$,z):i)},O.toPrecision=function(e,t){return T(this,null!=e&&V(e,1,C,24,"precision")?0|e:null,t,24)},O.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",0>r&&(t="-"+t)):t="NaN":(t=i(n.c),t=null!=e&&V(e,2,64,25,"base")?S(c(t,o),0|e,10,r):B>=o||o>=F?l(t,o):c(t,o),0>r&&n.c[0]&&(t="-"+t)),t},O.truncated=O.trunc=function(){return P(new d(this),this.e+1,1)},O.valueOf=O.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=i(t.c),e=B>=n||n>=F?l(e,n):c(e,n),t.s<0?"-"+e:e)},O.isBigNumber=!0,null!=e&&d.config(e),d}function n(e){var t=0|e;return e>0||e===t?t:t-1}function i(e){for(var t,n,i=1,r=e.length,o=e[0]+"";r>i;){for(t=e[i++]+"",n=x-t.length;n--;t="0"+t);o+=t}for(r=o.length;48===o.charCodeAt(--r););return o.slice(0,r+1||1)}function r(e,t){var n,i,r=e.c,o=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(n=r&&!r[0],i=o&&!o[0],n||i)return n?i?0:-s:a;if(a!=s)return a;if(n=0>a,i=l==c,!r||!o)return i?0:!r^n?1:-1;if(!i)return l>c^n?1:-1;for(s=(l=r.length)<(c=o.length)?l:c,a=0;s>a;a++)if(r[a]!=o[a])return r[a]>o[a]^n?1:-1;return l==c?0:l>c^n?1:-1}function o(e,t,n){return(e=u(e))>=t&&n>=e}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}function s(e,t,n){for(var i,r,o=[0],a=0,s=e.length;s>a;){for(r=o.length;r--;o[r]*=t);for(o[i=0]+=b.indexOf(e.charAt(a++));i<o.length;i++)o[i]>n-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}function l(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(0>t?"e":"e+")+t}function c(e,t){var n,i;if(0>t){for(i="0.";++t;i+="0");e=i+e}else if(n=e.length,++t>n){for(i="0",t-=n;--t;i+="0");e+=i}else n>t&&(e=e.slice(0,t)+"."+e.slice(t));return e}function u(e){return e=parseFloat(e),0>e?f(e):p(e)}var d,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=Math.ceil,p=Math.floor,m=" not a boolean or binary digit",g="rounding mode",v="number type has more than 15 significant digits",b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",y=1e14,x=14,w=9007199254740991,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],k=1e7,C=1e9;d=t(),d["default"]=d.BigNumber=d,"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=d)}(this),function(e,t,n){"use strict";function i(t,n){return this.name=r,this.el=t,this.$el=e(t),this.options=e.extend({},o,n),this.$document=e(this.$el[0].ownerDocument),this.$body=this.$document.find("body"),this.moveTrigger="MSPointerMove pointermove touchmove mousemove",this.startTrigger="MSPointerDown pointerdown touchstart mousedown",this.stopTrigger="MSPointerUp pointerup touchend mouseup",this.startTriggerArray=this.startTrigger.split(" "),this.moveTriggerArray=this.moveTrigger.split(" "),this.stopTriggerArray=this.stopTrigger.split(" "),this.stopEvents=[this.stopTrigger,this.options.stopEvents].join(" "),"window"===this.options.constrainTo?this.$container=this.$document:this.options.constrainTo&&"parent"!==this.options.constrainTo?this.$container=e(this.options.constrainTo):this.$container=this.$el.parent(),this.isPointerEventCompatible()&&this.applyMSDefaults(),this.CSSEaseHash=this.getCSSEaseHash(),this.scale=1,this.started=!1,this.disabled=!1,this.activeDropRegions=[],this.resetVelocityQueue(),this.init(),this}var r="pep",o={initiate:function(){},start:function(){},drag:function(){},stop:function(){},easing:null,rest:function(){},moveTo:!1,callIfNotStarted:["stop","rest"],startThreshold:[0,0],grid:[1,1],debug:!1,activeClass:"pep-active",multiplier:1,velocityMultiplier:2.5,shouldPreventDefault:!0,allowDragEventPropagation:!0,stopEvents:"",hardwareAccelerate:!0,useCSSTranslation:!0,disableSelect:!0,cssEaseString:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",cssEaseDuration:1e3,shouldEase:!0,droppable:!1,droppableActiveClass:"pep-dpa",overlapFunction:!1,constrainTo:!1,removeMargins:!0,place:!0,deferPlacement:!1,axis:null,forceNonCSS3Movement:!1,elementsWithInteraction:"input",revert:!1,revertAfter:"stop",revertIf:function(){return!0},ignoreRightClick:!0,startPos:{left:null,top:null},useBoundingClientRect:!1};i.prototype.init=function(){this.options.debug&&this.buildDebugDiv(),this.options.disableSelect&&this.disableSelect(),this.options.place&&!this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.ev={},this.pos={},this.subscribe()},i.prototype.subscribe=function(){var e=this;this.onStartEvent=function(t){e.handleStart(t)},this.$el.on(this.startTrigger,this.onStartEvent),this.onStartEventOnElementsWithInteraction=function(e){e.ignorePropagation=!0},this.$el.on(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.onStopEvents=function(t){e.handleStop(t)},this.$document.on(this.stopEvents,this.onStopEvents),this.onMoveEvents=function(t){e.moveEvent=t},this.$document.on(this.moveTrigger,this.onMoveEvents)},i.prototype.unsubscribe=function(){this.$el.off(this.startTrigger,this.onStartEvent),this.$el.off(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.$document.off(this.stopEvents,this.onStopEvents),this.$document.off(this.moveTrigger,this.onMoveEvents)},i.prototype.handleStart=function(e){if(!e.ignorePropagation){var t=this;if(this.isValidMoveEvent(e)&&!this.disabled&&(!this.options.ignoreRightClick||3!==e.which)){this.isPointerEventCompatible()&&e.preventManipulation&&e.preventManipulation(),e=this.normalizeEvent(e),this.options.place&&this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.log({type:"event",event:e.type}),this.options.hardwareAccelerate&&!this.hardwareAccelerated&&(this.hardwareAccelerate(),this.hardwareAccelerated=!0);var n=this.options.initiate.call(this,e,this);if(n===!1)return;clearTimeout(this.restTimeout),this.$el.addClass(this.options.activeClass),this.removeCSSEasing(),this.startX=this.ev.x=e.pep.x,this.startY=this.ev.y=e.pep.y,this.initialPosition=this.initialPosition||this.$el.position(),this.startEvent=this.moveEvent=e,this.active=!0,this.options.shouldPreventDefault&&e.preventDefault(),this.options.allowDragEventPropagation||e.stopPropagation(),function i(){t.active&&(t.handleMove(),t.requestAnimationFrame(i))}(),function r(){t.options.easing&&(t.easing&&t.options.easing.call(t,null,t),t.requestAnimationFrame(r))}()}}},i.prototype.handleMove=function(){if("undefined"!=typeof this.moveEvent){var n=this.normalizeEvent(this.moveEvent),i=t.parseInt(n.pep.x/this.options.grid[0])*this.options.grid[0],r=t.parseInt(n.pep.y/this.options.grid[1])*this.options.grid[1];this.addToLIFO({time:n.timeStamp,x:i,y:r});var o,a;if(e.inArray(n.type,this.startTriggerArray)>-1?(o=0,a=0):(o=i-this.ev.x,a=r-this.ev.y),this.dx=o,this.dy=a,this.ev.x=i,this.ev.y=r,0===o&&0===a)return void this.log({type:"event",event:"** stopped **"});var s=Math.abs(this.startX-i),l=Math.abs(this.startY-r);!this.started&&(s>this.options.startThreshold[0]||l>this.options.startThreshold[1])&&(this.started=!0,this.$el.addClass("pep-start"),this.options.start.call(this,this.startEvent,this)),this.doMoveTo(o,a),this.options.droppable&&this.calculateActiveDropRegions();var c=this.options.drag.call(this,n,this);if(c===!1)return void this.resetVelocityQueue();this.log({type:"event",event:n.type}),this.log({type:"event-coords",x:this.ev.x,y:this.ev.y}),this.log({type:"velocity"})}},i.prototype.doMoveTo=function(e,t){var n,i,r=this.handleConstraint(e,t);"function"==typeof this.options.moveTo?(n=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,i=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.options.moveTo.call(this,n,i)):this.shouldUseCSSTranslation()?(e=e/this.scale*this.options.multiplier,t=t/this.scale*this.options.multiplier,this.options.constrainTo&&(e=r.x===!1?e:0,t=r.y===!1?t:0),"x"===this.options.axis&&(t=0),"y"===this.options.axis&&(e=0),this.moveToUsingTransforms(e,t)):(n=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,i=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=r.x!==!1?r.x:n,i=r.y!==!1?r.y:i),"x"===this.options.axis&&(i=r.y),"y"===this.options.axis&&(n=r.x),this.moveTo(n,i))},i.prototype.handleStop=function(t){this.active&&(this.log({type:"event",event:t.type}),this.active=!1,this.easing=!0,this.$el.removeClass("pep-start").addClass("pep-ease"),this.options.droppable&&this.calculateActiveDropRegions(),(this.started||!this.started&&e.inArray("stop",this.options.callIfNotStarted)>-1)&&this.options.stop.call(this,t,this),this.options.shouldEase?this.ease(t,this.started):this.removeActiveClass(),this.options.revert&&("stop"===this.options.revertAfter||!this.options.shouldEase)&&this.options.revertIf&&this.options.revertIf.call(this)&&this.revert(),this.started=!1,this.resetVelocityQueue())},i.prototype.ease=function(t,n){var i=(this.$el.position(),this.velocity()),r=(this.dt,i.x/this.scale*this.options.multiplier),o=i.y/this.scale*this.options.multiplier,a=this.handleConstraint(r,o,!0);this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash());var s=i.x>0?"+="+r:"-="+Math.abs(r),l=i.y>0?"+="+o:"-="+Math.abs(o);this.options.constrainTo&&(s=a.x!==!1?a.x:s,l=a.y!==!1?a.y:l),"x"===this.options.axis&&(l="+=0"),"y"===this.options.axis&&(s="+=0");var c=!this.cssAnimationsSupported()||this.options.forceNonCSS3Movement;"function"==typeof this.options.moveTo?this.options.moveTo.call(this,s,l):this.moveTo(s,l,c);var u=this;this.restTimeout=setTimeout(function(){u.options.droppable&&u.calculateActiveDropRegions(),u.easing=!1,(n||!n&&e.inArray("rest",u.options.callIfNotStarted)>-1)&&u.options.rest.call(u,t,u),u.options.revert&&"ease"===u.options.revertAfter&&u.options.shouldEase&&u.options.revertIf&&u.options.revertIf.call(u)&&u.revert(),u.removeActiveClass()},this.options.cssEaseDuration)},i.prototype.normalizeEvent=function(e){return e.pep={},this.isTouch(e)?(e.pep.x=e.originalEvent.touches[0].pageX,e.pep.y=e.originalEvent.touches[0].pageY,e.pep.type=e.type):(this.isPointerEventCompatible()||!this.isTouch(e))&&(e.pageX?(e.pep.x=e.pageX,e.pep.y=e.pageY):(e.pep.x=e.originalEvent.pageX,e.pep.y=e.originalEvent.pageY),e.pep.type=e.type),e},i.prototype.resetVelocityQueue=function(){this.velocityQueue=new Array(5)},i.prototype.moveTo=function(e,t,n){this.log({type:"delta",x:e,y:t}),n?this.$el.animate({top:t,left:e},0,"easeOutQuad",{queue:!1}):this.$el.stop(!0,!1).css({top:t,left:e})},i.prototype.moveToUsingTransforms=function(e,t){var n=this.matrixToArray(this.matrixString());this.cssX||(this.cssX=this.xTranslation(n)),this.cssY||(this.cssY=this.yTranslation(n)),this.cssX=this.cssX+e,this.cssY=this.cssY+t,this.log({type:"delta",x:e,y:t}),n[4]=this.cssX,n[5]=this.cssY,this.translation=this.arrayToMatrix(n),this.transform(this.translation)},i.prototype.transform=function(e){this.$el.css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})},i.prototype.xTranslation=function(e){return e=e||this.matrixToArray(this.matrixString()),parseInt(e[4],10)},i.prototype.yTranslation=function(e){return e=e||this.matrixToArray(this.matrixString()),parseInt(e[5],10)},i.prototype.matrixString=function(){var e=function(e){return!(!e||"none"===e||e.indexOf("matrix")<0)},t="matrix(1, 0, 0, 1, 0, 0)";return e(this.$el.css("-webkit-transform"))&&(t=this.$el.css("-webkit-transform")),e(this.$el.css("-moz-transform"))&&(t=this.$el.css("-moz-transform")),e(this.$el.css("-ms-transform"))&&(t=this.$el.css("-ms-transform")),e(this.$el.css("-o-transform"))&&(t=this.$el.css("-o-transform")),e(this.$el.css("transform"))&&(t=this.$el.css("transform")),t},i.prototype.matrixToArray=function(e){return e.split("(")[1].split(")")[0].split(",")},i.prototype.arrayToMatrix=function(e){return"matrix("+e.join(",")+")"},i.prototype.addToLIFO=function(e){var t=this.velocityQueue;t=t.slice(1,t.length),t.push(e),this.velocityQueue=t},i.prototype.velocity=function(){for(var e=0,t=0,n=0;n<this.velocityQueue.length-1;n++)this.velocityQueue[n]&&(e+=this.velocityQueue[n+1].x-this.velocityQueue[n].x,t+=this.velocityQueue[n+1].y-this.velocityQueue[n].y,this.dt=this.velocityQueue[n+1].time-this.velocityQueue[n].time);return{x:e*this.options.velocityMultiplier,y:t*this.options.velocityMultiplier}},i.prototype.revert=function(){this.shouldUseCSSTranslation()&&this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation()),this.options.place&&this.moveTo(this.initialPosition.left,this.initialPosition.top)},i.prototype.requestAnimationFrame=function(e){return t.requestAnimationFrame&&t.requestAnimationFrame(e)||t.webkitRequestAnimationFrame&&t.webkitRequestAnimationFrame(e)||t.mozRequestAnimationFrame&&t.mozRequestAnimationFrame(e)||t.oRequestAnimationFrame&&t.mozRequestAnimationFrame(e)||t.msRequestAnimationFrame&&t.msRequestAnimationFrame(e)||t.setTimeout(e,1e3/60)},i.prototype.positionParent=function(){this.options.constrainTo&&!this.parentPositioned&&(this.parentPositioned=!0,"parent"===this.options.constrainTo?this.$container.css({position:"relative"}):"window"===this.options.constrainTo&&"#document"!==this.$container.get(0).nodeName&&"static"!==this.$container.css("position")&&this.$container.css({position:"static"}))},i.prototype.placeObject=function(){this.objectPlaced||(this.objectPlaced=!0,this.offset="parent"===this.options.constrainTo||this.hasNonBodyRelative()?this.$el.position():this.$el.offset(),parseInt(this.$el.css("left"),10)&&(this.offset.left=this.$el.css("left")),"number"==typeof this.options.startPos.left&&(this.offset.left=this.options.startPos.left),parseInt(this.$el.css("top"),10)&&(this.offset.top=this.$el.css("top")),"number"==typeof this.options.startPos.top&&(this.offset.top=this.options.startPos.top),this.options.removeMargins&&this.$el.css({margin:0}),this.$el.css({position:"absolute",top:this.offset.top,left:this.offset.left}))},i.prototype.hasNonBodyRelative=function(){return this.$el.parents().filter(function(){var t=e(this);return t.is("body")||"relative"===t.css("position")}).length>1},i.prototype.setScale=function(e){this.scale=e},i.prototype.setMultiplier=function(e){this.options.multiplier=e},i.prototype.removeCSSEasing=function(){this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash(!0))},i.prototype.disableSelect=function(){this.$el.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},i.prototype.removeActiveClass=function(){this.$el.removeClass([this.options.activeClass,"pep-ease"].join(" "))},i.prototype.handleConstraint=function(t,i,r){var o=this.$el.position();this.pos.x=o.left,this.pos.y=o.top;var a,s,l,c,u={x:!1,y:!1};return this.log({type:"pos-coords",x:this.pos.x,y:this.pos.y}),e.isArray(this.options.constrainTo)?(this.options.constrainTo[3]!==n&&this.options.constrainTo[1]!==n&&(s=this.options.constrainTo[1]===!1?1/0:this.options.constrainTo[1],l=this.options.constrainTo[3]===!1?-(1/0):this.options.constrainTo[3]),this.options.constrainTo[0]!==!1&&this.options.constrainTo[2]!==!1&&(a=this.options.constrainTo[2]===!1?1/0:this.options.constrainTo[2],c=this.options.constrainTo[0]===!1?-(1/0):this.options.constrainTo[0]),this.pos.x+t<l&&(u.x=l),this.pos.y+i<c&&(u.y=c)):"string"==typeof this.options.constrainTo&&(l=0,c=0,s=this.$container.width()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().width:this.$el.outerWidth()),a=this.$container.height()-(this.options.useBoundingClientRect?this.$el[0].getBoundingClientRect().height:this.$el.outerHeight()),this.pos.x+t<0&&(u.x=0),this.pos.y+i<0&&(u.y=0)),this.pos.x+t>s&&(u.x=s),this.pos.y+i>a&&(u.y=a),this.shouldUseCSSTranslation()&&r&&(u.x===l&&this.xTranslation()&&(u.x=l-this.xTranslation()),u.x===s&&this.xTranslation()&&(u.x=s-this.xTranslation()),u.y===c&&this.yTranslation()&&(u.y=c-this.yTranslation()),u.y===a&&this.yTranslation()&&(u.y=a-this.yTranslation())),u},i.prototype.getCSSEaseHash=function(e){"undefined"==typeof e&&(e=!1);var t;if(e)t="";else{if(this.CSSEaseHash)return this.CSSEaseHash;t=["all",this.options.cssEaseDuration+"ms",this.options.cssEaseString].join(" ")}return{"-webkit-transition":t,"-moz-transition":t,"-ms-transition":t,"-o-transition":t,transition:t}},i.prototype.calculateActiveDropRegions=function(){var t=this;this.activeDropRegions.length=0,e.each(e(this.options.droppable),function(n,i){var r=e(i);t.isOverlapping(r,t.$el)?(r.addClass(t.options.droppableActiveClass),t.activeDropRegions.push(r)):r.removeClass(t.options.droppableActiveClass)})},i.prototype.isOverlapping=function(e,t){if(this.options.overlapFunction)return this.options.overlapFunction(e,t);var n=e[0].getBoundingClientRect(),i=t[0].getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},i.prototype.isTouch=function(e){
return e.type.search("touch")>-1},i.prototype.isPointerEventCompatible=function(){return"MSPointerEvent"in t},i.prototype.applyMSDefaults=function(e){this.$el.css({"-ms-touch-action":"none","touch-action":"none","-ms-scroll-chaining":"none","-ms-scroll-limit":"0 0 0 0"})},i.prototype.isValidMoveEvent=function(e){return!this.isTouch(e)||this.isTouch(e)&&e.originalEvent&&e.originalEvent.touches&&1===e.originalEvent.touches.length},i.prototype.shouldUseCSSTranslation=function(){if(this.options.forceNonCSS3Movement)return!1;if("undefined"!=typeof this.useCSSTranslation)return this.useCSSTranslation;var e=!1;return e=!this.options.useCSSTranslation||"undefined"!=typeof Modernizr&&!Modernizr.csstransforms?!1:!0,this.useCSSTranslation=e,e},i.prototype.cssAnimationsSupported=function(){if("undefined"!=typeof this.cssAnimationsSupport)return this.cssAnimationsSupport;if("undefined"!=typeof Modernizr&&Modernizr.cssanimations)return this.cssAnimationsSupport=!0,!0;var e=!1,t=document.createElement("div"),i="animation",r="",o="Webkit Moz O ms Khtml".split(" "),a="";if(t.style.animationName&&(e=!0),e===!1)for(var s=0;s<o.length;s++)if(t.style[o[s]+"AnimationName"]!==n){a=o[s],i=a+"Animation",r="-"+a.toLowerCase()+"-",e=!0;break}return this.cssAnimationsSupport=e,e},i.prototype.hardwareAccelerate=function(){this.$el.css({"-webkit-perspective":1e3,perspective:1e3,"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"})},i.prototype.getMovementValues=function(){return{ev:this.ev,pos:this.pos,velocity:this.velocity()}},i.prototype.buildDebugDiv=function(){var t;0===e("#pep-debug").length&&(t=e("<div></div>"),t.attr("id","pep-debug").append("<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>").append("<div id='pep-debug-event'>no event</div>").append("<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").css({position:"fixed",bottom:5,right:5,zIndex:99999,textAlign:"right",fontFamily:"Arial, sans",fontSize:10,border:"1px solid #DDD",padding:"3px",background:"white",color:"#333"}));var n=this;setTimeout(function(){n.debugElements={$event:e("#pep-debug-event"),$velocityX:e("#pep-debug-velocity .pep-x"),$velocityY:e("#pep-debug-velocity .pep-y"),$dX:e("#pep-debug-delta .pep-x"),$dY:e("#pep-debug-delta .pep-y"),$evCoordsX:e("#pep-debug-ev-coords .pep-x"),$evCoordsY:e("#pep-debug-ev-coords .pep-y"),$posCoordsX:e("#pep-debug-pos-coords .pep-x"),$posCoordsY:e("#pep-debug-pos-coords .pep-y")}},0),e("body").append(t)},i.prototype.log=function(e){if(this.options.debug)switch(e.type){case"event":this.debugElements.$event.text(e.event);break;case"pos-coords":this.debugElements.$posCoordsX.text(e.x),this.debugElements.$posCoordsY.text(e.y);break;case"event-coords":this.debugElements.$evCoordsX.text(e.x),this.debugElements.$evCoordsY.text(e.y);break;case"delta":this.debugElements.$dX.text(e.x),this.debugElements.$dY.text(e.y);break;case"velocity":var t=this.velocity();this.debugElements.$velocityX.text(Math.round(t.x)),this.debugElements.$velocityY.text(Math.round(t.y))}},i.prototype.toggle=function(e){"undefined"==typeof e?this.disabled=!this.disabled:this.disabled=!e},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeOutCirc:function(e,t,n,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+n},easeOutExpo:function(e,t,n,i,r){return t===r?n+i:i*(-Math.pow(2,-10*t/r)+1)+n}}),e.fn[r]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+r)){var n=new i(this,t);e.data(this,"plugin_"+r,n),e.pep.peps.push(n)}})},e.pep={},e.pep.peps=[],e.pep.toggleAll=function(t){e.each(this.peps,function(e,n){n.toggle(t)})},e.pep.unbind=function(t){e.each(t,function(t,n){n=e(n);var i=n.data("plugin_"+r);"undefined"!=typeof i&&(i.toggle(!1),i.unsubscribe(),n.removeData("plugin_"+r))})}}(jQuery,window),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.JSZip=e()}}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,l,c,u=[],d=0,h=e.length,f=h,p="string"!==i.getTypeOf(e);d<e.length;)f=h-d,p?(t=e[d++],n=h>d?e[d++]:0,r=h>d?e[d++]:0):(t=e.charCodeAt(d++),n=h>d?e.charCodeAt(d++):0,r=h>d?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,l=f>1?(15&n)<<2|r>>6:64,c=f>2?63&r:64,u.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,i,a,s,l,c,u=0,d=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var f=3*e.length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!==0)throw new Error("Invalid base64 input, bad content length.");var p;for(p=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)a=o.indexOf(e.charAt(u++)),s=o.indexOf(e.charAt(u++)),l=o.indexOf(e.charAt(u++)),c=o.indexOf(e.charAt(u++)),t=a<<2|s>>4,n=(15&s)<<4|l>>2,i=(3&l)<<6|c,p[d++]=t,64!==l&&(p[d++]=n),64!==c&&(p[d++]=i);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";function i(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}var r=e("./external"),o=e("./stream/DataWorker"),a=e("./stream/DataLengthProbe"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var e=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\x00\x00",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;o>a;a++)e=e>>>8^r[255&(e^t[a])];return-1^e}function o(e,t,n,i){var r=s,o=i+n;e^=-1;for(var a=i;o>a;a++)e=e>>>8^r[255&(e^t.charCodeAt(a))];return-1^e}var a=e("./utils"),s=i();t.exports=function(e,t){if("undefined"==typeof e||!e.length)return 0;var n="string"!==a.getTypeOf(e);return n?r(0|t,e,e.length,0):o(0|t,e,e.length,0)}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:58}],7:[function(e,t,n){"use strict";function i(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),l=r?"uint8array":"array";n.magic="\b\x00",a.inherits(i,s),i.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,e.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new i("Deflate",e)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(e,t,n){"use strict";function i(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var r=e("../utils"),o=e("../stream/GenericWorker"),a=e("../utf8"),s=e("../crc32"),l=e("../signature"),c=function(e,t){var n,i="";for(n=0;t>n;n++)i+=String.fromCharCode(255&e),e>>>=8;return i},u=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},d=function(e,t){return 63&(e||0)},h=function(e,t,n,i,o,h){var f,p,m=e.file,g=e.compression,v=h!==a.utf8encode,b=r.transformTo("string",h(m.name)),y=r.transformTo("string",a.utf8encode(m.name)),x=m.comment,w=r.transformTo("string",h(x)),_=r.transformTo("string",a.utf8encode(x)),k=y.length!==m.name.length,C=_.length!==x.length,S="",T="",D="",A=m.dir,E=m.date,M={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(M.crc32=e.crc32,M.compressedSize=e.compressedSize,M.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),v||!k&&!C||(P|=2048);var N=0,R=0;A&&(N|=16),"UNIX"===o?(R=798,N|=u(m.unixPermissions,A)):(R=20,N|=d(m.dosPermissions,A)),f=E.getUTCHours(),f<<=6,f|=E.getUTCMinutes(),f<<=5,f|=E.getUTCSeconds()/2,p=E.getUTCFullYear()-1980,p<<=4,p|=E.getUTCMonth()+1,p<<=5,p|=E.getUTCDate(),k&&(T=c(1,1)+c(s(b),4)+y,S+="up"+c(T.length,2)+T),C&&(D=c(1,1)+c(s(w),4)+_,S+="uc"+c(D.length,2)+D);var I="";I+="\n\x00",I+=c(P,2),I+=g.magic,I+=c(f,2),I+=c(p,2),I+=c(M.crc32,4),I+=c(M.compressedSize,4),I+=c(M.uncompressedSize,4),I+=c(b.length,2),I+=c(S.length,2);var O=l.LOCAL_FILE_HEADER+I+b+S,L=l.CENTRAL_FILE_HEADER+c(R,2)+I+c(w.length,2)+"\x00\x00\x00\x00"+c(N,4)+c(i,4)+b+S+w;return{fileRecord:O,dirRecord:L}},f=function(e,t,n,i,o){var a="",s=r.transformTo("string",o(i));return a=l.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+c(e,2)+c(e,2)+c(t,4)+c(n,4)+c(s.length,2)+s},p=function(e){var t="";return t=l.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};r.inherits(i,o),i.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=h(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=h(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:p(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=f(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker"),o=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r};n.generateWorker=function(e,t,n){var i=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,n){a++;var r=o(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)}),i.entriesCount=a}catch(s){i.error(s)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=e("./object"),i.prototype.loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.1.5",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";function i(e){return new o.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new l);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var r=e("./utils"),o=e("./external"),a=e("./utf8"),r=e("./utils"),s=e("./zipEntries"),l=e("./stream/Crc32Probe"),c=e("./nodejsUtils");t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[o.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(i(r[a]));return o.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";function i(e,t){o.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var r=e("../utils"),o=e("../stream/GenericWorker");r.inherits(i,o),i.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),n&&n(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}var r=e("readable-stream").Readable,o=e("../utils");o.inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){return new Buffer(e,t)},allocBuffer:function(e){return Buffer.alloc?Buffer.alloc(e):new Buffer(e)},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var r=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),d=e("./generate"),h=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e,t,n){var i,r=o.getTypeOf(t),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(i=m(e))&&v.call(this,i,!0);var d="string"===r&&s.binary===!1&&s.base64===!1;n&&"undefined"!=typeof n.binary||(s.binary=!d);var p=t instanceof c&&0===t.uncompressedSize;(p||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string");var b=null;b=t instanceof c||t instanceof a?t:h.isNode&&h.isStream(t)?new f(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new u(e,b,s);this.files[e]=y},m=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},v=function(e,t){return t="undefined"!=typeof t?t:l.createFolders,e=g(e),this.files[e]||p.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],n=t.slice(this.root.length,t.length),n&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1===arguments.length){if(i(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null}return e=this.root+e,p.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(i(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=v.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if(n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=d.generateWorker(this,n,i)}catch(l){t=new a("error"),t.error(l)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var r=e("../utils");i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||0>e)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./Uint8ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./DataReader"),o=e("../utils");o.inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){var t=this.readData(4);return e===t},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";function i(e){r.call(this,e)}var r=e("./ArrayReader"),o=e("../utils");o.inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";function i(e){r.call(this,"ConvertWorker to "+e),this.destType=e}var r=e("./GenericWorker"),o=e("../utils");o.inherits(i,r),i.prototype.processChunk=function(e){this.push({data:o.transformTo(this.destType,e.data),meta:e.meta})},t.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=e("./GenericWorker"),o=e("../crc32"),a=e("../utils");a.inherits(i,r),i.prototype.processChunk=function(e){this.streamInfo.crc32=o(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";function i(e){o.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var r=e("../utils"),o=e("./GenericWorker");r.inherits(i,o),i.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}o.prototype.processChunk.call(this,e)},t.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";function i(e){o.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var r=e("../utils"),o=e("./GenericWorker"),a=16384;r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=a,t=null,n=Math.min(this.max,this.index+e);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,n);break;case"uint8array":t=this.data.subarray(this.index,n);break;case"array":case"nodebuffer":t=this.data.slice(this.index,n)}return this.index=n,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";function i(e,t,n){switch(e){case"blob":return s.newBlob(s.transformTo("arraybuffer",t),n);case"base64":return u.encode(t);default:return s.transformTo(e,t)}}function r(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}function o(e,t){return new h.Promise(function(n,o){var a=[],s=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",function(e,n){a.push(e),t&&t(n)}).on("error",function(e){a=[],o(e)}).on("end",function(){try{var e=i(l,r(s,a),c);n(e)}catch(t){o(t)}a=[]}).resume()})}function a(e,t,n){var i=t;switch(t){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=t,this._mimeType=n,s.checkSupport(i),this._worker=e.pipe(new l(i)),e.lock()}catch(r){this._worker=new c("error"),this._worker.error(r)}}var s=e("../utils"),l=e("./ConvertWorker"),c=e("./GenericWorker"),u=e("../base64"),d=e("../support"),h=e("../external"),f=null;if(d.nodestream)try{f=e("../nodejs/NodejsStreamOutputAdapter")}catch(p){}a.prototype={accumulate:function(e){return o(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){s.delay(t,arguments,n)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),
this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(r){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,a=new o;a.append(i),n.blob=0===a.getBlob("application/zip").size}catch(r){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(r){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function r(){l.call(this,"utf-8 encode")}for(var o=e("./utils"),a=e("./support"),s=e("./nodejsUtils"),l=e("./stream/GenericWorker"),c=new Array(256),u=0;256>u;u++)c[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;c[254]=c[254]=1;var d=function(e){var t,n,i,r,o,s=e.length,l=0;for(r=0;s>r;r++)n=e.charCodeAt(r),55296===(64512&n)&&s>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=a.uint8array?new Uint8Array(l):new Array(l),o=0,r=0;l>o;r++)n=e.charCodeAt(r),55296===(64512&n)&&s>r+1&&(i=e.charCodeAt(r+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),128>n?t[o++]=n:2048>n?(t[o++]=192|n>>>6,t[o++]=128|63&n):65536>n?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},h=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+c[e[n]]>t?n:t},f=function(e){var t,n,i,r,a=e.length,s=new Array(2*a);for(n=0,t=0;a>t;)if(i=e[t++],128>i)s[n++]=i;else if(r=c[i],r>4)s[n++]=65533,t+=r-1;else{for(i&=2===r?31:3===r?15:7;r>1&&a>t;)i=i<<6|63&e[t++],r--;r>1?s[n++]=65533:65536>i?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),o.applyFromCharCode(s)};n.utf8encode=function(e){return a.nodebuffer?s.newBufferFrom(e,"utf-8"):d(e)},n.utf8decode=function(e){return a.nodebuffer?o.transformTo("nodebuffer",e).toString("utf-8"):(e=o.transformTo(a.uint8array?"uint8array":"array",e),f(e))},o.inherits(i,l),i.prototype.processChunk=function(e){var t=o.transformTo(a.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=t;t=new Uint8Array(i.length+this.leftOver.length),t.set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=h(t),s=t;r!==t.length&&(a.uint8array?(s=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(s=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=i,o.inherits(r,l),r.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=r},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";function i(e){var t=null;return t=l.uint8array?new Uint8Array(e.length):new Array(e.length),o(e,t)}function r(e){return e}function o(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function a(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=f.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=f.applyCanBeUsed.nodebuffer),r)for(;t>1;)try{return f.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return f.stringifyByChar(e)}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var l=e("./support"),c=e("./base64"),u=e("./nodejsUtils"),d=e("core-js/library/fn/set-immediate"),h=e("./external");n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(i){try{var r=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new r;return o.append(e),o.getBlob(t)}catch(i){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(n>=o)return String.fromCharCode.apply(null,e);for(;o>r;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,u.allocBuffer(1)).length}catch(e){return!1}}()}};n.applyFromCharCode=a;var p={};p.string={string:r,array:function(e){return o(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return o(e,new Uint8Array(e.length))},nodebuffer:function(e){return o(e,u.allocBuffer(e.length))}},p.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBufferFrom(e)}},p.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return u.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return u.newBufferFrom(e)}},p.nodebuffer={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},n.transformTo=function(e,t){if(t||(t=""),!e)return t;n.checkSupport(e);var i=n.getTypeOf(t),r=p[i][e](t);return r},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":l.nodebuffer&&u.isBuffer(e)?"nodebuffer":l.uint8array&&e instanceof Uint8Array?"uint8array":l.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){var t=l[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),i+="\\x"+(16>t?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){d(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,r,o,a){var s=h.Promise.resolve(t).then(function(e){var t=l.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)));return t&&"undefined"!=typeof FileReader?new h.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e});return s.then(function(t){var s=n.getTypeOf(t);return s?("arraybuffer"===s?t=n.transformTo("uint8array",t):"string"===s&&(a?t=c.decode(t):r&&o!==!0&&(t=i(t))),t):h.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(e,t,n){"use strict";function i(e){this.files=[],this.loadOptions=e}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./signature"),s=e("./zipEntry"),l=(e("./utf8"),e("./support"));i.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4),r=i===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=l.uint8array?"uint8array":"array",n=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44,r=0;i>r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)e=new s({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(0>e){var t=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(e);var n=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>e)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var r=n-i;if(r>0)this.isSignature(n,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(0>r)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";function i(e,t){this.options=e,this.loadOptions=t}var r=e("./reader/readerFor"),o=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),l=e("./utf8"),c=e("./compressions"),u=e("./support"),d=0,h=3,f=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null};i.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=f(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===d&&(this.dosPermissions=63&this.externalFileAttributes),e===h&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i}},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=o.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}return null}},t.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";var i=e("./stream/StreamHelper"),r=e("./stream/DataWorker"),o=e("./utf8"),a=e("./compressedObject"),s=e("./stream/GenericWorker"),l=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");n=e.toLowerCase();var r="string"===n||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(l){t=new s("error"),t.error(l)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<c.length;d++)l.prototype[c[d]]=u;t.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],38:[function(e,t,n){var i=e("./_is-object");t.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":51}],39:[function(e,t,n){var i={}.toString;t.exports=function(e){return i.call(e).slice(8,-1)}},{}],40:[function(e,t,n){var i=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},{}],41:[function(e,t,n){var i=e("./_a-function");t.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":37}],42:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(e,t,n){var i=e("./_is-object"),r=e("./_global").document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}},{"./_global":46,"./_is-object":51}],44:[function(e,t,n){var i=e("./_global"),r=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s="prototype",l=function(e,t,n){var c,u,d,h=e&l.F,f=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,b=f?r:r[t]||(r[t]={}),y=b[s],x=f?i:p?i[t]:(i[t]||{})[s];f&&(n=t);for(c in n)u=!h&&x&&void 0!==x[c],u&&c in b||(d=u?x[c]:n[c],b[c]=f&&"function"!=typeof x[c]?n[c]:g&&u?o(d,i):v&&x[c]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):m&&"function"==typeof d?o(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(t){return!0}}},{}],46:[function(e,t,n){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],47:[function(e,t,n){var i=e("./_object-dp"),r=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":46}],49:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(e,t,n){t.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],51:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],52:[function(e,t,n){var i=e("./_an-object"),r=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){var i,r,o,a=e("./_ctx"),s=e("./_invoke"),l=e("./_html"),c=e("./_dom-create"),u=e("./_global"),d=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=0,g={},v="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},y=function(e){b.call(e.data)};h&&f||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},i(m),m},f=function(e){delete g[e]},"process"==e("./_cof")(d)?i=function(e){d.nextTick(a(b,e,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=y,i=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(i=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):i=v in c("script")?function(e){l.appendChild(c("script"))[v]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),t.exports={set:h,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(e,t,n){var i=e("./_export"),r=e("./_task");i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":44,"./_task":54}],57:[function(e,t,n){(function(e){"use strict";function n(){u=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}u=!1}function i(e){1!==d.push(e)||u||r()}var r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,s=new o(n),l=e.document.createTextNode("");s.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var c=new e.MessageChannel;c.port1.onmessage=n,r=function(){c.port2.postMessage(0)}}var u,d=[];t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(e,t,n){"use strict";function i(){}function r(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==i&&l(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var i;try{i=t(n)}catch(r){return m.reject(e,r)}i===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,i)})}function s(e){var t=e&&e.then;return!e||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof t?void 0:function(){t.apply(e,arguments)}}function l(e,t){function n(t){o||(o=!0,m.reject(e,t))}function i(t){o||(o=!0,m.resolve(e,t))}function r(){t(i,n)}var o=!1,a=c(r);"error"===a.status&&n(a.value)}function c(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function u(e){return e instanceof this?e:m.resolve(new this(i),e)}function d(e){var t=new this(i);return m.reject(t,e)}function h(e){function t(e,t){function i(e){a[t]=e,++s!==r||o||(o=!0,m.resolve(c,a))}n.resolve(e).then(i,function(e){o||(o=!0,m.reject(c,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,c=new this(i);++l<r;)t(e[l],l);return c}function f(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,m.resolve(s,e))},function(e){o||(o=!0,m.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var a=-1,s=new this(i);++a<r;)t(e[a]);return s}var p=e("immediate"),m={},g=["REJECTED"],v=["FULFILLED"],b=["PENDING"];t.exports=r,r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(i);if(this.state!==b){var r=this.state===v?e:t;a(n,r,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){m.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=c(s,t);if("error"===n.status)return m.reject(e,n.value);var i=n.value;if(i)l(e,i);else{e.state=v,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},m.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},r.resolve=u,r.reject=d,r.all=h,r.race=f},{immediate:57}],59:[function(e,t,n){"use strict";var i=e("./lib/utils/common").assign,r=e("./lib/deflate"),o=e("./lib/inflate"),a=e("./lib/zlib/constants"),s={};i(s,r,o,a),t.exports=s},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=l.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,r),n!==m)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=e("./zlib/deflate"),l=e("./utils/common"),c=e("./utils/strings"),u=e("./zlib/messages"),d=e("./zlib/zstream"),h=Object.prototype.toString,f=0,p=4,m=0,g=1,v=2,b=-1,y=0,x=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?p:f,"string"==typeof e?r.input=c.string2buf(e):"[object ArrayBuffer]"===h.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==p&&i!==v)||("string"===this.options.to?this.onData(c.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==g);return i===p?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==v||(this.onEnd(m),r.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(u[n]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg||u[n.err];return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}var a=e("./zlib/inflate"),s=e("./utils/common"),l=e("./utils/strings"),c=e("./zlib/constants"),u=e("./zlib/messages"),d=e("./zlib/zstream"),h=e("./zlib/gzheader"),f=Object.prototype.toString;i.prototype.push=function(e,t){var n,i,r,o,u,d,h=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=t===~~t?t:t===!0?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof e?h.input=l.binstring2buf(e):"[object ArrayBuffer]"===f.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new s.Buf8(p),h.next_out=0,h.avail_out=p),n=a.inflate(h,c.Z_NO_FLUSH),n===c.Z_NEED_DICT&&m&&(d="string"==typeof m?l.string2buf(m):"[object ArrayBuffer]"===f.call(m)?new Uint8Array(m):m,
n=a.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&g===!0&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==c.Z_STREAM_END&&(0!==h.avail_in||i!==c.Z_FINISH&&i!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(h.output,h.next_out),o=h.next_out-r,u=l.buf2string(h.output,r),h.next_out=o,h.avail_out=p-o,o&&s.arraySet(h.output,h.output,r,o,0),this.onData(u)):this.onData(s.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(g=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(i=c.Z_FINISH),i===c.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):i!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),h.avail_out=0,!0)},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],63:[function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var r=e("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var l=new r.Buf8(256),c=0;256>c;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),l+=128>n?1:2048>n?2:65536>n?3:4;for(t=new r.Buf8(l),a=0,o=0;l>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return i(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,o,a,s=t||e.length,c=new Array(2*s);for(r=0,n=0;s>n;)if(o=e[n++],128>o)c[r++]=o;else if(a=l[o],a>4)c[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&e[n++],a--;a>1?c[r++]=65533:65536>o?c[r++]=o:(o-=65536,c[r++]=55296|o>>10&1023,c[r++]=56320|1023&o)}return i(c,r)},n.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+l[e[n]]>t?n:t}},{"./common":62}],64:[function(e,t,n){"use strict";function i(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}t.exports=i},{}],65:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(e,t,n){"use strict";function i(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function r(e,t,n,i){var r=o,a=i+n;e^=-1;for(var s=i;a>s;s++)e=e>>>8^r[255&(e^t[s])];return-1^e}var o=i();t.exports=r},{}],67:[function(e,t,n){"use strict";function i(e,t){return e.msg=I[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(M.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){P._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function l(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,M.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=N(e.adler,t,r,n):2===e.state.wrap&&(e.adler=R(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function d(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-de?e.strstart-(e.w_size-de):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+ue,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,c[n+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do;while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&h>o);if(i=ue-(h-o),o=h-ue,i>a){if(e.match_start=t,a=i,i>=s)break;f=c[o+a-1],p=c[o+a]}}while((t=d[t&u])>l&&0!==--r);return a<=e.lookahead?a:e.lookahead}function h(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-de)){M.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ce)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+ce-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<ce)););}while(e.lookahead<de&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===O)return xe;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return xe;if(e.strstart-e.block_start>=e.w_size-de&&(s(e,!1),0===e.strm.avail_out))return xe}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?_e:ke):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?xe:xe}function p(e,t){for(var n,i;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===O)return xe;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n)),e.match_length>=ce)if(i=P._tr_tally(e,e.strstart-e.match_start,e.match_length-ce),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ce){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return xe}return e.insert=e.strstart<ce-1?e.strstart:ce-1,t===z?(s(e,!0),0===e.strm.avail_out?_e:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?xe:we}function m(e,t){for(var n,i,r;;){if(e.lookahead<de){if(h(e),e.lookahead<de&&t===O)return xe;if(0===e.lookahead)break}if(n=0,e.lookahead>=ce&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ce-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-de&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===Y||e.match_length===ce&&e.strstart-e.match_start>4096)&&(e.match_length=ce-1)),e.prev_length>=ce&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-ce,i=P._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-ce),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+ce-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=ce-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return xe}else if(e.match_available){if(i=P._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return xe}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=P._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ce-1?e.strstart:ce-1,t===z?(s(e,!0),0===e.strm.avail_out?_e:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?xe:we}function g(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(h(e),e.lookahead<=ue&&t===O)return xe;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=ce&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&o>r);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ce?(n=P._tr_tally(e,1,e.match_length-ce),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return xe}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?_e:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?xe:we}function v(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===O)return xe;break}if(e.match_length=0,n=P._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return xe}return e.insert=0,t===z?(s(e,!0),0===e.strm.avail_out?_e:ke):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?xe:we}function b(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=E[e.level].max_lazy,e.good_match=E[e.level].good_length,e.nice_match=E[e.level].nice_length,e.max_chain_length=E[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ce-1,e.match_available=0,e.ins_h=0}function x(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*se),this.dyn_dtree=new M.Buf16(2*(2*oe+1)),this.bl_tree=new M.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(le+1),this.heap=new M.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=K,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?fe:be,e.adler=2===t.wrap?0:1,t.last_flush=O,P._tr_init(t),F):i(e,q)}function _(e){var t=w(e);return t===F&&y(e.state),t}function k(e,t){return e&&e.state?2!==e.state.wrap?q:(e.state.gzhead=t,F):q}function C(e,t,n,r,o,a){if(!e)return q;var s=1;if(t===U&&(t=6),0>r?(s=0,r=-r):r>15&&(s=2,r-=16),1>o||o>J||n!==Q||8>r||r>15||0>t||t>9||0>a||a>G)return i(e,q);8===r&&(r=9);var l=new x;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ce-1)/ce),l.window=new M.Buf8(2*l.w_size),l.head=new M.Buf16(l.hash_size),l.prev=new M.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new M.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,_(e)}function S(e,t){return C(e,t,Q,ee,te,Z)}function T(e,t){var n,s,u,d;if(!e||!e.state||t>B||0>t)return e?i(e,q):q;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ye&&t!==z)return i(e,0===e.avail_out?V:q);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===fe)if(2===s.wrap)e.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=$||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=R(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=$||s.level<2?4:0),l(s,Ce),s.status=be);else{var h=Q+(s.w_bits-8<<4)<<8,f=-1;f=s.strategy>=$||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=f<<6,0!==s.strstart&&(h|=he),h+=31-h%31,s.status=be,c(s,h),0!==s.strstart&&(c(s,e.adler>>>16),c(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>u&&(e.adler=R(e.adler,s.pending_buf,s.pending-u,u)),0===d&&(s.status=ve)}else s.status=ve;if(s.status===ve&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(l(s,255&e.adler),l(s,e.adler>>8&255),e.adler=0,s.status=be)):s.status=be),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,F}else if(0===e.avail_in&&r(t)<=r(n)&&t!==z)return i(e,V);if(s.status===ye&&0!==e.avail_in)return i(e,V);if(0!==e.avail_in||0!==s.lookahead||t!==O&&s.status!==ye){var p=s.strategy===$?v(s,t):s.strategy===X?g(s,t):E[s.level].func(s,t);if(p!==_e&&p!==ke||(s.status=ye),p===xe||p===_e)return 0===e.avail_out&&(s.last_flush=-1),F;if(p===we&&(t===L?P._tr_align(s):t!==B&&(P._tr_stored_block(s,0,0,!1),t===j&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,F}return t!==z?F:s.wrap<=0?H:(2===s.wrap?(l(s,255&e.adler),l(s,e.adler>>8&255),l(s,e.adler>>16&255),l(s,e.adler>>24&255),l(s,255&e.total_in),l(s,e.total_in>>8&255),l(s,e.total_in>>16&255),l(s,e.total_in>>24&255)):(c(s,e.adler>>>16),c(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:H)}function D(e){var t;return e&&e.state?(t=e.state.status,t!==fe&&t!==pe&&t!==me&&t!==ge&&t!==ve&&t!==be&&t!==ye?i(e,q):(e.state=null,t===be?i(e,W):F)):q}function A(e,t){var n,i,r,a,s,l,c,u,d=t.length;if(!e||!e.state)return q;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==fe||n.lookahead)return q;for(1===a&&(e.adler=N(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new M.Buf8(n.w_size),M.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,l=e.next_in,c=e.input,e.avail_in=d,e.next_in=0,e.input=t,h(n);n.lookahead>=ce;){i=n.strstart,r=n.lookahead-(ce-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ce-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ce-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ce-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=s,n.wrap=a,F}var E,M=e("../utils/common"),P=e("./trees"),N=e("./adler32"),R=e("./crc32"),I=e("./messages"),O=0,L=1,j=3,z=4,B=5,F=0,H=1,q=-2,W=-3,V=-5,U=-1,Y=1,$=2,X=3,G=4,Z=0,K=2,Q=8,J=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,ae=19,se=2*re+1,le=15,ce=3,ue=258,de=ue+ce+1,he=32,fe=42,pe=69,me=73,ge=91,ve=103,be=113,ye=666,xe=1,we=2,_e=3,ke=4,Ce=3;E=[new b(0,0,0,0,f),new b(4,4,8,4,p),new b(4,5,16,8,p),new b(4,6,32,32,p),new b(4,4,16,16,m),new b(8,16,32,32,m),new b(8,16,128,128,m),new b(8,32,128,256,m),new b(32,128,258,1024,m),new b(32,258,258,4096,m)],n.deflateInit=S,n.deflateInit2=C,n.deflateReset=_,n.deflateResetKeep=w,n.deflateSetHeader=k,n.deflate=T,n.deflateEnd=D,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(e,t,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=i},{}],69:[function(e,t,n){"use strict";var i=30,r=12;t.exports=function(e,t){var n,o,a,s,l,c,u,d,h,f,p,m,g,v,b,y,x,w,_,k,C,S,T,D,A;n=e.state,o=e.next_in,D=e.input,a=o+(e.avail_in-5),s=e.next_out,A=e.output,l=s-(t-e.avail_out),c=s+(e.avail_out-257),u=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,b=n.distcode,y=(1<<n.lenbits)-1,x=(1<<n.distbits)-1;e:do{15>g&&(m+=D[o++]<<g,g+=8,m+=D[o++]<<g,g+=8),w=v[m&y];t:for(;;){if(_=w>>>24,m>>>=_,g-=_,_=w>>>16&255,0===_)A[s++]=65535&w;else{if(!(16&_)){if(0===(64&_)){w=v[(65535&w)+(m&(1<<_)-1)];continue t}if(32&_){n.mode=r;break e}e.msg="invalid literal/length code",n.mode=i;break e}k=65535&w,_&=15,_&&(_>g&&(m+=D[o++]<<g,g+=8),k+=m&(1<<_)-1,m>>>=_,g-=_),15>g&&(m+=D[o++]<<g,g+=8,m+=D[o++]<<g,g+=8),w=b[m&x];n:for(;;){if(_=w>>>24,m>>>=_,g-=_,_=w>>>16&255,!(16&_)){if(0===(64&_)){w=b[(65535&w)+(m&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=i;break e}if(C=65535&w,_&=15,_>g&&(m+=D[o++]<<g,g+=8,_>g&&(m+=D[o++]<<g,g+=8)),C+=m&(1<<_)-1,C>u){e.msg="invalid distance too far back",n.mode=i;break e}if(m>>>=_,g-=_,_=s-l,C>_){if(_=C-_,_>h&&n.sane){e.msg="invalid distance too far back",n.mode=i;break e}if(S=0,T=p,0===f){if(S+=d-_,k>_){k-=_;do A[s++]=p[S++];while(--_);S=s-C,T=A}}else if(_>f){if(S+=d+f-_,_-=f,k>_){k-=_;do A[s++]=p[S++];while(--_);if(S=0,k>f){_=f,k-=_;do A[s++]=p[S++];while(--_);S=s-C,T=A}}}else if(S+=f-_,k>_){k-=_;do A[s++]=p[S++];while(--_);S=s-C,T=A}for(;k>2;)A[s++]=T[S++],A[s++]=T[S++],A[s++]=T[S++],k-=3;k&&(A[s++]=T[S++],k>1&&(A[s++]=T[S++]))}else{S=s-C;do A[s++]=A[S++],A[s++]=A[S++],A[s++]=A[S++],k-=3;while(k>2);k&&(A[s++]=A[S++],k>1&&(A[s++]=A[S++]))}break}}break}}while(a>o&&c>s);k=g>>3,o-=k,g-=k<<3,m&=(1<<g)-1,e.next_in=o,e.next_out=s,e.avail_in=a>o?5+(a-o):5-(o-a),e.avail_out=c>s?257+(c-s):257-(s-c),n.hold=m,n.bits=g}},{}],70:[function(e,t,n){"use strict";function i(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=j,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new b.Buf32(me),t.distcode=t.distdyn=new b.Buf32(ge),t.sane=1,t.back=-1,E):N}function a(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):N}function s(e,t){var n,i;return e&&e.state?(i=e.state,0>t?(n=0,t=-t):(n=(t>>4)+1,48>t&&(t&=15)),t&&(8>t||t>15)?N:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,a(e))):N}function l(e,t){var n,i;return e?(i=new r,e.state=i,i.window=null,n=s(e,t),n!==E&&(e.state=null),n):N}function c(e){return l(e,be)}function u(e){if(ye){var t;for(g=new b.Buf32(512),v=new b.Buf32(32),t=0;144>t;)e.lens[t++]=8;for(;256>t;)e.lens[t++]=9;for(;280>t;)e.lens[t++]=7;for(;288>t;)e.lens[t++]=8;for(_(C,e.lens,0,288,g,0,e.work,{bits:9}),t=0;32>t;)e.lens[t++]=5;_(S,e.lens,0,32,v,0,e.work,{bits:5}),ye=!1}e.lencode=g,e.lenbits=9,e.distcode=v,e.distbits=5}function d(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new b.Buf8(o.wsize)),i>=o.wsize?(b.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),b.arraySet(o.window,t,n-i,r,o.wnext),i-=r,i?(b.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function h(e,t){var n,r,o,a,s,l,c,h,f,p,m,g,v,me,ge,ve,be,ye,xe,we,_e,ke,Ce,Se,Te=0,De=new b.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return N;n=e.state,n.mode===X&&(n.mode=G),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,f=n.bits,p=l,m=c,ke=E;e:for(;;)switch(n.mode){case j:if(0===n.wrap){n.mode=G;break}for(;16>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(2&n.wrap&&35615===h){n.check=0,De[0]=255&h,De[1]=h>>>8&255,n.check=x(n.check,De,2,0),h=0,f=0,n.mode=z;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=he;break}if((15&h)!==L){e.msg="unknown compression method",n.mode=he;break}if(h>>>=4,f-=4,_e=(15&h)+8,0===n.wbits)n.wbits=_e;else if(_e>n.wbits){e.msg="invalid window size",n.mode=he;break}n.dmax=1<<_e,e.adler=n.check=1,n.mode=512&h?Y:X,h=0,f=0;break;case z:for(;16>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(n.flags=h,(255&n.flags)!==L){e.msg="unknown compression method",n.mode=he;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=he;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(De[0]=255&h,De[1]=h>>>8&255,n.check=x(n.check,De,2,0)),h=0,f=0,n.mode=B;case B:for(;32>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.time=h),512&n.flags&&(De[0]=255&h,De[1]=h>>>8&255,De[2]=h>>>16&255,De[3]=h>>>24&255,n.check=x(n.check,De,4,0)),h=0,f=0,n.mode=F;case F:for(;16>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(De[0]=255&h,De[1]=h>>>8&255,n.check=x(n.check,De,2,0)),h=0,f=0,n.mode=H;case H:if(1024&n.flags){for(;16>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(De[0]=255&h,De[1]=h>>>8&255,n.check=x(n.check,De,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=q;case q:if(1024&n.flags&&(g=n.length,g>l&&(g=l),g&&(n.head&&(_e=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),b.arraySet(n.head.extra,r,a,g,_e)),512&n.flags&&(n.check=x(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=W;case W:if(2048&n.flags){if(0===l)break e;g=0;do _e=r[a+g++],n.head&&_e&&n.length<65536&&(n.head.name+=String.fromCharCode(_e));while(_e&&l>g);if(512&n.flags&&(n.check=x(n.check,r,g,a)),l-=g,a+=g,_e)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=V;case V:if(4096&n.flags){if(0===l)break e;g=0;do _e=r[a+g++],n.head&&_e&&n.length<65536&&(n.head.comment+=String.fromCharCode(_e));while(_e&&l>g);if(512&n.flags&&(n.check=x(n.check,r,g,a)),l-=g,a+=g,_e)break e}else n.head&&(n.head.comment=null);n.mode=U;case U:if(512&n.flags){for(;16>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=he;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=X;break;case Y:for(;32>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}e.adler=n.check=i(h),h=0,f=0,n.mode=$;case $:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,P;e.adler=n.check=1,n.mode=X;case X:if(t===D||t===A)break e;case G:if(n.last){h>>>=7&f,f-=7&f,n.mode=ce;break}for(;3>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}switch(n.last=1&h,h>>>=1,f-=1,3&h){case 0:n.mode=Z;break;case 1:if(u(n),n.mode=ne,t===A){h>>>=2,f-=2;break e}break;case 2:n.mode=J;break;case 3:e.msg="invalid block type",n.mode=he}h>>>=2,f-=2;break;case Z:for(h>>>=7&f,f-=7&f;32>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=he;break}if(n.length=65535&h,h=0,f=0,n.mode=K,t===A)break e;case K:n.mode=Q;case Q:if(g=n.length){if(g>l&&(g=l),g>c&&(g=c),0===g)break e;b.arraySet(o,r,a,g,s),l-=g,a+=g,c-=g,s+=g,n.length-=g;break}n.mode=X;break;case J:for(;14>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(n.nlen=(31&h)+257,h>>>=5,f-=5,n.ndist=(31&h)+1,h>>>=5,f-=5,n.ncode=(15&h)+4,h>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=he;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;3>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.lens[Ae[n.have++]]=7&h,h>>>=3,f-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ce={bits:n.lenbits},ke=_(k,n.lens,0,19,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid code lengths set",n.mode=he;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;Te=n.lencode[h&(1<<n.lenbits)-1],ge=Te>>>24,ve=Te>>>16&255,be=65535&Te,!(f>=ge);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(16>be)h>>>=ge,f-=ge,n.lens[n.have++]=be;else{if(16===be){for(Se=ge+2;Se>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h>>>=ge,f-=ge,0===n.have){e.msg="invalid bit length repeat",n.mode=he;break}_e=n.lens[n.have-1],g=3+(3&h),h>>>=2,f-=2}else if(17===be){for(Se=ge+3;Se>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ge,f-=ge,_e=0,g=3+(7&h),h>>>=3,f-=3}else{for(Se=ge+7;Se>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ge,f-=ge,_e=0,g=11+(127&h),h>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=he;break}for(;g--;)n.lens[n.have++]=_e}}if(n.mode===he)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=he;break}if(n.lenbits=9,Ce={bits:n.lenbits},ke=_(C,n.lens,0,n.nlen,n.lencode,0,n.work,Ce),n.lenbits=Ce.bits,ke){e.msg="invalid literal/lengths set",n.mode=he;break}if(n.distbits=6,n.distcode=n.distdyn,Ce={bits:n.distbits},ke=_(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ce),n.distbits=Ce.bits,ke){e.msg="invalid distances set",n.mode=he;break}if(n.mode=ne,t===A)break e;case ne:n.mode=ie;case ie:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,w(e,m),s=e.next_out,o=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,h=n.hold,f=n.bits,n.mode===X&&(n.back=-1);break}for(n.back=0;Te=n.lencode[h&(1<<n.lenbits)-1],ge=Te>>>24,ve=Te>>>16&255,be=65535&Te,!(f>=ge);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(ve&&0===(240&ve)){for(ye=ge,xe=ve,we=be;Te=n.lencode[we+((h&(1<<ye+xe)-1)>>ye)],ge=Te>>>24,ve=Te>>>16&255,be=65535&Te,!(f>=ye+ge);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ye,f-=ye,n.back+=ye}if(h>>>=ge,f-=ge,n.back+=ge,n.length=be,0===ve){n.mode=le;break}if(32&ve){n.back=-1,n.mode=X;break}if(64&ve){e.msg="invalid literal/length code",n.mode=he;break}n.extra=15&ve,n.mode=re;case re:if(n.extra){for(Se=n.extra;Se>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=oe;case oe:for(;Te=n.distcode[h&(1<<n.distbits)-1],ge=Te>>>24,ve=Te>>>16&255,be=65535&Te,!(f>=ge);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(0===(240&ve)){for(ye=ge,xe=ve,we=be;Te=n.distcode[we+((h&(1<<ye+xe)-1)>>ye)],ge=Te>>>24,ve=Te>>>16&255,be=65535&Te,!(f>=ye+ge);){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}h>>>=ye,f-=ye,n.back+=ye}if(h>>>=ge,f-=ge,n.back+=ge,64&ve){e.msg="invalid distance code",n.mode=he;break}n.offset=be,n.extra=15&ve,n.mode=ae;case ae:if(n.extra){for(Se=n.extra;Se>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=he;break}n.mode=se;case se:if(0===c)break e;if(g=m-c,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=he;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),me=n.window}else me=o,v=s-n.offset,g=n.length;g>c&&(g=c),c-=g,n.length-=g;do o[s++]=me[v++];while(--g);0===n.length&&(n.mode=ie);break;case le:if(0===c)break e;o[s++]=n.length,c--,n.mode=ie;break;case ce:if(n.wrap){for(;32>f;){if(0===l)break e;l--,h|=r[a++]<<f,f+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?x(n.check,o,m,s-m):y(n.check,o,m,s-m)),m=c,(n.flags?h:i(h))!==n.check){e.msg="incorrect data check",n.mode=he;break}h=0,f=0}n.mode=ue;case ue:if(n.wrap&&n.flags){for(;32>f;){if(0===l)break e;l--,h+=r[a++]<<f,f+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=he;break}h=0,f=0}n.mode=de;case de:ke=M;break e;case he:ke=R;break e;case fe:return I;case pe:default:return N}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=h,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<he&&(n.mode<ce||t!==T))&&d(e,e.output,e.next_out,m-e.avail_out)?(n.mode=fe,I):(p-=e.avail_in,m-=e.avail_out,e.total_in+=p,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?x(n.check,o,m,e.next_out-m):y(n.check,o,m,e.next_out-m)),
e.data_type=n.bits+(n.last?64:0)+(n.mode===X?128:0)+(n.mode===ne||n.mode===K?256:0),(0===p&&0===m||t===T)&&ke===E&&(ke=O),ke)}function f(e){if(!e||!e.state)return N;var t=e.state;return t.window&&(t.window=null),e.state=null,E}function p(e,t){var n;return e&&e.state?(n=e.state,0===(2&n.wrap)?N:(n.head=t,t.done=!1,E)):N}function m(e,t){var n,i,r,o=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==$?N:n.mode===$&&(i=1,i=y(i,t,o,0),i!==n.check)?R:(r=d(e,t,o,o))?(n.mode=fe,I):(n.havedict=1,E)):N}var g,v,b=e("../utils/common"),y=e("./adler32"),x=e("./crc32"),w=e("./inffast"),_=e("./inftrees"),k=0,C=1,S=2,T=4,D=5,A=6,E=0,M=1,P=2,N=-2,R=-3,I=-4,O=-5,L=8,j=1,z=2,B=3,F=4,H=5,q=6,W=7,V=8,U=9,Y=10,$=11,X=12,G=13,Z=14,K=15,Q=16,J=17,ee=18,te=19,ne=20,ie=21,re=22,oe=23,ae=24,se=25,le=26,ce=27,ue=28,de=29,he=30,fe=31,pe=32,me=852,ge=592,ve=15,be=ve,ye=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=c,n.inflateInit2=l,n.inflate=h,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(e,t,n){"use strict";var i=e("../utils/common"),r=15,o=852,a=592,s=0,l=1,c=2,u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,p,m,g,v,b){var y,x,w,_,k,C,S,T,D,A=b.bits,E=0,M=0,P=0,N=0,R=0,I=0,O=0,L=0,j=0,z=0,B=null,F=0,H=new i.Buf16(r+1),q=new i.Buf16(r+1),W=null,V=0;for(E=0;r>=E;E++)H[E]=0;for(M=0;p>M;M++)H[t[n+M]]++;for(R=A,N=r;N>=1&&0===H[N];N--);if(R>N&&(R=N),0===N)return m[g++]=20971520,m[g++]=20971520,b.bits=1,0;for(P=1;N>P&&0===H[P];P++);for(P>R&&(R=P),L=1,E=1;r>=E;E++)if(L<<=1,L-=H[E],0>L)return-1;if(L>0&&(e===s||1!==N))return-1;for(q[1]=0,E=1;r>E;E++)q[E+1]=q[E]+H[E];for(M=0;p>M;M++)0!==t[n+M]&&(v[q[t[n+M]]++]=M);if(e===s?(B=W=v,C=19):e===l?(B=u,F-=257,W=d,V-=257,C=256):(B=h,W=f,C=-1),z=0,M=0,E=P,k=g,I=R,O=0,w=-1,j=1<<R,_=j-1,e===l&&j>o||e===c&&j>a)return 1;for(;;){S=E-O,v[M]<C?(T=0,D=v[M]):v[M]>C?(T=W[V+v[M]],D=B[F+v[M]]):(T=96,D=0),y=1<<E-O,x=1<<I,P=x;do x-=y,m[k+(z>>O)+x]=S<<24|T<<16|D|0;while(0!==x);for(y=1<<E-1;z&y;)y>>=1;if(0!==y?(z&=y-1,z+=y):z=0,M++,0===--H[E]){if(E===N)break;E=t[n+v[M]]}if(E>R&&(z&_)!==w){for(0===O&&(O=R),k+=P,I=E-O,L=1<<I;N>I+O&&(L-=H[I+O],!(0>=L));)I++,L<<=1;if(j+=1<<I,e===l&&j>o||e===c&&j>a)return 1;w=z&_,m[w]=R<<24|I<<16|k-g|0}}return 0!==z&&(m[k+z]=E-O<<24|64<<16|0),b.bits=R,0}},{"../utils/common":62}],72:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?le[e]:le[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function l(e,t,n){e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function c(e,t,n){l(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,i,r,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;X>=o;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;$>n;n++)i=e.heap[n],o=l[2*l[2*i+1]+1]+1,o>p&&(o=p,m++),l[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=l[2*i],e.opt_len+=s*(o+a),d&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>c||(l[2*r+1]!==o&&(e.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function f(e,t,n){var i,r,o=new Array(X+1),a=0;for(i=1;X>=i;i++)o[i]=a=a+n[i-1]<<1;for(r=0;t>=r;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function p(){var e,t,n,i,o,a=new Array(X+1);for(n=0,i=0;q-1>i;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)ce[n++]=i;for(ce[n-1]=i,o=0,i=0;16>i;i++)for(de[i]=o,e=0;e<1<<ne[i];e++)le[o++]=i;for(o>>=7;U>i;i++)for(de[i]=o<<7,e=0;e<1<<ne[i]-7;e++)le[256+o++]=i;for(t=0;X>=t;t++)a[t]=0;for(e=0;143>=e;)ae[2*e+1]=8,e++,a[8]++;for(;255>=e;)ae[2*e+1]=9,e++,a[9]++;for(;279>=e;)ae[2*e+1]=7,e++,a[7]++;for(;287>=e;)ae[2*e+1]=8,e++,a[8]++;for(f(ae,V+1,a),e=0;U>e;e++)se[2*e+1]=5,se[2*e]=u(e,5);he=new r(ae,te,W+1,V,X),fe=new r(se,ne,0,U,X),pe=new r(new Array(0),ie,0,Y,Z)}function m(e){var t;for(t=0;V>t;t++)e.dyn_ltree[2*t]=0;for(t=0;U>t;t++)e.dyn_dtree[2*t]=0;for(t=0;Y>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*K]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function g(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,i){g(e),i&&(s(e,n),s(e,~n)),N.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function b(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function y(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&b(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!b(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function x(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?c(e,r,t):(o=ce[r],c(e,o+W+1,t),s=te[o],0!==s&&(r-=ue[o],l(e,r,s)),i--,o=a(i),c(e,o,n),s=ne[o],0!==s&&(i-=de[o],l(e,i,s)));while(u<e.last_lit);c(e,K,t)}function w(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=$,n=0;l>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=2>c?++c:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)y(e,o,n);r=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,y(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),f(o,c,e.bl_count)}function _(e,t,n){var i,r,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)r=a,a=t[2*(i+1)+1],++s<l&&r===a||(c>s?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*Q]++):10>=s?e.bl_tree[2*J]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function k(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),i=0;n>=i;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(d>s){do c(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(c(e,r,e.bl_tree),s--),c(e,Q,e.bl_tree),l(e,s-3,2)):10>=s?(c(e,J,e.bl_tree),l(e,s-3,3)):(c(e,ee,e.bl_tree),l(e,s-11,7));s=0,o=r,0===a?(u=138,d=3):r===a?(u=6,d=3):(u=7,d=4)}}function C(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=Y-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function S(e,t,n,i){var r;for(l(e,t-257,5),l(e,n-1,5),l(e,i-4,4),r=0;i>r;r++)l(e,e.bl_tree[2*re[r]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}function T(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return I;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return O;for(t=32;W>t;t++)if(0!==e.dyn_ltree[2*t])return O;return I}function D(e){me||(p(),me=!0),e.l_desc=new o(e.dyn_ltree,he),e.d_desc=new o(e.dyn_dtree,fe),e.bl_desc=new o(e.bl_tree,pe),e.bi_buf=0,e.bi_valid=0,m(e)}function A(e,t,n,i){l(e,(j<<1)+(i?1:0),3),v(e,t,n,!0)}function E(e){l(e,z<<1,3),c(e,K,ae),d(e)}function M(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===L&&(e.strm.data_type=T(e)),w(e,e.l_desc),w(e,e.d_desc),a=C(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,r>=o&&(r=o)):r=o=n+5,r>=n+4&&-1!==t?A(e,t,n,i):e.strategy===R||o===r?(l(e,(z<<1)+(i?1:0),3),x(e,ae,se)):(l(e,(B<<1)+(i?1:0),3),S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),x(e,e.dyn_ltree,e.dyn_dtree)),m(e),i&&g(e)}function P(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+W+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var N=e("../utils/common"),R=4,I=0,O=1,L=2,j=0,z=1,B=2,F=3,H=258,q=29,W=256,V=W+1+q,U=30,Y=19,$=2*V+1,X=15,G=16,Z=7,K=256,Q=16,J=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(V+2));i(ae);var se=new Array(2*U);i(se);var le=new Array(oe);i(le);var ce=new Array(H-F+1);i(ce);var ue=new Array(q);i(ue);var de=new Array(U);i(de);var he,fe,pe,me=!1;n._tr_init=D,n._tr_stored_block=A,n._tr_flush_block=M,n._tr_tally=P,n._tr_align=E},{"../utils/common":62}],74:[function(e,t,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=i},{}]},{},[10])(10)});var saveAs=saveAs||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",u=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,u)},h=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(o){l(o)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},p=function(t,l,u){u||(t=f(t));var p,m=this,g=t.type,v=g===c,b=function(){h(m,"writestart progress write writeend".split(" "))},y=function(){if((s||v&&a)&&e.FileReader){var i=new FileReader;return i.onloadend=function(){var t=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,m.readyState=m.DONE,b()},i.readAsDataURL(t),void(m.readyState=m.INIT)}if(p||(p=n().createObjectURL(t)),v)e.location.href=p;else{var r=e.open(p,"_blank");r||(e.location.href=p)}m.readyState=m.DONE,b(),d(p)};return m.readyState=m.INIT,r?(p=n().createObjectURL(t),void setTimeout(function(){i.href=p,i.download=l,o(i),b(),d(p),m.readyState=m.DONE})):void y()},m=p.prototype,g=function(e,t,n){return new p(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(e,t){"object"==typeof exports?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e)}(this,function(e){function t(e){this._targetElement=e,this._introItems=[],this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",doneLabel:"Done",hidePrev:!1,hideNext:!1,tooltipPosition:"bottom",tooltipClass:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!0,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.8,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,hintPosition:"top-middle",hintButtonLabel:"Got it",hintAnimation:!0}}function n(e){var t,n=[],s=this;if(this._options.steps){var l=0;for(t=this._options.steps.length;t>l;l++){var c=i(this._options.steps[l]);if(c.step=n.length+1,"string"==typeof c.element&&(c.element=document.querySelector(c.element)),"undefined"==typeof c.element||null==c.element){var u=document.querySelector(".introjsFloatingElement");null==u&&(u=document.createElement("div"),u.className="introjsFloatingElement",document.body.appendChild(u)),c.element=u,c.position="floating"}c.scrollTo=c.scrollTo||this._options.scrollTo,"undefined"==typeof c.disableInteraction&&(c.disableInteraction=this._options.disableInteraction),null!=c.element&&n.push(c)}}else{if(u=e.querySelectorAll("*[data-intro]"),1>u.length)return!1;for(var l=0,d=u.length;d>l;l++)if(c=u[l],"none"!=c.style.display){var h=parseInt(c.getAttribute("data-step"),10);t=this._options.disableInteraction,"undefined"!=typeof c.getAttribute("data-disable-interaction")&&(t=!!c.getAttribute("data-disable-interaction")),h>0&&(n[h-1]={element:c,intro:c.getAttribute("data-intro"),step:parseInt(c.getAttribute("data-step"),10),tooltipClass:c.getAttribute("data-tooltipClass"),highlightClass:c.getAttribute("data-highlightClass"),position:c.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:c.getAttribute("data-scrollTo")||this._options.scrollTo,disableInteraction:t})}for(l=h=0,d=u.length;d>l;l++)if(c=u[l],null==c.getAttribute("data-step")){for(;"undefined"!=typeof n[h];)h++;t=this._options.disableInteraction,"undefined"!=typeof c.getAttribute("data-disable-interaction")&&(t=!!c.getAttribute("data-disable-interaction")),n[h]={element:c,intro:c.getAttribute("data-intro"),step:h+1,tooltipClass:c.getAttribute("data-tooltipClass"),highlightClass:c.getAttribute("data-highlightClass"),position:c.getAttribute("data-position")||this._options.tooltipPosition,scrollTo:c.getAttribute("data-scrollTo")||this._options.scrollTo,disableInteraction:t}}}for(l=[],t=0;t<n.length;t++)n[t]&&l.push(n[t]);return n=l,n.sort(function(e,t){return e.step-t.step}),s._introItems=n,k.call(s,e)&&(r.call(s),e.querySelector(".introjs-skipbutton"),e.querySelector(".introjs-nextbutton"),s._onKeyDown=function(t){if(27===t.keyCode&&1==s._options.exitOnEsc)a.call(s,e);else if(37===t.keyCode)o.call(s);else if(39===t.keyCode)r.call(s);else if(13===t.keyCode){var n=t.target||t.srcElement;n&&0<n.className.indexOf("introjs-prevbutton")?o.call(s):n&&0<n.className.indexOf("introjs-skipbutton")?(s._introItems.length-1==s._currentStep&&"function"==typeof s._introCompleteCallback&&s._introCompleteCallback.call(s),a.call(s,e)):r.call(s),t.preventDefault?t.preventDefault():t.returnValue=!1}},s._onResize=function(e){s.refresh.call(s)},window.addEventListener?(this._options.keyboardNavigation&&window.addEventListener("keydown",s._onKeyDown,!0),window.addEventListener("resize",s._onResize,!0)):document.attachEvent&&(this._options.keyboardNavigation&&document.attachEvent("onkeydown",s._onKeyDown),document.attachEvent("onresize",s._onResize))),!1}function i(e){if(null==e||"object"!=typeof e||"undefined"!=typeof e.nodeType)return e;var t,n={};for(t in e)n[t]="undefined"!=typeof jQuery&&e[t]instanceof jQuery?e[t]:i(e[t]);return n}function r(){var e;if(this._direction="forward","undefined"!=typeof this._currentStepNumber)for(var t=0,n=this._introItems.length;n>t;t++)this._introItems[t].step===this._currentStepNumber&&(this._currentStep=t-1,this._currentStepNumber=void 0);return"undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,"undefined"!=typeof this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this)),!1===e?(--this._currentStep,!1):void(this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),a.call(this,this._targetElement)):m.call(this,this._introItems[this._currentStep]))}function o(){var e;return this._direction="backward",0===this._currentStep?!1:(--this._currentStep,"undefined"!=typeof this._introBeforeChangeCallback&&(e=this._introBeforeChangeCallback.call(this)),!1===e?(++this._currentStep,!1):void m.call(this,this._introItems[this._currentStep]))}function a(e,t){var n=!0;if(void 0!=this._introBeforeExitCallback&&(n=this._introBeforeExitCallback.call(self)),t||!1!==n){if((n=e.querySelectorAll(".introjs-overlay"))&&0<n.length)for(t=n.length-1;t>=0;t--){var i=n[t];i.style.opacity=0,setTimeout(function(){this.parentNode&&this.parentNode.removeChild(this)}.bind(i),500)}if((t=e.querySelector(".introjs-helperLayer"))&&t.parentNode.removeChild(t),(t=e.querySelector(".introjs-tooltipReferenceLayer"))&&t.parentNode.removeChild(t),(e=e.querySelector(".introjs-disableInteraction"))&&e.parentNode.removeChild(e),(e=document.querySelector(".introjsFloatingElement"))&&e.parentNode.removeChild(e),v(),(e=document.querySelectorAll(".introjs-fixParent"))&&0<e.length)for(t=e.length-1;t>=0;t--)e[t].className=e[t].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),void 0!=this._introExitCallback&&this._introExitCallback.call(self),this._currentStep=void 0}}function s(e,t,n,i,r){if(r=r||!1,t.style.top=null,t.style.right=null,t.style.bottom=null,t.style.left=null,t.style.marginLeft=null,t.style.marginTop=null,n.style.display="inherit","undefined"!=typeof i&&null!=i&&(i.style.top=null,i.style.left=null),this._introItems[this._currentStep]){var o=this._introItems[this._currentStep];o="string"==typeof o.tooltipClass?o.tooltipClass:this._options.tooltipClass,t.className=("introjs-tooltip "+o).replace(/^\s+|\s+$/g,"");var a=this._introItems[this._currentStep].position;"floating"!=a&&(a="auto"===a?u.call(this,e,t):u.call(this,e,t,a)),o=R(e),e=R(t);var s=_();switch(a){case"top":n.className="introjs-arrow bottom",l(o,r?0:15,e,s,t),t.style.bottom=o.height+20+"px";break;case"right":t.style.left=o.width+20+"px",o.top+e.height>s.height?(n.className="introjs-arrow left-bottom",t.style.top="-"+(e.height-o.height-20)+"px"):n.className="introjs-arrow left";break;case"left":r||1!=this._options.showStepNumbers||(t.style.top="15px"),o.top+e.height>s.height?(t.style.top="-"+(e.height-o.height-20)+"px",n.className="introjs-arrow right-bottom"):n.className="introjs-arrow right",t.style.right=o.width+20+"px";break;case"floating":n.style.display="none",t.style.left="50%",t.style.top="50%",t.style.marginLeft="-"+e.width/2+"px",t.style.marginTop="-"+e.height/2+"px","undefined"!=typeof i&&null!=i&&(i.style.left="-"+(e.width/2+18)+"px",i.style.top="-"+(e.height/2+18)+"px");break;case"bottom-right-aligned":n.className="introjs-arrow top-right",c(o,0,e,t),t.style.top=o.height+20+"px";break;case"bottom-middle-aligned":n.className="introjs-arrow top-middle",n=o.width/2-e.width/2,r&&(n+=5),c(o,n,e,t)&&(t.style.right=null,l(o,n,e,s,t)),t.style.top=o.height+20+"px";break;default:n.className="introjs-arrow top",l(o,0,e,s,t),t.style.top=o.height+20+"px"}}}function l(e,t,n,i,r){return e.left+t+n.width>i.width?(r.style.left=i.width-n.width-e.left+"px",!1):(r.style.left=t+"px",!0)}function c(e,t,n,i){return 0>e.left+e.width-t-n.width?(i.style.left=-e.left+"px",!1):(i.style.right=t+"px",!0)}function u(e,t,n){var i=this._options.positionPrecedence.slice(),r=_(),o=R(t).height+10;t=R(t).width+20,e=R(e);var a="floating";return e.left+t>r.width||0>e.left+e.width/2-t?(d(i,"bottom"),d(i,"top")):(e.height+e.top+o>r.height&&d(i,"bottom"),0>e.top-o&&d(i,"top")),e.width+e.left+t>r.width&&d(i,"right"),0>e.left-t&&d(i,"left"),0<i.length&&(a=i[0]),n&&"auto"!=n&&-1<i.indexOf(n)&&(a=n),a}function d(e,t){-1<e.indexOf(t)&&e.splice(e.indexOf(t),1)}function h(e){if(e&&this._introItems[this._currentStep]){var t=this._introItems[this._currentStep],n=R(t.element),i=10;w(t.element)?e.className+=" introjs-fixedTooltip":e.className=e.className.replace(" introjs-fixedTooltip",""),"floating"==t.position&&(i=0),e.setAttribute("style","width: "+(n.width+i)+"px; height:"+(n.height+i)+"px; top:"+(n.top-5)+"px;left: "+(n.left-5)+"px;")}}function f(){var e=document.querySelector(".introjs-disableInteraction");null===e&&(e=document.createElement("div"),e.className="introjs-disableInteraction",this._targetElement.appendChild(e)),h.call(this,e)}function p(e){e.setAttribute("role","button"),e.tabIndex=0}function m(e){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,e.element);var t=this,n=document.querySelector(".introjs-helperLayer"),i=document.querySelector(".introjs-tooltipReferenceLayer"),l="introjs-helperLayer";if(R(e.element),"string"==typeof e.highlightClass&&(l+=" "+e.highlightClass),"string"==typeof this._options.highlightClass&&(l+=" "+this._options.highlightClass),null!=n){var c=i.querySelector(".introjs-helperNumberLayer"),u=i.querySelector(".introjs-tooltiptext"),d=i.querySelector(".introjs-arrow"),m=i.querySelector(".introjs-tooltip"),y=i.querySelector(".introjs-skipbutton"),x=i.querySelector(".introjs-prevbutton"),w=i.querySelector(".introjs-nextbutton");if(n.className=l,m.style.opacity=0,m.style.display="none",null!=c){var _=this._introItems[0<=e.step-2?e.step-2:0];(null!=_&&"forward"==this._direction&&"floating"==_.position||"backward"==this._direction&&"floating"==e.position)&&(c.style.opacity=0)}if(h.call(t,n),h.call(t,i),(_=document.querySelectorAll(".introjs-fixParent"))&&0<_.length)for(l=_.length-1;l>=0;l--)_[l].className=_[l].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");v(),t._lastShowElementTimer&&clearTimeout(t._lastShowElementTimer),t._lastShowElementTimer=setTimeout(function(){null!=c&&(c.innerHTML=e.step),u.innerHTML=e.intro,m.style.display="block",s.call(t,e.element,m,d,c),t._options.showBullets&&(i.querySelector(".introjs-bullets li > a.active").className="",i.querySelector('.introjs-bullets li > a[data-stepnumber="'+e.step+'"]').className="active"),i.querySelector(".introjs-progress .introjs-progressbar").setAttribute("style","width:"+I.call(t)+"%;"),m.style.opacity=1,c&&(c.style.opacity=1),"undefined"!=typeof y&&null!=y&&/introjs-donebutton/gi.test(y.className)?y.focus():"undefined"!=typeof w&&null!=w&&w.focus(),g.call(t,e.scrollTo,e,u)},350)}else{var k=document.createElement("div");x=document.createElement("div");var n=document.createElement("div"),C=document.createElement("div"),S=document.createElement("div"),T=document.createElement("div"),D=document.createElement("div"),A=document.createElement("div");k.className=l,x.className="introjs-tooltipReferenceLayer",h.call(t,k),h.call(t,x),this._targetElement.appendChild(k),this._targetElement.appendChild(x),n.className="introjs-arrow",S.className="introjs-tooltiptext",S.innerHTML=e.intro,T.className="introjs-bullets",!1===this._options.showBullets&&(T.style.display="none");for(var k=document.createElement("ul"),l=0,E=this._introItems.length;E>l;l++){var M=document.createElement("li"),P=document.createElement("a");P.onclick=function(){t.goToStep(this.getAttribute("data-stepnumber"))},l===e.step-1&&(P.className="active"),p(P),P.innerHTML="&nbsp;",P.setAttribute("data-stepnumber",this._introItems[l].step),M.appendChild(P),k.appendChild(M)}T.appendChild(k),D.className="introjs-progress",!1===this._options.showProgress&&(D.style.display="none"),l=document.createElement("div"),l.className="introjs-progressbar",l.setAttribute("style","width:"+I.call(this)+"%;"),D.appendChild(l),A.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(A.style.display="none"),C.className="introjs-tooltip",C.appendChild(S),C.appendChild(T),C.appendChild(D),1==this._options.showStepNumbers&&(_=document.createElement("span"),_.className="introjs-helperNumberLayer",_.innerHTML=e.step,x.appendChild(_)),C.appendChild(n),x.appendChild(C),w=document.createElement("a"),w.onclick=function(){t._introItems.length-1!=t._currentStep&&r.call(t)},p(w),w.innerHTML=this._options.nextLabel,x=document.createElement("a"),x.onclick=function(){0!=t._currentStep&&o.call(t)},p(x),x.innerHTML=this._options.prevLabel,y=document.createElement("a"),y.className="introjs-button introjs-skipbutton",p(y),y.innerHTML=this._options.skipLabel,y.onclick=function(){t._introItems.length-1==t._currentStep&&"function"==typeof t._introCompleteCallback&&t._introCompleteCallback.call(t),a.call(t,t._targetElement)},A.appendChild(y),1<this._introItems.length&&(A.appendChild(x),A.appendChild(w)),C.appendChild(A),s.call(t,e.element,C,n,_),g.call(this,e.scrollTo,e,C)}(_=t._targetElement.querySelector(".introjs-disableInteraction"))&&_.parentNode.removeChild(_),e.disableInteraction&&f.call(t),"undefined"!=typeof w&&null!=w&&w.removeAttribute("tabIndex"),"undefined"!=typeof x&&null!=x&&x.removeAttribute("tabIndex"),0==this._currentStep&&1<this._introItems.length?("undefined"!=typeof y&&null!=y&&(y.className="introjs-button introjs-skipbutton"),"undefined"!=typeof w&&null!=w&&(w.className="introjs-button introjs-nextbutton"),1==this._options.hidePrev?("undefined"!=typeof x&&null!=x&&(x.className="introjs-button introjs-prevbutton introjs-hidden"),"undefined"!=typeof w&&null!=w&&(w.className+=" introjs-fullbutton")):"undefined"!=typeof x&&null!=x&&(x.className="introjs-button introjs-prevbutton introjs-disabled"),"undefined"!=typeof x&&null!=x&&(x.tabIndex="-1"),"undefined"!=typeof y&&null!=y&&(y.innerHTML=this._options.skipLabel)):this._introItems.length-1==this._currentStep||1==this._introItems.length?("undefined"!=typeof y&&null!=y&&(y.innerHTML=this._options.doneLabel,y.className+=" introjs-donebutton"),"undefined"!=typeof x&&null!=x&&(x.className="introjs-button introjs-prevbutton"),1==this._options.hideNext?("undefined"!=typeof w&&null!=w&&(w.className="introjs-button introjs-nextbutton introjs-hidden"),"undefined"!=typeof x&&null!=x&&(x.className+=" introjs-fullbutton")):"undefined"!=typeof w&&null!=w&&(w.className="introjs-button introjs-nextbutton introjs-disabled"),"undefined"!=typeof w&&null!=w&&(w.tabIndex="-1")):("undefined"!=typeof y&&null!=y&&(y.className="introjs-button introjs-skipbutton"),"undefined"!=typeof x&&null!=x&&(x.className="introjs-button introjs-prevbutton"),"undefined"!=typeof w&&null!=w&&(w.className="introjs-button introjs-nextbutton"),"undefined"!=typeof y&&null!=y&&(y.innerHTML=this._options.skipLabel)),"undefined"!=typeof w&&null!=w&&w.focus(),b(e),"undefined"!=typeof this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,e.element)}function g(e,t,n){this._options.scrollToElement&&(e="tooltip"===e?n.getBoundingClientRect():t.element.getBoundingClientRect(),n=t.element.getBoundingClientRect(),0<=n.top&&0<=n.left&&n.bottom+80<=window.innerHeight&&n.right<=window.innerWidth||(n=_().height,0>e.bottom-(e.bottom-e.top)||t.element.clientHeight>n?window.scrollBy(0,e.top-(n/2-e.height/2)-this._options.scrollPadding):window.scrollBy(0,e.top-(n/2-e.height/2)+this._options.scrollPadding)))}function v(){for(var e=document.querySelectorAll(".introjs-showElement"),t=0,n=e.length;n>t;t++){var i=e[t],r=/introjs-[a-zA-Z]+/g;if(i instanceof SVGElement){var o=i.getAttribute("class")||"";i.setAttribute("class",o.replace(r,"").replace(/^\s+|\s+$/g,""))}else i.className=i.className.replace(r,"").replace(/^\s+|\s+$/g,"")}}function b(e){var t;if(e.element instanceof SVGElement)for(t=e.element.parentNode;null!=e.element.parentNode&&t.tagName&&"body"!==t.tagName.toLowerCase();)"svg"===t.tagName.toLowerCase()&&y(t,"introjs-showElement introjs-relativePosition"),t=t.parentNode;for(y(e.element,"introjs-showElement"),t=x(e.element,"position"),"absolute"!==t&&"relative"!==t&&"fixed"!==t&&y(e.element,"introjs-relativePosition"),t=e.element.parentNode;null!=t&&t.tagName&&"body"!==t.tagName.toLowerCase();){e=x(t,"z-index");var n=parseFloat(x(t,"opacity")),i=x(t,"transform")||x(t,"-webkit-transform")||x(t,"-moz-transform")||x(t,"-ms-transform")||x(t,"-o-transform");(/[0-9]+/.test(e)||1>n||"none"!==i&&void 0!==i)&&(t.className+=" introjs-fixParent"),t=t.parentNode}}function y(e,t){if(e instanceof SVGElement){var n=e.getAttribute("class")||"";e.setAttribute("class",n+" "+t)}else e.className+=" "+t}function x(e,t){var n="";return e.currentStyle?n=e.currentStyle[t]:document.defaultView&&document.defaultView.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n&&n.toLowerCase?n.toLowerCase():n}function w(e){var t=e.parentNode;return t&&"HTML"!==t.nodeName?"fixed"==x(e,"position")?!0:w(t):!1}function _(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}function k(e){var t=document.createElement("div"),n="",i=this;if(t.className="introjs-overlay",e.tagName&&"body"!==e.tagName.toLowerCase()){var r=R(e);r&&(n+="width: "+r.width+"px; height:"+r.height+"px; top:"+r.top+"px;left: "+r.left+"px;",t.setAttribute("style",n))}else n+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",t.setAttribute("style",n);return e.appendChild(t),t.onclick=function(){1==i._options.exitOnOverlayClick&&a.call(i,e)},setTimeout(function(){n+="opacity: "+i._options.overlayOpacity.toString()+";",t.setAttribute("style",n)},10),!0}function C(){var e=this._targetElement.querySelector(".introjs-hintReference");if(e){var t=e.getAttribute("data-step");return e.parentNode.removeChild(e),t}}function S(e){if(this._introItems=[],this._options.hints){e=0;for(var t=this._options.hints.length;t>e;e++){var n=i(this._options.hints[e]);"string"==typeof n.element&&(n.element=document.querySelector(n.element)),n.hintPosition=n.hintPosition||this._options.hintPosition,n.hintAnimation=n.hintAnimation||this._options.hintAnimation,null!=n.element&&this._introItems.push(n)}}else{if(n=e.querySelectorAll("*[data-hint]"),1>n.length)return!1;for(e=0,t=n.length;t>e;e++){var r=n[e],o=r.getAttribute("data-hintAnimation"),o=o?"true"==o:this._options.hintAnimation;this._introItems.push({element:r,hint:r.getAttribute("data-hint"),hintPosition:r.getAttribute("data-hintPosition")||this._options.hintPosition,hintAnimation:o,tooltipClass:r.getAttribute("data-tooltipClass"),position:r.getAttribute("data-position")||this._options.tooltipPosition})}}M.call(this),document.addEventListener?(document.addEventListener("click",C.bind(this),!1),window.addEventListener("resize",T.bind(this),!0)):document.attachEvent&&(document.attachEvent("onclick",C.bind(this)),document.attachEvent("onresize",T.bind(this)))}function T(){for(var e=0,t=this._introItems.length;t>e;e++){var n=this._introItems[e];"undefined"!=typeof n.targetElement&&P.call(this,n.hintPosition,n.element,n.targetElement)}}function D(e){C.call(this);var t=this._targetElement.querySelector('.introjs-hint[data-step="'+e+'"]');t&&(t.className+=" introjs-hidehint"),"undefined"!=typeof this._hintCloseCallback&&this._hintCloseCallback.call(this,e)}function A(e){(e=this._targetElement.querySelector('.introjs-hint[data-step="'+e+'"]'))&&(e.className=e.className.replace(/introjs\-hidehint/g,""))}function E(e){
(e=this._targetElement.querySelector('.introjs-hint[data-step="'+e+'"]'))&&e.parentNode.removeChild(e)}function M(){var e=this,t=document.querySelector(".introjs-hints");null==t&&(t=document.createElement("div"),t.className="introjs-hints");for(var n=0,i=this._introItems.length;i>n;n++){var r=this._introItems[n];if(!document.querySelector('.introjs-hint[data-step="'+n+'"]')){var o=document.createElement("a");p(o),function(t,n,i){t.onclick=function(t){t=t?t:window.event,t.stopPropagation&&t.stopPropagation(),null!=t.cancelBubble&&(t.cancelBubble=!0),N.call(e,i)}}(o,r,n),o.className="introjs-hint",r.hintAnimation||(o.className+=" introjs-hint-no-anim"),w(r.element)&&(o.className+=" introjs-fixedhint");var a=document.createElement("div");a.className="introjs-hint-dot";var s=document.createElement("div");s.className="introjs-hint-pulse",o.appendChild(a),o.appendChild(s),o.setAttribute("data-step",n),r.targetElement=r.element,r.element=o,P.call(this,r.hintPosition,o,r.targetElement),t.appendChild(o)}}document.body.appendChild(t),"undefined"!=typeof this._hintsAddedCallback&&this._hintsAddedCallback.call(this)}function P(e,t,n){switch(n=R.call(this,n),e){default:case"top-left":t.style.left=n.left+"px",t.style.top=n.top+"px";break;case"top-right":t.style.left=n.left+n.width-20+"px",t.style.top=n.top+"px";break;case"bottom-left":t.style.left=n.left+"px",t.style.top=n.top+n.height-20+"px";break;case"bottom-right":t.style.left=n.left+n.width-20+"px",t.style.top=n.top+n.height-20+"px";break;case"middle-left":t.style.left=n.left+"px",t.style.top=n.top+(n.height-20)/2+"px";break;case"middle-right":t.style.left=n.left+n.width-20+"px",t.style.top=n.top+(n.height-20)/2+"px";break;case"middle-middle":t.style.left=n.left+(n.width-20)/2+"px",t.style.top=n.top+(n.height-20)/2+"px";break;case"bottom-middle":t.style.left=n.left+(n.width-20)/2+"px",t.style.top=n.top+n.height-20+"px";break;case"top-middle":t.style.left=n.left+(n.width-20)/2+"px",t.style.top=n.top+"px"}}function N(e){var t=document.querySelector('.introjs-hint[data-step="'+e+'"]'),n=this._introItems[e];"undefined"!=typeof this._hintClickCallback&&this._hintClickCallback.call(this,t,n,e);var i=C.call(this);if(parseInt(i,10)!=e){var i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");i.className="introjs-tooltip",i.onclick=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},r.className="introjs-tooltiptext";var l=document.createElement("p");l.innerHTML=n.hint,n=document.createElement("a"),n.className="introjs-button",n.innerHTML=this._options.hintButtonLabel,n.onclick=D.bind(this,e),r.appendChild(l),r.appendChild(n),o.className="introjs-arrow",i.appendChild(o),i.appendChild(r),this._currentStep=t.getAttribute("data-step"),a.className="introjs-tooltipReferenceLayer introjs-hintReference",a.setAttribute("data-step",t.getAttribute("data-step")),h.call(this,a),a.appendChild(i),document.body.appendChild(a),s.call(this,t,i,o,null,!0)}}function R(e){var t={},n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,n=window.pageXOffset||i.scrollLeft||n.scrollLeft;if(e instanceof SVGElement)e=e.getBoundingClientRect(),t.top=e.top+r,t.width=e.width,t.height=e.height,t.left=e.left+n;else{for(t.width=e.offsetWidth,t.height=e.offsetHeight,n=r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)r+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;t.top=n,t.left=r}return t}function I(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}var O=function(e){if("object"==typeof e)return new t(e);if("string"==typeof e){if(e=document.querySelector(e))return new t(e);throw Error("There is no element with given selector.")}return new t(document.body)};return O.version="2.8.0-alpha.1",O.fn=t.prototype={clone:function(){return new t(this)},setOption:function(e,t){return this._options[e]=t,this},setOptions:function(e){var t,n=this._options,i={};for(t in n)i[t]=n[t];for(t in e)i[t]=e[t];return this._options=i,this},start:function(){return n.call(this,this._targetElement),this},goToStep:function(e){return this._currentStep=e-2,"undefined"!=typeof this._introItems&&r.call(this),this},addStep:function(e){return this._options.steps||(this._options.steps=[]),this._options.steps.push(e),this},addSteps:function(e){if(e.length){for(var t=0;t<e.length;t++)this.addStep(e[t]);return this}},goToStepNumber:function(e){return this._currentStepNumber=e,"undefined"!=typeof this._introItems&&r.call(this),this},nextStep:function(){return r.call(this),this},previousStep:function(){return o.call(this),this},exit:function(e){return a.call(this,this._targetElement,e),this},refresh:function(){if(h.call(this,document.querySelector(".introjs-helperLayer")),h.call(this,document.querySelector(".introjs-tooltipReferenceLayer")),h.call(this,document.querySelector(".introjs-disableInteraction")),void 0!==this._currentStep&&null!==this._currentStep){var e=document.querySelector(".introjs-helperNumberLayer"),t=document.querySelector(".introjs-arrow"),n=document.querySelector(".introjs-tooltip");s.call(this,this._introItems[this._currentStep].element,n,t,e)}return T.call(this),this},onbeforechange:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=e,this},onchange:function(e){if("function"!=typeof e)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=e,this},onafterchange:function(e){if("function"!=typeof e)throw Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=e,this},oncomplete:function(e){if("function"!=typeof e)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=e,this},onhintsadded:function(e){if("function"!=typeof e)throw Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=e,this},onhintclick:function(e){if("function"!=typeof e)throw Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=e,this},onhintclose:function(e){if("function"!=typeof e)throw Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=e,this},onexit:function(e){if("function"!=typeof e)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=e,this},onbeforeexit:function(e){if("function"!=typeof e)throw Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=e,this},addHints:function(){return S.call(this,this._targetElement),this},hideHint:function(e){return D.call(this,e),this},hideHints:function(){var e=this._targetElement.querySelectorAll(".introjs-hint");if(e&&0<e.length)for(var t=0;t<e.length;t++)D.call(this,e[t].getAttribute("data-step"));return this},showHint:function(e){return A.call(this,e),this},showHints:function(){var e=this._targetElement.querySelectorAll(".introjs-hint");if(e&&0<e.length)for(var t=0;t<e.length;t++)A.call(this,e[t].getAttribute("data-step"));else S.call(this,this._targetElement);return this},removeHints:function(){var e=this._targetElement.querySelectorAll(".introjs-hint");if(e&&0<e.length)for(var t=0;t<e.length;t++)E.call(this,e[t].getAttribute("data-step"));return this},removeHint:function(e){return E.call(this,e),this},showHintDialog:function(e){return N.call(this,e),this}},e.introJs=O});